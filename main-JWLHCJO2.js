import{a as Kn}from"./chunk-RHC66ICD.js";import{$ as V,$a as z_,$b as Y_,$c as yt,A as or,Aa as F_,Ab as Se,Ac as dy,B as A_,Ba as hc,Bb as Ie,Bc as uy,C as Ch,Ca as qn,Cb as q_,Cc as Fo,D as ma,Da as L_,Db as H_,Dc as bc,E as Eh,Ea as u,Eb as Oh,Ec as dn,F as cc,Fa as fa,Fb as Et,Fc as vc,G as $t,Ga as V_,Gb as Li,Gc as wc,H as wt,Ha as mc,Hb as me,Hc as hy,I as Je,Ia as pc,Ib as kn,Ic as _i,J as T_,Ja as vn,Jb as _,Jc as Lo,K as qt,Ka as ga,Kb as T,Kc as my,L as oe,La as B_,Lb as $,Lc as Kt,M as Sh,Ma as Ft,Mb as ni,Mc as pr,N as dc,Na as At,Nb as W_,Nc as _y,O as Q,Oa as te,Ob as se,Oc as Tt,P as Te,Pa as fc,Pb as ae,Pc as yy,Q as D_,Qa as ti,Qb as le,Qc as Ko,R as W,Ra as Rh,Rb as K_,Rc as Sa,S as _e,Sa as j_,Sb as G_,Sc as Dt,T as y,Ta as gc,Tb as Cn,Tc as Ia,U as Ih,Ua as ne,Ub as lr,Uc as Rt,V as ot,Va as Re,Vb as cn,Vc as yi,W as R_,Wa as Fe,Wb as cr,Wc as xa,X as M_,Xa as fi,Xb as _c,Xc as Ic,Y as Ht,Ya as Ni,Yb as et,Yc as fr,Z as ln,Za as U_,Zb as Oo,Zc as gr,_ as L,_a as Ur,_b as pt,_c as xc,a as rt,aa as ki,ab as Mh,ac as Q_,ad as Mt,b as S_,ba as xh,bb as kh,bc as X_,bd as Xt,c as mi,ca as be,cb as zr,cc as _a,cd as Zt,d as de,da as De,db as Me,dc as Po,dd as Jt,e as bn,ea as ko,eb as $_,ec as Z_,ed as St,f as ei,fa as k_,fb as K,fc as ya,fd as en,g as an,ga as ue,gb as G,gc as J_,gd as tn,h as fe,ha as ee,hb as Ue,hc as ey,hd as by,i as I_,ia as Ah,ib as we,ic as dt,id as vy,j as oc,ja as uc,jb as Ce,jc as ty,jd as _r,k as x_,ka as Ve,kb as U,kc as Pe,kd as wy,l as $e,la as Th,lb as m,lc as ba,ld as Go,m as ca,ma as sr,mb as f,mc as ny,md as Cy,n as zn,na as Oi,nb as H,nc as yc,nd as Ey,o as da,oa as Ye,ob as Ee,oc as iy,od as Sy,p as sc,pa as ht,pb as ve,pc as va,pd as Sn,q as Mo,qa as Pi,qb as gi,qc as ry,qd as Iy,r as pi,ra as O_,rb as he,rc as oy,rd as yr,s as Ge,sa as Oe,sb as wn,sc as sy,sd as xy,t as wh,ta as Dh,tb as q,tc as ay,td as In,u as ac,ua as P_,ub as Fi,uc as wa,ud as Ac,v as rr,va as Br,vb as A,vc as ly,vd as Ne,w as lc,wa as N_,wb as Wt,wc as dr,wd as qr,x as $n,xa as mt,xb as Xe,xc as cy,xd as Hr,y as ua,ya as jr,yb as ar,yc as En,yd as ft,z as ha,za as pa,zb as Ct,zc as No,zd as nn}from"./chunk-ZI2B4GS7.js";import{a as Hn,c as fy,f as gy,g as mr,h as Sc,j as Wn}from"./chunk-FS6JWC46.js";import{a as Ay}from"./chunk-VNGMHQCE.js";import{$ as Qt,I as qo,P as Ea,Q as Lt,R as Gt,S as Ho,T as hr,U as Nh,V as Ec,W as Yt,X as un,Y as $r,Z as Wo,aa as py,ba as Le,h as Vo,k as Bo,l as jo,m as Cc,n as Uo,r as Ph,v as ur,w as zo,x as Ca,y as ii,z as $o}from"./chunk-ROR7IRWT.js";import{a as P,b as ie,c as rc,e as j}from"./chunk-46AQF2XH.js";var Aa=class{_doc;constructor(t){this._doc=t}manager},Tc=(()=>{class i extends Aa{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r,o){return e.addEventListener(n,r,o),()=>this.removeEventListener(e,n,r,o)}removeEventListener(e,n,r,o){return e.removeEventListener(n,r,o)}static \u0275fac=function(n){return new(n||i)(_e(De))};static \u0275prov=Q({token:i,factory:i.\u0275fac})}return i})(),Mc=new W(""),Bh=(()=>{class i{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,n){this._zone=n,e.forEach(s=>{s.manager=this});let r=e.filter(s=>!(s instanceof Tc));this._plugins=r.slice().reverse();let o=e.find(s=>s instanceof Tc);o&&this._plugins.push(o)}addEventListener(e,n,r,o){return this._findPluginFor(n).addEventListener(e,n,r,o)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(o=>o.supports(e)),!n)throw new oe(5101,!1);return this._eventNameToPlugin.set(e,n),n}static \u0275fac=function(n){return new(n||i)(_e(Mc),_e(ee))};static \u0275prov=Q({token:i,factory:i.\u0275fac})}return i})(),Fh="ng-app-id";function Ty(i){for(let t of i)t.remove()}function Dy(i,t){let e=t.createElement("style");return e.textContent=i,e}function lI(i,t,e,n){let r=i.head?.querySelectorAll(`style[${Fh}="${t}"],link[${Fh}="${t}"]`);if(r)for(let o of r)o.removeAttribute(Fh),o instanceof HTMLLinkElement?n.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function Vh(i,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",i),e}var jh=(()=>{class i{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,n,r,o={}){this.doc=e,this.appId=n,this.nonce=r,lI(e,n,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,n){for(let r of e)this.addUsage(r,this.inline,Dy);n?.forEach(r=>this.addUsage(r,this.external,Vh))}removeStyles(e,n){for(let r of e)this.removeUsage(r,this.inline);n?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,n,r){let o=n.get(e);o?o.usage++:n.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(e,this.doc)))})}removeUsage(e,n){let r=n.get(e);r&&(r.usage--,r.usage<=0&&(Ty(r.elements),n.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Ty(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[n,{elements:r}]of this.inline)r.push(this.addElement(e,Dy(n,this.doc)));for(let[n,{elements:r}]of this.external)r.push(this.addElement(e,Vh(n,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,n){return this.nonce&&n.setAttribute("nonce",this.nonce),e.appendChild(n)}static \u0275fac=function(n){return new(n||i)(_e(De),_e(Br),_e(pa,8),_e(mt))};static \u0275prov=Q({token:i,factory:i.\u0275fac})}return i})(),Lh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Uh=/%COMP%/g;var My="%COMP%",cI=`_nghost-${My}`,dI=`_ngcontent-${My}`,uI=!0,hI=new W("",{factory:()=>uI});function mI(i){return dI.replace(Uh,i)}function pI(i){return cI.replace(Uh,i)}function ky(i,t){return t.map(e=>e.replace(Uh,i))}var Ra=(()=>{class i{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(e,n,r,o,s,l,c=null,h=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=l,this.nonce=c,this.tracingService=h,this.defaultRenderer=new Ta(e,s,l,this.tracingService)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;let r=this.getOrCreateRenderer(e,n);return r instanceof Rc?r.applyToHost(e):r instanceof Da&&r.applyStyles(),r}getOrCreateRenderer(e,n){let r=this.rendererByCompId,o=r.get(n.id);if(!o){let s=this.doc,l=this.ngZone,c=this.eventManager,h=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,v=this.tracingService;switch(n.encapsulation){case hc.Emulated:o=new Rc(c,h,n,this.appId,g,s,l,v);break;case hc.ShadowDom:return new Dc(c,e,n,s,l,this.nonce,v,h);case hc.ExperimentalIsolatedShadowDom:return new Dc(c,e,n,s,l,this.nonce,v);default:o=new Da(c,h,n,g,s,l,v);break}r.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(n){return new(n||i)(_e(Bh),_e(jh),_e(Br),_e(hI),_e(De),_e(ee),_e(pa),_e(mc,8))};static \u0275prov=Q({token:i,factory:i.\u0275fac})}return i})(),Ta=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,n,r){this.eventManager=t,this.doc=e,this.ngZone=n,this.tracingService=r}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Lh[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Ry(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(Ry(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){e.remove()}selectRootElement(t,e){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new oe(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;let o=Lh[r];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){let r=Lh[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(fa.DashCase|fa.Important)?t.style.setProperty(e,n,r&fa.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&fa.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t!=null&&(t[e]=n)}setValue(t,e){t.nodeValue=e}listen(t,e,n,r){if(typeof t=="string"&&(t=va().getGlobalEventTarget(this.doc,t),!t))throw new oe(5102,!1);let o=this.decoratePreventDefault(n);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,r)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function Ry(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var Dc=class extends Ta{hostEl;sharedStylesHost;shadowRoot;constructor(t,e,n,r,o,s,l,c){super(t,r,o,l),this.hostEl=e,this.sharedStylesHost=c,this.shadowRoot=e.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let h=n.styles;h=ky(n.id,h);for(let v of h){let C=document.createElement("style");s&&C.setAttribute("nonce",s),C.textContent=v,this.shadowRoot.appendChild(C)}let g=n.getExternalStyles?.();if(g)for(let v of g){let C=Vh(v,r);s&&C.setAttribute("nonce",s),this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Da=class extends Ta{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,n,r,o,s,l,c){super(t,o,s,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let h=n.styles;this.styles=c?ky(c,h):h,this.styleUrls=n.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&V_.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Rc=class extends Da{contentAttr;hostAttr;constructor(t,e,n,r,o,s,l,c){let h=r+"-"+n.id;super(t,e,n,o,s,l,c,h),this.contentAttr=mI(h),this.hostAttr=pI(h)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}};var kc=class i extends oy{supportsDOMEvents=!0;static makeCurrent(){ry(new i)}onAndCancel(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=fI();return e==null?null:gI(e)}resetBaseElement(){Ma=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return vc(document.cookie,t)}},Ma=null;function fI(){return Ma=Ma||document.head.querySelector("base"),Ma?Ma.getAttribute("href"):null}function gI(i){return new URL(i,document.baseURI).pathname}var _I=(()=>{class i{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac})}return i})(),Oy=["alt","control","meta","shift"],yI={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bI={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},Py=(()=>{class i extends Aa{constructor(e){super(e)}supports(e){return i.parseEventName(e)!=null}addEventListener(e,n,r,o){let s=i.parseEventName(n),l=i.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>va().onAndCancel(e,s.domEventName,l,o))}static parseEventName(e){let n=e.toLowerCase().split("."),r=n.shift();if(n.length===0||!(r==="keydown"||r==="keyup"))return null;let o=i._normalizeKey(n.pop()),s="",l=n.indexOf("code");if(l>-1&&(n.splice(l,1),s="code."),Oy.forEach(h=>{let g=n.indexOf(h);g>-1&&(n.splice(g,1),s+=h+".")}),s+=o,n.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(e,n){let r=yI[e.key]||e.key,o="";return n.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Oy.forEach(s=>{if(s!==r){let l=bI[s];l(e)&&(o+=s+".")}}),o+=r,o===n)}static eventCallback(e,n,r){return o=>{i.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>n(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(n){return new(n||i)(_e(De))};static \u0275prov=Q({token:i,factory:i.\u0275fac})}return i})();function zh(i,t,e){let n=P({rootComponent:i,platformRef:e?.platformRef},vI(t));return ty(n)}function vI(i){return{appProviders:[...II,...i?.providers??[]],platformProviders:SI}}function wI(){kc.makeCurrent()}function CI(){return new Ah}function EI(){return P_(document),document}var SI=[{provide:mt,useValue:hy},{provide:N_,useValue:wI,multi:!0},{provide:De,useFactory:EI}];var II=[{provide:M_,useValue:"root"},{provide:Ah,useFactory:CI},{provide:Mc,useClass:Tc,multi:!0},{provide:Mc,useClass:Py,multi:!0},Ra,jh,Bh,{provide:Ft,useExisting:Ra},{provide:wc,useClass:_I},[]];var br=class i{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let n=e.indexOf(":");if(n>0){let r=e.slice(0,n),o=e.slice(n+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,n)=>{this.addHeaderEntry(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new i;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(l=>o.indexOf(l)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(t,e){let n=t.toLowerCase();this.maybeSetNormalizedName(t,n),this.headers.has(n)?this.headers.get(n).push(e):this.headers.set(n,[e])}setHeaderEntries(t,e){let n=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Pc=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}},Nc=class{encodeKey(t){return Ny(t)}encodeValue(t){return Ny(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function xI(i,t){let e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,l]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],c=e.get(s)||[];c.push(l),e.set(s,c)}),e}var AI=/%(\d[a-f0-9])/gi,TI={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ny(i){return encodeURIComponent(i).replace(AI,(t,e)=>TI[e]??t)}function Oc(i){return`${i}`}var Vi=class i{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Nc,t.fromString){if(t.fromObject)throw new oe(2805,!1);this.map=xI(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let n=t.fromObject[e],r=Array.isArray(n)?n.map(Oc):[Oc(n)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(n=>{let r=t[n];Array.isArray(r)?r.forEach(o=>{e.push({param:n,value:o,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new i({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(Oc(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let n=this.map.get(t.param)||[],r=n.indexOf(Oc(t.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};function DI(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Fy(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function Ly(i){return typeof Blob<"u"&&i instanceof Blob}function Vy(i){return typeof FormData<"u"&&i instanceof FormData}function RI(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var By="Content-Type",jy="Accept",zy="text/plain",$y="application/json",MI=`${$y}, ${zy}, */*`,Yo=class i{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,e,n,r){this.url=e,this.method=t.toUpperCase();let o;if(DI(this.method)||r?(this.body=n!==void 0?n:null,o=r):o=n,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new oe(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new br,this.context??=new Pc,!this.params)this.params=new Vi,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let l=e.indexOf("?"),c=l===-1?"?":l<e.length-1?"&":"";this.urlWithParams=e+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Fy(this.body)||Ly(this.body)||Vy(this.body)||RI(this.body)?this.body:this.body instanceof Vi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Vy(this.body)?null:Ly(this.body)?this.body.type||null:Fy(this.body)?null:typeof this.body=="string"?zy:this.body instanceof Vi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?$y:null}clone(t={}){let e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,o=t.keepalive??this.keepalive,s=t.priority||this.priority,l=t.cache||this.cache,c=t.mode||this.mode,h=t.redirect||this.redirect,g=t.credentials||this.credentials,v=t.referrer||this.referrer,C=t.integrity||this.integrity,D=t.referrerPolicy||this.referrerPolicy,I=t.transferCache??this.transferCache,M=t.timeout??this.timeout,F=t.body!==void 0?t.body:this.body,z=t.withCredentials??this.withCredentials,X=t.reportProgress??this.reportProgress,Z=t.headers||this.headers,Y=t.params||this.params,Ae=t.context??this.context;return t.setHeaders!==void 0&&(Z=Object.keys(t.setHeaders).reduce((ye,x)=>ye.set(x,t.setHeaders[x]),Z)),t.setParams&&(Y=Object.keys(t.setParams).reduce((ye,x)=>ye.set(x,t.setParams[x]),Y)),new i(e,n,F,{params:Y,headers:Z,context:Ae,reportProgress:X,responseType:r,withCredentials:z,transferCache:I,keepalive:o,cache:l,priority:s,timeout:M,mode:c,redirect:h,credentials:g,referrer:v,integrity:C,referrerPolicy:D})}},On=(function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i})(On||{}),Xo=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(t,e=200,n="OK"){this.headers=t.headers||new br,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.redirected=t.redirected,this.responseType=t.responseType,this.ok=this.status>=200&&this.status<300}},Fc=class i extends Xo{constructor(t={}){super(t)}type=On.ResponseHeader;clone(t={}){return new i({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},ka=class i extends Xo{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=On.Response;clone(t={}){return new i({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected,responseType:t.responseType??this.responseType})}},Qo=class extends Xo{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},kI=200,OI=204;var PI=new W("");var NI=/^\)\]\}',?\n/;var qh=(()=>{class i{xhrFactory;tracingService=y(mc,{optional:!0});constructor(e){this.xhrFactory=e}maybePropagateTrace(e){return this.tracingService?.propagate?this.tracingService.propagate(e):e}handle(e){if(e.method==="JSONP")throw new oe(-2800,!1);let n=this.xhrFactory;return fe(null).pipe(wt(()=>new mi(o=>{let s=n.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((F,z)=>s.setRequestHeader(F,z.join(","))),e.headers.has(jy)||s.setRequestHeader(jy,MI),!e.headers.has(By)){let F=e.detectContentTypeHeader();F!==null&&s.setRequestHeader(By,F)}if(e.timeout&&(s.timeout=e.timeout),e.responseType){let F=e.responseType.toLowerCase();s.responseType=F!=="json"?F:"text"}let l=e.serializeBody(),c=null,h=()=>{if(c!==null)return c;let F=s.statusText||"OK",z=new br(s.getAllResponseHeaders()),X=s.responseURL||e.url;return c=new Fc({headers:z,status:s.status,statusText:F,url:X}),c},g=this.maybePropagateTrace(()=>{let{headers:F,status:z,statusText:X,url:Z}=h(),Y=null;z!==OI&&(Y=typeof s.response>"u"?s.responseText:s.response),z===0&&(z=Y?kI:0);let Ae=z>=200&&z<300;if(e.responseType==="json"&&typeof Y=="string"){let ye=Y;Y=Y.replace(NI,"");try{Y=Y!==""?JSON.parse(Y):null}catch(x){Y=ye,Ae&&(Ae=!1,Y={error:x,text:Y})}}Ae?(o.next(new ka({body:Y,headers:F,status:z,statusText:X,url:Z||void 0})),o.complete()):o.error(new Qo({error:Y,headers:F,status:z,statusText:X,url:Z||void 0}))}),v=this.maybePropagateTrace(F=>{let{url:z}=h(),X=new Qo({error:F,status:s.status||0,statusText:s.statusText||"Unknown Error",url:z||void 0});o.error(X)}),C=v;e.timeout&&(C=this.maybePropagateTrace(F=>{let{url:z}=h(),X=new Qo({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:z||void 0});o.error(X)}));let D=!1,I=this.maybePropagateTrace(F=>{D||(o.next(h()),D=!0);let z={type:On.DownloadProgress,loaded:F.loaded};F.lengthComputable&&(z.total=F.total),e.responseType==="text"&&s.responseText&&(z.partialText=s.responseText),o.next(z)}),M=this.maybePropagateTrace(F=>{let z={type:On.UploadProgress,loaded:F.loaded};F.lengthComputable&&(z.total=F.total),o.next(z)});return s.addEventListener("load",g),s.addEventListener("error",v),s.addEventListener("timeout",C),s.addEventListener("abort",v),e.reportProgress&&(s.addEventListener("progress",I),l!==null&&s.upload&&s.upload.addEventListener("progress",M)),s.send(l),o.next({type:On.Sent}),()=>{s.removeEventListener("error",v),s.removeEventListener("abort",v),s.removeEventListener("load",g),s.removeEventListener("timeout",C),e.reportProgress&&(s.removeEventListener("progress",I),l!==null&&s.upload&&s.upload.removeEventListener("progress",M)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(n){return new(n||i)(_e(wc))};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function qy(i,t){return t(i)}function FI(i,t){return(e,n)=>t.intercept(e,{handle:r=>i(r,n)})}function LI(i,t,e){return(n,r)=>ln(e,()=>t(n,o=>i(o,r)))}var Hy=new W(""),Hh=new W("",{factory:()=>[]}),Wy=new W(""),Wh=new W("",{factory:()=>!0});function VI(){let i=null;return(t,e)=>{i===null&&(i=(y(Hy,{optional:!0})??[]).reduceRight(FI,qy));let n=y(Th);if(y(Wh)){let o=n.add();return i(t,e).pipe(ha(o))}else return i(t,e)}}var Kh=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:function(n){let r=null;return n?r=new(n||i):r=_e(qh),r},providedIn:"root"})}return i})();var Lc=(()=>{class i{backend;injector;chain=null;pendingTasks=y(Th);contributeToStability=y(Wh);constructor(e,n){this.backend=e,this.injector=n}handle(e){if(this.chain===null){let n=Array.from(new Set([...this.injector.get(Hh),...this.injector.get(Wy,[])]));this.chain=n.reduceRight((r,o)=>LI(r,o,this.injector),qy)}if(this.contributeToStability){let n=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(ha(n))}else return this.chain(e,n=>this.backend.handle(n))}static \u0275fac=function(n){return new(n||i)(_e(Kh),_e(Ht))};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Gh=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:function(n){let r=null;return n?r=new(n||i):r=_e(Lc),r},providedIn:"root"})}return i})();function $h(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,credentials:i.credentials,transferCache:i.transferCache,timeout:i.timeout,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,integrity:i.integrity,referrer:i.referrer,referrerPolicy:i.referrerPolicy}}var Zo=(()=>{class i{handler;constructor(e){this.handler=e}request(e,n,r={}){let o;if(e instanceof Yo)o=e;else{let c;r.headers instanceof br?c=r.headers:c=new br(r.headers);let h;r.params&&(r.params instanceof Vi?h=r.params:h=new Vi({fromObject:r.params})),o=new Yo(e,n,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:h,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive,priority:r.priority,cache:r.cache,mode:r.mode,redirect:r.redirect,credentials:r.credentials,referrer:r.referrer,referrerPolicy:r.referrerPolicy,integrity:r.integrity,timeout:r.timeout})}let s=fe(o).pipe(rr(c=>this.handler.handle(c)));if(e instanceof Yo||r.observe==="events")return s;let l=s.pipe(Ge(c=>c instanceof ka));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe($e(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new oe(2806,!1);return c.body}));case"blob":return l.pipe($e(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new oe(2807,!1);return c.body}));case"text":return l.pipe($e(c=>{if(c.body!==null&&typeof c.body!="string")throw new oe(2808,!1);return c.body}));case"json":default:return l.pipe($e(c=>c.body))}case"response":return l;default:throw new oe(2809,!1)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:new Vi().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,$h(r,n))}post(e,n,r={}){return this.request("POST",e,$h(r,n))}put(e,n,r={}){return this.request("PUT",e,$h(r,n))}static \u0275fac=function(n){return new(n||i)(_e(Gh))};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var BI=new W("",{factory:()=>!0}),jI="XSRF-TOKEN",UI=new W("",{factory:()=>jI}),zI="X-XSRF-TOKEN",$I=new W("",{providedIn:"root",factory:()=>zI}),qI=(()=>{class i{cookieName=y(UI);doc=y(De);lastCookieString="";lastToken=null;parseCount=0;getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=vc(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Ky=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:function(n){let r=null;return n?r=new(n||i):r=_e(qI),r},providedIn:"root"})}return i})();function HI(i,t){if(!y(BI)||i.method==="GET"||i.method==="HEAD")return t(i);try{let r=y(sy).href,{origin:o}=new URL(r),{origin:s}=new URL(i.url,o);if(o!==s)return t(i)}catch{return t(i)}let e=y(Ky).getToken(),n=y($I);return e!=null&&!i.headers.has(n)&&(i=i.clone({headers:i.headers.set(n,e)})),t(i)}var Yh=(function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i})(Yh||{});function WI(i,t){return{\u0275kind:i,\u0275providers:t}}function Gy(...i){let t=[Zo,Lc,{provide:Gh,useExisting:Lc},{provide:Kh,useFactory:()=>y(PI,{optional:!0})??y(qh)},{provide:Hh,useValue:HI,multi:!0}];for(let e of i)t.push(...e.\u0275providers);return ot(t)}var Uy=new W("");function Yy(){return WI(Yh.LegacyInterceptors,[{provide:Uy,useFactory:VI},{provide:Hh,useExisting:Uy,multi:!0}])}var Oa=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({providers:[Gy(Yy())]})}return i})();var Vc=(()=>{class i{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(n){return new(n||i)(_e(De))};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var xe="primary",qa=Symbol("RouteTitle"),em=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Yr(i){return new em(i)}function s0(i,t,e){let n=e.path.split("/");if(n.length>i.length||e.pathMatch==="full"&&(t.hasChildren()||n.length<i.length))return null;let r={};for(let o=0;o<n.length;o++){let s=n[o],l=i[o];if(s[0]===":")r[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function qc(i){return new Promise((t,e)=>{i.pipe(or()).subscribe({next:n=>t(n),error:n=>e(n)})})}function KI(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!bi(i[e],t[e]))return!1;return!0}function bi(i,t){let e=i?tm(i):void 0,n=t?tm(t):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!a0(i[r],t[r]))return!1;return!0}function tm(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function a0(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;let e=[...i].sort(),n=[...t].sort();return e.every((r,o)=>n[o]===r)}else return i===t}function l0(i){return i.length>0?i[i.length-1]:null}function Qr(i){return oc(i)?i:z_(i)?an(Promise.resolve(i)):fe(i)}function c0(i){return oc(i)?qc(i):Promise.resolve(i)}var GI={exact:u0,subset:h0},d0={exact:YI,subset:QI,ignored:()=>!0};function Zy(i,t,e){return GI[e.paths](i.root,t.root,e.matrixParams)&&d0[e.queryParams](i.queryParams,t.queryParams)&&!(e.fragment==="exact"&&i.fragment!==t.fragment)}function YI(i,t){return bi(i,t)}function u0(i,t,e){if(!Kr(i.segments,t.segments)||!Uc(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!i.children[n]||!u0(i.children[n],t.children[n],e))return!1;return!0}function QI(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>a0(i[e],t[e]))}function h0(i,t,e){return m0(i,t,t.segments,e)}function m0(i,t,e,n){if(i.segments.length>e.length){let r=i.segments.slice(0,e.length);return!(!Kr(r,e)||t.hasChildren()||!Uc(r,e,n))}else if(i.segments.length===e.length){if(!Kr(i.segments,e)||!Uc(i.segments,e,n))return!1;for(let r in t.children)if(!i.children[r]||!h0(i.children[r],t.children[r],n))return!1;return!0}else{let r=e.slice(0,i.segments.length),o=e.slice(i.segments.length);return!Kr(i.segments,r)||!Uc(i.segments,r,n)||!i.children[xe]?!1:m0(i.children[xe],t,o,n)}}function Uc(i,t,e){return t.every((n,r)=>d0[e](i[r].parameters,n.parameters))}var oi=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Qe([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Yr(this.queryParams),this._queryParamMap}toString(){return JI.serialize(this)}},Qe=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zc(this)}},vr=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Yr(this.parameters),this._parameterMap}toString(){return f0(this)}};function XI(i,t){return Kr(i,t)&&i.every((e,n)=>bi(e.parameters,t[n].parameters))}function Kr(i,t){return i.length!==t.length?!1:i.every((e,n)=>e.path===t[n].path)}function ZI(i,t){let e=[];return Object.entries(i.children).forEach(([n,r])=>{n===xe&&(e=e.concat(t(r,n)))}),Object.entries(i.children).forEach(([n,r])=>{n!==xe&&(e=e.concat(t(r,n)))}),e}var Xr=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:()=>new Bi,providedIn:"root"})}return i})(),Bi=class{parse(t){let e=new im(t);return new oi(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Pa(t.root,!0)}`,n=nx(t.queryParams),r=typeof t.fragment=="string"?`#${ex(t.fragment)}`:"";return`${e}${n}${r}`}},JI=new Bi;function zc(i){return i.segments.map(t=>f0(t)).join("/")}function Pa(i,t){if(!i.hasChildren())return zc(i);if(t){let e=i.children[xe]?Pa(i.children[xe],!1):"",n=[];return Object.entries(i.children).forEach(([r,o])=>{r!==xe&&n.push(`${r}:${Pa(o,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=ZI(i,(n,r)=>r===xe?[Pa(i.children[xe],!1)]:[`${r}:${Pa(n,!1)}`]);return Object.keys(i.children).length===1&&i.children[xe]!=null?`${zc(i)}/${e[0]}`:`${zc(i)}/(${e.join("//")})`}}function p0(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bc(i){return p0(i).replace(/%3B/gi,";")}function ex(i){return encodeURI(i)}function nm(i){return p0(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $c(i){return decodeURIComponent(i)}function Jy(i){return $c(i.replace(/\+/g,"%20"))}function f0(i){return`${nm(i.path)}${tx(i.parameters)}`}function tx(i){return Object.entries(i).map(([t,e])=>`;${nm(t)}=${nm(e)}`).join("")}function nx(i){let t=Object.entries(i).map(([e,n])=>Array.isArray(n)?n.map(r=>`${Bc(e)}=${Bc(r)}`).join("&"):`${Bc(e)}=${Bc(n)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var ix=/^[^\/()?;#]+/;function Qh(i){let t=i.match(ix);return t?t[0]:""}var rx=/^[^\/()?;=#]+/;function ox(i){let t=i.match(rx);return t?t[0]:""}var sx=/^[^=?&#]+/;function ax(i){let t=i.match(sx);return t?t[0]:""}var lx=/^[^&#]+/;function cx(i){let t=i.match(lx);return t?t[0]:""}var im=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qe([],{}):new Qe([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[xe]=new Qe(t,e)),n}parseSegment(){let t=Qh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new oe(4009,!1);return this.capture(t),new vr($c(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=ox(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let r=Qh(this.remaining);r&&(n=r,this.capture(n))}t[$c(e)]=$c(n)}parseQueryParam(t){let e=ax(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let s=cx(this.remaining);s&&(n=s,this.capture(n))}let r=Jy(e),o=Jy(n);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Qh(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new oe(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=xe);let s=this.parseChildren();e[o??xe]=Object.keys(s).length===1&&s[xe]?s[xe]:new Qe([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new oe(4011,!1)}};function g0(i){return i.segments.length>0?new Qe([],{[xe]:i}):i}function _0(i){let t={};for(let[n,r]of Object.entries(i.children)){let o=_0(r);if(n===xe&&o.segments.length===0&&o.hasChildren())for(let[s,l]of Object.entries(o.children))t[s]=l;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}let e=new Qe(i.segments,t);return dx(e)}function dx(i){if(i.numberOfChildren===1&&i.children[xe]){let t=i.children[xe];return new Qe(i.segments.concat(t.segments),t.children)}return i}function wr(i){return i instanceof oi}function y0(i,t,e=null,n=null,r=new Bi){let o=b0(i);return v0(o,t,e,n,r)}function b0(i){let t;function e(o){let s={};for(let c of o.children){let h=e(c);s[c.outlet]=h}let l=new Qe(o.url,s);return o===i&&(t=l),l}let n=e(i.root),r=g0(n);return t??r}function v0(i,t,e,n,r){let o=i;for(;o.parent;)o=o.parent;if(t.length===0)return Xh(o,o,o,e,n,r);let s=ux(t);if(s.toRoot())return Xh(o,o,new Qe([],{}),e,n,r);let l=hx(s,o,i),c=l.processChildren?Fa(l.segmentGroup,l.index,s.commands):C0(l.segmentGroup,l.index,s.commands);return Xh(o,l.segmentGroup,c,e,n,r)}function Hc(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function Va(i){return typeof i=="object"&&i!=null&&i.outlets}function e0(i,t,e){i||="\u0275";let n=new oi;return n.queryParams={[i]:t},e.parse(e.serialize(n)).queryParams[i]}function Xh(i,t,e,n,r,o){let s={};for(let[h,g]of Object.entries(n??{}))s[h]=Array.isArray(g)?g.map(v=>e0(h,v,o)):e0(h,g,o);let l;i===t?l=e:l=w0(i,t,e);let c=g0(_0(l));return new oi(c,s,r)}function w0(i,t,e){let n={};return Object.entries(i.children).forEach(([r,o])=>{o===t?n[r]=e:n[r]=w0(o,t,e)}),new Qe(i.segments,n)}var Wc=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Hc(n[0]))throw new oe(4003,!1);let r=n.find(Va);if(r&&r!==l0(n))throw new oe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ux(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new Wc(!0,0,i);let t=0,e=!1,n=i.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let l={};return Object.entries(o.outlets).forEach(([c,h])=>{l[c]=typeof h=="string"?h.split("/"):h}),[...r,{outlets:l}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((l,c)=>{c==0&&l==="."||(c==0&&l===""?e=!0:l===".."?t++:l!=""&&r.push(l))}),r):[...r,o]},[]);return new Wc(e,t,n)}var es=class{segmentGroup;processChildren;index;constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}};function hx(i,t,e){if(i.isAbsolute)return new es(t,!0,0);if(!e)return new es(t,!1,NaN);if(e.parent===null)return new es(e,!0,0);let n=Hc(i.commands[0])?0:1,r=e.segments.length-1+n;return mx(e,r,i.numberOfDoubleDots)}function mx(i,t,e){let n=i,r=t,o=e;for(;o>r;){if(o-=r,n=n.parent,!n)throw new oe(4005,!1);r=n.segments.length}return new es(n,!1,r-o)}function px(i){return Va(i[0])?i[0].outlets:{[xe]:i}}function C0(i,t,e){if(i??=new Qe([],{}),i.segments.length===0&&i.hasChildren())return Fa(i,t,e);let n=fx(i,t,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){let o=new Qe(i.segments.slice(0,n.pathIndex),{});return o.children[xe]=new Qe(i.segments.slice(n.pathIndex),i.children),Fa(o,0,r)}else return n.match&&r.length===0?new Qe(i.segments,{}):n.match&&!i.hasChildren()?rm(i,t,e):n.match?Fa(i,0,r):rm(i,t,e)}function Fa(i,t,e){if(e.length===0)return new Qe(i.segments,{});{let n=px(e),r={};if(Object.keys(n).some(o=>o!==xe)&&i.children[xe]&&i.numberOfChildren===1&&i.children[xe].segments.length===0){let o=Fa(i.children[xe],t,e);return new Qe(i.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=C0(i.children[o],t,s))}),Object.entries(i.children).forEach(([o,s])=>{n[o]===void 0&&(r[o]=s)}),new Qe(i.segments,r)}}function fx(i,t,e){let n=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=e.length)return o;let s=i.segments[r],l=e[n];if(Va(l))break;let c=`${l}`,h=n<e.length-1?e[n+1]:null;if(r>0&&c===void 0)break;if(c&&h&&typeof h=="object"&&h.outlets===void 0){if(!n0(c,h,s))return o;n+=2}else{if(!n0(c,{},s))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function rm(i,t,e){let n=i.segments.slice(0,t),r=0;for(;r<e.length;){let o=e[r];if(Va(o)){let c=gx(o.outlets);return new Qe(n,c)}if(r===0&&Hc(e[0])){let c=i.segments[t];n.push(new vr(c.path,t0(e[0]))),r++;continue}let s=Va(o)?o.outlets[xe]:`${o}`,l=r<e.length-1?e[r+1]:null;s&&l&&Hc(l)?(n.push(new vr(s,t0(l))),r+=2):(n.push(new vr(s,{})),r++)}return new Qe(n,{})}function gx(i){let t={};return Object.entries(i).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[e]=rm(new Qe([],{}),0,n))}),t}function t0(i){let t={};return Object.entries(i).forEach(([e,n])=>t[e]=`${n}`),t}function n0(i,t,e){return i==e.path&&bi(t,e.parameters)}var ts="imperative",It=(function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i})(It||{}),Nn=class{id;url;constructor(t,e){this.id=t,this.url=e}},Cr=class extends Nn{type=It.NavigationStart;navigationTrigger;restoredState;constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},mn=class extends Nn{urlAfterRedirects;type=It.NavigationEnd;constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},hn=(function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i[i.Aborted=4]="Aborted",i})(hn||{}),is=(function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i})(is||{}),vi=class extends Nn{reason;code;type=It.NavigationCancel;constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},wi=class extends Nn{reason;code;type=It.NavigationSkipped;constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r}},rs=class extends Nn{error;target;type=It.NavigationError;constructor(t,e,n,r){super(t,e),this.error=n,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ba=class extends Nn{urlAfterRedirects;state;type=It.RoutesRecognized;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kc=class extends Nn{urlAfterRedirects;state;type=It.GuardsCheckStart;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gc=class extends Nn{urlAfterRedirects;state;shouldActivate;type=It.GuardsCheckEnd;constructor(t,e,n,r,o){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Yc=class extends Nn{urlAfterRedirects;state;type=It.ResolveStart;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qc=class extends Nn{urlAfterRedirects;state;type=It.ResolveEnd;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xc=class{route;type=It.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Zc=class{route;type=It.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Jc=class{snapshot;type=It.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ed=class{snapshot;type=It.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},td=class{snapshot;type=It.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},os=class{snapshot;type=It.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ss=class{routerEvent;position;anchor;type=It.Scroll;constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},ja=class{},as=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function _x(i){return!(i instanceof ja)&&!(i instanceof as)}function yx(i,t){return i.providers&&!i._injector&&(i._injector=gc(i.providers,t,`Route: ${i.path}`)),i._injector??t}function ri(i){return i.outlet||xe}function bx(i,t){let e=i.filter(n=>ri(n)===t);return e.push(...i.filter(n=>ri(n)!==t)),e}function ds(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let t=i.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var nd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ds(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Zr(this.rootInjector)}},Zr=(()=>{class i{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,n){let r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new nd(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(n){return new(n||i)(_e(Ht))};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),id=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=om(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){let e=om(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=sm(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return sm(t,this._root).map(e=>e.value)}};function om(i,t){if(i===t.value)return t;for(let e of t.children){let n=om(i,e);if(n)return n}return null}function sm(i,t){if(i===t.value)return[t];for(let e of t.children){let n=sm(i,e);if(n.length)return n.unshift(t),n}return[]}var Pn=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Jo(i){let t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}var Ua=class extends id{snapshot;constructor(t,e){super(t),this.snapshot=e,hm(this,t)}toString(){return this.snapshot.toString()}};function E0(i){let t=vx(i),e=new bn([new vr("",{})]),n=new bn({}),r=new bn({}),o=new bn({}),s=new bn(""),l=new Be(e,n,o,s,r,xe,i,t.root);return l.snapshot=t.root,new Ua(new Pn(l,[]),t)}function vx(i){let t={},e={},n={},o=new Gr([],t,n,"",e,xe,i,null,{});return new za("",new Pn(o,[]))}var Be=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,n,r,o,s,l,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=l,this._futureSnapshot=c,this.title=this.dataSubject?.pipe($e(h=>h[qa]))??fe(void 0),this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe($e(t=>Yr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe($e(t=>Yr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function rd(i,t,e="emptyOnly"){let n,{routeConfig:r}=i;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:P(P({},t.params),i.params),data:P(P({},t.data),i.data),resolve:P(P(P(P({},i.data),t.data),r?.data),i._resolvedData)}:n={params:P({},i.params),data:P({},i.data),resolve:P(P({},i.data),i._resolvedData??{})},r&&I0(r)&&(n.resolve[qa]=r.title),n}var Gr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[qa]}constructor(t,e,n,r,o,s,l,c,h){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=l,this.routeConfig=c,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Yr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Yr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},za=class extends id{url;constructor(t,e){super(e),this.url=t,hm(this,e)}toString(){return S0(this._root)}};function hm(i,t){t.value._routerState=i,t.children.forEach(e=>hm(i,e))}function S0(i){let t=i.children.length>0?` { ${i.children.map(S0).join(", ")} } `:"";return`${i.value}${t}`}function Zh(i){if(i.snapshot){let t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,bi(t.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),bi(t.params,e.params)||i.paramsSubject.next(e.params),KI(t.url,e.url)||i.urlSubject.next(e.url),bi(t.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function am(i,t){let e=bi(i.params,t.params)&&XI(i.url,t.url),n=!i.parent!=!t.parent;return e&&!n&&(!i.parent||am(i.parent,t.parent))}function I0(i){return typeof i.title=="string"||i.title===null}var x0=new W(""),Ha=(()=>{class i{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=xe;activateEvents=new ue;deactivateEvents=new ue;attachEvents=new ue;detachEvents=new ue;routerOutletData=Z_();parentContexts=y(Zr);location=y(ti);changeDetector=y(dt);inputBinder=y(Wa,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:r}=e.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new oe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new oe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new oe(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new oe(4013,!1);this._activatedRoute=e;let r=this.location,s=e.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new lm(e,l,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ht]})}return i})(),lm=class{route;childContexts;parent;outletData;constructor(t,e,n,r){this.route=t,this.childContexts=e,this.parent=n,this.outletData=r}get(t,e){return t===Be?this.route:t===Zr?this.childContexts:t===x0?this.outletData:this.parent.get(t,e)}},Wa=new W(""),mm=(()=>{class i{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:n}=e,r=ca([n.queryParams,n.params,n.data]).pipe(wt(([o,s,l],c)=>(l=P(P(P({},o),s),l),c===0?fe(l):Promise.resolve(l)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let s=iy(n.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:l}of s.inputs)e.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(e,r)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac})}return i})(),Ka=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,r){n&1&&H(0,"router-outlet")},dependencies:[Ha],encapsulation:2})}return i})();function pm(i){let t=i.children&&i.children.map(pm),e=t?ie(P({},i),{children:t}):P({},i);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==xe&&(e.component=Ka),e}function wx(i,t,e){let n=$a(i,t._root,e?e._root:void 0);return new Ua(n,t)}function $a(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=t.value;let r=Cx(i,t,e);return new Pn(n,r)}else{if(i.shouldAttach(t.value)){let o=i.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(l=>$a(i,l)),s}}let n=Ex(t.value),r=t.children.map(o=>$a(i,o));return new Pn(n,r)}}function Cx(i,t,e){return t.children.map(n=>{for(let r of e.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return $a(i,n,r);return $a(i,n)})}function Ex(i){return new Be(new bn(i.url),new bn(i.params),new bn(i.queryParams),new bn(i.fragment),new bn(i.data),i.outlet,i.component,i)}var ls=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},A0="ngNavigationCancelingError";function od(i,t){let{redirectTo:e,navigationBehaviorOptions:n}=wr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=T0(!1,hn.Redirect);return r.url=e,r.navigationBehaviorOptions=n,r}function T0(i,t){let e=new Error(`NavigationCancelingError: ${i||""}`);return e[A0]=!0,e.cancellationCode=t,e}function Sx(i){return D0(i)&&wr(i.url)}function D0(i){return!!i&&i[A0]}var Ix=(i,t,e,n)=>$e(r=>(new cm(t,r.targetRouterState,r.currentRouterState,e,n).activate(i),r)),cm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,n,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Zh(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){let r=Jo(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],n),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,e,n){let r=t.value,o=e?e.value:null;if(r===o)if(r.component){let s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=Jo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(n&&n.outlet){let s=n.outlet.detach(),l=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:l})}}deactivateRouteAndOutlet(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=Jo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,e,n){let r=Jo(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new os(o.value.snapshot))}),t.children.length&&this.forwardEvent(new ed(t.value.snapshot))}activateRoutes(t,e,n){let r=t.value,o=e?e.value:null;if(Zh(r),r===o)if(r.component){let s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,n);else if(r.component){let s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),Zh(l.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,n)}},sd=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},ns=class{component;route;constructor(t,e){this.component=t,this.route=e}};function xx(i,t,e){let n=i._root,r=t?t._root:null;return Na(n,r,e,[n.value])}function Ax(i){let t=i.routeConfig?i.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:i,guards:t}}function us(i,t){let e=Symbol(),n=t.get(i,e);return n===e?typeof i=="function"&&!D_(i)?i:t.get(i):n}function Na(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Jo(t);return i.children.forEach(s=>{Tx(s,o[s.value.outlet],e,n.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,l])=>La(l,e.getContext(s),r)),r}function Tx(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=i.value,s=t?t.value:null,l=e?e.getContext(i.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=Dx(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new sd(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Na(i,t,l?l.children:null,n,r):Na(i,t,e,n,r),c&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new ns(l.outlet.component,s))}else s&&La(t,l,r),r.canActivateChecks.push(new sd(n)),o.component?Na(i,null,l?l.children:null,n,r):Na(i,null,e,n,r);return r}function Dx(i,t,e){if(typeof e=="function")return e(i,t);switch(e){case"pathParamsChange":return!Kr(i.url,t.url);case"pathParamsOrQueryParamsChange":return!Kr(i.url,t.url)||!bi(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!am(i,t)||!bi(i.queryParams,t.queryParams);case"paramsChange":default:return!am(i,t)}}function La(i,t,e){let n=Jo(i),r=i.value;Object.entries(n).forEach(([o,s])=>{r.component?t?La(s,t.children.getContext(o),e):La(s,null,e):La(s,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new ns(t.outlet.component,r)):e.canDeactivateChecks.push(new ns(null,r)):e.canDeactivateChecks.push(new ns(null,r))}function Ga(i){return typeof i=="function"}function Rx(i){return typeof i=="boolean"}function Mx(i){return i&&Ga(i.canLoad)}function kx(i){return i&&Ga(i.canActivate)}function Ox(i){return i&&Ga(i.canActivateChild)}function Px(i){return i&&Ga(i.canDeactivate)}function Nx(i){return i&&Ga(i.canMatch)}function R0(i){return i instanceof x_||i?.name==="EmptyError"}var jc=Symbol("INITIAL_VALUE");function cs(){return wt(i=>ca(i.map(t=>t.pipe($n(1),$t(jc)))).pipe($e(t=>{for(let e of t)if(e!==!0){if(e===jc)return jc;if(e===!1||Fx(e))return e}return!0}),Ge(t=>t!==jc),$n(1)))}function Fx(i){return wr(i)||i instanceof ls}function M0(i){return i.aborted?fe(void 0).pipe($n(1)):new mi(t=>{let e=()=>{t.next(),t.complete()};return i.addEventListener("abort",e),()=>i.removeEventListener("abort",e)})}function k0(i){return Je(M0(i))}function Lx(i,t){return zn(e=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?fe(ie(P({},e),{guardsResult:!0})):Vx(s,n,r,i).pipe(zn(l=>l&&Rx(l)?Bx(n,o,i,t):fe(l)),$e(l=>ie(P({},e),{guardsResult:l})))})}function Vx(i,t,e,n){return an(i).pipe(zn(r=>qx(r.component,r.route,e,t,n)),or(r=>r!==!0,!0))}function Bx(i,t,e,n){return an(t).pipe(rr(r=>sc(Ux(r.route.parent,n),jx(r.route,n),$x(i,r.path,e),zx(i,r.route,e))),or(r=>r!==!0,!0))}function jx(i,t){return i!==null&&t&&t(new td(i)),fe(!0)}function Ux(i,t){return i!==null&&t&&t(new Jc(i)),fe(!0)}function zx(i,t,e){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return fe(!0);let r=n.map(o=>Mo(()=>{let s=ds(t)??e,l=us(o,s),c=kx(l)?l.canActivate(t,i):ln(s,()=>l(t,i));return Qr(c).pipe(or())}));return fe(r).pipe(cs())}function $x(i,t,e){let n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>Ax(s)).filter(s=>s!==null).map(s=>Mo(()=>{let l=s.guards.map(c=>{let h=ds(s.node)??e,g=us(c,h),v=Ox(g)?g.canActivateChild(n,i):ln(h,()=>g(n,i));return Qr(v).pipe(or())});return fe(l).pipe(cs())}));return fe(o).pipe(cs())}function qx(i,t,e,n,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return fe(!0);let s=o.map(l=>{let c=ds(t)??r,h=us(l,c),g=Px(h)?h.canDeactivate(i,t,e,n):ln(c,()=>h(i,t,e,n));return Qr(g).pipe(or())});return fe(s).pipe(cs())}function Hx(i,t,e,n,r){let o=t.canLoad;if(o===void 0||o.length===0)return fe(!0);let s=o.map(l=>{let c=us(l,i),h=Mx(c)?c.canLoad(t,e):ln(i,()=>c(t,e)),g=Qr(h);return r?g.pipe(k0(r)):g});return fe(s).pipe(cs(),O0(n))}function O0(i){return S_(qt(t=>{if(typeof t!="boolean")throw od(i,t)}),$e(t=>t===!0))}function Wx(i,t,e,n,r){let o=t.canMatch;if(!o||o.length===0)return fe(!0);let s=o.map(l=>{let c=us(l,i),h=Nx(c)?c.canMatch(t,e):ln(i,()=>c(t,e)),g=Qr(h);return r?g.pipe(k0(r)):g});return fe(s).pipe(cs(),O0(n))}var Wr=class P0 extends Error{segmentGroup;constructor(t){super(),this.segmentGroup=t||null,Object.setPrototypeOf(this,P0.prototype)}},dm=class N0 extends Error{urlTree;constructor(t){super(),this.urlTree=t,Object.setPrototypeOf(this,N0.prototype)}};function Kx(i){throw new oe(4e3,!1)}function Gx(i){throw T0(!1,hn.GuardRejected)}var Yx=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){return j(this,null,function*(){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return n;if(r.numberOfChildren>1||!r.children[xe])throw Kx(`${t.redirectTo}`);r=r.children[xe]}})}applyRedirectCommands(t,e,n,r,o){return j(this,null,function*(){let s=yield Qx(e,r,o);if(s instanceof oi)throw new dm(s);let l=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,n);if(s[0]==="/")throw new dm(l);return l})}applyRedirectCreateUrlTree(t,e,n,r){let o=this.createSegmentGroup(t,e.root,n,r);return new oi(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let n={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let l=o.substring(1);n[r]=e[l]}else n[r]=o}),n}createSegmentGroup(t,e,n,r){let o=this.createSegments(t,e.segments,n,r),s={};return Object.entries(e.children).forEach(([l,c])=>{s[l]=this.createSegmentGroup(t,c,n,r)}),new Qe(o,s)}createSegments(t,e,n,r){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,n))}findPosParam(t,e,n){let r=n[e.path.substring(1)];if(!r)throw new oe(4001,!1);return r}findOrReturn(t,e){let n=0;for(let r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}};function Qx(i,t,e){if(typeof i=="string")return Promise.resolve(i);let n=i,{queryParams:r,fragment:o,routeConfig:s,url:l,outlet:c,params:h,data:g,title:v}=t;return qc(Qr(ln(e,()=>n({params:h,data:g,queryParams:r,fragment:o,routeConfig:s,url:l,outlet:c,title:v}))))}var um={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Xx(i,t,e,n,r,o){let s=F0(i,t,e);return s.matched?(n=yx(t,n),Wx(n,t,e,r,o).pipe($e(l=>l===!0?s:P({},um)))):fe(s)}function F0(i,t,e){if(t.path==="**")return Zx(e);if(t.path==="")return t.pathMatch==="full"&&(i.hasChildren()||e.length>0)?P({},um):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||s0)(e,i,t);if(!r)return P({},um);let o={};Object.entries(r.posParams??{}).forEach(([l,c])=>{o[l]=c.path});let s=r.consumed.length>0?P(P({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function Zx(i){return{matched:!0,parameters:i.length>0?l0(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function i0(i,t,e,n){return e.length>0&&tA(i,e,n)?{segmentGroup:new Qe(t,eA(n,new Qe(e,i.children))),slicedSegments:[]}:e.length===0&&nA(i,e,n)?{segmentGroup:new Qe(i.segments,Jx(i,e,n,i.children)),slicedSegments:e}:{segmentGroup:new Qe(i.segments,i.children),slicedSegments:e}}function Jx(i,t,e,n){let r={};for(let o of e)if(ld(i,t,o)&&!n[ri(o)]){let s=new Qe([],{});r[ri(o)]=s}return P(P({},n),r)}function eA(i,t){let e={};e[xe]=t;for(let n of i)if(n.path===""&&ri(n)!==xe){let r=new Qe([],{});e[ri(n)]=r}return e}function tA(i,t,e){return e.some(n=>ld(i,t,n)&&ri(n)!==xe)}function nA(i,t,e){return e.some(n=>ld(i,t,n))}function ld(i,t,e){return(i.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function iA(i,t,e){return t.length===0&&!i.children[e]}var rA=class{};function oA(i,t,e,n,r,o,s="emptyOnly",l){return j(this,null,function*(){return new aA(i,t,e,n,r,s,o,l).recognize()})}var sA=31,aA=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,n,r,o,s,l,c){this.injector=t,this.configLoader=e,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=l,this.abortSignal=c,this.applyRedirects=new Yx(this.urlSerializer,this.urlTree)}noMatchError(t){return new oe(4002,`'${t.segmentGroup}'`)}recognize(){return j(this,null,function*(){let t=i0(this.urlTree.root,[],[],this.config).segmentGroup,{children:e,rootSnapshot:n}=yield this.match(t),r=new Pn(n,e),o=new za("",r),s=y0(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}})}match(t){return j(this,null,function*(){let e=new Gr([],Object.freeze({}),Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),xe,this.rootComponentType,null,{});try{return{children:yield this.processSegmentGroup(this.injector,this.config,t,xe,e),rootSnapshot:e}}catch(n){if(n instanceof dm)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Wr?this.noMatchError(n):n}})}processSegmentGroup(t,e,n,r,o){return j(this,null,function*(){if(n.segments.length===0&&n.hasChildren())return this.processChildren(t,e,n,o);let s=yield this.processSegment(t,e,n,n.segments,r,!0,o);return s instanceof Pn?[s]:[]})}processChildren(t,e,n,r){return j(this,null,function*(){let o=[];for(let c of Object.keys(n.children))c==="primary"?o.unshift(c):o.push(c);let s=[];for(let c of o){let h=n.children[c],g=bx(e,c),v=yield this.processSegmentGroup(t,g,h,c,r);s.push(...v)}let l=L0(s);return lA(l),l})}processSegment(t,e,n,r,o,s,l){return j(this,null,function*(){for(let c of e)try{return yield this.processSegmentAgainstRoute(c._injector??t,e,c,n,r,o,s,l)}catch(h){if(h instanceof Wr||R0(h))continue;throw h}if(iA(n,r,o))return new rA;throw new Wr(n)})}processSegmentAgainstRoute(t,e,n,r,o,s,l,c){return j(this,null,function*(){if(ri(n)!==s&&(s===xe||!ld(r,o,n)))throw new Wr(r);if(n.redirectTo===void 0)return this.matchSegmentAgainstRoute(t,r,n,o,s,c);if(this.allowRedirects&&l)return this.expandSegmentAgainstRouteUsingRedirect(t,r,e,n,o,s,c);throw new Wr(r)})}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,s,l){return j(this,null,function*(){let{matched:c,parameters:h,consumedSegments:g,positionalParamSegments:v,remainingSegments:C}=F0(e,r,o);if(!c)throw new Wr(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>sA&&(this.allowRedirects=!1));let D=new Gr(o,h,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,r0(r),ri(r),r.component??r._loadedComponent??null,r,o0(r)),I=rd(D,l,this.paramsInheritanceStrategy);if(D.params=Object.freeze(I.params),D.data=Object.freeze(I.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let M=yield this.applyRedirects.applyRedirectCommands(g,r.redirectTo,v,D,t),F=yield this.applyRedirects.lineralizeSegments(r,M);return this.processSegment(t,n,e,F.concat(C),s,!1,l)})}matchSegmentAgainstRoute(t,e,n,r,o,s){return j(this,null,function*(){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let l=yield qc(Xx(e,n,r,t,this.urlSerializer,this.abortSignal));if(n.path==="**"&&(e.children={}),!l?.matched)throw new Wr(e);t=n._injector??t;let{routes:c}=yield this.getChildConfig(t,n,r),h=n._loadedInjector??t,{parameters:g,consumedSegments:v,remainingSegments:C}=l,D=new Gr(v,g,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,r0(n),ri(n),n.component??n._loadedComponent??null,n,o0(n)),I=rd(D,s,this.paramsInheritanceStrategy);D.params=Object.freeze(I.params),D.data=Object.freeze(I.data);let{segmentGroup:M,slicedSegments:F}=i0(e,v,C,c);if(F.length===0&&M.hasChildren()){let Z=yield this.processChildren(h,c,M,D);return new Pn(D,Z)}if(c.length===0&&F.length===0)return new Pn(D,[]);let z=ri(n)===o,X=yield this.processSegment(h,c,M,F,z?xe:o,!0,D);return new Pn(D,X instanceof Pn?[X]:[])})}getChildConfig(t,e,n){return j(this,null,function*(){if(e.children)return{routes:e.children,injector:t};if(e.loadChildren){if(e._loadedRoutes!==void 0)return{routes:e._loadedRoutes,injector:e._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(yield qc(Hx(t,e,n,this.urlSerializer,this.abortSignal))){let o=yield this.configLoader.loadChildren(t,e);return e._loadedRoutes=o.routes,e._loadedInjector=o.injector,o}throw Gx(e)}return{routes:[],injector:t}})}};function lA(i){i.sort((t,e)=>t.value.outlet===xe?-1:e.value.outlet===xe?1:t.value.outlet.localeCompare(e.value.outlet))}function cA(i){let t=i.value.routeConfig;return t&&t.path===""}function L0(i){let t=[],e=new Set;for(let n of i){if(!cA(n)){t.push(n);continue}let r=t.find(o=>n.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...n.children),e.add(r)):t.push(n)}for(let n of e){let r=L0(n.children);t.push(new Pn(n.value,r))}return t.filter(n=>!e.has(n))}function r0(i){return i.data||{}}function o0(i){return i.resolve||{}}var dA=new W("",{factory:()=>oA});function uA(i,t,e,n,r,o,s){let l=i.get(dA);return zn(c=>fe(c).pipe(wt(h=>l(i,t,e,n,h.extractedUrl,r,o,s)),$e(({state:h,tree:g})=>ie(P({},c),{targetSnapshot:h,urlAfterRedirects:g}))))}function hA(i,t){return zn(e=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return fe(e);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let h of V0(c))s.add(h);let l=0;return an(s).pipe(rr(c=>o.has(c)?mA(c,n,i,t):(c.data=rd(c,c.parent,i).resolve,fe(void 0))),qt(()=>l++),Ch(1),zn(c=>l===s.size?fe(e):ei))})}function V0(i){let t=i.children.map(e=>V0(e)).flat();return[i,...t]}function mA(i,t,e,n){let r=i.routeConfig,o=i._resolve;return r?.title!==void 0&&!I0(r)&&(o[qa]=r.title),Mo(()=>(i.data=rd(i,i.parent,e).resolve,pA(o,i,t,n).pipe($e(s=>(i._resolvedData=s,i.data=P(P({},i.data),s),null)))))}function pA(i,t,e,n){let r=tm(i);if(r.length===0)return fe({});let o={};return an(r).pipe(zn(s=>fA(i[s],t,e,n).pipe(or(),qt(l=>{if(l instanceof ls)throw od(new Bi,l);o[s]=l}))),Ch(1),$e(()=>o),ac(s=>R0(s)?ei:I_(s)))}function fA(i,t,e,n){let r=ds(t)??n,o=us(i,r),s=o.resolve?o.resolve(t,e):ln(r,()=>o(t,e));return Qr(s)}function Jh(i){return wt(t=>{let e=i(t);return e?an(e).pipe($e(()=>t)):fe(t)})}var fm=(()=>{class i{buildTitle(e){let n,r=e.root;for(;r!==void 0;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(o=>o.outlet===xe);return n}getResolvedTitleForRoute(e){return e.data[qa]}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:()=>y(B0),providedIn:"root"})}return i})(),B0=(()=>{class i extends fm{title;constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||i)(_e(Vc))};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Er=new W("",{factory:()=>({})}),Jr=new W(""),cd=(()=>{class i{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=y(Q_);loadComponent(e,n){return j(this,null,function*(){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Promise.resolve(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=j(this,null,function*(){try{let o=yield c0(ln(e,()=>n.loadComponent())),s=yield z0(U0(o));return this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s,s}finally{this.componentLoaders.delete(n)}});return this.componentLoaders.set(n,r),r})}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return Promise.resolve({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let r=j(this,null,function*(){try{let o=yield j0(n,this.compiler,e,this.onLoadEndListener);return n._loadedRoutes=o.routes,n._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(n)}});return this.childrenLoaders.set(n,r),r}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function j0(i,t,e,n){return j(this,null,function*(){let r=yield c0(ln(e,()=>i.loadChildren())),o=yield z0(U0(r)),s;o instanceof j_||Array.isArray(o)?s=o:s=yield t.compileModuleAsync(o),n&&n(i);let l,c,h=!1;return Array.isArray(s)?(c=s,h=!0):(l=s.create(e).injector,c=l.get(Jr,[],{optional:!0,self:!0}).flat()),{routes:c.map(pm),injector:l}})}function gA(i){return i&&typeof i=="object"&&"default"in i}function U0(i){return gA(i)?i.default:i}function z0(i){return j(this,null,function*(){return i})}var dd=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:()=>y(_A),providedIn:"root"})}return i})(),_A=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),gm=new W(""),_m=new W("");function $0(i,t,e){let n=i.get(_m),r=i.get(De);if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(h=>setTimeout(h));let o,s=new Promise(h=>{o=h}),l=r.startViewTransition(()=>(o(),yA(i)));l.updateCallbackDone.catch(h=>{}),l.ready.catch(h=>{}),l.finished.catch(h=>{});let{onViewTransitionCreated:c}=n;return c&&ln(i,()=>c({transition:l,from:t,to:e})),s}function yA(i){return new Promise(t=>{vn({read:()=>setTimeout(t)},{injector:i})})}var bA=()=>{},ym=new W(""),ud=(()=>{class i{currentNavigation=Ve(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Ve(null);events=new de;transitionAbortWithErrorSubject=new de;configLoader=y(cd);environmentInjector=y(Ht);destroyRef=y(ko);urlSerializer=y(Xr);rootContexts=y(Zr);location=y(dr);inputBindingEnabled=y(Wa,{optional:!0})!==null;titleStrategy=y(fm);options=y(Er,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=y(dd);createViewTransition=y(gm,{optional:!0});navigationErrorHandler=y(ym,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>fe(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new Xc(r)),n=r=>this.events.next(new Zc(r));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;Oi(()=>{this.transitions?.next(ie(P({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:n}))})}setupNavigations(e){return this.transitions=new bn(null),this.transitions.pipe(Ge(n=>n!==null),wt(n=>{let r=!1,o=new AbortController;return fe(n).pipe(wt(s=>{if(this.navigationId>n.id)return this.cancelNavigationTransition(n,"",hn.SupersededByNewNavigation),ei;this.currentTransition=n;let l=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:l?ie(P({},l),{previousNavigation:null}):null,abort:()=>o.abort()});let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&h!=="reload")return this.events.next(new wi(s.id,this.urlSerializer.serialize(s.rawUrl),"",is.IgnoredSameUrlNavigation)),s.resolve(!1),ei;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return fe(s).pipe(wt(g=>(this.events.next(new Cr(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),g.id!==this.navigationId?ei:Promise.resolve(g))),uA(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),qt(g=>{n.targetSnapshot=g.targetSnapshot,n.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation.update(C=>(C.finalUrl=g.urlAfterRedirects,C));let v=new Ba(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(v)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:g,extractedUrl:v,source:C,restoredState:D,extras:I}=s,M=new Cr(g,this.urlSerializer.serialize(v),C,D);this.events.next(M);let F=E0(this.rootComponentType).snapshot;return this.currentTransition=n=ie(P({},s),{targetSnapshot:F,urlAfterRedirects:v,extras:ie(P({},I),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(z=>(z.finalUrl=v,z)),fe(n)}else return this.events.next(new wi(s.id,this.urlSerializer.serialize(s.extractedUrl),"",is.IgnoredByUrlHandlingStrategy)),s.resolve(!1),ei}),qt(s=>{let l=new Kc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}),$e(s=>(this.currentTransition=n=ie(P({},s),{guards:xx(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),n)),Lx(this.environmentInjector,s=>this.events.next(s)),qt(s=>{if(n.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw od(this.urlSerializer,s.guardsResult);let l=new Gc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(l)}),Ge(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",hn.GuardRejected),!1)),Jh(s=>{if(s.guards.canActivateChecks.length!==0)return fe(s).pipe(qt(l=>{let c=new Yc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),wt(l=>{let c=!1;return fe(l).pipe(hA(this.paramsInheritanceStrategy,this.environmentInjector),qt({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(l,"",hn.NoDataFromResolver)}}))}),qt(l=>{let c=new Qc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}))}),Jh(s=>{let l=h=>{let g=[];if(h.routeConfig?._loadedComponent)h.component=h.routeConfig?._loadedComponent;else if(h.routeConfig?.loadComponent){let v=ds(h)??this.environmentInjector;g.push(this.configLoader.loadComponent(v,h.routeConfig).then(C=>{h.component=C}))}for(let v of h.children)g.push(...l(v));return g},c=l(s.targetSnapshot.root);return c.length===0?fe(s):an(Promise.all(c).then(()=>s))}),Jh(()=>this.afterPreactivation()),wt(()=>{let{currentSnapshot:s,targetSnapshot:l}=n,c=this.createViewTransition?.(this.environmentInjector,s.root,l.root);return c?an(c).pipe($e(()=>n)):fe(n)}),$e(s=>{let l=wx(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=n=ie(P({},s),{targetRouterState:l}),this.currentNavigation.update(c=>(c.targetRouterState=l,c)),n}),qt(()=>{this.events.next(new ja)}),Ix(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),$n(1),Je(M0(o.signal).pipe(Ge(()=>!r&&!n.targetRouterState),qt(()=>{this.cancelNavigationTransition(n,o.signal.reason+"",hn.Aborted)}))),qt({next:s=>{r=!0,this.currentNavigation.update(l=>(l.abort=bA,l)),this.lastSuccessfulNavigation.set(Oi(this.currentNavigation)),this.events.next(new mn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),Je(this.transitionAbortWithErrorSubject.pipe(qt(s=>{throw s}))),ha(()=>{o.abort(),r||this.cancelNavigationTransition(n,"",hn.SupersededByNewNavigation),this.currentTransition?.id===n.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),ac(s=>{if(this.destroyed)return n.resolve(!1),ei;if(r=!0,D0(s))this.events.next(new vi(n.id,this.urlSerializer.serialize(n.extractedUrl),s.message,s.cancellationCode)),Sx(s)?this.events.next(new as(s.url,s.navigationBehaviorOptions)):n.resolve(!1);else{let l=new rs(n.id,this.urlSerializer.serialize(n.extractedUrl),s,n.targetSnapshot??void 0);try{let c=ln(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(c instanceof ls){let{message:h,cancellationCode:g}=od(this.urlSerializer,c);this.events.next(new vi(n.id,this.urlSerializer.serialize(n.extractedUrl),h,g)),this.events.next(new as(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(l),s}catch(c){this.options.resolveNavigationPromiseOnError?n.resolve(!1):n.reject(c)}}return ei}))}))}cancelNavigationTransition(e,n,r){let o=new vi(e.id,this.urlSerializer.serialize(e.extractedUrl),n,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=Oi(this.currentNavigation),r=n?.targetBrowserUrl??n?.extractedUrl;return e.toString()!==r?.toString()&&!n?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function vA(i){return i!==ts}var q0=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:()=>y(wA),providedIn:"root"})}return i})(),ad=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},wA=(()=>{class i extends ad{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Pi(i)))(r||i)}})();static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),bm=(()=>{class i{urlSerializer=y(Xr);options=y(Er,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=y(dr);urlHandlingStrategy=y(dd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new oi;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:n,targetBrowserUrl:r}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,n):n,s=r??o;return s instanceof oi?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:n,initialUrl:r}){n&&e?(this.currentUrlTree=n,this.rawUrlTree=this.urlHandlingStrategy.merge(n,r),this.routerState=e):this.rawUrlTree=r}routerState=E0(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:()=>y(H0),providedIn:"root"})}return i})(),H0=(()=>{class i extends bm{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&setTimeout(()=>{e(n.url,n.state,"popstate")})})}handleRouterEvent(e,n){e instanceof Cr?this.updateStateMemento():e instanceof wi?this.commitTransition(n):e instanceof Ba?this.urlUpdateStrategy==="eager"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof ja?(this.commitTransition(n),this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof vi&&e.code!==hn.SupersededByNewNavigation&&e.code!==hn.Redirect?this.restoreHistory(n):e instanceof rs?this.restoreHistory(n,!0):e instanceof mn&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:n,id:r}){let{replaceUrl:o,state:s}=n;if(this.location.isCurrentPathEqualTo(e)||o){let l=this.browserPageId,c=P(P({},s),this.generateNgRouterState(r,l));this.location.replaceState(e,"",c)}else{let l=P(P({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(e,"",l)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Pi(i)))(r||i)}})();static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function hd(i,t){i.events.pipe(Ge(e=>e instanceof mn||e instanceof vi||e instanceof rs||e instanceof wi),$e(e=>e instanceof mn||e instanceof wi?0:(e instanceof vi?e.code===hn.Redirect||e.code===hn.SupersededByNewNavigation:!1)?2:1),Ge(e=>e!==2),$n(1)).subscribe(()=>{t()})}var CA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},EA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},kt=(()=>{class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=y(U_);stateManager=y(bm);options=y(Er,{optional:!0})||{};pendingTasks=y(k_);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=y(ud);urlSerializer=y(Xr);location=y(dr);urlHandlingStrategy=y(dd);injector=y(Ht);_events=new de;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=y(q0);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=y(Jr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!y(Wa,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new rt;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let r=this.navigationTransitions.currentTransition,o=Oi(this.navigationTransitions.currentNavigation);if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(n,o),n instanceof vi&&n.code!==hn.Redirect&&n.code!==hn.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof mn)this.navigated=!0;else if(n instanceof as){let s=n.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),c=P({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||vA(r.source)},s);this.scheduleNavigation(l,ts,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}_x(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ts,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n,r)=>{this.navigateToSyncWithBrowser(e,r,n)})}navigateToSyncWithBrowser(e,n,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let c=P({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(e);this.scheduleNavigation(l,n,s,o).catch(c=>{this.disposed||this.injector.get(uc)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Oi(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(pm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:l,preserveFragment:c}=n,h=c?this.currentUrlTree.fragment:s,g=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":g=P(P({},this.currentUrlTree.queryParams),o);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=o||null}g!==null&&(g=this.removeEmptyProps(g));let v;try{let C=r?r.snapshot:this.routerState.snapshot.root;v=b0(C)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),v=this.currentUrlTree.root}return v0(v,e,g,h??null,this.urlSerializer)}navigateByUrl(e,n={skipLocationChange:!1}){let r=wr(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,ts,null,n)}navigate(e,n={skipLocationChange:!1}){return SA(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(Sh(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,n){let r;if(n===!0?r=P({},CA):n===!1?r=P({},EA):r=n,wr(e))return Zy(this.currentUrlTree,e,r);let o=this.parseUrl(e);return Zy(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((n,[r,o])=>(o!=null&&(n[r]=o),n),{})}scheduleNavigation(e,n,r,o,s){if(this.disposed)return Promise.resolve(!1);let l,c,h;s?(l=s.resolve,c=s.reject,h=s.promise):h=new Promise((v,C)=>{l=v,c=C});let g=this.pendingTasks.add();return hd(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:l,reject:c,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(v=>Promise.reject(v))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function SA(i){for(let t=0;t<i.length;t++)if(i[t]==null)throw new oe(4008,!1)}var Ci=(()=>{class i{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Ve(null);get href(){return Oi(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new de;applicationErrorHandler=y(uc);options=y(Er,{optional:!0});constructor(e,n,r,o,s,l){this.router=e,this.route=n,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=l,this.reactiveHref.set(y(new Po("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement&&(this.setTabIndexIfNotOnNativeEl("0"),this.subscribeToNavigationEventsIfNecessary())}subscribeToNavigationEventsIfNecessary(){this.subscription===void 0&&(this.subscription=this.router.events.subscribe(e=>{e instanceof mn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(wr(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,n,r,o,s){let l=this.urlTree;if(l===null||this.isAnchorElement&&(e!==0||n||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c)?.catch(h=>{this.applicationErrorHandler(h)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,n){let r=this.renderer,o=this.el.nativeElement;n!==null?r.setAttribute(o,e,n):r.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:wr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(n){return new(n||i)(te(kt),te(Be),O_("tabindex"),te(At),te(Oe),te(wa))};static \u0275dir=Fe({type:i,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(n,r){n&1&&q("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),n&2&&Me("href",r.reactiveHref(),L_)("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Pe],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Pe],replaceUrl:[2,"replaceUrl","replaceUrl",Pe],routerLink:"routerLink"},features:[ht]})}return i})(),wm=(()=>{class i{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new ue;link=y(Ci,{optional:!0});constructor(e,n,r,o){this.router=e,this.element=n,this.renderer=r,this.cdr=o,this.routerEventsSubscription=e.events.subscribe(s=>{s instanceof mn&&this.update()})}ngAfterContentInit(){fe(this.links.changes,fe(null)).pipe(da()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=an(e).pipe(da()).subscribe(n=>{this._isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(e){let n=Array.isArray(e)?e:e.split(" ");this.classes=n.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(n=>{e?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let n=IA(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?e.isActive(o,n):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(n){return new(n||i)(te(kt),te(Oe),te(At),te(dt))};static \u0275dir=Fe({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,o){if(n&1&&ar(o,Ci,5),n&2){let s;Se(s=Ie())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[ht]})}return i})();function IA(i){return!!i.paths}var Ya=class{};var W0=(()=>{class i{router;injector;preloadingStrategy;loader;subscription;constructor(e,n,r,o){this.router=e,this.injector=n,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ge(e=>e instanceof mn),rr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription?.unsubscribe()}processRoutes(e,n){let r=[];for(let o of n){o.providers&&!o._injector&&(o._injector=gc(o.providers,e,""));let s=o._injector??e,l=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(l,o.children??o._loadedRoutes))}return an(r).pipe(da())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let r;n.loadChildren&&n.canLoad===void 0?r=an(this.loader.loadChildren(e,n)):r=fe(null);let o=r.pipe(zn(s=>s===null?fe(void 0):(n._loadedRoutes=s.routes,n._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(n.loadComponent&&!n._loadedComponent){let s=this.loader.loadComponent(e,n);return an([o,s]).pipe(da())}else return o})}static \u0275fac=function(n){return new(n||i)(_e(kt),_e(Ht),_e(Ya),_e(cd))};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),K0=new W(""),xA=(()=>{class i{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=ts;restoredId=0;store={};constructor(e,n,r,o,s={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=r,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Cr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof mn?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof wi&&e.code===is.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{if(!(e instanceof ss))return;let n={behavior:"instant"};e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],n):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position,n):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>j(this,null,function*(){yield new Promise(r=>{setTimeout(r),typeof requestAnimationFrame<"u"&&requestAnimationFrame(r)}),this.zone.run(()=>{this.transitions.events.next(new ss(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(n){fc()};static \u0275prov=Q({token:i,factory:i.\u0275fac})}return i})();function Cm(i,...t){return ot([{provide:Jr,multi:!0,useValue:i},[],{provide:Be,useFactory:G0},{provide:kh,multi:!0,useFactory:Y0},t.map(e=>e.\u0275providers)])}function G0(){return y(kt).routerState.root}function Qa(i,t){return{\u0275kind:i,\u0275providers:t}}function Y0(){let i=y(be);return t=>{let e=i.get(zr);if(t!==e.components[0])return;let n=i.get(kt),r=i.get(Q0);i.get(Em)===1&&n.initialNavigation(),i.get(J0,null,{optional:!0})?.setUpPreloading(),i.get(K0,null,{optional:!0})?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Q0=new W("",{factory:()=>new de}),Em=new W("",{factory:()=>1});function X0(){let i=[{provide:F_,useValue:!0},{provide:Em,useValue:0},Mh(()=>{let t=y(be);return t.get(ay,Promise.resolve()).then(()=>new Promise(n=>{let r=t.get(kt),o=t.get(Q0);hd(r,()=>{n(!0)}),t.get(ud).afterPreactivation=()=>(n(!0),o.closed?fe(void 0):o),r.initialNavigation()}))})];return Qa(2,i)}function Z0(){let i=[Mh(()=>{y(kt).setUpLocationChangeListener()}),{provide:Em,useValue:2}];return Qa(3,i)}var J0=new W("");function eb(i){return Qa(0,[{provide:J0,useExisting:W0},{provide:Ya,useExisting:i}])}function tb(){return Qa(8,[mm,{provide:Wa,useExisting:mm}])}function nb(i){pc("NgRouterViewTransitions");let t=[{provide:gm,useValue:$0},{provide:_m,useValue:P({skipNextTransition:!!i?.skipInitialTransition},i)}];return Qa(9,t)}var ib=[dr,{provide:Xr,useClass:Bi},kt,Zr,{provide:Be,useFactory:G0},cd,[]],si=(()=>{class i{constructor(){}static forRoot(e,n){return{ngModule:i,providers:[ib,[],{provide:Jr,multi:!0,useValue:e},[],n?.errorHandler?{provide:ym,useValue:n.errorHandler}:[],{provide:Er,useValue:n||{}},n?.useHash?TA():DA(),AA(),n?.preloadingStrategy?eb(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?RA(n):[],n?.bindToComponentInputs?tb().\u0275providers:[],n?.enableViewTransitions?nb().\u0275providers:[],MA()]}}static forChild(e){return{ngModule:i,providers:[{provide:Jr,multi:!0,useValue:e}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({})}return i})();function AA(){return{provide:K0,useFactory:()=>{let i=y(my),t=y(ee),e=y(Er),n=y(ud),r=y(Xr);return e.scrollOffset&&i.setOffset(e.scrollOffset),new xA(r,n,i,t,e)}}}function TA(){return{provide:wa,useClass:cy}}function DA(){return{provide:wa,useClass:ly}}function RA(i){return[i.initialNavigation==="disabled"?Z0().\u0275providers:[],i.initialNavigation==="enabledBlocking"?X0().\u0275providers:[]]}var vm=new W("");function MA(){return[{provide:vm,useFactory:Y0},{provide:kh,multi:!0,useExisting:vm}]}var kA=(i,t)=>({"arabic-font":i,"admin-content":t}),OA=(i,t,e)=>({"navbar-dark":i,"navbar-light bg-light":t,"signed-in":e}),rb=i=>["/",i],PA=(i,t)=>({"btn-outline-light":i,"btn-outline-dark":t}),ob=(i,t)=>["/",i,"category",t],NA=i=>["/",i,"dashboard"],FA=i=>["/",i,"stats"],LA=i=>["/",i,"ManageMenuComponent"],VA=i=>["/",i,"EditItemComponent"],BA=i=>["/",i,"kitchen-orders"],jA=i=>["/",i,"bar-orders"],UA=i=>["/",i,"hookah-orders"],zA=i=>["/",i,"ordering-dashboard"],$A=i=>["/",i,"attendance"],qA=i=>["/",i,"add-employee"];function HA(i,t){if(i&1){let e=he();m(0,"div",5)(1,"button",12),q("click",function(){L(e);let r=A(2);return V(r.callWaiter())}),_(2),f()()}if(i&2){let e=A(2);u(),U("disabled",e.waiterRequested),u(),$(" ",e.isArabic?e.waiterRequested?"\u062A\u0645 \u0627\u0644\u0637\u0644\u0628":"\u0627\u0637\u0644\u0628 \u0627\u0644\u0646\u0627\u062F\u0644":e.waiterRequested?"Requested":"Call a waiter"," ")}}function WA(i,t){if(i&1&&(m(0,"li",9)(1,"a",13),H(2,"i"),m(3,"span"),_(4),f()()()),i&2){let e=t.$implicit,n=A(2);u(),U("routerLink",cr(4,ob,n.currentRestId,e.key)),u(),kn(e.icon+" category-icon"),u(2),T(n.isArabic?e.nameArabic:e.name)}}function KA(i,t){if(i&1){let e=he();m(0,"nav",0)(1,"div",4),K(2,HA,3,2,"div",5),m(3,"a",6),_(4),f(),m(5,"div",7)(6,"ul",8),we(7,WA,5,7,"li",9,Ue),f()(),m(9,"div",10)(10,"button",11),q("click",function(){L(e);let r=A();return V(r.toggleLanguage())}),_(11),f()()()()}if(i&2){let e=A();U("ngClass",_c(6,OA,!e.isLightTheme,e.isLightTheme,e.signedIn&&e.session)),u(2),G(e.signedIn&&e.session?2:-1),u(),U("routerLink",cn(10,rb,e.currentRestId)),u(),T(e.isArabic?"\u0637\u0644\u0629 \u064A\u0627\u0641\u0627":"Talat Yafa"),u(3),Ce(e.categories),u(3),U("ngClass",cr(12,PA,!e.isLightTheme,e.isLightTheme)),u(),$(" ",e.isArabic?"English":"\u0639\u0631\u0628\u064A"," ")}}function GA(i,t){if(i&1){let e=he();m(0,"aside",1)(1,"div",14)(2,"a",15),_(3),f(),m(4,"button",16),q("click",function(){L(e);let r=A();return V(r.toggleLanguage())}),_(5),f()(),m(6,"div",17)(7,"div",18),_(8),f(),m(9,"a",19),H(10,"i",20),_(11),f(),m(12,"a",19),H(13,"i",21),_(14),f()(),m(15,"div",17)(16,"div",18),_(17),f(),m(18,"a",19),H(19,"i",22),_(20),f(),m(21,"a",19),H(22,"i",23),_(23),f(),m(24,"a",19),H(25,"i",24),_(26),f(),m(27,"a",19),H(28,"i",25),_(29),f(),m(30,"a",19),H(31,"i",26),_(32),f(),m(33,"a",19),H(34,"i",27),_(35),f()(),m(36,"div",17)(37,"div",18),_(38),f(),m(39,"a",19),H(40,"i",28),_(41),f(),m(42,"a",19),H(43,"i",29),_(44),f()()()}if(i&2){let e=A();Me("dir",e.isArabic?"rtl":"ltr"),u(2),U("routerLink",cn(27,rb,e.currentRestId)),u(),T(e.isArabic?"\u0637\u0644\u0629 \u064A\u0627\u0641\u0627":"Talat Yafa"),u(2),T(e.isArabic?"English":"\u0639\u0631\u0628\u064A"),u(3),T(e.isArabic?"\u0639\u0627\u0645":"GENERAL"),u(),U("routerLink",cn(29,NA,e.currentRestId)),u(2),T(e.isArabic?"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645":"Dashboard"),u(),U("routerLink",cn(31,FA,e.currentRestId)),u(2),T(e.isArabic?"\u0627\u0644\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A":"Stats"),u(3),T(e.isArabic?"\u0627\u0644\u0623\u062F\u0648\u0627\u062A":"TOOLS"),u(),U("routerLink",cn(33,LA,e.currentRestId)),u(2),T(e.isArabic?"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0642\u0627\u0626\u0645\u0629":"Manage Menu"),u(),U("routerLink",cn(35,VA,e.currentRestId)),u(2),T(e.isArabic?"\u062A\u0639\u062F\u064A\u0644 \u0639\u0646\u0635\u0631":"Edit Item"),u(),U("routerLink",cn(37,BA,e.currentRestId)),u(2),T(e.isArabic?"\u0637\u0644\u0628\u0627\u062A \u0627\u0644\u0645\u0637\u0628\u062E":"Kitchen Orders"),u(),U("routerLink",cn(39,jA,e.currentRestId)),u(2),T(e.isArabic?"\u0637\u0644\u0628\u0627\u062A \u0627\u0644\u0628\u0627\u0631":"Bar Orders"),u(),U("routerLink",cn(41,UA,e.currentRestId)),u(2),T(e.isArabic?"\u0637\u0644\u0628\u0627\u062A \u0627\u0644\u0623\u0631\u062C\u064A\u0644\u0629":"Hookah Orders"),u(),U("routerLink",cn(43,zA,e.currentRestId)),u(2),T(e.isArabic?"\u0644\u0648\u062D\u0629 \u0627\u0644\u0637\u0644\u0628\u0627\u062A":"Ordering Dashboard"),u(3),T(e.isArabic?"\u0627\u0644\u062F\u0639\u0645":"SUPPORT"),u(),U("routerLink",cn(45,$A,e.currentRestId)),u(2),T(e.isArabic?"\u0627\u0644\u062D\u0636\u0648\u0631":"Attendance"),u(),U("routerLink",cn(47,qA,e.currentRestId)),u(2),T(e.isArabic?"\u0625\u0636\u0627\u0641\u0629 \u0645\u0648\u0638\u0641":"Add Employee")}}function YA(i,t){if(i&1&&(m(0,"a",31),H(1,"i"),m(2,"span"),_(3),f()()),i&2){let e=t.$implicit,n=A(2);U("routerLink",cr(4,ob,n.currentRestId,e.key)),u(),kn(e.icon),u(2),T(n.isArabic?e.nameArabic:e.name)}}function QA(i,t){if(i&1&&(m(0,"div",2)(1,"div",4)(2,"div",30),we(3,YA,4,7,"a",31,Ue),f()()()),i&2){let e=A();U("dir",e.isArabic?"rtl":"ltr"),u(3),Ce(e.categories)}}var md=class i{constructor(t,e,n,r){this.languageService=t;this.router=e;this.tableSession=n;this.route=r}isArabic=!1;isLightTheme=!1;categories=[];signedIn=!1;session=null;waiterRequested=!1;currentRestId="";isAdminRoute=!1;adminPages=new Set(["dashboard","stats","ManageMenuComponent","EditItemComponent","kitchen-orders","bar-orders","hookah-orders","ordering-dashboard","attendance","add-employee","control-board"]);ngOnInit(){return j(this,null,function*(){this.languageService.isArabic$.subscribe(o=>{this.isArabic=o}),this.isArabic=this.languageService.getCurrentLanguage(),this.tableSession.signedIn$.subscribe(o=>this.signedIn=o),this.tableSession.session$.subscribe(o=>{this.session=o,o?.restId&&(this.currentRestId=o.restId)});let t=(this.router.url.split("/")[1]||"").trim();if(t&&t!=="cart"&&(this.currentRestId=t),this.updateAdminRoute(this.router.url),this.router.events.pipe(Ge(o=>o instanceof mn)).subscribe(()=>{let o=(this.router.url.split("/")[1]||"").trim();o&&o!=="cart"&&(this.currentRestId=o),this.updateAdminRoute(this.router.url)}),!this.currentRestId){let o=(this.router.url.split("/")[1]||"").trim();o&&o!=="cart"&&(this.currentRestId=o)}let{firebaseService:e}=yield import("./chunk-BTLS5AZD.js"),r=(yield e.getCategories(this.currentRestId))||{};this.categories=Object.entries(r).map(([o,s])=>({key:o,name:s?.name||"",nameArabic:s?.nameArabic||"",icon:s?.icon||"fas fa-utensils"}))})}toggleLanguage(){this.languageService.toggleLanguage()}updateAdminRoute(t){let n=(t||"").split("#")[0].split("?")[0].split("/").filter(Boolean),r=n.length>=2?n[1]:"";this.isAdminRoute=this.adminPages.has(r)}callWaiter(){return j(this,null,function*(){!this.signedIn||!this.session||(this.waiterRequested=!0,setTimeout(()=>{this.waiterRequested=!1},3e3))})}static \u0275fac=function(e){return new(e||i)(te(Kt),te(kt),te(pr),te(Be))};static \u0275cmp=ne({type:i,selectors:[["app-root"]],decls:5,vars:8,consts:[[1,"navbar","navbar-expand-lg","sticky-top","px-4",3,"ngClass"],[1,"admin-sidebar"],[1,"category-nav-mobile",3,"dir"],[3,"dir","ngClass"],[1,"container"],[1,"nav-left","d-lg-none"],[1,"navbar-brand",3,"routerLink"],["id","navbarContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mx-auto","mb-2","mb-lg-0"],[1,"nav-item"],[1,"nav-actions","ms-auto","d-flex","align-items-center","gap-2"],[1,"btn","btn-sm",3,"click","ngClass"],[1,"btn","btn-sm","btn-waiter",2,"padding","0.5rem",3,"click","disabled"],["routerLinkActive","active",1,"nav-link","d-flex","flex-column","align-items-center",3,"routerLink"],[1,"sidebar-header","d-flex","align-items-center","justify-content-between"],[1,"sidebar-brand",3,"routerLink"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"sidebar-section"],[1,"section-title"],["routerLinkActive","active",1,"sidebar-link",3,"routerLink"],[1,"fas","fa-table","me-2"],[1,"fas","fa-chart-line","me-2"],[1,"fas","fa-utensils","me-2"],[1,"fas","fa-pen","me-2"],[1,"fas","fa-concierge-bell","me-2"],[1,"fas","fa-glass-martini-alt","me-2"],[1,"fas","fa-smoking","me-2"],[1,"fas","fa-clipboard-list","me-2"],[1,"fas","fa-user-check","me-2"],[1,"fas","fa-user-plus","me-2"],[1,"scrollable-nav"],["routerLinkActive","active",1,"category-item",3,"routerLink"]],template:function(e,n){e&1&&(K(0,KA,12,15,"nav",0),K(1,GA,45,49,"aside",1),K(2,QA,5,1,"div",2),m(3,"main",3),H(4,"router-outlet"),f()),e&2&&(G(n.isAdminRoute?-1:0),u(),G(n.isAdminRoute?1:-1),u(),G(n.isAdminRoute?-1:2),u(),U("dir",n.isArabic?"rtl":"ltr")("ngClass",cr(5,kA,n.isArabic,n.isAdminRoute)))},dependencies:[si,Ha,Ci,wm,dn,En],styles:[".navbar[_ngcontent-%COMP%]{padding-left:.2rem!important;box-shadow:0 2px 4px #0000001a;transition:all .3s ease;background-color:var(--secondary-color)}.navbar-brand[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem}.nav-link[_ngcontent-%COMP%]{font-size:.9rem;margin:0 .5rem;transition:all .3s ease;text-align:center;padding:.5rem .75rem;border-radius:8px}.nav-link[_ngcontent-%COMP%]:hover{color:var(--primary-color)!important;transform:translateY(-2px)}.nav-link.active[_ngcontent-%COMP%]{color:var(--primary-color)!important;font-weight:700;background-color:rgba(var(--primary-color-rgb),.1)}.category-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.25rem;display:block}.category-icon.fa-bounce[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_custom-bounce 5s cubic-bezier(.28,.84,.42,1) infinite}@keyframes _ngcontent-%COMP%_custom-bounce{0%{transform:translateY(0)}10%{transform:translateY(-8px)}20%{transform:translateY(0)}to{transform:translateY(0)}}.category-icon.fa-flip[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_custom-flip 5s linear infinite}@keyframes _ngcontent-%COMP%_custom-flip{0%{transform:rotateY(0)}20%{transform:rotateY(180deg)}40%{transform:rotateY(0)}to{transform:rotateY(0)}}.category-icon.fa-shake[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_custom-shake 5s linear infinite}@keyframes _ngcontent-%COMP%_custom-shake{0%,to{transform:translate(0)}5%{transform:translate(-5px)}10%{transform:translate(5px)}15%{transform:translate(-5px)}20%{transform:translate(5px)}25%{transform:translate(0)}to{transform:translate(0)}}.category-icon.fa-beat[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_custom-beat 5s linear infinite}@keyframes _ngcontent-%COMP%_custom-beat{0%,to{transform:scale(1)}10%{transform:scale(1.2)}20%,99%{transform:scale(1)}}.category-icon.fa-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_custom-spin 5s linear infinite}@keyframes _ngcontent-%COMP%_custom-spin{0%{transform:rotate(0)}20%{transform:rotate(360deg)}to{transform:rotate(360deg)}}.category-icon.fa-beat-fade[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_custom-beat-fade 5s linear infinite}@keyframes _ngcontent-%COMP%_custom-beat-fade{0%,to{opacity:1;transform:scale(1)}10%{opacity:.7;transform:scale(1.2)}20%,99%{opacity:1;transform:scale(1)}}.category-icon.fa-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_custom-pulse 5s linear infinite}@keyframes _ngcontent-%COMP%_custom-pulse{0%,to{transform:scale(1)}10%{transform:scale(1.1)}20%,99%{transform:scale(1)}}.category-icon.fa-fade[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_custom-fade 5s linear infinite}@keyframes _ngcontent-%COMP%_custom-fade{0%,to{opacity:1}10%{opacity:.5}20%,99%{opacity:1}}.category-nav-mobile[_ngcontent-%COMP%]{display:none;background-color:#fff;padding:10px 0;position:sticky;top:56px;z-index:1000;box-shadow:0 2px 4px #0000000d}.scrollable-nav[_ngcontent-%COMP%]{display:flex;overflow-x:auto;padding:5px 0;-webkit-overflow-scrolling:touch;scrollbar-width:none}.scrollable-nav[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.category-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:8px 15px;min-width:80px;text-decoration:none;color:var(--text-color);font-size:.8rem;border-radius:8px;transition:all .3s ease}.category-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:5px}.category-item.active[_ngcontent-%COMP%]{background-color:rgba(var(--primary-color-rgb, 233, 78, 27),.1);color:var(--primary-color);font-weight:700}.category-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);color:var(--primary-color)}.nav-actions[_ngcontent-%COMP%]{z-index:1050;position:relative}.btn-waiter[_ngcontent-%COMP%]{background:var(--primary-color, #e94e1b);border-color:var(--primary-color, #e94e1b);color:#fff;box-shadow:0 6px 14px rgba(var(--primary-color-rgb, 233, 78, 27),.35)}main[_ngcontent-%COMP%]{min-height:calc(100vh - 160px);padding-bottom:20px}.admin-sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:260px;height:100vh;background:#fff;border-right:1px solid #eee;padding:16px;overflow-y:auto;z-index:1040}.sidebar-header[_ngcontent-%COMP%]{padding-bottom:12px;border-bottom:1px solid #f0f0f0;margin-bottom:12px}.sidebar-brand[_ngcontent-%COMP%]{font-weight:700;color:#4f46e5;text-decoration:none}.section-title[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.08em;color:#9ca3af;padding:12px 0 6px}.sidebar-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:10px 12px;color:#111827;text-decoration:none;border-radius:8px}.sidebar-section[_ngcontent-%COMP%]   .sidebar-link[_ngcontent-%COMP%] + .sidebar-link[_ngcontent-%COMP%]{border-top:1px solid #eee}.sidebar-link[_ngcontent-%COMP%]:hover{background:#f3f4f6}.sidebar-link.active[_ngcontent-%COMP%]{background:#f3f4f6;font-weight:600}.sidebar-section[_ngcontent-%COMP%] + .sidebar-section[_ngcontent-%COMP%]{border-top:1px solid #f0f0f0;margin-top:12px;padding-top:12px}.admin-content[_ngcontent-%COMP%]{margin-left:260px}@media(max-width:991.98px){.admin-content[_ngcontent-%COMP%]{margin-left:0}.admin-sidebar[_ngcontent-%COMP%]{width:100%;height:auto;position:sticky;top:0;border-right:none;border-bottom:1px solid #eee}}[dir=rtl][_ngcontent-%COMP%]   .ms-auto[_ngcontent-%COMP%]{margin-right:auto!important;margin-left:0!important}.arabic-font[_ngcontent-%COMP%]{font-family:Tajawal,Poppins,sans-serif}@media(min-width:992px){main[_ngcontent-%COMP%]{padding-bottom:0}.category-nav-mobile[_ngcontent-%COMP%]{display:none}}@media(max-width:991.98px){.category-nav-mobile[_ngcontent-%COMP%]{display:block}.navbar-nav[_ngcontent-%COMP%]{display:none}main[_ngcontent-%COMP%]{padding-top:10px}.navbar.signed-in[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:8px}.navbar.signed-in[_ngcontent-%COMP%]   .nav-left[_ngcontent-%COMP%]{grid-column:1;justify-self:start}.navbar.signed-in[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{grid-column:2;justify-self:center}.navbar.signed-in[_ngcontent-%COMP%]   .nav-actions[_ngcontent-%COMP%]{grid-column:3;justify-self:end}}"]})};var XA=i=>["/",i,"dashboard"],ZA=(i,t)=>["/",i,"t",t],JA=(i,t)=>["/",i,"category",t];function eT(i,t){i&1&&H(0,"div",2)}function tT(i,t){if(i&1&&(m(0,"a",13)(1,"div",14),H(2,"i"),f(),m(3,"span"),_(4),f()()),i&2){let e=t.$implicit,n=A();U("routerLink",cr(4,JA,(n.session==null?null:n.session.restId)||n.restId,e.key)),u(2),kn(e.icon),u(2),T(n.isArabic?e.nameArabic:e.name)}}var pd=class i{constructor(t,e,n){this.languageService=t;this.tableSession=e;this.route=n}isArabic=!1;restaurant=null;categories=[];session=null;signedIn=!1;restId="";tableIdInput="";ngOnInit(){return j(this,null,function*(){this.languageService.isArabic$.subscribe(r=>this.isArabic=r),this.isArabic=this.languageService.getCurrentLanguage();let e=this.route.snapshot.paramMap.get("restId")||"";if(this.restId=e,!e)return;let n=yield Kn.getRestaurantById(e);if(n){this.restaurant=n;let r=n.menu?.categories||{};(!r||Object.keys(r).length===0)&&(r=(yield Kn.getCategories(e))||{}),this.categories=Object.entries(r).map(([o,s])=>({key:o,name:s.name||"",nameArabic:s.nameArabic||"",icon:s.icon||"fas fa-utensils"}))}this.tableSession.signedIn$.subscribe(r=>this.signedIn=r),this.tableSession.session$.subscribe(r=>this.session=r)})}getTableDisplayName(){let t=this.session;return t?t.tableName||t.tableId:""}checkout(){return j(this,null,function*(){yield this.tableSession.checkout()})}static \u0275fac=function(e){return new(e||i)(te(Kt),te(pr),te(Be))};static \u0275cmp=ne({type:i,selectors:[["app-home"]],decls:21,vars:14,consts:[[1,"hero-banner","text-white"],[1,"overlay","d-flex","align-items-center","justify-content-center","text-center"],[1,"mb-3"],[1,"display-4","fw-bold"],[1,"lead"],[1,"d-flex","flex-column","align-items-center","gap-3","mt-3",2,"max-width","560px","margin","0 auto"],[1,"btn","btn-primary",3,"routerLink"],[1,"w-100","d-flex","gap-2","justify-content-center"],["placeholder","Table ID",1,"form-control",2,"max-width","240px",3,"ngModelChange","ngModel"],[1,"btn","btn-secondary",3,"routerLink"],[1,"explore-menu","mt-5"],[1,"mb-4",2,"color","white"],[1,"category-links"],[1,"category-link",3,"routerLink"],[1,"icon-container"]],template:function(e,n){e&1&&(m(0,"div",0)(1,"div",1)(2,"div"),K(3,eT,1,0,"div",2),m(4,"h1",3),_(5),f(),m(6,"p",4),_(7),f(),m(8,"div",5)(9,"a",6),_(10,"Control Board"),f(),m(11,"div",7)(12,"input",8),le("ngModelChange",function(o){return ae(n.tableIdInput,o)||(n.tableIdInput=o),o}),f(),m(13,"a",9),_(14,"Sign In"),f()()(),m(15,"div",10)(16,"h4",11),_(17),f(),m(18,"div",12),we(19,tT,5,7,"a",13,Ue),f()()()()()),e&2&&(u(3),G(n.signedIn&&n.session?3:-1),u(2),$(" ",n.isArabic?"\u0645\u0631\u062D\u0628\u0627\u064B \u0628\u0643\u0645 \u0641\u064A "+((n.restaurant==null?null:n.restaurant.restArabicName)||""):"Welcome to "+((n.restaurant==null?null:n.restaurant.restName)||"")," "),u(2),$(" ",n.isArabic?(n.restaurant==null?null:n.restaurant.restArabicPhrase)||"":(n.restaurant==null?null:n.restaurant.restPhrase)||""," "),u(2),U("routerLink",cn(9,XA,(n.session==null?null:n.session.restId)||n.restId||"rest1")),u(3),se("ngModel",n.tableIdInput),u(),me("disabled",!n.tableIdInput),U("routerLink",cr(11,ZA,(n.session==null?null:n.session.restId)||n.restId||"rest1",n.tableIdInput)),u(4),T(n.isArabic?"\u0627\u0643\u062A\u0634\u0641 \u0646\u0643\u0647\u0627\u062A\u0646\u0627 \u0627\u0644\u0631\u0627\u0626\u0639\u0629":"Explore Our Menu"),u(2),Ce(n.categories))},dependencies:[si,Ci,yt,Tt,Dt,Rt],styles:[".hero-banner[_ngcontent-%COMP%]{background-image:url(https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&w=1600&q=80);background-size:cover;background-position:center;height:100vh;position:relative;overflow-y:auto}.overlay[_ngcontent-%COMP%]{background-color:#0009;height:100%;width:100%;padding:2rem;display:flex;align-items:center;justify-content:center}.explore-menu[_ngcontent-%COMP%]{margin-top:2rem}.category-links[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:1.5rem;max-width:900px;margin:0 auto}.category-link[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-decoration:none;color:#fff;transition:all .3s ease;padding:.5rem;border-radius:8px;width:110px;text-align:center}.category-link[_ngcontent-%COMP%]:hover{transform:translateY(-5px);background-color:#ffffff1a}.icon-container[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem;display:flex;align-items:center;justify-content:center;height:50px;width:50px;border-radius:50%;background-color:#fff3;transition:all .3s ease}.category-link[_ngcontent-%COMP%]:hover   .icon-container[_ngcontent-%COMP%]{background-color:#ff6b6bcc}@media(max-width:768px){.category-links[_ngcontent-%COMP%]{gap:.75rem}.category-link[_ngcontent-%COMP%]{width:90px;font-size:.85rem}.icon-container[_ngcontent-%COMP%]{height:40px;width:40px;font-size:1.2rem}}"]})};var nT=()=>["/cart"];function iT(i,t){if(i&1){let e=he();m(0,"div",7)(1,"div",10),q("click",function(){let r=L(e).$implicit,o=A();return V(o.openModal(r))}),m(2,"div",11),H(3,"img",12),f(),m(4,"div",13)(5,"div",14)(6,"h4",15),_(7),f(),m(8,"div",16),_(9),f()()()()()}if(i&2){let e=t.$implicit,n=A();u(3),U("src",e.image,qn)("alt",n.isArabic?e.nameArabic:e.name),u(4),T(n.isArabic?e.nameArabic:e.name),u(2),$("",e.price,"\u20AA")}}function rT(i,t){if(i&1&&H(0,"img",12),i&2){let e=A(2);U("src",e.selectedItem.image,qn)("alt",e.isArabic?e.selectedItem.nameArabic:e.selectedItem.name)}}function oT(i,t){if(i&1&&(m(0,"li"),_(1),f()),i&2){let e=t.$implicit;u(),$(" ",e," ")}}function sT(i,t){if(i&1&&(m(0,"span",43),_(1),f()),i&2){let e=A().$implicit;u(),$(" +\u20AA",e.add)}}function aT(i,t){if(i&1){let e=he();m(0,"span",42),q("click",function(r){let o=L(e).$index;return A(4).selectChoice(o),V(r.stopPropagation())}),_(1),K(2,sT,2,1,"span",43),f()}if(i&2){let e=t.$implicit,n=t.$index,r=A(4);me("active",r.selectedChoiceIndex===n),u(),$(" ",e.label),u(),G(e.add?2:-1)}}function lT(i,t){if(i&1&&(m(0,"div",27)(1,"h6",25),_(2),f(),m(3,"div",40),we(4,aT,3,4,"span",41,Ue),f()()),i&2){let e=A(3);u(2),T(e.isArabic?"\u0627\u062E\u062A\u0631 \u062E\u064A\u0627\u0631\u0627\u064B:":"Select a choice:"),u(2),Ce(e.choiceDisplay)}}function cT(i,t){if(i&1){let e=he();m(0,"div",37)(1,"textarea",44),le("ngModelChange",function(r){L(e);let o=A(3);return ae(o.notes,r)||(o.notes=r),V(r)}),f()()}if(i&2){let e=A(3);u(),U("placeholder",K_(e.isArabic?"\u0627\u0643\u062A\u0628 \u0645\u0644\u0627\u062D\u0638\u0627\u062A\u0643 \u0647\u0646\u0627...":"Write your notes here...")),se("ngModel",e.notes)}}function dT(i,t){if(i&1&&(m(0,"span"),_(1),f()),i&2){let e=A(3);u(),T(e.justAdded?e.isArabic?"\u0639\u0631\u0636 \u0627\u0644\u0633\u0644\u0629":"View in cart":e.isArabic?"\u0623\u0636\u0641 \u0625\u0644\u0649 \u0627\u0644\u0633\u0644\u0629":"Add to cart")}}function uT(i,t){i&1&&H(0,"span",39)}function hT(i,t){if(i&1){let e=he();m(0,"div"),K(1,lT,6,1,"div",27),m(2,"div",28)(3,"div",29)(4,"button",30),q("click",function(){L(e);let r=A(2);return V(r.decQty())}),_(5,"\u2212"),f(),m(6,"input",31),q("change",function(r){L(e);let o=A(2);return V(o.setQtyModal(+r.target.value))}),f(),m(7,"button",32),q("click",function(){L(e);let r=A(2);return V(r.incQty())}),_(8,"+"),f()(),m(9,"div",33)(10,"small"),_(11),f(),m(12,"div",34),_(13),f()()(),m(14,"div",27)(15,"button",35),q("click",function(){L(e);let r=A(2);return V(r.showNotes=!r.showNotes)}),_(16),H(17,"span",36),f(),K(18,cT,2,3,"div",37),f(),m(19,"button",38),q("click",function(){L(e);let r=A(2);return V(r.onPrimaryCta())}),K(20,dT,2,1,"span"),K(21,uT,1,0,"span",39),f()()}if(i&2){let e=A(2);u(),G(e.hasChoices?1:-1),u(3),U("disabled",e.quantity<=1),u(2),U("value",e.quantity),u(5),T(e.isArabic?"\u0627\u0644\u0645\u062C\u0645\u0648\u0639":"Total"),u(2),$("",(((e.selectedItem==null?null:e.selectedItem.price)||0)+e.selectedChoiceAdd)*e.quantity,"\u20AA"),u(3),$(" ",e.isArabic?"\u0645\u0644\u0627\u062D\u0638\u0627\u062A":"Notes"," "),u(),U("innerText",e.showNotes?"\u25B2":"\u25BC"),u(),G(e.showNotes?18:-1),u(),U("disabled",e.placingOrder||e.hasChoices&&e.selectedChoiceIndex===null),u(),G(e.placingOrder?-1:20),u(),G(e.placingOrder?21:-1)}}function mT(i,t){if(i&1&&(m(0,"div",26),_(1),f()),i&2){let e=A(2);u(),$(" ",e.isArabic?"\u0627\u0644\u0631\u062C\u0627\u0621 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0639\u0628\u0631 \u0631\u0627\u0628\u0637 \u0627\u0644\u0637\u0627\u0648\u0644\u0629 \u0644\u0637\u0644\u0628 \u0647\u0630\u0627 \u0627\u0644\u0637\u0628\u0642.":"Please sign in via your table link to order this item."," ")}}function pT(i,t){if(i&1){let e=he();m(0,"div",17),q("click",function(){L(e);let r=A();return V(r.closeModal())}),m(1,"div",18),q("click",function(r){return L(e),V(r.stopPropagation())}),m(2,"div",19),K(3,rT,1,2,"img",12),f(),m(4,"div",20)(5,"div",21)(6,"h3",22),_(7),f(),m(8,"div",23),_(9),f()(),m(10,"div",24)(11,"h6",25),_(12),f(),m(13,"div")(14,"ul"),we(15,oT,2,1,"li",null,Ue),f()()(),K(17,hT,22,11,"div")(18,mT,2,1,"div",26),f()()()}if(i&2){let e=A();U("dir",e.isArabic?"rtl":"ltr"),u(3),G(e.selectedItem?3:-1),u(4),T(e.isArabic?e.selectedItem==null?null:e.selectedItem.nameArabic:e.selectedItem==null?null:e.selectedItem.name),u(2),$("",e.selectedItem==null?null:e.selectedItem.price,"\u20AA"),u(3),T(e.isArabic?"\u0627\u0644\u0645\u0643\u0648\u0646\u0627\u062A:":"Ingredients:"),u(3),Ce(e.isArabic?e.selectedItem==null?null:e.selectedItem.ingredientsArabic:e.selectedItem==null?null:e.selectedItem.ingredients),u(2),G(e.signedIn&&e.session?17:18)}}function fT(i,t){if(i&1&&(m(0,"a",9),ki(),m(1,"svg",45),H(2,"path",46),f()()),i&2){let e=A();U("routerLink",lr(2,nT)),Me("aria-label",e.isArabic?"\u0627\u0644\u0633\u0644\u0629":"Cart")}}var fd=class i{constructor(t,e,n,r){this.languageService=t;this.route=e;this.tableSession=n;this.router=r}isArabic=!1;name="";nameArabic="";catPhrase="";catArabicPhrase="";icon="";items=[];restId=null;signedIn=!1;session=null;showModal=!1;selectedItem=null;quantity=1;notes="";placingOrder=!1;showNotes=!1;justAdded=!1;selectedChoiceIndex=null;ngOnInit(){return j(this,null,function*(){this.languageService.isArabic$.subscribe(t=>this.isArabic=t),this.isArabic=this.languageService.getCurrentLanguage(),this.route.paramMap.subscribe(t=>j(this,null,function*(){let e=t.get("categoryKey"),n=t.get("restId");if(n&&(this.restId=n),!e)return;let r=this.restId||"";if(!r)return;let o=Kn.getCategoryFromCache(r,e);o?(this.name=o.name||"",this.nameArabic=o.nameArabic||"",this.catPhrase=o.catPhrase||"",this.catArabicPhrase=o.catArabicPhrase||"",this.icon=o.icon||"fas fa-utensils",this.items=o.items?Object.values(o.items):[]):(this.name="",this.nameArabic="",this.catPhrase="",this.catArabicPhrase="",this.icon="fas fa-utensils",this.items=[]);try{let s=yield Kn.getCategory(r,e);s&&(this.name=s.name||"",this.nameArabic=s.nameArabic||"",this.catPhrase=s.catPhrase||"",this.catArabicPhrase=s.catArabicPhrase||"",this.icon=s.icon||"fas fa-utensils",this.items=s.items?Object.values(s.items):[])}catch{}})),this.tableSession.signedIn$.subscribe(t=>this.signedIn=t),this.tableSession.session$.subscribe(t=>{this.session=t,t?.restId&&(this.restId=t.restId)})})}openModal(t){this.selectedItem=t,this.quantity=1,this.notes="",this.showModal=!0,this.showNotes=!1,this.justAdded=!1,this.selectedChoiceIndex=this.hasChoices?0:null}closeModal(){this.showModal=!1,this.selectedItem=null,this.placingOrder=!1}decQty(){this.quantity>1&&this.quantity--}incQty(){this.quantity++}setQtyModal(t){let e=Math.max(1,Number(t)||1);this.quantity=e}get structuredOptions(){let t=this.selectedItem?.choiceOptions;return Array.isArray(t)?t.filter(e=>e&&(e.en||e.ar)):null}get currentChoices(){let t=this.isArabic?this.selectedItem?.choicesArabic:this.selectedItem?.choices;return Array.isArray(t)?t.filter(e=>!!e):[]}get choiceDisplay(){let t=this.structuredOptions;return t&&t.length?t.map(e=>({label:this.isArabic?e.ar||e.en||"":e.en||e.ar||"",add:Number(e.add)||0})):this.currentChoices.map(e=>({label:e,add:0}))}get selectedChoiceAdd(){let t=this.structuredOptions;return t&&t.length&&this.selectedChoiceIndex!=null&&t[this.selectedChoiceIndex]&&Number(t[this.selectedChoiceIndex].add)||0}get hasChoices(){return this.choiceDisplay.length>0}selectChoice(t){this.selectedChoiceIndex=t}onPrimaryCta(){if(this.justAdded){this.router.navigate(["/cart"]);return}this.placeOrder()}placeOrder(){return j(this,null,function*(){if(!this.signedIn||!this.session||!this.restId||!this.selectedItem)return;let t=Array.isArray(this.selectedItem.choices)?this.selectedItem.choices:[],e=Array.isArray(this.selectedItem.choicesArabic)?this.selectedItem.choicesArabic:[],n=Array.isArray(this.selectedItem.choiceOptions)?this.selectedItem.choiceOptions:[],r=n.length>0,o=r?n.length>0:t&&t.length||e&&e.length,s=null,l=null,c=0;if(this.selectedChoiceIndex!=null)if(r){let h=n[this.selectedChoiceIndex];h&&(s=h.en||null,l=h.ar||null,c=Number(h.add)||0)}else s=t[this.selectedChoiceIndex]??null,l=e[this.selectedChoiceIndex]??null;if(!(o&&this.selectedChoiceIndex===null)){this.placingOrder=!0;try{let h=`restaurants/${this.restId}/tables/${this.session.tableId}/order`,g=Hn(Wn,h),v=this.selectedItem.name,C=this.selectedItem.nameArabic,D=this.notes?.trim()||"";if(D===""){let M=yield mr(g);if(M.exists()){let F=M.val(),z=null,X=0;for(let[Z,Y]of Object.entries(F)){let Ae=Y,ye=(Ae.details??"").trim(),x=Ae.choiceEn??null,w=Ae.choiceAr??null,E=s||l?x===s&&w===l:!x&&!w;if(ye===""&&(Ae.name===v||Ae.name===C)&&(Ae.state??"unordered")==="unordered"&&E){z=Z,X=Number(Ae.quantity)||0;break}}if(z){yield gy(Hn(Wn,`${h}/${z}`),{quantity:X+this.quantity,ts:Date.now()}),this.justAdded=!0,this.placingOrder=!1;return}}}let I={name:this.isArabic?C:v,details:D,quantity:this.quantity,ts:Date.now(),state:"unordered",unitPrice:(this.selectedItem.price||0)+(c||0),choiceEn:s||null,choiceAr:l||null};yield fy(g,I),this.justAdded=!0,this.placingOrder=!1}catch(h){console.error("Failed to place order:",h),this.placingOrder=!1}}})}static \u0275fac=function(e){return new(e||i)(te(Kt),te(Be),te(pr),te(kt))};static \u0275cmp=ne({type:i,selectors:[["app-category"]],decls:13,vars:4,consts:[[1,"category-container"],[1,"container","py-5"],[1,"section-header","text-center","mb-5"],[1,"display-5","fw-bold"],[1,"divider","mx-auto"],[1,"lead","text-muted"],[1,"row","g-4"],[1,"col-md-6","col-lg-4"],[1,"item-modal-overlay",3,"dir"],[1,"cart-fab-right",3,"routerLink"],[1,"product-card",3,"click"],[1,"product-image"],[3,"src","alt"],[1,"product-details"],[1,"item-wrap"],[1,"product-title"],[1,"price-tag"],[1,"item-modal-overlay",3,"click","dir"],[1,"item-modal",3,"click"],[1,"modal-image"],[1,"modal-body"],[1,"d-flex","align-items-center","justify-content-between","mb-3"],[1,"mb-0"],[1,"price-chip"],[1,"ingredients","mb-3"],[1,"mb-2"],["role","alert",1,"alert","alert-warning","mt-3"],[1,"mb-3"],[1,"d-flex","align-items-center","justify-content-between","mb-4"],[1,"qty-ctrl"],["type","button",1,"round","minus",3,"click","disabled"],["type","number","min","1",1,"qty-input",3,"change","value"],["type","button",1,"round","plus",3,"click"],[1,"total-price"],[1,"h5","mb-0"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],[3,"innerText"],[1,"mt-2"],["type","button",1,"btn","btn-order","w-100",3,"click","disabled"],[1,"spinner-border","spinner-border-sm"],[1,"choice-group"],[1,"choice-chip",3,"active"],[1,"choice-chip",3,"click"],[1,"choice-add"],["rows","3",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","24","height","24","fill","currentColor","aria-hidden","true",1,"icon"],["d","M7 18c-.83 0-1.5.67-1.5 1.5S6.17 21 7 21s1.5-.67 1.5-1.5S7.83 18 7 18zm10 0c-.83 0-1.5.67-1.5 1.5S16.17 21 17 21s1.5-.67 1.5-1.5S17.83 18 17 18zM7.16 14.26h9.97c.68 0 1.28-.43 1.49-1.08l2.07-6.21A1.25 1.25 0 0 0 19.52 5H6.21L5.7 3.65A1.5 1.5 0 0 0 4.21 2.63H3a1 1 0 1 0 0 2h1.21l3.18 8.44-.73 1.88a1.5 1.5 0 0 0 1.5 2.06h10.59a1 1 0 1 0 0-2H8.16l.53-1.35z"]],template:function(e,n){e&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),_(4),f(),H(5,"div",4),m(6,"p",5),_(7),f()(),m(8,"div",6),we(9,iT,10,4,"div",7,Ue),f()(),K(11,pT,19,6,"div",8),K(12,fT,3,3,"a",9),f()),e&2&&(u(4),T(n.isArabic?n.nameArabic:n.name),u(3),$(" ",n.isArabic?n.catArabicPhrase:n.catPhrase," "),u(2),Ce(n.items),u(2),G(n.showModal?11:-1),u(),G(n.signedIn?12:-1))},dependencies:[yt,Tt,Dt,Rt,si,Ci],styles:['.product-card[_ngcontent-%COMP%]{background:var(--card-bg, #ffffff);border-radius:16px;box-shadow:0 6px 18px #00000014;overflow:hidden;transition:transform .25s ease,box-shadow .25s ease;cursor:pointer;height:100%;display:flex;flex-direction:column}.cart-fab-right[_ngcontent-%COMP%]{position:fixed;right:24px;bottom:calc(24px + env(safe-area-inset-bottom,0px));z-index:5000;width:60px;height:60px;border:none;border-radius:18px;background:#f1f2f5;box-shadow:0 12px 24px #0003;display:grid;place-items:center}.cart-fab-right[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:22px;line-height:1;color:var(--primary-color, #ff6b6b)}.cart-fab-left[_ngcontent-%COMP%]{position:fixed;left:28px;bottom:28px;z-index:5000;width:60px;height:60px;border:none;border-radius:18px;background:#f1f2f5;box-shadow:0 12px 24px #0003;display:grid;place-items:center}.cart-fab-left[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:22px;line-height:1;color:var(--primary-color, #ff6b00)}@media(min-width:992px){.cart-fab-left[_ngcontent-%COMP%]{left:28px;bottom:28px}}.product-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 24px #0000001f}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:220px;object-fit:cover;display:block}.product-details[_ngcontent-%COMP%]{padding:16px}.product-title[_ngcontent-%COMP%]{margin:0 0 6px;display:inline-block}.item-wrap[_ngcontent-%COMP%]{position:relative;padding-inline-end:72px}.price-tag[_ngcontent-%COMP%]{position:absolute;top:0;inset-inline-end:0;display:inline-block;background:rgba(var(--primary-color-rgb, 255, 107, 107),.1);color:var(--primary-color, #ff6b6b);padding:4px 10px;border-radius:999px;font-weight:600;margin-bottom:10px;font-family:Tajawal,Poppins,sans-serif}.ingredients[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:700}.ingredients[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:18px;margin:0}.item-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:2000;animation:_ngcontent-%COMP%_overlayFade .2s ease}@keyframes _ngcontent-%COMP%_overlayFade{0%{opacity:0}to{opacity:1}}.item-modal[_ngcontent-%COMP%]{background:#fff;width:min(90vw,680px);max-height:85vh;border-radius:20px;overflow:hidden;box-shadow:0 20px 50px #00000040;transform:translateY(8px) scale(.98);animation:_ngcontent-%COMP%_modalPop .25s ease forwards;font-family:inherit;display:flex;flex-direction:column}@keyframes _ngcontent-%COMP%_modalPop{to{transform:translateY(0) scale(1)}}.btn-close[_ngcontent-%COMP%]{position:absolute;top:12px;inset-inline-end:12px;background:#0009;border:none;width:32px;height:32px;border-radius:50%;color:#fff;display:grid;place-items:center}.btn-close[_ngcontent-%COMP%]:before{content:"\\2715";font-size:16px;line-height:1}.modal-image[_ngcontent-%COMP%]{background:#fff;display:grid;place-items:center}.modal-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:260px;object-fit:cover;display:block}.modal-body[_ngcontent-%COMP%]{padding:18px 18px 22px;overflow-y:auto}.price-chip[_ngcontent-%COMP%]{background:rgba(var(--primary-color-rgb, 255, 107, 107),.1);color:var(--primary-color, #ff6b6b);padding:6px 12px;border-radius:999px;font-weight:700}.choice-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.choice-chip[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;border-radius:99px;border:1px solid #d1d5db;background:#f5f6f8;color:var(--text-color, #212529);font-weight:700;cursor:pointer;-webkit-user-select:none;user-select:none}.choice-chip.active[_ngcontent-%COMP%]{background:rgba(var(--primary-color-rgb, 255, 107, 107),.12);color:var(--primary-color, #ff6b6b);border-color:var(--primary-color, #ff6b6b)}.choice-add[_ngcontent-%COMP%]{color:var(--primary-color, #ff6b6b);font-weight:700;margin-inline-start:6px}.qty-ctrl[_ngcontent-%COMP%]{background:rgba(var(--primary-color-rgb, 255, 107, 107),.08);border-radius:14px;padding:6px 8px;display:inline-flex;align-items:center;gap:10px;box-shadow:inset 0 0 0 1px #00000008}.round[_ngcontent-%COMP%]{width:38px;height:38px;border-radius:12px;border:none;display:grid;place-items:center;font-size:18px;font-weight:800;color:#fff;transition:transform .1s ease;background:var(--primary-color, #ff6b6b)}.round[_ngcontent-%COMP%]:active{transform:scale(.98)}.round.minus[_ngcontent-%COMP%], .round.plus[_ngcontent-%COMP%]{background:var(--primary-color, #ff6b6b)}.qty-input[_ngcontent-%COMP%]{width:56px;height:36px;border:none;background:transparent;text-align:center;font-weight:900;font-size:16px;color:var(--text-color, #212529)}.qty-input[_ngcontent-%COMP%]:focus{outline:none}.qty-control[_ngcontent-%COMP%]{display:inline-flex;gap:10px;align-items:center;background:#f5f6f8;padding:8px 12px;border-radius:999px}.btn-qty[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;border:none;background:var(--secondary-color, #4ecdc4);color:#fff;font-size:18px;line-height:1;display:inline-flex;align-items:center;justify-content:center;padding:0}.qty-value[_ngcontent-%COMP%]{min-width:28px;text-align:center;font-weight:700}.btn-order[_ngcontent-%COMP%]{background:var(--primary-color, #ff6b6b);color:#fff;border:none;padding:12px 16px;border-radius:12px;font-weight:700;box-shadow:0 8px 16px #ff6b6b59;transition:transform .2s ease,box-shadow .2s ease}.btn-order[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 10px 18px #ff6b6b73}.total-price[_ngcontent-%COMP%]   .h5[_ngcontent-%COMP%]{color:var(--text-color, #212529);font-weight:700}@media(max-width:576px){.item-modal[_ngcontent-%COMP%]{width:96vw;max-height:80vh;border-radius:16px}.modal-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px}.modal-body[_ngcontent-%COMP%]{padding:14px 14px 18px}.btn-qty[_ngcontent-%COMP%]{width:36px;height:36px;font-size:16px}.qty-value[_ngcontent-%COMP%]{min-width:24px}}']})};function gT(i,t){if(i&1&&(m(0,"option",23),_(1),f()),i&2){let e=t.$implicit,n=A();U("value",e.key),u(),$(" ",n.isArabic?e.value.nameArabic:e.value.name," ")}}function _T(i,t){if(i&1&&(m(0,"span",38),_(1),f()),i&2){let e=A();u(),T(e.selectedFileName)}}function yT(i,t){if(i&1){let e=he();m(0,"button",56),q("click",function(){L(e);let r=A();return V(r.clearPendingFile())}),_(1),f()}if(i&2){let e=A();U("disabled",e.uploading),u(),T(e.isArabic?"\u0625\u0632\u0627\u0644\u0629":"Clear")}}function bT(i,t){if(i&1&&(m(0,"div",41),H(1,"img",57),f()),i&2){let e=A();u(),U("src",e.previewUrl,qn)}}function vT(i,t){if(i&1&&(m(0,"div",43)(1,"div",58),H(2,"div",59),f(),m(3,"span"),_(4),f()()),i&2){let e=A();u(2),Li("width",e.uploadProgress,"%"),u(2),$("",e.uploadProgress,"%")}}function wT(i,t){if(i&1&&(m(0,"span",62),_(1),f()),i&2){let e=A().$implicit;u(),$(" +\u20AA",e.add)}}function CT(i,t){if(i&1){let e=he();m(0,"span",60),q("click",function(){let r=L(e).$index,o=A();return V(o.editChoiceAt(r))}),m(1,"span",61),_(2),K(3,wT,2,1,"span",62),f(),m(4,"button",63),q("click",function(r){let o=L(e).$index,s=A();return V(s.removeChoiceAt(o,r))}),_(5,"\xD7"),f()()}if(i&2){let e=t.$implicit,n=t.$index,r=A();me("active",r.choiceEditIndex===n),u(2),ni("",e.ar," / ",e.en),u(),G(e.add?3:-1)}}var gd=class i{constructor(t,e,n,r){this.menuService=t;this.http=e;this.languageService=n;this.route=r}restaurantId="";categories={};selectedCategoryId="";newCategory={name:"",nameArabic:"",catPhrase:"",catArabicPhrase:"",icon:"",section:"kitchen"};newItem={name:"",nameArabic:"",price:0,image:"",ingredients:"",ingredientsArabic:"",choices:"",choicesArabic:""};choiceDraft={en:"",ar:"",add:0};choiceEditIndex=null;choiceOptions=[];previewUrl=null;uploading=!1;uploadProgress=0;pendingFile=null;selectedFileName=null;isArabic=!1;workerUrl="https://presigned-url-worker.a2-menu-worker.workers.dev/";ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t),this.menuService.getCategories(this.restaurantId).subscribe(e=>{this.categories=e||{}}),this.languageService.isArabic$.subscribe(e=>this.isArabic=e)}addCategory(){this.menuService.addCategory(this.restaurantId,this.newCategory).then(()=>{alert(this.isArabic?"\u062A\u0645\u062A \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0641\u0626\u0629!":"Category added!"),this.newCategory={name:"",nameArabic:"",catPhrase:"",catArabicPhrase:"",icon:"",section:"kitchen"}})}addItem(){return j(this,null,function*(){if(!this.selectedCategoryId){alert(this.isArabic?"\u0627\u062E\u062A\u0631 \u0641\u0626\u0629 \u0623\u0648\u0644\u0627\u064B!":"Select a category first!");return}try{if(this.pendingFile){this.uploading=!0,this.uploadProgress=0;let e=yield this.uploadViaWorker(this.pendingFile);this.newItem.image=e}let t=ie(P({},this.newItem),{ingredients:this.newItem.ingredients.split(",").map(e=>e.trim()).filter(e=>e.length>0),ingredientsArabic:this.newItem.ingredientsArabic.split(",").map(e=>e.trim()).filter(e=>e.length>0),choices:this.choiceOptions.map(e=>e.en).filter(e=>e&&e.length>0),choicesArabic:this.choiceOptions.map(e=>e.ar).filter(e=>e&&e.length>0),choiceOptions:this.choiceOptions.map(e=>({en:e.en,ar:e.ar,add:Number(e.add)||0}))});yield this.menuService.addItem(this.restaurantId,this.selectedCategoryId,t),alert(this.isArabic?"\u062A\u0645\u062A \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0639\u0646\u0635\u0631!":"Item added!"),this.newItem={name:"",nameArabic:"",price:0,image:"",ingredients:"",ingredientsArabic:"",choices:"",choicesArabic:""},this.choiceOptions=[],this.choiceDraft={en:"",ar:"",add:0},this.choiceEditIndex=null,this.clearPendingFile()}catch(t){console.error("Error adding item:",t),alert(this.isArabic?"\u0641\u0634\u0644 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0639\u0646\u0635\u0631. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.":"Failed to add item. Please try again.")}finally{this.uploading=!1,this.uploadProgress=0}})}addOrUpdateChoice(){let t=(this.choiceDraft.en||"").trim(),e=(this.choiceDraft.ar||"").trim(),n=Number(this.choiceDraft.add)||0;if(!t||!e)return;let r={en:t,ar:e,add:n};this.choiceEditIndex!=null?this.choiceOptions[this.choiceEditIndex]=r:this.choiceOptions.push(r),this.resetChoiceDraft()}editChoiceAt(t){if(this.choiceEditIndex===t){this.resetChoiceDraft();return}let e=this.choiceOptions[t];e&&(this.choiceDraft={en:e.en,ar:e.ar,add:e.add},this.choiceEditIndex=t)}removeChoiceAt(t,e){e?.stopPropagation(),this.choiceEditIndex===t&&this.resetChoiceDraft(),this.choiceOptions.splice(t,1)}resetChoiceDraft(){this.choiceDraft={en:"",ar:"",add:0},this.choiceEditIndex=null}onFileSelected(t){let e=t.target.files?.[0]||null;if(e){if(!this.selectedCategoryId){alert(this.isArabic?"\u0627\u062E\u062A\u0631 \u0641\u0626\u0629 \u0623\u0648\u0644\u0627\u064B\u060C \u062B\u0645 \u0627\u062E\u062A\u0631 \u0635\u0648\u0631\u0629.":"Select a category first, then choose an image.");return}this.previewUrl&&URL.revokeObjectURL(this.previewUrl),this.previewUrl=URL.createObjectURL(e),this.pendingFile=e,this.selectedFileName=e.name}}uploadViaWorker(t){return j(this,null,function*(){let e=new FormData;e.append("file",t,t.name),e.append("pathPrefix",`restaurants/${this.restaurantId}/categories/${this.selectedCategoryId}/new`);let n=this.http.post(`${this.workerUrl}upload`,e,{reportProgress:!0,observe:"events"});return yield new Promise((r,o)=>{n.subscribe({next:s=>{if(s.type===On.UploadProgress&&s.total)this.uploadProgress=Math.round(s.loaded/s.total*100);else if(s.type===On.Response){let c=(s.body||{}).publicUrl;if(!c){o(new Error("Worker did not return publicUrl"));return}r(c)}},error:s=>o(s)})})})}clearPendingFile(){this.pendingFile=null,this.selectedFileName=null,this.previewUrl&&(URL.revokeObjectURL(this.previewUrl),this.previewUrl=null)}static \u0275fac=function(e){return new(e||i)(te(nn),te(Zo),te(Kt),te(Be))};static \u0275cmp=ne({type:i,selectors:[["app-manage-menu"]],decls:128,vars:53,consts:[["addImageInput",""],[1,"container","py-4"],[1,"row","align-items-stretch"],[1,"col-md-6","mb-4"],[1,"card","h-100"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"card-body"],[1,"mb-3"],[1,"form-label"],["type","text","placeholder","Enter name in English",1,"form-control",3,"ngModelChange","ngModel"],["type","text","dir","rtl","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0639\u0631\u0628\u064A\u0629",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","Enter category phrase",1,"form-control",3,"ngModelChange","ngModel"],["type","text","dir","rtl","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0639\u0628\u0627\u0631\u0629 \u0628\u0627\u0644\u0639\u0631\u0628\u064A\u0629",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-select",3,"ngModelChange","ngModel"],["value","kitchen"],["value","bar"],["value","hookah"],["type","text","placeholder","Enter icon URL",1,"form-control",3,"ngModelChange","ngModel"],[1,"card-actions"],[1,"btn","btn-primary","bb-add-category",3,"click"],[1,"bi","bi-plus-circle","me-2"],[1,"card-header","bg-success","text-white"],[3,"value"],[1,"row"],[1,"col-md-6","mb-3"],["type","text","placeholder","Enter item name",1,"form-control",3,"ngModelChange","ngModel"],["type","text","dir","rtl","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0633\u0645 \u0627\u0644\u0639\u0646\u0635\u0631",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-6","mb-3","f-width"],[1,"input-group"],[1,"input-group-text"],["type","number","placeholder","0.00",1,"form-control",3,"ngModelChange","ngModel"],[1,"upload-area"],[1,"upload-horizontal"],[1,"upload-card"],["type","file","accept","image/*","hidden","",3,"change","disabled"],["type","button",1,"btn","btn-success",3,"click","disabled"],[1,"upload-meta"],[1,"file-name"],["type","btn btn-success",1,"clear-btn",3,"disabled"],[1,"preview-title"],[1,"preview"],[1,"upload-hint-inline"],[1,"upload-progress"],["type","text","placeholder","Enter ingredients, separated by commas",1,"form-control",3,"ngModelChange","ngModel"],["type","text","dir","rtl","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0645\u0643\u0648\u0646\u0627\u062A \u0645\u0641\u0635\u0648\u0644\u0629 \u0628\u0641\u0648\u0627\u0635\u0644",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","g-2","align-items-end"],[1,"col-md-4"],["type","text","dir","rtl","placeholder","\u0645\u062B\u0627\u0644: \u0635\u063A\u064A\u0631",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g., Small",1,"form-control",3,"ngModelChange","ngModel"],["type","number","placeholder","0",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-grid"],["type","button",1,"btn","btn-success",3,"click"],[1,"choice-group","mt-2"],[1,"choice-chip",3,"active"],[1,"btn","btn-success",3,"click","disabled"],["type","btn btn-success",1,"clear-btn",3,"click","disabled"],["alt","Image preview",3,"src"],[1,"progress"],[1,"progress-bar"],[1,"choice-chip",3,"click"],[1,"chip-text"],[1,"choice-add"],["type","button",1,"chip-close",3,"click"]],template:function(e,n){if(e&1){let r=he();m(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h5",6),_(6),f()(),m(7,"div",7)(8,"div",8)(9,"label",9),_(10),f(),m(11,"input",10),le("ngModelChange",function(s){return L(r),ae(n.newCategory.name,s)||(n.newCategory.name=s),V(s)}),f()(),m(12,"div",8)(13,"label",9),_(14),f(),m(15,"input",11),le("ngModelChange",function(s){return L(r),ae(n.newCategory.nameArabic,s)||(n.newCategory.nameArabic=s),V(s)}),f()(),m(16,"div",8)(17,"label",9),_(18),f(),m(19,"input",12),le("ngModelChange",function(s){return L(r),ae(n.newCategory.catPhrase,s)||(n.newCategory.catPhrase=s),V(s)}),f()(),m(20,"div",8)(21,"label",9),_(22),f(),m(23,"input",13),le("ngModelChange",function(s){return L(r),ae(n.newCategory.catArabicPhrase,s)||(n.newCategory.catArabicPhrase=s),V(s)}),f()(),m(24,"div",8)(25,"label",9),_(26),f(),m(27,"select",14),le("ngModelChange",function(s){return L(r),ae(n.newCategory.section,s)||(n.newCategory.section=s),V(s)}),m(28,"option",15),_(29),f(),m(30,"option",16),_(31),f(),m(32,"option",17),_(33),f()()(),m(34,"div",8)(35,"label",9),_(36),f(),m(37,"input",18),le("ngModelChange",function(s){return L(r),ae(n.newCategory.icon,s)||(n.newCategory.icon=s),V(s)}),f()(),m(38,"div",19)(39,"button",20),q("click",function(){return L(r),V(n.addCategory())}),H(40,"i",21),_(41),f()()()()(),m(42,"div",3)(43,"div",4)(44,"div",22)(45,"h5",6),_(46),f()(),m(47,"div",7)(48,"div",8)(49,"label",9),_(50),f(),m(51,"select",14),le("ngModelChange",function(s){return L(r),ae(n.selectedCategoryId,s)||(n.selectedCategoryId=s),V(s)}),we(52,gT,2,2,"option",23,Ue),et(54,"keyvalue"),f()(),m(55,"div",24)(56,"div",25)(57,"label",9),_(58),f(),m(59,"input",26),le("ngModelChange",function(s){return L(r),ae(n.newItem.name,s)||(n.newItem.name=s),V(s)}),f()(),m(60,"div",25)(61,"label",9),_(62),f(),m(63,"input",27),le("ngModelChange",function(s){return L(r),ae(n.newItem.nameArabic,s)||(n.newItem.nameArabic=s),V(s)}),f()()(),m(64,"div",24)(65,"div",28)(66,"label",9),_(67),f(),m(68,"div",29)(69,"span",30),_(70,"\u20AA"),f(),m(71,"input",31),le("ngModelChange",function(s){return L(r),ae(n.newItem.price,s)||(n.newItem.price=s),V(s)}),f()()(),m(72,"div",28)(73,"div",32)(74,"label",9),_(75),f(),m(76,"div",33)(77,"div",34)(78,"input",35,0),q("change",function(s){return L(r),V(n.onFileSelected(s))}),f(),m(80,"button",36),q("click",function(){L(r);let s=Et(79);return V(s.click())}),_(81),f(),m(82,"div",37),K(83,_T,2,1,"span",38),K(84,yT,2,2,"button",39),f()(),m(85,"p",40),_(86),f(),K(87,bT,2,1,"div",41),m(88,"small",42),_(89),f()(),K(90,vT,5,3,"div",43),f()()(),m(91,"div",8)(92,"label",9),_(93),f(),m(94,"input",44),le("ngModelChange",function(s){return L(r),ae(n.newItem.ingredients,s)||(n.newItem.ingredients=s),V(s)}),f()(),m(95,"div",8)(96,"label",9),_(97),f(),m(98,"input",45),le("ngModelChange",function(s){return L(r),ae(n.newItem.ingredientsArabic,s)||(n.newItem.ingredientsArabic=s),V(s)}),f()(),m(99,"div",8)(100,"label",9),_(101),f(),m(102,"div",46)(103,"div",47)(104,"label",9),_(105),f(),m(106,"input",48),le("ngModelChange",function(s){return L(r),ae(n.choiceDraft.ar,s)||(n.choiceDraft.ar=s),V(s)}),f()(),m(107,"div",47)(108,"label",9),_(109),f(),m(110,"input",49),le("ngModelChange",function(s){return L(r),ae(n.choiceDraft.en,s)||(n.choiceDraft.en=s),V(s)}),f()(),m(111,"div",47)(112,"label",9),_(113),f(),m(114,"div",29)(115,"span",30),_(116,"\u20AA"),f(),m(117,"input",50),le("ngModelChange",function(s){return L(r),ae(n.choiceDraft.add,s)||(n.choiceDraft.add=s),V(s)}),f()()(),m(118,"div",51)(119,"button",52),q("click",function(){return L(r),V(n.addOrUpdateChoice())}),_(120),f()()(),m(121,"div",53),we(122,CT,6,5,"span",54,Ue),f()(),m(124,"div",19)(125,"button",55),q("click",function(){return L(r),V(n.addItem())}),H(126,"i",21),_(127),f()()()()()()()}e&2&&(u(6),T(n.isArabic?"\u0625\u0636\u0627\u0641\u0629 \u0641\u0626\u0629 \u062C\u062F\u064A\u062F\u0629":"Add New Category"),u(4),T(n.isArabic?"\u0627\u0644\u0627\u0633\u0645 (\u0625\u0646\u062C\u0644\u064A\u0632\u064A)":"Name (EN)"),u(),se("ngModel",n.newCategory.name),u(3),T(n.isArabic?"\u0627\u0644\u0627\u0633\u0645 (\u0639\u0631\u0628\u064A)":"Name (AR)"),u(),se("ngModel",n.newCategory.nameArabic),u(3),T(n.isArabic?"\u0627\u0644\u0639\u0628\u0627\u0631\u0629 (\u0625\u0646\u062C\u0644\u064A\u0632\u064A)":"Phrase (EN)"),u(),se("ngModel",n.newCategory.catPhrase),u(3),T(n.isArabic?"\u0627\u0644\u0639\u0628\u0627\u0631\u0629 (\u0639\u0631\u0628\u064A)":"Phrase (AR)"),u(),se("ngModel",n.newCategory.catArabicPhrase),u(3),T(n.isArabic?"\u0627\u0644\u0642\u0633\u0645":"Section"),u(),se("ngModel",n.newCategory.section),u(2),T(n.isArabic?"\u0645\u0637\u0628\u062E":"Kitchen"),u(2),T(n.isArabic?"\u0628\u0627\u0631":"Bar"),u(2),T(n.isArabic?"\u0623\u0631\u062C\u064A\u0644\u0629":"Hookah"),u(3),T(n.isArabic?"\u0631\u0627\u0628\u0637 \u0627\u0644\u0623\u064A\u0642\u0648\u0646\u0629":"Icon URL"),u(),se("ngModel",n.newCategory.icon),u(4),$("",n.isArabic?"\u0625\u0636\u0627\u0641\u0629 \u0641\u0626\u0629":"Add Category"," "),u(5),T(n.isArabic?"\u0625\u0636\u0627\u0641\u0629 \u0639\u0646\u0635\u0631 \u0642\u0627\u0626\u0645\u0629 \u062C\u062F\u064A\u062F":"Add New Menu Item"),u(4),T(n.isArabic?"\u0627\u062E\u062A\u0631 \u0627\u0644\u0641\u0626\u0629":"Select Category"),u(),se("ngModel",n.selectedCategoryId),u(),Ce(Oo(54,51,n.categories)),u(6),T(n.isArabic?"\u0627\u0633\u0645 \u0627\u0644\u0639\u0646\u0635\u0631 (\u0625\u0646\u062C\u0644\u064A\u0632\u064A)":"Item Name (EN)"),u(),se("ngModel",n.newItem.name),u(3),T(n.isArabic?"\u0627\u0633\u0645 \u0627\u0644\u0639\u0646\u0635\u0631 (\u0639\u0631\u0628\u064A)":"Item Name (AR)"),u(),se("ngModel",n.newItem.nameArabic),u(4),T(n.isArabic?"\u0627\u0644\u0633\u0639\u0631":"Price"),u(4),se("ngModel",n.newItem.price),u(4),T(n.isArabic?"\u0631\u0641\u0639 \u0635\u0648\u0631\u0629":"Upload Image"),u(3),U("disabled",n.uploading),u(2),U("disabled",n.uploading),u(),T(n.isArabic?"\u0627\u062E\u062A\u0631 \u0635\u0648\u0631\u0629":"Choose Image"),u(2),G(n.selectedFileName?83:-1),u(),G(n.previewUrl?84:-1),u(2),T(n.isArabic?"\u0627\u0644\u0645\u0639\u0627\u064A\u0646\u0629:":"Preview:"),u(),G(n.previewUrl?87:-1),u(2),T(n.isArabic?"\u0633\u064A\u062A\u0645 \u0631\u0641\u0639 \u0627\u0644\u0635\u0648\u0631\u0629 \u0639\u0646\u062F \u0627\u0644\u0636\u063A\u0637 \u0639\u0644\u0649 \u0625\u0636\u0627\u0641\u0629 \u0639\u0646\u0635\u0631.":"The image will be uploaded when you click Add Item."),u(),G(n.uploading?90:-1),u(3),T(n.isArabic?"\u0627\u0644\u0645\u0643\u0648\u0646\u0627\u062A (\u0625\u0646\u062C\u0644\u064A\u0632\u064A)":"Ingredients (EN)"),u(),se("ngModel",n.newItem.ingredients),u(3),T(n.isArabic?"\u0627\u0644\u0645\u0643\u0648\u0646\u0627\u062A (\u0639\u0631\u0628\u064A)":"Ingredients (AR)"),u(),se("ngModel",n.newItem.ingredientsArabic),u(3),T(n.isArabic?"\u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A":"Choices"),u(4),T(n.isArabic?"\u0627\u0644\u0627\u0633\u0645 (\u0639\u0631\u0628\u064A)":"Name (AR)"),u(),se("ngModel",n.choiceDraft.ar),u(3),T(n.isArabic?"\u0627\u0644\u0627\u0633\u0645 (\u0625\u0646\u062C\u0644\u064A\u0632\u064A)":"Name (EN)"),u(),se("ngModel",n.choiceDraft.en),u(3),T(n.isArabic?"\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0633\u0639\u0631":"Price Add"),u(4),se("ngModel",n.choiceDraft.add),u(3),$(" ",n.choiceEditIndex!==null?n.isArabic?"\u062A\u062D\u062F\u064A\u062B":"Update":"+"," "),u(2),Ce(n.choiceOptions),u(3),U("disabled",n.uploading),Me("aria-busy",n.uploading?"true":null),u(2),$("",n.isArabic?"\u0625\u0636\u0627\u0641\u0629 \u0639\u0646\u0635\u0631":"Add Item"," "))},dependencies:[dn,yt,fr,gr,Tt,yi,Ic,Dt,Rt,Oa,Fo],styles:[".f-width[_ngcontent-%COMP%]{width:100%}h5[_ngcontent-%COMP%]{color:#fff}.no-items-message[_ngcontent-%COMP%]{text-align:center;padding:20px;background-color:#fff3cd;border:1px solid #ffeaa7;border-radius:6px;color:#856404;margin:20px 0}.upload-area[_ngcontent-%COMP%]{margin-top:4px}.upload-horizontal[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;align-items:stretch}.upload-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;width:100%;background-color:#f7f9fc;border:1px dashed #cbd5e1;padding:12px 16px;border-radius:8px;box-sizing:border-box}.upload-btn[_ngcontent-%COMP%]:hover{background-color:#0b5ed7;transform:translateY(-1px);box-shadow:0 6px 14px #0d6efd33}.upload-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none;box-shadow:none}.upload-meta[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;justify-content:space-between;flex-wrap:wrap}.clear-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid #dc3545;color:#dc3545;padding:8px 12px;border-radius:6px;font-weight:600;cursor:pointer;transition:all .2s ease}.clear-btn[_ngcontent-%COMP%]:hover{background:#dc3545;color:#fff}.clear-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.preview[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:8px;padding:10px;display:block;box-sizing:border-box}.preview-title[_ngcontent-%COMP%]{margin:4px 0 8px;font-weight:600;color:#475569;font-size:14px}.preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:160px;height:auto;border-radius:6px;display:block}.upload-progress[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:10px}.progress[_ngcontent-%COMP%]{width:180px;height:8px;background:#e5e7eb;border-radius:999px;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#22c55e,#16a34a);width:0%;transition:width .2s ease}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1 1 auto;padding:1.25rem}.card-actions[_ngcontent-%COMP%]{margin-top:auto;display:flex;gap:8px;align-items:center}.bb-add-category[_ngcontent-%COMP%]{background-color:#e94e1b;border-color:#e94e1b;color:#fff}.bb-add-category[_ngcontent-%COMP%]:hover{filter:brightness(.95);transform:translateY(-1px)}.preview[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:8px;padding:10px;display:inline-block;justify-items:center}.preview-title[_ngcontent-%COMP%]{margin:12px 0 8px;font-weight:600;color:#475569;font-size:14px}.preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:50%;border-radius:6px;display:block}@media(max-width:768px){.edit-item-container[_ngcontent-%COMP%]{margin:10px;padding:15px}.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:0}.button-group[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.btn[_ngcontent-%COMP%]{width:100%;max-width:200px}.card-actions[_ngcontent-%COMP%]{justify-content:center}.upload-horizontal[_ngcontent-%COMP%]{flex-wrap:nowrap}}.choice-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.choice-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:99px;border:1px solid #d1d5db;background:#f5f6f8;color:var(--text-color, #212529);font-weight:700;cursor:pointer;-webkit-user-select:none;user-select:none}.choice-chip.active[_ngcontent-%COMP%]{background:rgba(var(--primary-color-rgb, 255, 107, 107),.12);color:var(--primary-color, #ff6b6b);border-color:var(--primary-color, #ff6b6b)}.chip-text[_ngcontent-%COMP%]{display:inline-block}.chip-close[_ngcontent-%COMP%]{border:none;background:transparent;color:inherit;line-height:1;font-weight:900;cursor:pointer;padding:0 2px}.choice-add[_ngcontent-%COMP%]{color:var(--primary-color, #ff6b6b);font-weight:700;margin-inline-start:6px}"]})};function ET(i,t){if(i&1&&(m(0,"option",7),_(1),f()),i&2){let e=t.$implicit,n=A();U("value",e.key),u(),$(" ",n.isArabic?e.nameArabic:e.name," ")}}function ST(i,t){if(i&1&&(m(0,"option",7),_(1),f()),i&2){let e=t.$implicit,n=A(2);U("value",e.id),u(),$(" ",n.isArabic?e.nameArabic:e.name," ")}}function IT(i,t){if(i&1){let e=he();m(0,"div",3)(1,"label",10),_(2),f(),m(3,"select",11),le("ngModelChange",function(r){L(e);let o=A();return ae(o.selectedItemId,r)||(o.selectedItemId=r),V(r)}),q("change",function(){L(e);let r=A();return V(r.onItemChange())}),m(4,"option",6),_(5),f(),we(6,ST,2,2,"option",7,Ue),f()()}if(i&2){let e=A();u(2),T(e.isArabic?"\u0627\u062E\u062A\u0631 \u0639\u0646\u0635\u0631:":"Select Item:"),u(),se("ngModel",e.selectedItemId),u(2),T(e.isArabic?"-- \u0627\u062E\u062A\u0631 \u0639\u0646\u0635\u0631 --":"-- Choose Item --"),u(),Ce(e.items)}}function xT(i,t){if(i&1&&(m(0,"div",8)(1,"p"),_(2),f()()),i&2){let e=A();u(2),T(e.isArabic?"\u0644\u0627 \u062A\u0648\u062C\u062F \u0639\u0646\u0627\u0635\u0631 \u0641\u064A \u0647\u0630\u0647 \u0627\u0644\u0641\u0626\u0629.":"No items found in this category.")}}function AT(i,t){if(i&1&&(m(0,"span",24),_(1),f()),i&2){let e=A(2);u(),T(e.selectedFileName)}}function TT(i,t){if(i&1){let e=he();m(0,"button",49),q("click",function(){L(e);let r=A(2);return V(r.clearPendingFile())}),_(1),f()}if(i&2){let e=A(2);U("disabled",e.uploading),u(),$(" ",e.isArabic?"\u0625\u0632\u0627\u0644\u0629":"Clear"," ")}}function DT(i,t){if(i&1&&(m(0,"div",27),H(1,"img",50),f()),i&2){let e=A(2);u(),U("src",e.previewUrl||(e.selectedItem==null?null:e.selectedItem.image),qn)}}function RT(i,t){if(i&1&&(m(0,"div",29)(1,"div",51),H(2,"div",52),f(),m(3,"span"),_(4),f()()),i&2){let e=A(2);u(2),Li("width",e.uploadProgress,"%"),u(2),$("",e.uploadProgress,"%")}}function MT(i,t){if(i&1&&(m(0,"span",55),_(1),f()),i&2){let e=A().$implicit;u(),$(" +\u20AA",e.add)}}function kT(i,t){if(i&1){let e=he();m(0,"span",53),q("click",function(){let r=L(e).$index,o=A(2);return V(o.editChoiceAt(r))}),m(1,"span",54),_(2),K(3,MT,2,1,"span",55),f(),m(4,"button",56),q("click",function(r){let o=L(e).$index,s=A(2);return V(s.removeChoiceAt(o,r))}),_(5,"\xD7"),f()()}if(i&2){let e=t.$implicit,n=t.$index,r=A(2);me("active",r.choiceEditIndex===n),u(2),ni("",e.ar," / ",e.en),u(),G(e.add?3:-1)}}function OT(i,t){if(i&1){let e=he();m(0,"div",9)(1,"h3"),_(2),f(),m(3,"div",12)(4,"div",3)(5,"label",13),_(6),f(),m(7,"input",14),le("ngModelChange",function(r){L(e);let o=A();return ae(o.selectedItem.name,r)||(o.selectedItem.name=r),V(r)}),f()(),m(8,"div",3)(9,"label",15),_(10),f(),m(11,"input",16),le("ngModelChange",function(r){L(e);let o=A();return ae(o.selectedItem.nameArabic,r)||(o.selectedItem.nameArabic=r),V(r)}),f()()(),m(12,"div",12)(13,"div",3)(14,"label",17),_(15),f(),m(16,"input",18),le("ngModelChange",function(r){L(e);let o=A();return ae(o.selectedItem.price,r)||(o.selectedItem.price=r),V(r)}),f()()(),m(17,"div",12)(18,"div",19)(19,"label"),_(20),f(),m(21,"div",20)(22,"div",21)(23,"input",22,0),q("change",function(r){L(e);let o=A();return V(o.onFileSelected(r))}),f(),m(25,"button",23),q("click",function(){L(e);let r=Et(24);return V(r.click())}),_(26),f(),K(27,AT,2,1,"span",24),K(28,TT,2,2,"button",25),f(),m(29,"p",26),_(30),f(),K(31,DT,2,1,"div",27),H(32,"br"),m(33,"small",28),_(34),f()(),K(35,RT,5,3,"div",29),f()(),m(36,"div",3)(37,"label",30),_(38),f(),m(39,"input",31),le("ngModelChange",function(r){L(e);let o=A();return ae(o.selectedItem.image,r)||(o.selectedItem.image=r),V(r)}),f()(),m(40,"div",3)(41,"label",32),_(42),f(),m(43,"textarea",33),le("ngModelChange",function(r){L(e);let o=A();return ae(o.selectedItem.ingredients,r)||(o.selectedItem.ingredients=r),V(r)}),f()(),m(44,"div",3)(45,"label",34),_(46),f(),m(47,"textarea",35),le("ngModelChange",function(r){L(e);let o=A();return ae(o.selectedItem.ingredientsArabic,r)||(o.selectedItem.ingredientsArabic=r),V(r)}),f()(),m(48,"div",3)(49,"label"),_(50),f(),m(51,"div",12)(52,"div",3)(53,"label"),_(54),f(),m(55,"input",36),le("ngModelChange",function(r){L(e);let o=A();return ae(o.choiceDraft.ar,r)||(o.choiceDraft.ar=r),V(r)}),f()(),m(56,"div",3)(57,"label"),_(58),f(),m(59,"input",37),le("ngModelChange",function(r){L(e);let o=A();return ae(o.choiceDraft.en,r)||(o.choiceDraft.en=r),V(r)}),f()(),m(60,"div",3)(61,"label"),_(62),f(),m(63,"div",38)(64,"span",39),_(65,"\u20AA"),f(),m(66,"input",40),le("ngModelChange",function(r){L(e);let o=A();return ae(o.choiceDraft.add,r)||(o.choiceDraft.add=r),V(r)}),f()()(),m(67,"div",41)(68,"button",42),q("click",function(){L(e);let r=A();return V(r.addOrUpdateChoice())}),_(69),f()()(),m(70,"div",43),we(71,kT,6,5,"span",44,Ue),f()(),m(73,"div",45)(74,"button",46),q("click",function(){L(e);let r=A();return V(r.saveChanges())}),_(75),f(),m(76,"button",47),q("click",function(){L(e);let r=A();return r.selectedItem=null,V(r.selectedItemId="")}),_(77),f(),m(78,"button",48),q("click",function(){L(e);let r=A();return V(r.deleteItem())}),_(79),f()()()}if(i&2){let e=A();u(2),T(e.isArabic?"\u062A\u0639\u062F\u064A\u0644 \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0639\u0646\u0635\u0631":"Edit Item Details"),u(4),T(e.isArabic?"\u0627\u0644\u0627\u0633\u0645 (\u0625\u0646\u062C\u0644\u064A\u0632\u064A):":"Name (English):"),u(),se("ngModel",e.selectedItem.name),u(3),T(e.isArabic?"\u0627\u0644\u0627\u0633\u0645 (\u0639\u0631\u0628\u064A):":"Name (Arabic):"),u(),se("ngModel",e.selectedItem.nameArabic),u(4),T(e.isArabic?"\u0627\u0644\u0633\u0639\u0631:":"Price:"),u(),se("ngModel",e.selectedItem.price),u(4),T(e.isArabic?"\u0631\u0641\u0639 \u0635\u0648\u0631\u0629:":"Upload Image:"),u(3),U("disabled",e.uploading),u(2),U("disabled",e.uploading),u(),$(" ",e.isArabic?"\u0627\u062E\u062A\u0631 \u0635\u0648\u0631\u0629":"Choose Image"," "),u(),G(e.selectedFileName?27:-1),u(),G(e.previewUrl?28:-1),u(2),T(e.isArabic?"\u0627\u0644\u0645\u0639\u0627\u064A\u0646\u0629:":"Preview:"),u(),G(e.previewUrl||e.selectedItem!=null&&e.selectedItem.image?31:-1),u(3),$(" ",e.isArabic?"\u0633\u064A\u062A\u0645 \u0631\u0641\u0639 \u0627\u0644\u0635\u0648\u0631\u0629 \u0639\u0646\u062F \u0627\u0644\u0636\u063A\u0637 \u0639\u0644\u0649 \u062D\u0641\u0638 \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A.":"The image will be uploaded when you click Save Changes."," "),u(),G(e.uploading?35:-1),u(3),T(e.isArabic?"\u0631\u0627\u0628\u0637 \u0627\u0644\u0635\u0648\u0631\u0629:":"Image URL:"),u(),se("ngModel",e.selectedItem.image),u(3),T(e.isArabic?"\u0627\u0644\u0645\u0643\u0648\u0646\u0627\u062A (\u0625\u0646\u062C\u0644\u064A\u0632\u064A):":"Ingredients (English):"),u(),se("ngModel",e.selectedItem.ingredients),u(3),T(e.isArabic?"\u0627\u0644\u0645\u0643\u0648\u0646\u0627\u062A (\u0639\u0631\u0628\u064A):":"Ingredients (Arabic):"),u(),se("ngModel",e.selectedItem.ingredientsArabic),u(3),T(e.isArabic?"\u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A":"Choices"),u(4),T(e.isArabic?"\u0627\u0644\u0627\u0633\u0645 (\u0639\u0631\u0628\u064A):":"Name (AR):"),u(),se("ngModel",e.choiceDraft.ar),u(3),T(e.isArabic?"\u0627\u0644\u0627\u0633\u0645 (\u0625\u0646\u062C\u0644\u064A\u0632\u064A):":"Name (EN):"),u(),se("ngModel",e.choiceDraft.en),u(3),T(e.isArabic?"\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0633\u0639\u0631:":"Price Add:"),u(4),se("ngModel",e.choiceDraft.add),u(3),$(" ",e.choiceEditIndex!==null?e.isArabic?"\u062A\u062D\u062F\u064A\u062B":"Update":"+"," "),u(2),Ce(e.choiceOptions),u(3),U("disabled",e.uploading),Me("aria-busy",e.uploading?"true":null),u(),$(" ",e.isArabic?"\u062D\u0641\u0638 \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A":"Save Changes"," "),u(2),$(" ",e.isArabic?"\u0625\u0644\u063A\u0627\u0621":"Cancel"," "),u(2),$(" ",e.isArabic?"\u062D\u0630\u0641":"Delete"," ")}}var _d=class i{constructor(t,e,n,r){this.menuService=t;this.languageService=e;this.http=n;this.route=r}restaurantId="";categories={};categoryList=[];items=[];selectedCategoryId="";selectedItemId="";selectedItem=null;isArabic=!1;previewUrl=null;uploading=!1;uploadProgress=0;pendingFile=null;selectedFileName=null;choiceDraft={en:"",ar:"",add:0};choiceEditIndex=null;choiceOptions=[];workerUrl="https://presigned-url-worker.a2-menu-worker.workers.dev/";subs=[];itemsSub=null;ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t),this.loadCategories(),this.subs.push(this.languageService.isArabic$.subscribe(e=>this.isArabic=e))}ngOnDestroy(){this.subs.forEach(t=>t.unsubscribe()),this.subs=[],this.itemsSub&&(this.itemsSub.unsubscribe(),this.itemsSub=null)}addOrUpdateChoice(){let t=(this.choiceDraft.en||"").trim(),e=(this.choiceDraft.ar||"").trim(),n=Number(this.choiceDraft.add)||0;if(!t||!e)return;let r={en:t,ar:e,add:n};this.choiceEditIndex!=null?this.choiceOptions[this.choiceEditIndex]=r:this.choiceOptions.push(r),this.resetChoiceDraft()}editChoiceAt(t){if(this.choiceEditIndex===t){this.resetChoiceDraft();return}let e=this.choiceOptions[t];e&&(this.choiceDraft={en:e.en,ar:e.ar,add:e.add},this.choiceEditIndex=t)}removeChoiceAt(t,e){e?.stopPropagation(),this.choiceEditIndex===t&&this.resetChoiceDraft(),this.choiceOptions.splice(t,1)}resetChoiceDraft(){this.choiceDraft={en:"",ar:"",add:0},this.choiceEditIndex=null}clearPendingFile(){this.pendingFile=null,this.selectedFileName=null,this.previewUrl&&(URL.revokeObjectURL(this.previewUrl),this.previewUrl=null)}loadCategories(){this.menuService.getCategoriesOnce(this.restaurantId).then(t=>{t?(this.categories=t,this.categoryList=Object.keys(t).map(e=>P({key:e,name:t[e].name,nameArabic:t[e].nameArabic},t[e]))):(this.categories={},this.categoryList=[])}).catch(()=>{this.categories={},this.categoryList=[]})}onCategoryChange(){this.selectedCategoryId?(this.itemsSub&&(this.itemsSub.unsubscribe(),this.itemsSub=null),this.itemsSub=this.menuService.getItems(this.restaurantId,this.selectedCategoryId).subscribe(t=>{t?this.items=Object.keys(t).map(e=>P({id:e},t[e])):this.items=[],this.selectedItemId="",this.selectedItem=null})):(this.itemsSub&&(this.itemsSub.unsubscribe(),this.itemsSub=null),this.items=[],this.selectedItemId="",this.selectedItem=null)}onItemChange(){if(this.selectedItemId){let t=this.items.find(e=>e.id===this.selectedItemId);if(t){if(Array.isArray(t.choiceOptions)&&t.choiceOptions.length)this.choiceOptions=t.choiceOptions.map(e=>({en:String(e.en||""),ar:String(e.ar||""),add:Number(e.add)||0}));else{let e=Array.isArray(t.choices)?t.choices:[],n=Array.isArray(t.choicesArabic)?t.choicesArabic:[],r=Math.min(e.length,n.length);this.choiceOptions=Array.from({length:r},(o,s)=>({en:e[s]||"",ar:n[s]||"",add:0}))}this.choiceDraft={en:"",ar:"",add:0},this.choiceEditIndex=null,this.selectedItem=ie(P({},t),{ingredients:Array.isArray(t.ingredients)?t.ingredients.join(", "):t.ingredients||"",ingredientsArabic:Array.isArray(t.ingredientsArabic)?t.ingredientsArabic.join(", "):t.ingredientsArabic||"",choices:Array.isArray(t.choices)?t.choices.join(", "):t.choices||"",choicesArabic:Array.isArray(t.choicesArabic)?t.choicesArabic.join(", "):t.choicesArabic||""})}}else this.selectedItem=null}onFileSelected(t){let e=t.target.files?.[0]||null;if(e){if(!this.selectedCategoryId||!this.selectedItemId){alert(this.isArabic?"\u0627\u062E\u062A\u0631 \u0639\u0646\u0635\u0631 \u062B\u0645 \u0627\u062E\u062A\u0631 \u0635\u0648\u0631\u0629":"Select an item first and choose an image.");return}this.previewUrl&&URL.revokeObjectURL(this.previewUrl),this.previewUrl=URL.createObjectURL(e),this.pendingFile=e,this.selectedFileName=e.name}}uploadViaWorker(t){return j(this,null,function*(){let e=new FormData;e.append("file",t,t.name),e.append("pathPrefix",`restaurants/${this.restaurantId}/categories/${this.selectedCategoryId}/items/${this.selectedItemId}`);let n=this.http.post(`${this.workerUrl}upload`,e,{reportProgress:!0,observe:"events"});return yield new Promise((r,o)=>{n.subscribe({next:s=>{if(s.type===On.UploadProgress&&s.total)this.uploadProgress=Math.round(s.loaded/s.total*100);else if(s.type===On.Response){let c=(s.body||{}).publicUrl;if(!c){o(new Error("Worker did not return publicUrl"));return}r(c)}},error:s=>o(s)})})})}uploadFileWithProgress(t,e){return new Promise((n,r)=>{let o=new XMLHttpRequest;o.open("PUT",t,!0),o.setRequestHeader("Content-Type",e.type),o.upload.onprogress=s=>{s.lengthComputable&&(this.uploadProgress=Math.round(s.loaded/s.total*100))},o.onload=()=>{o.status>=200&&o.status<300?n():r(new Error(`Upload failed with status ${o.status}: ${o.statusText}`))},o.onerror=()=>r(new Error("Network error during upload")),o.send(e)})}saveChanges(){return j(this,null,function*(){if(this.selectedItem&&this.selectedCategoryId&&this.selectedItemId)try{if(this.pendingFile){this.uploading=!0,this.uploadProgress=0;let e=yield this.uploadViaWorker(this.pendingFile);this.selectedItem.image=e}let t={name:this.selectedItem.name,nameArabic:this.selectedItem.nameArabic,image:this.selectedItem.image,price:Number(this.selectedItem.price),ingredients:this.selectedItem.ingredients.split(",").map(e=>e.trim()).filter(e=>e.length>0),ingredientsArabic:this.selectedItem.ingredientsArabic.split(",").map(e=>e.trim()).filter(e=>e.length>0),choices:this.choiceOptions.map(e=>e.en).filter(e=>e&&e.length>0),choicesArabic:this.choiceOptions.map(e=>e.ar).filter(e=>e&&e.length>0),choiceOptions:this.choiceOptions.map(e=>({en:e.en,ar:e.ar,add:Number(e.add)||0}))};yield this.menuService.editItem(this.restaurantId,this.selectedCategoryId,this.selectedItemId,t),alert(this.isArabic?"\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0639\u0646\u0635\u0631 \u0628\u0646\u062C\u0627\u062D!":"Item updated successfully!"),this.onCategoryChange()}catch(t){console.error("Error updating item:",t),alert(this.isArabic?"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0639\u0646\u0635\u0631.":"Error updating item. Please try again.")}finally{this.uploading=!1,this.uploadProgress=0,this.pendingFile=null,this.selectedFileName=null,this.previewUrl&&(URL.revokeObjectURL(this.previewUrl),this.previewUrl=null)}})}deleteItem(){return j(this,null,function*(){if(this.selectedCategoryId&&this.selectedItemId){if(!confirm(this.isArabic?"\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0639\u0646\u0635\u0631\u061F":"Are you sure you want to delete this item?"))return;try{yield this.menuService.removeItem(this.restaurantId,this.selectedCategoryId,this.selectedItemId),alert(this.isArabic?"\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0639\u0646\u0635\u0631 \u0628\u0646\u062C\u0627\u062D!":"Item deleted successfully!"),this.onCategoryChange(),this.selectedItem=null,this.selectedItemId=""}catch(e){console.error("Error deleting item:",e),alert(this.isArabic?"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u0627\u0644\u0639\u0646\u0635\u0631.":"Error deleting item. Please try again.")}}})}static \u0275fac=function(e){return new(e||i)(te(nn),te(Kt),te(Zo),te(Be))};static \u0275cmp=ne({type:i,selectors:[["app-edit-item"]],decls:14,vars:7,consts:[["imageInput",""],[1,"edit-item-container"],[1,"page-title"],[1,"form-group"],["for","categorySelect"],["id","categorySelect",1,"form-control",3,"ngModelChange","change","ngModel"],["value",""],[3,"value"],[1,"no-items-message"],[1,"edit-form"],["for","itemSelect"],["id","itemSelect",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"form-row"],["for","nameEn"],["id","nameEn","placeholder","Name (EN)",1,"form-control",3,"ngModelChange","ngModel"],["for","nameAr"],["id","nameAr","placeholder","Name (AR)",1,"form-control",3,"ngModelChange","ngModel"],["for","price"],["id","price","type","number","step","0.01",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","upload-area"],[1,"upload-horizontal"],[1,"upload-card"],["type","file","accept","image/*","hidden","",3,"change","disabled"],["type","button",1,"btn","btn-success",3,"click","disabled"],[1,"file-name"],["type","button",1,"clear-btn",3,"disabled"],[1,"preview-title"],[1,"preview"],[1,"upload-hint-inline"],[1,"upload-progress"],["for","image"],["id","image","placeholder","Image URL",1,"form-control",3,"ngModelChange","ngModel"],["for","ingredientsEn"],["id","ingredientsEn",1,"form-control","textarea",3,"ngModelChange","ngModel"],["for","ingredientsAr"],["id","ingredientsAr",1,"form-control","textarea",3,"ngModelChange","ngModel"],["dir","rtl","placeholder","\u0645\u062B\u0627\u0644: \u0635\u063A\u064A\u0631",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","e.g., Small",1,"form-control",3,"ngModelChange","ngModel"],[1,"input-group"],[1,"input-group-text"],["type","number","placeholder","0",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group",2,"align-self","end"],["type","button",1,"btn","btn-success",3,"click"],[1,"choice-group",2,"margin-top","8px"],[1,"choice-chip",3,"active"],[1,"button-group"],[1,"btn","btn-success",3,"click","disabled"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click"],["type","button",1,"clear-btn",3,"click","disabled"],["alt","Image preview",3,"src"],[1,"progress"],[1,"progress-bar"],[1,"choice-chip",3,"click"],[1,"chip-text"],[1,"choice-add"],["type","button",1,"chip-close",3,"click"]],template:function(e,n){e&1&&(m(0,"div",1)(1,"h2",2),_(2),f(),m(3,"div",3)(4,"label",4),_(5),f(),m(6,"select",5),le("ngModelChange",function(o){return ae(n.selectedCategoryId,o)||(n.selectedCategoryId=o),o}),q("change",function(){return n.onCategoryChange()}),m(7,"option",6),_(8),f(),we(9,ET,2,2,"option",7,Ue),f()(),K(11,IT,8,3,"div",3),K(12,xT,3,1,"div",8),K(13,OT,80,36,"div",9),f()),e&2&&(u(2),$(" ",n.isArabic?"\u062A\u0639\u062F\u064A\u0644 \u0639\u0646\u0635\u0631 \u0627\u0644\u0642\u0627\u0626\u0645\u0629":"Edit Menu Item"," "),u(3),T(n.isArabic?"\u0627\u062E\u062A\u0631 \u0627\u0644\u0641\u0626\u0629:":"Select Category:"),u(),se("ngModel",n.selectedCategoryId),u(2),T(n.isArabic?"-- \u0627\u062E\u062A\u0631 \u0641\u0626\u0629 --":"-- Choose Category --"),u(),Ce(n.categoryList),u(2),G(n.items.length>0?11:-1),u(),G(n.selectedCategoryId&&n.items.length===0?12:-1),u(),G(n.selectedItem?13:-1))},dependencies:[yt,fr,gr,Tt,yi,Ic,Dt,Rt,Oa],styles:['.edit-item-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 2px 10px #0000001a}.page-title[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:30px;font-size:28px;font-weight:700}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:600;color:#555;font-size:14px}.form-control[_ngcontent-%COMP%]{padding:12px;border:2px solid #ddd;border-radius:6px;font-size:16px;transition:border-color .3s ease;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 3px #007bff1a}.form-row[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:20px}.form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1;margin-bottom:0}.textarea[_ngcontent-%COMP%]{min-height:80px;resize:vertical}.no-items-message[_ngcontent-%COMP%]{text-align:center;padding:20px;background-color:#fff3cd;border:1px solid #ffeaa7;border-radius:6px;color:#856404;margin:20px 0}.edit-form[_ngcontent-%COMP%]{background-color:#fff;padding:25px;border-radius:8px;box-shadow:0 2px 8px #0000001a;margin-top:20px}.edit-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:25px;color:#333;font-size:22px;border-bottom:2px solid #5b8f6b;padding-bottom:10px}.button-group[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center;margin-top:30px}.btn[_ngcontent-%COMP%]{padding:12px 30px;border:none;border-radius:6px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;min-width:120px}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-2px);box-shadow:0 4px 12px #007bff4d}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#545b62;transform:translateY(-2px);box-shadow:0 4px 12px #6c757d4d}.upload-area[_ngcontent-%COMP%]{margin-top:4px}.upload-card[_ngcontent-%COMP%]{display:grid;align-items:center;gap:12px;background-color:#f7f9fc;border:1px dashed #cbd5e1;padding:12px 16px;border-radius:8px}.upload-btn[_ngcontent-%COMP%]{background-color:#0d6efd;color:#fff;border:none;padding:10px 16px;border-radius:6px;font-weight:600;cursor:pointer;transition:all .2s ease}.upload-btn[_ngcontent-%COMP%]:hover{background-color:#0b5ed7;transform:translateY(-1px);box-shadow:0 6px 14px #0d6efd33}.upload-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none;box-shadow:none}.clear-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid #dc3545;color:#dc3545;padding:8px 12px;border-radius:6px;font-weight:600;cursor:pointer;transition:all .2s ease}.clear-btn[_ngcontent-%COMP%]:hover{background:#dc3545;color:#fff}.clear-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.file-name[_ngcontent-%COMP%]{font-size:14px;color:#334155}.upload-hint[_ngcontent-%COMP%]{display:block;margin-top:6px;color:#64748b}.preview[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:8px;padding:10px;display:inline-block;justify-items:center}.preview-title[_ngcontent-%COMP%]{margin:12px 0 8px;font-weight:600;color:#475569;font-size:14px}.preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:50%;border-radius:6px;display:block}.upload-progress[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:10px}.progress[_ngcontent-%COMP%]{width:180px;height:8px;background:#e5e7eb;border-radius:999px;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#22c55e,#16a34a);width:0%;transition:width .2s ease}.btn[aria-busy=true][_ngcontent-%COMP%]{position:relative;pointer-events:none}.btn[aria-busy=true][_ngcontent-%COMP%]:after{content:"";position:absolute;right:12px;top:50%;width:16px;height:16px;margin-top:-8px;border-radius:50%;border:2px solid rgba(255,255,255,.6);border-top-color:#fff;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.choice-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.choice-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:99px;border:1px solid #d1d5db;background:#f5f6f8;color:var(--text-color, #212529);font-weight:700;cursor:pointer;-webkit-user-select:none;user-select:none}.choice-chip.active[_ngcontent-%COMP%]{background:rgba(var(--primary-color-rgb, 255, 107, 107),.12);color:var(--primary-color, #ff6b6b);border-color:var(--primary-color, #ff6b6b)}.chip-text[_ngcontent-%COMP%]{display:inline-block}.chip-close[_ngcontent-%COMP%]{border:none;background:transparent;color:inherit;line-height:1;font-weight:900;cursor:pointer;padding:0 2px}.choice-add[_ngcontent-%COMP%]{color:var(--primary-color, #ff6b6b);font-weight:700;margin-inline-start:6px}@media(max-width:768px){.edit-item-container[_ngcontent-%COMP%]{margin:10px;padding:15px}.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:0}.button-group[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.btn[_ngcontent-%COMP%]{width:100%;max-width:200px}.upload-horizontal[_ngcontent-%COMP%]{flex-wrap:wrap}}']})};function PT(i,t){i&1&&(Ee(0,"div",2)(1,"span",5),_(2,"Loading..."),ve()())}function NT(i,t){i&1&&(Ee(0,"h3",3),_(1,"Signing you in..."),ve())}function FT(i,t){if(i&1&&(Ee(0,"div",4),_(1),ve()),i&2){let e=A();u(),T(e.error)}}var yd=class i{constructor(t,e,n,r){this.route=t;this.router=e;this.tableSession=n;this.platformId=r}error=null;ngOnInit(){return j(this,null,function*(){if(!_i(this.platformId))return;let t=this.route.snapshot.paramMap.get("restId"),e=this.route.snapshot.paramMap.get("tableId");if(!t||!e){this.error="Invalid table link.";return}try{yield this.tableSession.signInForTable(t,e),this.router.navigate(["/",t])}catch(n){console.error(n),this.error=n?.message||"Failed to sign in for this table."}})}static \u0275fac=function(e){return new(e||i)(te(Be),te(kt),te(pr),te(mt))};static \u0275cmp=ne({type:i,selectors:[["app-table-signin"]],decls:5,vars:3,consts:[[1,"container","d-flex","flex-column","align-items-center","justify-content-center",2,"min-height","70vh"],[1,"text-center"],["role","status",1,"spinner-border","text-primary"],[1,"mt-3"],[1,"alert","alert-danger","mt-3"],[1,"visually-hidden"]],template:function(e,n){e&1&&(Ee(0,"div",0)(1,"div",1),K(2,PT,3,0,"div",2),K(3,NT,2,0,"h3",3),K(4,FT,2,1,"div",4),ve()()),e&2&&(u(2),G(n.error?-1:2),u(),G(n.error?-1:3),u(),G(n.error?4:-1))},dependencies:[si],encapsulation:2})};var LT=(i,t,e)=>({"bg-info":i,"bg-warning":t,"bg-success":e}),VT=()=>({background:"rgba(0,0,0,0.5)"});function BT(i,t){if(i&1){let e=he();m(0,"li",20),q("click",function(){let r=L(e).$implicit,o=A();return V(o.selectTable(r))}),m(1,"div",21)(2,"span",22),_(3),f()(),m(4,"div",23)(5,"span",24),_(6),f(),m(7,"button",25),q("click",function(r){let o=L(e).$implicit,s=A();return r.stopPropagation(),V(s.toggleAvailability(o))}),_(8),f()()()}if(i&2){let e=t.$implicit,n=A();me("active",(n.selectedTable==null?null:n.selectedTable.id)===e.id),u(3),T(e.name||"Table"),u(2),U("ngClass",e.availability?"bg-success":"bg-danger"),u(),$(" ",e.availability?n.isArabic?"\u0645\u062A\u0627\u062D":"Available":n.isArabic?"\u0645\u0634\u063A\u0648\u0644\u0629":"Occupied"," "),u(2),$(" ",n.isArabic?"\u062A\u0628\u062F\u064A\u0644":"Toggle"," ")}}function jT(i,t){if(i&1&&(m(0,"span",59),_(1),f()),i&2){let e=A().$implicit;u(),$(" +\u20AA",e.add)}}function UT(i,t){if(i&1){let e=he();m(0,"span",58),q("click",function(){let r=L(e).$index,o=A(2).$implicit,s=A(2);return V(s.setChoiceDraft(o.key,o.value,r))}),_(1),K(2,jT,2,1,"span",59),f()}if(i&2){let e=t.$implicit,n=t.$index,r=A(2).$implicit,o=A(2);me("active",o.getDraftChoiceIndex(r.key,r.value)===n),u(),T(e.label),u(),G(e.add?2:-1)}}function zT(i,t){if(i&1&&(m(0,"div",48),we(1,UT,3,4,"span",57,Ue),f()),i&2){let e=A().$implicit,n=A(2);u(),Ce(n.getChoiceDisplayStructured(e.value.name))}}function $T(i,t){if(i&1){let e=he();m(0,"li",30)(1,"div",43)(2,"div",44)(3,"div",45)(4,"div",46),_(5),f(),m(6,"small")(7,"span",47),q("click",function(){let r=L(e).$implicit,o=A(2);return V(o.markAsDone({tableKey:o.selectedTable.id,orderKey:r.key,order:r.value}))}),_(8),f()()(),K(9,zT,3,0,"div",48),m(10,"div",49)(11,"label",50),_(12),f(),m(13,"input",51),le("ngModelChange",function(r){let o=L(e).$implicit;return ae(o.value.details,r)||(o.value.details=r),V(r)}),f()()(),m(14,"div",52)(15,"input",53),le("ngModelChange",function(r){let o=L(e).$implicit;return ae(o.value.quantity,r)||(o.value.quantity=r),V(r)}),f(),m(16,"div",54)(17,"button",55),q("click",function(){let r=L(e).$implicit,o=A(2);return V(o.updateOrder(r.key,r.value.quantity,r.value.details||""))}),_(18),f(),m(19,"button",56),q("click",function(){let r=L(e).$implicit,o=A(2);return V(o.deleteOrder(r.key))}),_(20),f()()()()()}if(i&2){let e=t.$implicit,n=A(2);u(5),T(n.displayOrderName(e.value.name)),u(2),U("ngClass",_c(10,LT,e.value.state==="ordered",e.value.state==="ready",e.value.state==="done")),u(),$(" ",e.value.state||"unknown"," "),u(),G(n.getChoiceDisplayList(e.value.name).length?9:-1),u(3),T(n.isArabic?"\u062A\u0641\u0627\u0635\u064A\u0644":"Details"),u(),se("ngModel",e.value.details),U("placeholder",n.isArabic?"\u0623\u062F\u062E\u0644 \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644":"Enter details"),u(2),se("ngModel",e.value.quantity),u(3),$(" ",n.isArabic?"\u062A\u062D\u062F\u064A\u062B":"Update"," "),u(2),$(" ",n.isArabic?"\u062D\u0630\u0641":"Remove"," ")}}function qT(i,t){if(i&1&&H(0,"option",35),i&2){let e=t.$implicit;U("value",e)}}function HT(i,t){if(i&1){let e=he();m(0,"div",18)(1,"div",26)(2,"div",10)(3,"div"),_(4),m(5,"strong"),_(6),f()(),m(7,"button",27),q("click",function(){L(e);let r=A();return V(r.selectedTable=null)}),_(8),f()(),m(9,"div",28)(10,"ul",29),we(11,$T,21,14,"li",30,Ue),et(13,"keyvalue"),f(),m(14,"div",31)(15,"div",32),H(16,"input",33,0),m(18,"datalist",34),we(19,qT,1,1,"option",35,Ue),f(),H(21,"input",36,1)(23,"input",37,2),m(25,"button",38),q("click",function(){L(e);let r=Et(17),o=Et(22),s=Et(24);return A().addOrder(r.value,+o.value,s.value),r.value="",o.value="",V(s.value="")}),_(26),f()(),m(27,"div",39)(28,"button",40),q("click",function(){L(e);let r=A();return V(r.checkoutSelectedTable())}),_(29),f()()(),m(30,"div",41)(31,"strong"),_(32),f(),m(33,"span",42),_(34),et(35,"number"),f()()()()()}if(i&2){let e=A();u(4),$(" ",e.isArabic?"\u0627\u0644\u0637\u0644\u0628\u0627\u062A \u0644\u0640":"Orders for"," "),u(2),T(e.selectedTable.name||(e.isArabic?"\u0637\u0627\u0648\u0644\u0629":"Table")),u(2),T(e.isArabic?"\u0631\u062C\u0648\u0639":"Back"),u(3),Ce(Oo(13,11,e.selectedTable.order)),u(5),U("placeholder",e.isArabic?"\u0627\u0633\u0645 \u0627\u0644\u0635\u0646\u0641":"Item name"),u(3),Ce(e.menuItemNames),u(2),U("placeholder",e.isArabic?"\u0627\u0644\u0643\u0645\u064A\u0629":"Qty"),u(2),U("placeholder",e.isArabic?"\u062A\u0641\u0627\u0635\u064A\u0644 (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)":"Details (optional)"),u(3),$(" ",e.isArabic?"\u0625\u0636\u0627\u0641\u0629":"Add"," "),u(2),U("disabled",!e.hasOrders()),u(),$(" ",e.isArabic?"\u0625\u0646\u0647\u0627\u0621 \u0627\u0644\u062D\u0633\u0627\u0628":"Checkout"," "),u(3),T(e.isArabic?"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A:":"Total:"),u(2),$("",pt(35,13,e.getTotalPrice(),"1.2-2")," \u20AA")}}function WT(i,t){if(i&1&&(m(0,"li",67)(1,"div",73)(2,"div",22),_(3),f(),m(4,"small",74),_(5),et(6,"number"),f()(),m(7,"div",75)(8,"div",22),_(9),et(10,"number"),f()()()),i&2){let e=t.$implicit,n=A(2);u(3),T(n.displayOrderName(e.name)),u(2),W_(" ",n.isArabic?"\u0627\u0644\u0633\u0639\u0631:":"Price:"," ",pt(6,5,n.getOrderUnitPrice(e),"1.2-2")," \u20AA \xD7 ",e.quantity," "),u(4),$("",pt(10,8,n.getOrderUnitPrice(e)*e.quantity,"1.2-2")," \u20AA")}}function KT(i,t){if(i&1){let e=he();m(0,"div",19)(1,"div",60)(2,"div",61)(3,"div",62)(4,"div")(5,"h5",63),_(6),f(),m(7,"small",64),_(8),f()(),m(9,"button",65),q("click",function(){L(e);let r=A();return V(r.processCheckout("cancel"))}),f()(),m(10,"div",66)(11,"ul",29),we(12,WT,11,11,"li",67,Ue),f(),m(14,"div",68)(15,"strong"),_(16),f(),m(17,"span",42),_(18),et(19,"number"),f()()(),m(20,"div",69)(21,"button",70),q("click",function(){L(e);let r=A();return V(r.processCheckout("cancel"))}),_(22),f(),m(23,"button",71),q("click",function(){L(e);let r=A();return V(r.processCheckout("print"))}),_(24),f(),m(25,"button",72),q("click",function(){L(e);let r=A();return V(r.processCheckout("done"))}),_(26),f()()()()()}if(i&2){let e=A();U("ngStyle",lr(12,VT)),u(6),T(e.restaurantDisplayName),u(2),ni("",e.isArabic?"\u0641\u0627\u062A\u0648\u0631\u0629 \u0627\u0644\u0637\u0627\u0648\u0644\u0629":"Table Receipt"," \u2014 ",e.selectedTable==null?null:e.selectedTable.name),u(4),Ce(e.receiptOrders),u(4),T(e.isArabic?"\u0627\u0644\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0643\u0644\u064A:":"Total:"),u(2),$("",pt(19,9,e.receiptTotal,"1.2-2")," \u20AA"),u(4),T(e.isArabic?"\u0625\u0644\u063A\u0627\u0621":"Cancel"),u(2),$("\u{1F5A8} ",e.isArabic?"\u0637\u0628\u0627\u0639\u0629":"Print"),u(2),T(e.isArabic?"\u062A\u0645":"Done")}}var Xa=class i{constructor(t,e,n,r,o){this.db=t;this.menuService=e;this.languageService=n;this.ngZone=r;this.route=o}restaurantId="";restaurantName="";restaurant=null;tables=[];selectedTable=null;newTableName="";menuItemNames=[];categoriesCache=null;isArabic=!1;subs=[];tablesUnsub=null;choiceDraftIndex={};isCreatingHistory=!1;todayHistoryExists=!1;showReceiptModal=!1;receiptOrders=[];receiptTotal=0;ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t),Kn.getRestaurantById(this.restaurantId).then(n=>{this.restaurant=n,this.updateRestaurantDisplayName()}).catch(()=>{this.restaurant=null,this.updateRestaurantDisplayName()});let e=Ne(this.db,`restaurants/${this.restaurantId}/tables`);this.tablesUnsub=In(e,n=>{this.ngZone.run(()=>{let r=n.val()||{};if(this.tables=Object.keys(r).map(o=>{let s=P({id:o},r[o]);if(s.order){let l={};Object.keys(s.order).forEach(c=>{let h=s.order[c];h.state&&h.state!=="unordered"&&(l[c]=h)}),s.order=l}return s}).sort((o,s)=>(o.name||"").localeCompare(s.name||"",void 0,{numeric:!0,sensitivity:"base"})),this.selectedTable){let o=this.tables.find(s=>s.id===this.selectedTable.id)||null;this.selectedTable=o}})}),this.checkTodayRecord(),this.menuService.getCategoriesOnce(this.restaurantId).then(n=>{this.categoriesCache=n,this.menuItemNames=this.flattenMenuNames(n,this.isArabic)}).catch(()=>{this.categoriesCache={},this.menuItemNames=[]}),this.subs.push(this.languageService.isArabic$.subscribe(n=>{this.isArabic=n,this.menuItemNames=this.flattenMenuNames(this.categoriesCache,this.isArabic),this.updateRestaurantDisplayName()}))}ngOnDestroy(){this.tablesUnsub&&(this.tablesUnsub(),this.tablesUnsub=null),this.subs.forEach(t=>t.unsubscribe()),this.subs=[]}getChoiceAddByIndex(t,e){if(e==null)return 0;let r=this.getChoiceDisplayStructured(t)[e];return r&&Number(r.add)||0}getMenuItemPrice(t){let e=this.findMenuItemByName(t),n=Number(e?.price??0);return isNaN(n)?0:n}resolveNameFromMenu(t,e){if(!this.categoriesCache)return null;let n=t.toLocaleLowerCase(),r=null;return Object.keys(this.categoriesCache).some(o=>{let s=this.categoriesCache[o]?.items||{};return Object.keys(s).some(l=>{let c=s[l]||{},h=(c.name||"").toString(),g=(c.nameArabic||"").toString();return h.toLocaleLowerCase()===n||g.toLocaleLowerCase()===n?(r=c,!0):!1})}),r?e?r.nameArabic||r.name||null:r.name||r.nameArabic||null:null}selectTable(t){this.selectedTable=t}toggleAvailability(t){return j(this,null,function*(){let e=Ne(this.db,`restaurants/${this.restaurantId}/tables/${t.id}`);yield ft(e,{availability:!t.availability})})}addTable(){return j(this,null,function*(){let t=(this.newTableName||"").trim();if(!t)return;let e=Ne(this.db,`restaurants/${this.restaurantId}/tables`),n=Ac(e);yield Hr(n,{name:t,availability:!0}),this.newTableName=""})}updateOrder(t,e,n){return j(this,null,function*(){if(!this.selectedTable)return;let r=Ne(this.db,`restaurants/${this.restaurantId}/tables/${this.selectedTable.id}/order/${t}`);if(e<=0)yield qr(r);else{let o=this.selectedTable.order?.[t],s=this.choiceDraftIndex[t],l={quantity:e,details:n};if(o&&s!==void 0&&s!==null){let c=this.getChoicePairs(o.name);l.choiceEn=c.en[s]??null,l.choiceAr=c.ar[s]??null;let h=this.getMenuItemPrice(o.name||""),g=this.getChoiceAddByIndex(o.name||"",s);l.unitPrice=h+g}yield ft(r,l),delete this.choiceDraftIndex[t]}})}addOrder(t,e,n){return j(this,null,function*(){if(!this.selectedTable||!t||e<=0)return;let r=this.resolveNameFromMenu(t.trim(),this.isArabic)||t.trim(),o=Ne(this.db,`restaurants/${this.restaurantId}/tables/${this.selectedTable.id}/order`),s=Date.now().toString(),l=this.getChoicePairs(r),c=l.en.length?l.en[0]:null,h=l.ar.length?l.ar[0]:null,g=Number(this.findMenuItemByName(r)?.price??0);yield ft(o,{[s]:{name:r,quantity:e,details:n||"",state:"ordered",choiceEn:c,choiceAr:h,unitPrice:g,ts:Date.now()}})})}deleteOrder(t){return j(this,null,function*(){if(!this.selectedTable)return;let e=Ne(this.db,`restaurants/${this.restaurantId}/tables/${this.selectedTable.id}/order/${t}`);try{yield qr(e)}catch(n){console.error("Failed to delete order:",n)}})}flattenMenuNames(t,e){let n=new Set;return t?(Object.keys(t).forEach(r=>{let s=t[r]?.items||{};Object.keys(s).forEach(l=>{let c=s[l]||{},h=e?c.nameArabic||c.name:c.name||c.nameArabic;h&&n.add(String(h))})}),Array.from(n).sort((r,o)=>r.localeCompare(o,void 0,{numeric:!0,sensitivity:"base"}))):[]}displayOrderName(t){return this.resolveNameFromMenu(t||"",this.isArabic)||t}displayOrderChoice(t){let e=t?.choiceEn??null,n=t?.choiceAr??null;return(this.isArabic?n||e:e||n)||null}findMenuItemByName(t){let e=this.categoriesCache;if(!e||!t)return null;let n=String(t).toLocaleLowerCase(),r=null;return Object.keys(e).some(o=>{let s=e[o]?.items||{};return Object.keys(s).some(l=>{let c=s[l]||{},h=(c.name||"").toString(),g=(c.nameArabic||"").toString();return h.toLocaleLowerCase()===n||g.toLocaleLowerCase()===n?(r=c,!0):!1})}),r}getChoiceDisplayList(t){let e=this.findMenuItemByName(t),n=this.isArabic?e?.choicesArabic:e?.choices,r=Array.isArray(n)?n.filter(o=>!!o):[];if(!r.length){let o=this.isArabic?e?.choices:e?.choicesArabic;r=Array.isArray(o)?o.filter(s=>!!s):[]}return r}getChoiceDisplayStructured(t){let e=this.findMenuItemByName(t),n=Array.isArray(e?.choiceOptions)?e.choiceOptions:null;return n&&n.length?n.map(r=>({label:this.isArabic?String(r.ar||r.en||""):String(r.en||r.ar||""),add:Number(r.add)||0})):this.getChoiceDisplayList(t).map(r=>({label:r,add:0}))}getChoicePairs(t){let e=this.findMenuItemByName(t),n=Array.isArray(e?.choices)?e.choices:[],r=Array.isArray(e?.choicesArabic)?e.choicesArabic:[];return{en:n,ar:r}}getSelectedChoiceIndex(t){let{en:e,ar:n}=this.getChoicePairs(t?.name||""),r=t?.choiceEn||null,o=t?.choiceAr||null,s=r?e.findIndex(c=>c===r):-1;if(s>=0)return s;let l=o?n.findIndex(c=>c===o):-1;return l>=0?l:-1}getDraftChoiceIndex(t,e){let n=this.choiceDraftIndex[t];return n===0||n?n:this.getSelectedChoiceIndex(e)}setChoiceDraft(t,e,n){this.choiceDraftIndex[t]=n}hasOrders(){let t=this.selectedTable;return!!(t&&t.order&&Object.keys(t.order).length>0)}openReceiptModal(){this.selectedTable?.order&&(this.receiptOrders=Object.values(this.selectedTable.order),this.receiptTotal=this.getTotalPrice(),this.showReceiptModal=!0)}closeReceiptModal(){this.showReceiptModal=!1}processCheckout(t){return j(this,null,function*(){if(!this.selectedTable)return;if(t==="cancel"){this.closeReceiptModal();return}let e=new Date().toISOString().split("T")[0],n=Ne(this.db,`restaurants/${this.restaurantId}/history/${e}/categories`),o=(yield yr(n)).val()||{};for(let h of Object.values(this.selectedTable.order||{})){let g=h.name;Object.keys(o).forEach(v=>{let C=o[v];Object.keys(C.items||{}).forEach(D=>{let I=C.items[D];if(I.name===g||I.nameArabic===g){let M=Number(I.counter||0);C.items[D].counter=M+(Number(h.quantity)||0)}})})}yield ft(n,o);try{let h=e,g=Ne(this.db,`restaurants/${this.restaurantId}/meta/lastInvoiceNumber`),v=yield yr(g),C=v.exists()?Number(v.val()):0,D=isFinite(C)?C+1:1,I=this.selectedTable.order||{},M={};Object.keys(I).forEach(X=>{let Z=I[X],Y=this.getOrderUnitPrice(Z);M[X]={name:Z.name,quantity:Number(Z.quantity)||0,unitPrice:Y,choiceEn:Z.choiceEn??null,choiceAr:Z.choiceAr??null,state:Z.state||"done"}});let F={id:D,tableId:this.selectedTable.id,tableName:this.selectedTable.name||"",items:M,total:this.getTotalPrice(),createdAt:Date.now()},z=Ne(this.db,`restaurants/${this.restaurantId}/history/${h}/Order_List/${D}`);yield Hr(z,F),yield Hr(g,D)}catch(h){console.error("Failed to write invoice:",h)}let s=this.selectedTable.id,l=Ne(this.db,`restaurants/${this.restaurantId}/tables/${s}`),c=Ne(this.db,`restaurants/${this.restaurantId}/tables/${s}/order`);yield ft(l,{availability:!0}),yield qr(c),this.selectedTable=ie(P({},this.selectedTable),{availability:!0,order:{}}),t==="print"&&alert(this.isArabic?"\u{1F5A8} \u062A\u0645 \u0627\u0644\u0637\u0628\u0627\u0639\u0629 \u0628\u0646\u062C\u0627\u062D!":"\u{1F5A8} Printed successfully!"),this.closeReceiptModal()})}checkoutSelectedTable(){return j(this,null,function*(){this.selectedTable&&this.openReceiptModal()})}getTotalPrice(){return this.selectedTable?.order?Object.values(this.selectedTable.order).filter(e=>["ordered","ready","done"].includes(e.state)).reduce((e,n)=>{let r=this.getOrderUnitPrice(n);return e+r*(Number(n.quantity)||0)},0):0}getOrderUnitPrice(t){let e=Number(t.unitPrice??NaN);if(!isNaN(e)&&e>0)return e;let n=this.getMenuItemPrice(t.name||""),r=this.getChoiceDisplayStructured(t.name||""),o=this.displayOrderChoice(t),s=r.find(c=>c.label===o),l=s&&Number(s.add)||0;return n+l}get restaurantDisplayName(){return this.restaurantName||this.restaurantId}updateRestaurantDisplayName(){let t=this.isArabic?this.restaurant?.restArabicName||this.restaurant?.restName||"":this.restaurant?.restName||this.restaurant?.restArabicName||"";this.restaurantName=String(t||"").trim()}markAsDone(t){let e=Ne(this.db,`restaurants/${this.restaurantId}/tables/${t.tableKey}/order/${t.orderKey}`);ft(e,{state:"done"})}checkTodayRecord(){return j(this,null,function*(){let t=new Date().toISOString().split("T")[0],e=Ne(this.db,`restaurants/${this.restaurantId}/history/${t}`),n=yield yr(e);this.todayHistoryExists=n.exists()&&!n.val().closed})}handleDailyRecord(){return j(this,null,function*(){let t=new Date,e=t.toISOString().split("T")[0],n=t.toISOString(),r=Ne(this.db,`restaurants/${this.restaurantId}/history/${e}`);if(this.todayHistoryExists){let o=this.isArabic?"\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F \u0625\u063A\u0644\u0627\u0642 \u0633\u062C\u0644 \u0647\u0630\u0627 \u0627\u0644\u064A\u0648\u0645\u061F":"Are you sure you want to close today\u2019s record?";if(!window.confirm(o))return;yield ft(r,{closed:!0}),this.todayHistoryExists=!1,alert(this.isArabic?"\u2705 \u062A\u0645 \u0625\u063A\u0644\u0627\u0642 \u0633\u062C\u0644 \u0627\u0644\u064A\u0648\u0645 \u0628\u0646\u062C\u0627\u062D.":"\u2705 Daily record closed successfully.")}else{if(this.isCreatingHistory)return;this.isCreatingHistory=!0;try{let o=Ne(this.db,`restaurants/${this.restaurantId}/menu/categories`),s=yield yr(o);if(!s.exists()){alert("\u26A0\uFE0F No menu found."),this.isCreatingHistory=!1;return}let l=s.val(),c={};Object.keys(l).forEach(g=>{let C=l[g].items||{},D={};Object.keys(C).forEach(I=>{let M=C[I];D[I]={counter:0,name:M.name||"",price:M.price||0}}),c[g]={items:D}}),yield Hr(r,{categories:c,date:n,discounts:{type1:{value:0},type2:{value:0},type3:{value:0}},total:0,closed:!1}),this.todayHistoryExists=!0,alert(this.isArabic?"\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0633\u062C\u0644 \u0627\u0644\u064A\u0648\u0645 \u0627\u0644\u062C\u062F\u064A\u062F \u2705":"\u2705 Daily record created successfully!")}catch(o){console.error("Failed to create record:",o),alert("\u274C Failed to create record.")}finally{this.isCreatingHistory=!1}}})}static \u0275fac=function(e){return new(e||i)(te(Sn),te(nn),te(Kt),te(ee),te(Be))};static \u0275cmp=ne({type:i,selectors:[["app-dashboard"]],decls:27,vars:19,consts:[["itemName",""],["itemQty",""],["itemDetails",""],[1,"container","py-4"],[1,"dashboard-header"],[1,"d-flex","justify-content-center","my-3"],[1,"btn",3,"click","disabled"],[1,"row","g-4"],[1,"col-lg-4"],[1,"card","sticky-col",2,"position","sticky","top","16px"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"badge","bg-primary"],[1,"p-3","border-bottom"],[1,"d-flex","gap-2"],["type","text",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"list-group","list-group-flush",2,"max-height","70vh","overflow-y","auto"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",3,"active"],[1,"col-lg-8"],["tabindex","-1","role","dialog","aria-modal","true",1,"modal","fade","show","d-block",3,"ngStyle"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",3,"click"],[1,"d-flex","flex-column"],[1,"fw-semibold"],[1,"d-flex","align-items-center","gap-2"],[1,"badge",3,"ngClass"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"card","orders-card"],[1,"btn","btn-sm","btn-outline-light",3,"click"],[1,"card-body"],[1,"list-group","mb-3"],[1,"list-group-item"],[1,"d-flex","flex-wrap","align-items-stretch","gap-2","mb-3"],[1,"d-flex","flex-wrap","gap-2","flex-grow-1"],["type","text","list","menuSuggestions",1,"form-control",2,"max-width","260px",3,"placeholder"],["id","menuSuggestions"],[3,"value"],["type","number","min","1",1,"form-control",2,"max-width","120px",3,"placeholder"],["type","text",1,"form-control",3,"placeholder"],[1,"btn","btn-success",3,"click"],[1,"ms-auto","d-flex","align-items-center"],[1,"btn","btn-outline-danger",3,"click","disabled"],[1,"text-end","mt-3","border-top","pt-2"],[1,"fs-5","fw-bold","text-primary"],[1,"d-flex","justify-content-between","align-items-start"],[1,"flex-grow-1","pe-3"],[1,"d-flex","align-items-center","gap-3"],[1,"order-title"],[1,"badge","clickable",3,"click","ngClass"],[1,"choice-group","mt-2"],[1,"mt-2"],[1,"small"],["type","text",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","placeholder"],[1,"text-end","ms-3",2,"min-width","180px"],["type","number","min","0",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],[1,"d-flex","gap-2","mt-2"],[1,"btn","btn-sm","btn-primary",2,"flex","1",3,"click"],[1,"btn","btn-sm","btn-warning",2,"flex","1",3,"click"],[1,"choice-chip",3,"active"],[1,"choice-chip",3,"click"],[1,"choice-add"],["role","document",1,"modal-dialog","modal-dialog-centered","modal-md"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","mb-0"],[1,"text-muted","d-block"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"d-flex","justify-content-between","border-top","pt-2"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-success",3,"click"],[1,"me-3"],[1,"text-muted"],[1,"text-end","text-nowrap"]],template:function(e,n){e&1&&(m(0,"div",3)(1,"div",4)(2,"h1"),_(3),f(),m(4,"p"),_(5),f()(),m(6,"div",5)(7,"button",6),q("click",function(){return n.handleDailyRecord()}),_(8),f()(),m(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"span"),_(14),f(),m(15,"span",11),_(16),f()(),m(17,"div",12)(18,"div",13)(19,"input",14),le("ngModelChange",function(o){return ae(n.newTableName,o)||(n.newTableName=o),o}),q("keyup.enter",function(){return n.addTable()}),f(),m(20,"button",15),q("click",function(){return n.addTable()}),_(21),f()()(),m(22,"ul",16),we(23,BT,9,6,"li",17,Ue),f()()(),K(25,HT,36,16,"div",18),f(),K(26,KT,27,13,"div",19),f()),e&2&&(Me("dir",n.isArabic?"rtl":"ltr"),u(),me("align-right",n.isArabic),u(2),T(n.isArabic?"\u0644\u0648\u062D\u0629 \u0627\u0644\u0645\u0637\u0639\u0645":"Restaurant Dashboard"),u(2),T(n.isArabic?"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0637\u0627\u0648\u0644\u0627\u062A \u0648\u0627\u0644\u0637\u0644\u0628\u0627\u062A \u0641\u064A \u0627\u0644\u0648\u0642\u062A \u0627\u0644\u062D\u0642\u064A\u0642\u064A":"Manage tables and orders in real time"),u(2),me("btn-primary",!n.todayHistoryExists)("btn-danger",n.todayHistoryExists),U("disabled",n.isCreatingHistory),u(),$(" ",n.todayHistoryExists?n.isArabic?"\u{1F534} \u0625\u063A\u0644\u0627\u0642 \u0633\u062C\u0644 \u0627\u0644\u064A\u0648\u0645":"\u{1F534} Close Daily Record":n.isArabic?"\u{1F7E2} \u0625\u0646\u0634\u0627\u0621 \u0633\u062C\u0644 \u0627\u0644\u064A\u0648\u0645 \u0627\u0644\u062C\u062F\u064A\u062F":"\u{1F7E2} Create New Daily Record"," "),u(6),T(n.isArabic?"\u0627\u0644\u0637\u0627\u0648\u0644\u0627\u062A":"Tables"),u(2),T(n.tables.length||0),u(3),U("placeholder",n.isArabic?"\u0627\u0633\u0645 \u0637\u0627\u0648\u0644\u0629 \u062C\u062F\u064A\u062F\u0629":"New table name"),se("ngModel",n.newTableName),u(),U("disabled",!(n.newTableName&&n.newTableName.trim())),u(),$(" ",n.isArabic?"\u0625\u0636\u0627\u0641\u0629 \u0637\u0627\u0648\u0644\u0629":"Add Table"," "),u(2),Ce(n.tables),u(2),G(n.selectedTable?25:-1),u(),G(n.showReceiptModal?26:-1))},dependencies:[dn,En,No,yt,fr,gr,Tt,yi,Dt,xc,Rt,si,bc,Fo],styles:["[_nghost-%COMP%]{display:block;background:#f8fafc;min-height:100vh}.dashboard-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1f2937;font-weight:700;margin:0 0 .25rem}.dashboard-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin:0}.btn-outline-secondary[_ngcontent-%COMP%]{color:#fff;background-color:#21a77a;--bs-btn-active-bg: #059669}.card[_ngcontent-%COMP%]{border:none;border-radius:14px;overflow:hidden;box-shadow:0 10px 24px #0000000f}.card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;font-weight:600}.list-group-item[_ngcontent-%COMP%]{border:0;border-bottom:1px solid #eef2f7;transition:transform .15s ease,background .15s ease}.list-group-item[_ngcontent-%COMP%]:hover{background:#10b981;transform:translate(4px);border-radius:5px;color:#fff}.list-group-item.active[_ngcontent-%COMP%]{background:#10b981;font-weight:600}.badge[_ngcontent-%COMP%]{border-radius:999px;padding:.4rem .65rem;font-weight:600}.bg-success[_ngcontent-%COMP%]{background:#21a77a!important}.bg-danger[_ngcontent-%COMP%]{background:#ef4444!important;border:#88190f 1px solid}.orders-card[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background:transparent}.orders-card[_ngcontent-%COMP%]   .order-title[_ngcontent-%COMP%]{font-weight:600;color:#111827}.orders-card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#6b7280;font-size:.85rem}.form-control[_ngcontent-%COMP%]{border-radius:10px;border:1px solid #e5e7eb}.form-control[_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f626}.btn[_ngcontent-%COMP%]{border-radius:10px;font-weight:600;transition:transform .15s ease,box-shadow .15s ease;border-color:#fff}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #020f0954}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);border:none}.btn-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);border:none}.btn-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#d40909);border:none;color:#e5e7eb}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}.orders-card[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .25s ease both}@media(max-width:991px){.sticky-col[_ngcontent-%COMP%]{position:static!important}}.dashboard-header.align-right[_ngcontent-%COMP%]{text-align:right}.choice-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-top:6px}.choice-chip[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;border-radius:99px;border:1px solid #d1d5db;background:#f5f6f8;color:var(--text-color, #212529);font-weight:700;cursor:pointer;-webkit-user-select:none;user-select:none}.choice-chip.active[_ngcontent-%COMP%]{background:rgba(var(--primary-color-rgb, 255, 107, 107),.12);color:var(--primary-color, #ff6b6b);border-color:var(--primary-color, #ff6b6b)}.choice-chip.readonly[_ngcontent-%COMP%]{pointer-events:none;opacity:.95}.choice-add[_ngcontent-%COMP%]{color:var(--primary-color, #ff6b6b);font-weight:700;margin-inline-start:6px}.badge.clickable[_ngcontent-%COMP%]{cursor:pointer;transition:transform .2s}.badge.clickable[_ngcontent-%COMP%]:hover{transform:scale(1.05)}"]})};function GT(i,t){i&1&&(Ee(0,"div",5),_(1," No hookah orders yet. "),ve())}function YT(i,t){if(i&1&&(Ee(0,"div",12),_(1),ve()),i&2){let e=A().$implicit;u(),$(" Details: ",e.order.details," ")}}function QT(i,t){if(i&1){let e=he();Ee(0,"li",8),Fi("click",function(){let r=L(e).$implicit,o=A(2);return V(o.toggleReady(r))}),Ee(1,"div")(2,"h6",9)(3,"input",10),Fi("click",function(r){let o=L(e).$implicit,s=A(2);return r.stopPropagation(),V(s.toggleReady(o))}),ve(),_(4),ve(),Ee(5,"small",11),_(6),ve(),K(7,YT,2,1,"div",12),ve(),Ee(8,"span",13),_(9),ve()()}if(i&2){let e=t.$implicit;u(3),wn("checked",e.order.state==="ready"),u(),$(" ",e.order.name," "),u(2),$("Table: ",e.tableName),u(),G(e.order.details?7:-1),u(2),$("x",e.order.quantity)}}function XT(i,t){if(i&1&&(Ee(0,"ul",6),we(1,QT,10,5,"li",7,Ue),ve()),i&2){let e=A();u(),Ce(e.hookahOrders)}}var bd=class i{constructor(t,e,n,r){this.db=t;this.menuService=e;this.ngZone=n;this.route=r}restaurantId="";hookahOrders=[];itemSectionIndex=new Map;categoriesSub=null;tablesUnsub=null;ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t),this.categoriesSub=this.menuService.getCategories(this.restaurantId).subscribe(n=>{this.buildItemSectionIndex(n)});let e=Ne(this.db,`restaurants/${this.restaurantId}/tables`);this.tablesUnsub=In(e,n=>{let r=n.val()||{},o=[];Object.keys(r).forEach(s=>{let l=r[s],c=l.order||{};Object.keys(c).forEach(h=>{let g=c[h];this.findSectionForOrder(g)==="hookah"&&g.state!=="done"&&g.state!=="unordered"&&o.push({tableKey:s,tableName:l.name||s,orderKey:h,order:g})})}),this.ngZone.run(()=>this.hookahOrders=o)})}ngOnDestroy(){this.categoriesSub&&this.categoriesSub.unsubscribe(),this.tablesUnsub&&this.tablesUnsub()}buildItemSectionIndex(t){this.itemSectionIndex.clear(),t&&Object.keys(t).forEach(e=>{let n=t[e]||{},r=(n.section||"").toString().trim().toLowerCase(),o=n.items||{};Object.keys(o).forEach(s=>{let l=o[s]||{},c=(l.name||"").toString().trim().toLowerCase(),h=(l.nameArabic||"").toString().trim().toLowerCase();c&&this.itemSectionIndex.set(c,r),h&&this.itemSectionIndex.set(h,r)})})}findSectionForOrder(t){let e=(t.name||"").toString().trim().toLowerCase();if(!e)return t.category?t.category.toLowerCase():null;let n=this.itemSectionIndex.get(e);if(n)return n;for(let[r,o]of this.itemSectionIndex.entries())if(!(r.length<3)&&(e.includes(r)||r.includes(e)))return o;return t.category?t.category.toLowerCase():null}toggleReady(t){let e=t.order.state==="ready"?"ordered":"ready",n=Ne(this.db,`restaurants/${this.restaurantId}/tables/${t.tableKey}/order/${t.orderKey}`);ft(n,{state:e})}static \u0275fac=function(e){return new(e||i)(te(Sn),te(nn),te(ee),te(Be))};static \u0275cmp=ne({type:i,selectors:[["app-hookah-orders"]],decls:10,vars:3,consts:[[1,"container","py-4"],[1,"card","shadow"],[1,"card-header","bg-warning","text-dark","d-flex","align-items-center","justify-content-between"],[1,"badge","bg-dark","text-white"],[1,"card-body"],[1,"text-muted","text-center","py-3"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",2,"cursor","pointer","user-select","none"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",2,"cursor","pointer","user-select","none",3,"click"],[1,"fw-semibold","mb-1"],["type","checkbox",1,"form-check-input","me-2",3,"click","checked"],[1,"text-muted"],[1,"text-muted","small","mt-1"],[1,"badge","bg-secondary","fs-6"]],template:function(e,n){e&1&&(Ee(0,"div",0)(1,"div",1)(2,"div",2)(3,"span"),_(4,"\u{1F4A8} Hookah Orders"),ve(),Ee(5,"span",3),_(6),ve()(),Ee(7,"div",4),K(8,GT,2,0,"div",5),K(9,XT,3,0,"ul",6),ve()()()),e&2&&(u(6),$("",n.hookahOrders.length," active"),u(2),G(n.hookahOrders.length===0?8:-1),u(),G(n.hookahOrders.length>0?9:-1))},encapsulation:2})};function ZT(i,t){i&1&&(Ee(0,"div",5),_(1," No bar orders yet. "),ve())}function JT(i,t){if(i&1&&(Ee(0,"div",12),_(1),ve()),i&2){let e=A().$implicit;u(),$(" Details: ",e.order.details," ")}}function e1(i,t){if(i&1){let e=he();Ee(0,"li",8),Fi("click",function(){let r=L(e).$implicit,o=A(2);return V(o.toggleReady(r))}),Ee(1,"div")(2,"h6",9)(3,"input",10),Fi("click",function(r){let o=L(e).$implicit,s=A(2);return r.stopPropagation(),V(s.toggleReady(o))}),ve(),_(4),ve(),Ee(5,"small",11),_(6),ve(),K(7,JT,2,1,"div",12),ve(),Ee(8,"span",13),_(9),ve()()}if(i&2){let e=t.$implicit;u(3),wn("checked",e.order.state==="ready"),u(),$(" ",e.order.name," "),u(2),$("Table: ",e.tableName),u(),G(e.order.details?7:-1),u(2),$("x",e.order.quantity)}}function t1(i,t){if(i&1&&(Ee(0,"ul",6),we(1,e1,10,5,"li",7,Ue),ve()),i&2){let e=A();u(),Ce(e.barOrders)}}var vd=class i{constructor(t,e,n,r){this.db=t;this.menuService=e;this.ngZone=n;this.route=r}restaurantId="";barOrders=[];itemSectionIndex=new Map;categoriesSub=null;tablesUnsub=null;ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t),this.categoriesSub=this.menuService.getCategories(this.restaurantId).subscribe(n=>{this.buildItemSectionIndex(n)});let e=Ne(this.db,`restaurants/${this.restaurantId}/tables`);this.tablesUnsub=In(e,n=>{let r=n.val()||{},o=[];Object.keys(r).forEach(s=>{let l=r[s],c=l.order||{};Object.keys(c).forEach(h=>{let g=c[h];this.findSectionForOrder(g)==="bar"&&g.state!=="unordered"&&g.state!=="done"&&o.push({tableKey:s,tableName:l.name||s,orderKey:h,order:g})})}),this.ngZone.run(()=>this.barOrders=o)})}ngOnDestroy(){this.categoriesSub&&this.categoriesSub.unsubscribe(),this.tablesUnsub&&this.tablesUnsub()}buildItemSectionIndex(t){this.itemSectionIndex.clear(),t&&Object.keys(t).forEach(e=>{let n=t[e]||{},r=(n.section||"").toString().trim().toLowerCase(),o=n.items||{};Object.keys(o).forEach(s=>{let l=o[s]||{},c=(l.name||"").toString().trim().toLowerCase(),h=(l.nameArabic||"").toString().trim().toLowerCase();c&&this.itemSectionIndex.set(c,r),h&&this.itemSectionIndex.set(h,r)})})}findSectionForOrder(t){let e=(t.name||"").toString().trim().toLowerCase();if(!e)return t.category?t.category.toLowerCase():null;let n=this.itemSectionIndex.get(e);if(n)return n;for(let[r,o]of this.itemSectionIndex.entries())if(!(r.length<3)&&(e.includes(r)||r.includes(e)))return o;return t.category?t.category.toLowerCase():null}markAsReady(t){let e=Ne(this.db,`restaurants/${this.restaurantId}/tables/${t.tableKey}/order/${t.orderKey}`);ft(e,{state:"ready"})}toggleReady(t){let e=t.order.state==="ready"?"ordered":"ready",n=Ne(this.db,`restaurants/${this.restaurantId}/tables/${t.tableKey}/order/${t.orderKey}`);ft(n,{state:e})}static \u0275fac=function(e){return new(e||i)(te(Sn),te(nn),te(ee),te(Be))};static \u0275cmp=ne({type:i,selectors:[["app-bar-orders"]],decls:10,vars:3,consts:[[1,"container","py-4"],[1,"card","shadow"],[1,"card-header","bg-info","text-white","d-flex","align-items-center","justify-content-between"],[1,"badge","bg-light","text-dark"],[1,"card-body"],[1,"text-muted","text-center","py-3"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",2,"cursor","pointer","user-select","none"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",2,"cursor","pointer","user-select","none",3,"click"],[1,"fw-semibold","mb-1"],["type","checkbox",1,"form-check-input","me-2",3,"click","checked"],[1,"text-muted"],[1,"text-muted","small","mt-1"],[1,"badge","bg-secondary","fs-6"]],template:function(e,n){e&1&&(Ee(0,"div",0)(1,"div",1)(2,"div",2)(3,"span"),_(4,"\u{1F379} Bar Orders"),ve(),Ee(5,"span",3),_(6),ve()(),Ee(7,"div",4),K(8,ZT,2,0,"div",5),K(9,t1,3,0,"ul",6),ve()()()),e&2&&(u(6),$("",n.barOrders.length," active"),u(2),G(n.barOrders.length===0?8:-1),u(),G(n.barOrders.length>0?9:-1))},encapsulation:2})};function n1(i,t){i&1&&(Ee(0,"div",5),_(1," No kitchen orders yet. "),ve())}function i1(i,t){if(i&1&&(Ee(0,"div",12),_(1),ve()),i&2){let e=A().$implicit;u(),$(" Details: ",e.order.details," ")}}function r1(i,t){if(i&1){let e=he();Ee(0,"li",8),Fi("click",function(){let r=L(e).$implicit,o=A(2);return V(o.toggleReady(r))}),Ee(1,"div")(2,"h6",9)(3,"input",10),Fi("click",function(r){let o=L(e).$implicit,s=A(2);return r.stopPropagation(),V(s.toggleReady(o))}),ve(),_(4),ve(),Ee(5,"small",11),_(6),ve(),K(7,i1,2,1,"div",12),ve(),Ee(8,"span",13),_(9),ve()()}if(i&2){let e=t.$implicit;u(3),wn("checked",e.order.state==="ready"),u(),$(" ",e.order.name," "),u(2),$("Table: ",e.tableName),u(),G(e.order.details?7:-1),u(2),$("x",e.order.quantity)}}function o1(i,t){if(i&1&&(Ee(0,"ul",6),we(1,r1,10,5,"li",7,Ue),ve()),i&2){let e=A();u(),Ce(e.kitchenOrders)}}var wd=class i{constructor(t,e,n,r){this.db=t;this.menuService=e;this.ngZone=n;this.route=r}restaurantId="";kitchenOrders=[];itemSectionIndex=new Map;categoriesSub=null;tablesUnsub=null;ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t),this.categoriesSub=this.menuService.getCategories(this.restaurantId).subscribe(n=>{this.buildItemSectionIndex(n)});let e=Ne(this.db,`restaurants/${this.restaurantId}/tables`);this.tablesUnsub=In(e,n=>{let r=n.val()||{},o=[];Object.keys(r).forEach(s=>{let l=r[s],c=l.order||{};Object.keys(c).forEach(h=>{let g=c[h];this.findSectionForOrder(g)==="kitchen"&&g.state!=="done"&&g.state!=="unordered"&&o.push({tableKey:s,tableName:l.name||s,orderKey:h,order:g})})}),this.ngZone.run(()=>this.kitchenOrders=o)})}ngOnDestroy(){this.categoriesSub&&this.categoriesSub.unsubscribe(),this.tablesUnsub&&this.tablesUnsub()}buildItemSectionIndex(t){this.itemSectionIndex.clear(),t&&Object.keys(t).forEach(e=>{let n=t[e]||{},r=(n.section||"").toString().trim().toLowerCase(),o=n.items||{};Object.keys(o).forEach(s=>{let l=o[s]||{},c=(l.name||"").toString().trim().toLowerCase(),h=(l.nameArabic||"").toString().trim().toLowerCase();c&&this.itemSectionIndex.set(c,r),h&&this.itemSectionIndex.set(h,r)})})}findSectionForOrder(t){let e=(t.name||"").toString().trim().toLowerCase();if(!e)return t.category?t.category.toLowerCase():null;let n=this.itemSectionIndex.get(e);if(n)return n;for(let[r,o]of this.itemSectionIndex.entries())if(!(r.length<3)&&(e.includes(r)||r.includes(e)))return o;return t.category?t.category.toLowerCase():null}toggleReady(t){let e=t.order.state==="ready"?"ordered":"ready",n=Ne(this.db,`restaurants/${this.restaurantId}/tables/${t.tableKey}/order/${t.orderKey}`);ft(n,{state:e})}static \u0275fac=function(e){return new(e||i)(te(Sn),te(nn),te(ee),te(Be))};static \u0275cmp=ne({type:i,selectors:[["app-kitchen-orders"]],decls:10,vars:3,consts:[[1,"container","py-4"],[1,"card","shadow"],[1,"card-header","bg-danger","text-white","d-flex","align-items-center","justify-content-between"],[1,"badge","bg-light","text-dark"],[1,"card-body"],[1,"text-muted","text-center","py-3"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",2,"cursor","pointer","user-select","none"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",2,"cursor","pointer","user-select","none",3,"click"],[1,"fw-semibold","mb-1"],["type","checkbox",1,"form-check-input","me-2",3,"click","checked"],[1,"text-muted"],[1,"text-muted","small","mt-1"],[1,"badge","bg-secondary","fs-6"]],template:function(e,n){e&1&&(Ee(0,"div",0)(1,"div",1)(2,"div",2)(3,"span"),_(4,"\u{1F468}\u200D\u{1F373} Kitchen Orders"),ve(),Ee(5,"span",3),_(6),ve()(),Ee(7,"div",4),K(8,n1,2,0,"div",5),K(9,o1,3,0,"ul",6),ve()()()),e&2&&(u(6),$("",n.kitchenOrders.length," active"),u(2),G(n.kitchenOrders.length===0?8:-1),u(),G(n.kitchenOrders.length>0?9:-1))},encapsulation:2})};var ke=(function(i){return i[i.State=0]="State",i[i.Transition=1]="Transition",i[i.Sequence=2]="Sequence",i[i.Group=3]="Group",i[i.Animate=4]="Animate",i[i.Keyframes=5]="Keyframes",i[i.Style=6]="Style",i[i.Trigger=7]="Trigger",i[i.Reference=8]="Reference",i[i.AnimateChild=9]="AnimateChild",i[i.AnimateRef=10]="AnimateRef",i[i.Query=11]="Query",i[i.Stagger=12]="Stagger",i})(ke||{}),Gn="*";function Im(i,t){return{type:ke.Trigger,name:i,definitions:t,options:{}}}function Cd(i,t=null){return{type:ke.Animate,styles:t,timings:i}}function sb(i,t=null){return{type:ke.Sequence,steps:i,options:t}}function ji(i){return{type:ke.Style,styles:i,offset:null}}function Ed(i,t,e=null){return{type:ke.Transition,expr:i,animation:t,options:e}}var Ei=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},io=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,n=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++n==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,l)=>Math.max(s,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(n=>{let r=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(r)})}getPosition(){let t=this.players.reduce((e,n)=>e===null||n.totalTime>e.totalTime?n:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},ms="!";function Za(i){return i.buttons===0||i.detail===0}function Ja(i){let t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var xm;function ab(){if(xm==null){let i=typeof document<"u"?document.head:null;xm=!!(i&&(i.createShadowRoot||i.attachShadow))}return xm}function Am(i){if(ab()){let t=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function ps(){let i=typeof document<"u"&&document?document.activeElement:null;for(;i&&i.shadowRoot;){let t=i.shadowRoot.activeElement;if(t===i)break;i=t}return i}function Vt(i){return i.composedPath?i.composedPath()[0]:i.target}var Tm;try{Tm=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Tm=!1}var We=(()=>{class i{_platformId=y(mt);isBrowser=this._platformId?_i(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Tm)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var el;function lb(){if(el==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>el=!0}))}finally{el=el||!1}return el}function Ir(i){return lb()?i:!!i.capture}function fs(i,t=0){return cb(i)?Number(i):arguments.length===2?t:0}function cb(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function Ln(i){return i instanceof Oe?i.nativeElement:i}var db=new W("cdk-input-modality-detector-options"),ub={ignoreKeys:[18,17,224,91,16]},hb=650,Dm={passive:!0,capture:!0},mb=(()=>{class i{_platform=y(We);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new bn(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(n=>n===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Vt(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<hb||(this._modality.next(Za(e)?"keyboard":"mouse"),this._mostRecentTarget=Vt(e))};_onTouchstart=e=>{if(Ja(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Vt(e)};constructor(){let e=y(ee),n=y(De),r=y(db,{optional:!0});if(this._options=P(P({},ub),r),this.modalityDetected=this._modality.pipe(cc(1)),this.modalityChanged=this.modalityDetected.pipe(ua()),this._platform.isBrowser){let o=y(Ft).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[o.listen(n,"keydown",this._onKeydown,Dm),o.listen(n,"mousedown",this._onMousedown,Dm),o.listen(n,"touchstart",this._onTouchstart,Dm)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),tl=(function(i){return i[i.IMMEDIATE=0]="IMMEDIATE",i[i.EVENTUAL=1]="EVENTUAL",i})(tl||{}),pb=new W("cdk-focus-monitor-default-options"),Sd=Ir({passive:!0,capture:!0}),gs=(()=>{class i{_ngZone=y(ee);_platform=y(We);_inputModalityDetector=y(mb);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=y(De);_stopInputModalityDetector=new de;constructor(){let e=y(pb,{optional:!0});this._detectionMode=e?.detectionMode||tl.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let n=Vt(e);for(let r=n;r;r=r.parentElement)e.type==="focus"?this._onFocus(e,r):this._onBlur(e,r)};monitor(e,n=!1){let r=Ln(e);if(!this._platform.isBrowser||r.nodeType!==1)return fe();let o=Am(r)||this._document,s=this._elementInfo.get(r);if(s)return n&&(s.checkChildren=!0),s.subject;let l={checkChildren:n,subject:new de,rootNode:o};return this._elementInfo.set(r,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(e){let n=Ln(e),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(e,n,r){let o=Ln(e),s=this._document.activeElement;o===s?this._getClosestElementsInfo(o).forEach(([l,c])=>this._originChanged(l,n,c)):(this._setOrigin(n),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===tl.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused",n==="touch"),e.classList.toggle("cdk-keyboard-focused",n==="keyboard"),e.classList.toggle("cdk-mouse-focused",n==="mouse"),e.classList.toggle("cdk-program-focused",n==="program")}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&n,this._detectionMode===tl.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?hb:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,n){let r=this._elementInfo.get(n),o=Vt(e);!r||!r.checkChildren&&n!==o||this._originChanged(n,this._getFocusOrigin(o),r)}_onBlur(e,n){let r=this._elementInfo.get(n);!r||r.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let n=e.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,Sd),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,Sd)}),this._rootNodeFocusListenerCount.set(n,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Je(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){let n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){let r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Sd),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Sd),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,r){this._setClasses(e,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){let n=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&n.push([o,r])}),n}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!n||n===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let o=e.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(n))return!0}return!1}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Rm=(()=>{class i{_elementRef=y(Oe);_focusMonitor=y(gs);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new ue;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,e.nodeType===1&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(n=>{this._focusOrigin=n,this.cdkFocusChange.emit(n)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return i})();var Id=new WeakMap,gt=(()=>{class i{_appRef;_injector=y(be);_environmentInjector=y(Ht);load(e){let n=this._appRef=this._appRef||this._injector.get(zr),r=Id.get(n);r||(r={loaders:new Set,refs:[]},Id.set(n,r),n.onDestroy(()=>{Id.get(n)?.refs.forEach(o=>o.destroy()),Id.delete(n)})),r.loaders.has(e)||(r.loaders.add(e),r.refs.push(yc(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var ai=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(n,r){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return i})();function _s(i){return Array.isArray(i)?i:[i]}var fb=new Set,ro,ys=(()=>{class i{_platform=y(We);_nonce=y(pa,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):a1}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&s1(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function s1(i,t){if(!fb.has(i))try{ro||(ro=document.createElement("style"),t&&ro.setAttribute("nonce",t),ro.setAttribute("type","text/css"),document.head.appendChild(ro)),ro.sheet&&(ro.sheet.insertRule(`@media ${i} {body{ }}`,0),fb.add(i))}catch(e){console.error(e)}}function a1(i){return{matches:i==="all"||i==="",media:i,addListener:()=>{},removeListener:()=>{}}}var Mm=(()=>{class i{_mediaMatcher=y(ys);_zone=y(ee);_queries=new Map;_destroySubject=new de;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return gb(_s(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=gb(_s(e)).map(s=>this._registerQuery(s).observable),o=ca(r);return o=sc(o.pipe($n(1)),o.pipe(cc(1),lc(0))),o.pipe($e(s=>{let l={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:h})=>{l.matches=l.matches||c,l.breakpoints[h]=c}),l}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let n=this._mediaMatcher.matchMedia(e),o={observable:new mi(s=>{let l=c=>this._zone.run(()=>s.next(c));return n.addListener(l),()=>{n.removeListener(l)}}).pipe($t(n),$e(({matches:s})=>({query:e,matches:s})),Je(this._destroySubject)),mql:n};return this._queries.set(e,o),o}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function gb(i){return i.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var l1=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var xd=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({providers:[l1]})}return i})();var c1=(()=>{class i{_platform=y(We);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return u1(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let n=d1(b1(e));if(n&&(_b(n)===-1||!this.isVisible(n)))return!1;let r=e.nodeName.toLowerCase(),o=_b(e);return e.hasAttribute("contenteditable")?o!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!_1(e)?!1:r==="audio"?e.hasAttribute("controls")?o!==-1:!1:r==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,n){return y1(e)&&!this.isDisabled(e)&&(n?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function d1(i){try{return i.frameElement}catch{return null}}function u1(i){return!!(i.offsetWidth||i.offsetHeight||typeof i.getClientRects=="function"&&i.getClientRects().length)}function h1(i){let t=i.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function m1(i){return f1(i)&&i.type=="hidden"}function p1(i){return g1(i)&&i.hasAttribute("href")}function f1(i){return i.nodeName.toLowerCase()=="input"}function g1(i){return i.nodeName.toLowerCase()=="a"}function vb(i){if(!i.hasAttribute("tabindex")||i.tabIndex===void 0)return!1;let t=i.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function _b(i){if(!vb(i))return null;let t=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function _1(i){let t=i.nodeName.toLowerCase(),e=t==="input"&&i.type;return e==="text"||e==="password"||t==="select"||t==="textarea"}function y1(i){return m1(i)?!1:h1(i)||p1(i)||i.hasAttribute("contenteditable")||vb(i)}function b1(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}var Om=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_enabled=!0;constructor(t,e,n,r,o=!1,s){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._injector=s,o||this.attachAnchors()}destroy(){let t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let n=this._getFirstTabbableElement(e);return n?.focus(t),!!n}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){let e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let n=0;n<e.length;n++){let r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let n=e.length-1;n>=0;n--){let r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?vn(t,{injector:this._injector}):setTimeout(t)}},wb=(()=>{class i{_checker=y(c1);_ngZone=y(ee);_document=y(De);_injector=y(be);constructor(){y(gt).load(ai)}create(e,n=!1){return new Om(e,this._checker,this._ngZone,this._document,n,this._injector)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Pm=(()=>{class i{_elementRef=y(Oe);_focusTrapFactory=y(wb);focusTrap;_previouslyFocusedElement=null;get enabled(){return this.focusTrap?.enabled||!1}set enabled(e){this.focusTrap&&(this.focusTrap.enabled=e)}autoCapture;constructor(){y(We).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(e){let n=e.autoCapture;n&&!n.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=ps(),this.focusTrap?.focusInitialElementWhenReady()}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",Pe],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",Pe]},exportAs:["cdkTrapFocus"],features:[ht]})}return i})(),Cb=new W("liveAnnouncerElement",{providedIn:"root",factory:()=>null}),Eb=new W("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),v1=0,Nm=(()=>{class i{_ngZone=y(ee);_defaultOptions=y(Eb,{optional:!0});_liveElement;_document=y(De);_previousTimeout;_currentPromise;_currentResolve;constructor(){let e=y(Cb,{optional:!0});this._liveElement=e||this._createLiveElement()}announce(e,...n){let r=this._defaultOptions,o,s;return n.length===1&&typeof n[0]=="number"?s=n[0]:[o,s]=n,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),s==null&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",n=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<n.length;o++)n[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${v1++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){let n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){let o=n[r],s=o.getAttribute("aria-owns");s?s.indexOf(e)===-1&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var xr=(function(i){return i[i.NONE=0]="NONE",i[i.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",i[i.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",i})(xr||{}),yb="cdk-high-contrast-black-on-white",bb="cdk-high-contrast-white-on-black",km="cdk-high-contrast-active",Sb=(()=>{class i{_platform=y(We);_hasCheckedHighContrastMode;_document=y(De);_breakpointSubscription;constructor(){this._breakpointSubscription=y(Mm).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return xr.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return xr.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return xr.BLACK_ON_WHITE}return xr.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(km,yb,bb),this._hasCheckedHighContrastMode=!0;let n=this.getHighContrastMode();n===xr.BLACK_ON_WHITE?e.add(km,yb):n===xr.WHITE_ON_BLACK&&e.add(km,bb)}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Fm=(()=>{class i{constructor(){y(Sb)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({imports:[xd]})}return i})();var Lm={},Ot=class i{_appId=y(Br);static _infix=`a${Math.floor(Math.random()*1e5).toString()}`;getId(t,e=!1){return this._appId!=="ng"&&(t+=this._appId),Lm.hasOwnProperty(t)||(Lm[t]=0),`${t}${e?i._infix+"-":""}${Lm[t]++}`}static \u0275fac=function(e){return new(e||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})};var w1=200,Ad=class{_letterKeyStream=new de;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new de;selectedItem=this._selectedItem;constructor(t,e){let n=typeof e?.debounceInterval=="number"?e.debounceInterval:w1;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(t),this._setupKeyHandler(n)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){let e=t.keyCode;t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe(qt(e=>this._pressedLetters.push(e)),lc(t),Ge(()=>this._pressedLetters.length>0),$e(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let n=1;n<this._items.length+1;n++){let r=(this._selectedItemIndex+n)%this._items.length,o=this._items[r];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};function xt(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}var Td=class{_items;_activeItemIndex=Ve(-1);_activeItem=Ve(null);_wrap=!1;_typeaheadSubscription=rt.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=t=>t.disabled;constructor(t,e){this._items=t,t instanceof Dh?this._itemChangesSubscription=t.changes.subscribe(n=>this._itemsChanged(n.toArray())):Ur(t)&&(this._effectRef=sr(()=>this._itemsChanged(t()),{injector:e}))}tabOut=new de;change=new de;skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new Ad(e,{debounceInterval:typeof t=="number"?t:void 0,skipPredicate:n=>this._skipPredicateFn(n)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(n=>{this.setActiveItem(n)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){let e=this._activeItem();this.updateActiveItem(t),this._activeItem()!==e&&this.change.next(this._activeItemIndex())}onKeydown(t){let e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex()+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(r||xt(t,"shiftKey"))&&this._typeahead?.handleKey(t);return}this._typeahead?.reset(),t.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){let e=this._getItemsArray(),n=typeof t=="number"?t:e.indexOf(t),r=e[n];this._activeItem.set(r??null),this._activeItemIndex.set(n),this._typeahead?.setCurrentSelectedItemIndex(n)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){let e=this._getItemsArray();for(let n=1;n<=e.length;n++){let r=(this._activeItemIndex()+t*n+e.length)%e.length,o=e[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex()+t,t)}_setActiveItemByIndex(t,e){let n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(t+=e,!n[t])return;this.setActiveItem(t)}}_getItemsArray(){return Ur(this._items)?this._items():this._items instanceof Dh?this._items.toArray():this._items}_itemsChanged(t){this._typeahead?.setItems(t);let e=this._activeItem();if(e){let n=t.indexOf(e);n>-1&&n!==this._activeItemIndex()&&(this._activeItemIndex.set(n),this._typeahead?.setCurrentSelectedItemIndex(n))}}};var rl=class extends Td{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}};var Ab=" ";function jm(i,t,e){let n=kd(i,t);e=e.trim(),!n.some(r=>r.trim()===e)&&(n.push(e),i.setAttribute(t,n.join(Ab)))}function Od(i,t,e){let n=kd(i,t);e=e.trim();let r=n.filter(o=>o!==e);r.length?i.setAttribute(t,r.join(Ab)):i.removeAttribute(t)}function kd(i,t){return i.getAttribute(t)?.match(/\S+/g)??[]}var Tb="cdk-describedby-message",Md="cdk-describedby-host",Bm=0,Db=(()=>{class i{_platform=y(We);_document=y(De);_messageRegistry=new Map;_messagesContainer=null;_id=`${Bm++}`;constructor(){y(gt).load(ai),this._id=y(Br)+"-"+Bm++}describe(e,n,r){if(!this._canBeDescribed(e,n))return;let o=Vm(n,r);typeof n!="string"?(xb(n,this._id),this._messageRegistry.set(o,{messageElement:n,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(n,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,n,r){if(!n||!this._isElementNode(e))return;let o=Vm(n,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),typeof n=="string"){let s=this._messageRegistry.get(o);s&&s.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let e=this._document.querySelectorAll(`[${Md}="${this._id}"]`);for(let n=0;n<e.length;n++)this._removeCdkDescribedByReferenceIds(e[n]),e[n].removeAttribute(Md);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,n){let r=this._document.createElement("div");xb(r,this._id),r.textContent=e,n&&r.setAttribute("role",n),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(Vm(e,n),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;let e="cdk-describedby-message-container",n=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<n.length;o++)n[o].remove();let r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){let n=kd(e,"aria-describedby").filter(r=>r.indexOf(Tb)!=0);e.setAttribute("aria-describedby",n.join(" "))}_addMessageReference(e,n){let r=this._messageRegistry.get(n);jm(e,"aria-describedby",r.messageElement.id),e.setAttribute(Md,this._id),r.referenceCount++}_removeMessageReference(e,n){let r=this._messageRegistry.get(n);r.referenceCount--,Od(e,"aria-describedby",r.messageElement.id),e.removeAttribute(Md)}_isElementDescribedByMessage(e,n){let r=kd(e,"aria-describedby"),o=this._messageRegistry.get(n),s=o&&o.messageElement.id;return!!s&&r.indexOf(s)!=-1}_canBeDescribed(e,n){if(!this._isElementNode(e))return!1;if(n&&typeof n=="object")return!0;let r=n==null?"":`${n}`.trim(),o=e.getAttribute("aria-label");return r?!o||o.trim()!==r:!1}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Vm(i,t){return typeof i=="string"?`${t||""}/${i}`:i}function xb(i,t){i.id||(i.id=`${Tb}-${t}-${Bm++}`)}var C1=new W("cdk-dir-doc",{providedIn:"root",factory:()=>y(De)}),E1=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Rb(i){let t=i?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?E1.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var fn=(()=>{class i{get value(){return this.valueSignal()}valueSignal=Ve("ltr");change=new ue;constructor(){let e=y(C1,{optional:!0});if(e){let n=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.valueSignal.set(Rb(n||r||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var st=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({})}return i})();function _t(i){return i==null?"":typeof i=="string"?i:`${i}px`}function $i(i){return i!=null&&`${i}`!="false"}function Mb(i,t=/\s+/){let e=[];if(i!=null){let n=Array.isArray(i)?i:`${i}`.split(t);for(let r of n){let o=`${r}`.trim();o&&e.push(o)}}return e}var ao;function kb(){if(ao==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return ao=!1,ao;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)ao=!0;else{let i=Element.prototype.scrollTo;i?ao=!/\{\s*\[native code\]\s*\}/.test(i.toString()):ao=!1}}return ao}function Um(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var bs,Ob=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function zm(){if(bs)return bs;if(typeof document!="object"||!document)return bs=new Set(Ob),bs;let i=document.createElement("input");return bs=new Set(Ob.filter(t=>(i.setAttribute("type",t),i.type===t))),bs}var $m=class{_box;_destroyed=new de;_resizeSubject=new de;_resizeObserver;_elementObservables=new Map;constructor(t){this._box=t,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new mi(e=>{let n=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),n.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Ge(e=>e.some(n=>n.target===t)),Eh({bufferSize:1,refCount:!0}),Je(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},Pb=(()=>{class i{_cleanupErrorListener;_observers=new Map;_ngZone=y(ee);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(e,n){let r=n?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new $m(r)),this._observers.get(r).observe(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var S1=new W("MATERIAL_ANIMATIONS"),Nb=null;function I1(){return y(S1,{optional:!0})?.animationsDisabled||y(jr,{optional:!0})==="NoopAnimations"?"di-disabled":(Nb??=y(ys).matchMedia("(prefers-reduced-motion)").matches,Nb?"reduced-motion":"enabled")}function Pt(){return I1()!=="enabled"}var x1=["notch"],A1=["matFormFieldNotchedOutline",""],T1=["*"],Fb=["iconPrefixContainer"],Lb=["textPrefixContainer"],Vb=["iconSuffixContainer"],Bb=["textSuffixContainer"],D1=["textField"],R1=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],M1=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function k1(i,t){i&1&&H(0,"span",21)}function O1(i,t){if(i&1&&(m(0,"label",20),Xe(1,1),K(2,k1,1,0,"span",21),f()),i&2){let e=A(2);U("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),Me("for",e._control.disableAutomaticLabeling?null:e._control.id),u(2),G(!e.hideRequiredMarker&&e._control.required?2:-1)}}function P1(i,t){if(i&1&&K(0,O1,3,5,"label",20),i&2){let e=A();G(e._hasFloatingLabel()?0:-1)}}function N1(i,t){i&1&&H(0,"div",7)}function F1(i,t){}function L1(i,t){if(i&1&&Ni(0,F1,0,0,"ng-template",13),i&2){A(2);let e=Et(1);U("ngTemplateOutlet",e)}}function V1(i,t){if(i&1&&(m(0,"div",9),K(1,L1,1,1,null,13),f()),i&2){let e=A();U("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),u(),G(e._forceDisplayInfixLabel()?-1:1)}}function B1(i,t){i&1&&(m(0,"div",10,2),Xe(2,2),f())}function j1(i,t){i&1&&(m(0,"div",11,3),Xe(2,3),f())}function U1(i,t){}function z1(i,t){if(i&1&&Ni(0,U1,0,0,"ng-template",13),i&2){A();let e=Et(1);U("ngTemplateOutlet",e)}}function $1(i,t){i&1&&(m(0,"div",14,4),Xe(2,4),f())}function q1(i,t){i&1&&(m(0,"div",15,5),Xe(2,5),f())}function H1(i,t){i&1&&H(0,"div",16)}function W1(i,t){i&1&&(m(0,"div",18),Xe(1,6),f())}function K1(i,t){if(i&1&&(m(0,"mat-hint",22),_(1),f()),i&2){let e=A(2);U("id",e._hintLabelId),u(),T(e.hintLabel)}}function G1(i,t){if(i&1&&(m(0,"div",19),K(1,K1,2,2,"mat-hint",22),Xe(2,7),H(3,"div",23),Xe(4,8),f()),i&2){let e=A();u(),G(e.hintLabel?1:-1)}}var ol=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["mat-label"]]})}return i})(),Y1=new W("MatError");var qm=(()=>{class i{align="start";id=y(Ot).getId("mat-mdc-hint-");static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,r){n&2&&(wn("id",r.id),Me("align",null),me("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"}})}return i})(),Q1=new W("MatPrefix");var Wb=new W("MatSuffix"),Hm=(()=>{class i{set _isTextSelector(e){this._isText=!0}_isText=!1;static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},features:[Cn([{provide:Wb,useExisting:i}])]})}return i})(),Kb=new W("FloatingLabelParent"),jb=(()=>{class i{_elementRef=y(Oe);get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=y(Pb);_ngZone=y(ee);_parent=y(Kb);_resizeSubscription=new rt;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return X1(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,r){n&2&&me("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return i})();function X1(i){let t=i;if(t.offsetParent!==null)return t.scrollWidth;let e=t.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);let n=e.scrollWidth;return e.remove(),n}var Ub="mdc-line-ripple--active",Pd="mdc-line-ripple--deactivating",zb=(()=>{class i{_elementRef=y(Oe);_cleanupTransitionEnd;constructor(){let e=y(ee),n=y(At);e.runOutsideAngular(()=>{this._cleanupTransitionEnd=n.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let e=this._elementRef.nativeElement.classList;e.remove(Pd),e.add(Ub)}deactivate(){this._elementRef.nativeElement.classList.add(Pd)}_handleTransitionEnd=e=>{let n=this._elementRef.nativeElement.classList,r=n.contains(Pd);e.propertyName==="opacity"&&r&&n.remove(Ub,Pd)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return i})(),$b=(()=>{class i{_elementRef=y(Oe);_ngZone=y(ee);open=!1;_notch;ngAfterViewInit(){let e=this._elementRef.nativeElement,n=e.querySelector(".mdc-floating-label");n?(e.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(n.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>n.style.transitionDuration="")}))):e.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){let n=this._notch.nativeElement;!this.open||!e?n.style.width="":n.style.width=`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}_setMaxWidth(e){this._notch.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${e}px)`)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,r){if(n&1&&Ct(x1,5),n&2){let o;Se(o=Ie())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,r){n&2&&me("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:A1,ngContentSelectors:T1,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(n,r){n&1&&(Wt(),gi(0,"div",1),Ee(1,"div",2,0),Xe(3),ve(),gi(4,"div",3))},encapsulation:2,changeDetection:0})}return i})(),vs=(()=>{class i{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;describedByIds;static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i})}return i})();var lo=new W("MatFormField"),Z1=new W("MAT_FORM_FIELD_DEFAULT_OPTIONS"),qb="fill",J1="auto",Hb="fixed",eD="translateY(-50%)",Nd=(()=>{class i{_elementRef=y(Oe);_changeDetectorRef=y(dt);_platform=y(We);_idGenerator=y(Ot);_ngZone=y(ee);_defaults=y(Z1,{optional:!0});_currentDirection;_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_iconPrefixContainerSignal=ya("iconPrefixContainer");_textPrefixContainerSignal=ya("textPrefixContainer");_iconSuffixContainerSignal=ya("iconSuffixContainer");_textSuffixContainerSignal=ya("textSuffixContainer");_prefixSuffixContainers=_a(()=>[this._iconPrefixContainerSignal(),this._textPrefixContainerSignal(),this._iconSuffixContainerSignal(),this._textSuffixContainerSignal()].map(e=>e?.nativeElement).filter(e=>e!==void 0));_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=J_(ol);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=$i(e)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||J1}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearanceSignal()}set appearance(e){let n=e||this._defaults?.appearance||qb;this._appearanceSignal.set(n)}_appearanceSignal=Ve(qb);get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||Hb}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||Hb}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_describedByIds;get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}_destroyed=new de;_isFocused=null;_explicitFormFieldControl;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_outlineLabelOffsetResizeObserver=null;_animationsDisabled=Pt();constructor(){let e=this._defaults,n=y(fn);e&&(e.appearance&&(this.appearance=e.appearance),this._hideRequiredMarker=!!e?.hideRequiredMarker,e.color&&(this.color=e.color)),sr(()=>this._currentDirection=n.valueSignal()),this._syncOutlineLabelOffset()}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._outlineLabelOffsetResizeObserver?.disconnect(),this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=_a(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(e){let n=this._control,r="mat-mdc-form-field-type-";e&&this._elementRef.nativeElement.classList.remove(r+e.controlType),n.controlType&&this._elementRef.nativeElement.classList.add(r+n.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=n.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=n.stateChanges.pipe($t([void 0,void 0]),$e(()=>[n.errorState,n.userAriaDescribedBy]),ma(),Ge(([[o,s],[l,c]])=>o!==l||s!==c)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),n.ngControl&&n.ngControl.valueChanges&&(this._valueChanges=n.ngControl.valueChanges.pipe(Je(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),pi(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){let e=this._control.focused;e&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!e&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._elementRef.nativeElement.classList.toggle("mat-focused",e),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",e)}_syncOutlineLabelOffset(){ny({earlyRead:()=>{if(this._appearanceSignal()!=="outline")return this._outlineLabelOffsetResizeObserver?.disconnect(),null;if(globalThis.ResizeObserver){this._outlineLabelOffsetResizeObserver||=new globalThis.ResizeObserver(()=>{this._writeOutlinedLabelStyles(this._getOutlinedLabelOffset())});for(let e of this._prefixSuffixContainers())this._outlineLabelOffsetResizeObserver.observe(e,{box:"border-box"})}return this._getOutlinedLabelOffset()},write:e=>this._writeOutlinedLabelStyles(e())})}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=_a(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(e){let n=this._control?this._control.ngControl:null;return n&&n[e]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&e.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let o=this._hintChildren?this._hintChildren.find(l=>l.align==="start"):null,s=this._hintChildren?this._hintChildren.find(l=>l.align==="end"):null;o?e.push(o.id):this._hintLabel&&e.push(this._hintLabelId),s&&e.push(s.id)}else this._errorChildren&&e.push(...this._errorChildren.map(o=>o.id));let n=this._control.describedByIds,r;if(n){let o=this._describedByIds||e;r=e.concat(n.filter(s=>s&&!o.includes(s)))}else r=e;this._control.setDescribedByIds(r),this._describedByIds=e}}_getOutlinedLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return null;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return["",null];if(!this._isAttachedToDom())return null;let e=this._iconPrefixContainer?.nativeElement,n=this._textPrefixContainer?.nativeElement,r=this._iconSuffixContainer?.nativeElement,o=this._textSuffixContainer?.nativeElement,s=e?.getBoundingClientRect().width??0,l=n?.getBoundingClientRect().width??0,c=r?.getBoundingClientRect().width??0,h=o?.getBoundingClientRect().width??0,g=this._currentDirection==="rtl"?"-1":"1",v=`${s+l}px`,D=`calc(${g} * (${v} + var(--mat-mdc-form-field-label-offset-x, 0px)))`,I=`var(--mat-mdc-form-field-label-transform, ${eD} translateX(${D}))`,M=s+l+c+h;return[I,M]}_writeOutlinedLabelStyles(e){if(e!==null){let[n,r]=e;this._floatingLabel&&(this._floatingLabel.element.style.transform=n),r!==null&&this._notchedOutline?._setMaxWidth(r)}}_isAttachedToDom(){let e=this._elementRef.nativeElement;if(e.getRootNode){let n=e.getRootNode();return n&&n!==e}return document.documentElement.contains(e)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["mat-form-field"]],contentQueries:function(n,r,o){if(n&1&&(q_(o,r._labelChild,ol,5),ar(o,vs,5)(o,Q1,5)(o,Wb,5)(o,Y1,5)(o,qm,5)),n&2){Oh();let s;Se(s=Ie())&&(r._formFieldControl=s.first),Se(s=Ie())&&(r._prefixChildren=s),Se(s=Ie())&&(r._suffixChildren=s),Se(s=Ie())&&(r._errorChildren=s),Se(s=Ie())&&(r._hintChildren=s)}},viewQuery:function(n,r){if(n&1&&(H_(r._iconPrefixContainerSignal,Fb,5)(r._textPrefixContainerSignal,Lb,5)(r._iconSuffixContainerSignal,Vb,5)(r._textSuffixContainerSignal,Bb,5),Ct(D1,5)(Fb,5)(Lb,5)(Vb,5)(Bb,5)(jb,5)($b,5)(zb,5)),n&2){Oh(4);let o;Se(o=Ie())&&(r._textField=o.first),Se(o=Ie())&&(r._iconPrefixContainer=o.first),Se(o=Ie())&&(r._textPrefixContainer=o.first),Se(o=Ie())&&(r._iconSuffixContainer=o.first),Se(o=Ie())&&(r._textSuffixContainer=o.first),Se(o=Ie())&&(r._floatingLabel=o.first),Se(o=Ie())&&(r._notchedOutline=o.first),Se(o=Ie())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:38,hostBindings:function(n,r){n&2&&me("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Cn([{provide:lo,useExisting:i},{provide:Kb,useExisting:i}])],ngContentSelectors:M1,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],["aria-atomic","true","aria-live","polite",1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(n,r){if(n&1){let o=he();Wt(R1),Ni(0,P1,1,1,"ng-template",null,0,Y_),m(2,"div",6,1),q("click",function(l){return L(o),V(r._control.onContainerClick(l))}),K(4,N1,1,0,"div",7),m(5,"div",8),K(6,V1,2,2,"div",9),K(7,B1,3,0,"div",10),K(8,j1,3,0,"div",11),m(9,"div",12),K(10,z1,1,1,null,13),Xe(11),f(),K(12,$1,3,0,"div",14),K(13,q1,3,0,"div",15),f(),K(14,H1,1,0,"div",16),f(),m(15,"div",17),K(16,W1,2,0,"div",18)(17,G1,5,1,"div",19),f()}if(n&2){let o;u(2),me("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),u(2),G(!r._hasOutline()&&!r._control.disabled?4:-1),u(2),G(r._hasOutline()?6:-1),u(),G(r._hasIconPrefix?7:-1),u(),G(r._hasTextPrefix?8:-1),u(2),G(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),u(2),G(r._hasTextSuffix?12:-1),u(),G(r._hasIconSuffix?13:-1),u(),G(r._hasOutline()?-1:14),u(),me("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic");let s=r._getSubscriptMessageType();u(),G((o=s)==="error"?16:o==="hint"?17:-1)}},dependencies:[jb,$b,dy,zb,qm],styles:[`.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator,.mdc-text-field__input::-webkit-search-cancel-button{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-filled-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-filled-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-outlined-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-outlined-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-filled-error-caret-color, var(--mat-sys-error))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-outlined-error-caret-color, var(--mat-sys-error))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-filled-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-outlined-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mat-form-field-filled-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mat-form-field-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-filled-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-filled-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-filled-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-filled-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mat-form-field-filled-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-filled-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-filled-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-filled-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-outlined-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-outlined-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-outlined-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-outlined-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mat-form-field-outlined-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-outlined-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-outlined-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-outlined-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-outline-color, var(--mat-sys-outline));border-width:var(--mat-form-field-outlined-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mat-form-field-outlined-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{max-width:min(100%,calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mat-form-field-filled-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mat-form-field-filled-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}
`],encapsulation:2,changeDetection:0})}return i})();var co=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({imports:[xd,Nd,st]})}return i})();var Yn=(function(i){return i[i.FADING_IN=0]="FADING_IN",i[i.VISIBLE=1]="VISIBLE",i[i.FADING_OUT=2]="FADING_OUT",i[i.HIDDEN=3]="HIDDEN",i})(Yn||{}),Wm=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Yn.HIDDEN;constructor(t,e,n,r=!1){this._renderer=t,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},Gb=Ir({passive:!0,capture:!0}),Km=class{_events=new Map;addHandler(t,e,n,r){let o=this._events.get(e);if(o){let s=o.get(n);s?s.add(r):o.set(n,new Set([r]))}else this._events.set(e,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,Gb)})}removeHandler(t,e,n){let r=this._events.get(t);if(!r)return;let o=r.get(e);o&&(o.delete(n),o.size===0&&r.delete(e),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Gb)))}_delegateEventHandler=t=>{let e=Vt(t);e&&this._events.get(t.type)?.forEach((n,r)=>{(r===e||r.contains(e))&&n.forEach(o=>o.handleEvent(t))})}},sl={enterDuration:225,exitDuration:150},nD=800,Yb=Ir({passive:!0,capture:!0}),Qb=["mousedown","touchstart"],Xb=["mouseup","mouseleave","touchend","touchcancel"],iD=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return i})(),al=class i{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new Km;constructor(t,e,n,r,o){this._target=t,this._ngZone=e,this._platform=r,r.isBrowser&&(this._containerElement=Ln(n)),o&&o.get(gt).load(iD)}fadeInRipple(t,e,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=P(P({},sl),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);let s=n.radius||rD(t,e,r),l=t-r.left,c=e-r.top,h=o.enterDuration,g=document.createElement("div");g.classList.add("mat-ripple-element"),g.style.left=`${l-s}px`,g.style.top=`${c-s}px`,g.style.height=`${s*2}px`,g.style.width=`${s*2}px`,n.color!=null&&(g.style.backgroundColor=n.color),g.style.transitionDuration=`${h}ms`,this._containerElement.appendChild(g);let v=window.getComputedStyle(g),C=v.transitionProperty,D=v.transitionDuration,I=C==="none"||D==="0s"||D==="0s, 0s"||r.width===0&&r.height===0,M=new Wm(this,g,n,I);g.style.transform="scale3d(1, 1, 1)",M.state=Yn.FADING_IN,n.persistent||(this._mostRecentTransientRipple=M);let F=null;return!I&&(h||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let z=()=>{F&&(F.fallbackTimer=null),clearTimeout(Z),this._finishRippleTransition(M)},X=()=>this._destroyRipple(M),Z=setTimeout(X,h+100);g.addEventListener("transitionend",z),g.addEventListener("transitioncancel",X),F={onTransitionEnd:z,onTransitionCancel:X,fallbackTimer:Z}}),this._activeRipples.set(M,F),(I||!h)&&this._finishRippleTransition(M),M}fadeOutRipple(t){if(t.state===Yn.FADING_OUT||t.state===Yn.HIDDEN)return;let e=t.element,n=P(P({},sl),t.config.animation);e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",t.state=Yn.FADING_OUT,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=Ln(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,Qb.forEach(n=>{i._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Xb.forEach(e=>{this._triggerElement.addEventListener(e,this,Yb)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===Yn.FADING_IN?this._startFadeOutTransition(t):t.state===Yn.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=Yn.VISIBLE,!n&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=Yn.HIDDEN,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){let e=Za(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+nD;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Ja(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===Yn.VISIBLE||t.config.terminateOnPointerUp&&t.state===Yn.FADING_IN;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(Qb.forEach(e=>i._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(Xb.forEach(e=>t.removeEventListener(e,this,Yb)),this._pointerUpEventsRegistered=!1))}};function rD(i,t,e){let n=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(n*n+r*r)}var Gm=new W("mat-ripple-global-options"),Zb=(()=>{class i{_elementRef=y(Oe);_animationsDisabled=Pt();color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let e=y(ee),n=y(We),r=y(Gm,{optional:!0}),o=y(be);this._globalOptions=r||{},this._rippleRenderer=new al(this,e,this._elementRef,n,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:P(P(P({},this._globalOptions.animation),this._animationsDisabled?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,n=0,r){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,n,P(P({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,P(P({},this.rippleConfig),e))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,r){n&2&&me("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return i})();var Jb=(()=>{class i{_animationsDisabled=Pt();state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(n,r){n&2&&me("mat-pseudo-checkbox-indeterminate",r.state==="indeterminate")("mat-pseudo-checkbox-checked",r.state==="checked")("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal",r.appearance==="minimal")("mat-pseudo-checkbox-full",r.appearance==="full")("_mat-animation-noopable",r._animationsDisabled)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(n,r){},styles:[`.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-minimal-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-minimal-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-pseudo-checkbox-full-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-pseudo-checkbox-full-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-pseudo-checkbox-full-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-full-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-pseudo-checkbox-full-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-full-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}
`],encapsulation:2,changeDetection:0})}return i})();var ws=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["structural-styles"]],decls:0,vars:0,template:function(n,r){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus-visible::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return i})();var oD=["text"],sD=[[["mat-icon"]],"*"],aD=["mat-icon","*"];function lD(i,t){if(i&1&&H(0,"mat-pseudo-checkbox",1),i&2){let e=A();U("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function cD(i,t){if(i&1&&H(0,"mat-pseudo-checkbox",3),i&2){let e=A();U("disabled",e.disabled)}}function dD(i,t){if(i&1&&(m(0,"span",4),_(1),f()),i&2){let e=A();u(),$("(",e.group.label,")")}}var Qm=new W("MAT_OPTION_PARENT_COMPONENT"),Xm=new W("MatOptgroup");var Ym=class{source;isUserInput;constructor(t,e=!1){this.source=t,this.isUserInput=e}},Cs=(()=>{class i{_element=y(Oe);_changeDetectorRef=y(dt);_parent=y(Qm,{optional:!0});group=y(Xm,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=y(Ot).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled()}set disabled(e){this._disabled.set(e)}_disabled=Ve(!1);get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}onSelectionChange=new ue;_text;_stateChanges=new de;constructor(){let e=y(gt);e.load(ws),e.load(ai),this._signalDisableRipple=!!this._parent&&Ur(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,n){let r=this._getHostElement();typeof r.focus=="function"&&r.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!xt(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new Ym(this,e))}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["mat-option"]],viewQuery:function(n,r){if(n&1&&Ct(oD,7),n&2){let o;Se(o=Ie())&&(r._text=o.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(n,r){n&1&&q("click",function(){return r._selectViaInteraction()})("keydown",function(s){return r._handleKeydown(s)}),n&2&&(wn("id",r.id),Me("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),me("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",Pe]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:aD,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(n,r){n&1&&(Wt(sD),K(0,lD,1,2,"mat-pseudo-checkbox",1),Xe(1),m(2,"span",2,0),Xe(4,1),f(),K(5,cD,1,1,"mat-pseudo-checkbox",3),K(6,dD,2,1,"span",4),H(7,"div",5)),n&2&&(G(r.multiple?0:-1),u(5),G(!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator?5:-1),u(),G(r.group&&r.group._inert?6:-1),u(),U("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[Jb,Zb],styles:[`.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-active,.mat-mdc-option-multiple,:focus,:hover){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-active,.mat-mdc-option-multiple,:focus,:hover) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-pseudo-checkbox-minimal-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mat-list-list-item-selected-container-color: var(--mat-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return i})();function ev(i,t,e){if(e.length){let n=t.toArray(),r=e.toArray(),o=0;for(let s=0;s<i+1;s++)n[s].group&&n[s].group===r[o]&&o++;return o}return 0}function tv(i,t,e,n){return i<e?i:i+t>e+n?Math.max(0,i-n+t):e}var uD=20,Es=(()=>{class i{_ngZone=y(ee);_platform=y(We);_renderer=y(Ft).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new de;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=uD){return this._platform.isBrowser?new mi(n=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=e>0?this._scrolled.pipe(wh(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):fe()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){let r=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(Ge(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){let n=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&n.push(o)}),n}_scrollableContainsElement(e,n){let r=Ln(n),o=e.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var hD=20,Ar=(()=>{class i{_platform=y(We);_listeners;_viewportSize;_change=new de;_document=y(De);constructor(){let e=y(ee),n=y(Ft).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[n.listen("window","resize",r),n.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,n=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect(),s=-o.top||e.body.scrollTop||n.scrollY||r.scrollTop||0,l=-o.left||e.body.scrollLeft||n.scrollX||r.scrollLeft||0;return{top:s,left:l}}change(e=hD){return e>0?this._change.pipe(wh(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var uo=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({})}return i})(),Zm=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({imports:[st,uo,st,uo]})}return i})();var ll=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Tr=class extends ll{component;viewContainerRef;injector;projectableNodes;constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.projectableNodes=r}},Ss=class extends ll{templateRef;viewContainerRef;context;injector;constructor(t,e,n,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},Jm=class extends ll{element;constructor(t){super(),this.element=t instanceof Oe?t.nativeElement:t}},Fd=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof Tr)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Ss)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof Jm)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},Ld=class extends Fd{outletElement;_appRef;_defaultInjector;constructor(t,e,n){super(),this.outletElement=t,this._appRef=e,this._defaultInjector=n}attachComponentPortal(t){let e;if(t.viewContainerRef){let n=t.injector||t.viewContainerRef.injector,r=n.get(Rh,null,{optional:!0})||void 0;e=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:n,ngModuleRef:r,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else{let n=this._appRef,r=t.injector||this._defaultInjector||be.NULL,o=r.get(Ht,n.injector);e=yc(t.component,{elementInjector:r,environmentInjector:o,projectableNodes:t.projectableNodes||void 0}),n.attachView(e.hostView),this.setDisposeFn(()=>{n.viewCount>0&&n.detachView(e.hostView),e.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=t,e}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(n);r!==-1&&e.remove(r)}),this._attachedPortal=t,n}attachDomPortal=t=>{let e=t.element;e.parentNode;let n=this.outletElement.ownerDocument.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var ep=(()=>{class i extends Fd{_moduleRef=y(Rh,{optional:!0});_document=y(De);_viewContainerRef=y(ti);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new ue;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let n=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,r=n.createComponent(e.component,{index:n.length,injector:e.injector||n.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return n!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}attachDomPortal=e=>{let n=e.element;n.parentNode;let r=this._document.createComment("dom-portal");e.setAttachedHost(this),n.parentNode.insertBefore(r,n),this._getRootNode().appendChild(n),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(n,r)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[fi]})}return i})(),Vd=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({})}return i})();var nv=kb();function Hd(i){return new Bd(i.get(Ar),i.get(De))}var Bd=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,e){this._viewportRuler=t,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=_t(-this._previousScrollPosition.left),t.style.top=_t(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,n=t.style,r=e.style,o=n.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),nv&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),nv&&(n.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.documentElement,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}};function cv(i,t){return new jd(i.get(Es),i.get(ee),i.get(Ar),t)}var jd=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(Ge(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var cl=class{enable(){}disable(){}attach(){}};function tp(i,t){return t.some(e=>{let n=i.bottom<e.top,r=i.top>e.bottom,o=i.right<e.left,s=i.left>e.right;return n||r||o||s})}function iv(i,t){return t.some(e=>{let n=i.top<e.top,r=i.bottom>e.bottom,o=i.left<e.left,s=i.right>e.right;return n||r||o||s})}function qi(i,t){return new Ud(i.get(Es),i.get(Ar),i.get(ee),t)}var Ud=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();tp(e,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},dv=(()=>{class i{_injector=y(be);constructor(){}noop=()=>new cl;close=e=>cv(this._injector,e);block=()=>Hd(this._injector);reposition=e=>qi(this._injector,e);static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),mo=class{positionStrategy;scrollStrategy=new cl;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;usePopover;constructor(t){if(t){let e=Object.keys(t);for(let n of e)t[n]!==void 0&&(this[n]=t[n])}}};var zd=class{connectionPair;scrollableViewProperties;constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var uv=(()=>{class i{_attachedOverlays=[];_document=y(De);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),hv=(()=>{class i extends uv{_ngZone=y(ee);_renderer=y(Ft).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let n=this._attachedOverlays;for(let r=n.length-1;r>-1;r--)if(n[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>n[r]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=Pi(i)))(r||i)}})();static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),mv=(()=>{class i extends uv{_platform=y(We);_ngZone=y(ee);_renderer=y(Ft).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(e){if(super.add(e),!this._isAttached){let n=this._document.body,r={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(n,"pointerdown",this._pointerDownListener,r),o.listen(n,"click",this._clickListener,r),o.listen(n,"auxclick",this._clickListener,r),o.listen(n,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=Vt(e)};_clickListener=e=>{let n=Vt(e),r=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:n;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let l=o[s];if(l._outsidePointerEvents.observers.length<1||!l.hasAttached())continue;if(rv(l.overlayElement,n)||rv(l.overlayElement,r))break;let c=l._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>c.next(e)):c.next(e)}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=Pi(i)))(r||i)}})();static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function rv(i,t){let e=typeof ShadowRoot<"u"&&ShadowRoot,n=t;for(;n;){if(n===i)return!0;n=e&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var pv=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-overlay-popover{background:none;border:none;padding:0;outline:0;overflow:visible;position:fixed;pointer-events:none;white-space:normal;color:inherit;text-decoration:none;width:100%;height:100%;inset:auto;top:0;left:0}.cdk-overlay-popover::backdrop{display:none}.cdk-overlay-popover .cdk-overlay-backdrop{position:fixed;z-index:auto}
`],encapsulation:2,changeDetection:0})}return i})(),fv=(()=>{class i{_platform=y(We);_containerElement;_document=y(De);_styleLoader=y(gt);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||Um()){let r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let n=this._document.createElement("div");n.classList.add(e),Um()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}_loadStyles(){this._styleLoader.load(pv)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),np=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(t,e,n,r){this._renderer=e,this._ngZone=n,this.element=t.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let t=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),t.style.pointerEvents="none",t.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}};function ip(i){return i&&i.nodeType===1}var $d=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new de;_attachments=new de;_detachments=new de;_positionStrategy;_scrollStrategy;_locationChanges=rt.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_disposed;_previousHostParent;_keydownEvents=new de;_outsidePointerEvents=new de;_afterNextRenderRef;constructor(t,e,n,r,o,s,l,c,h,g=!1,v,C){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=l,this._location=c,this._outsideClickDispatcher=h,this._animationsDisabled=g,this._injector=v,this._renderer=C,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(t){if(this._disposed)return null;this._attachHost();let e=this._portalOutlet.attach(t);return this._positionStrategy?.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=vn(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){if(this._disposed)return;let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,t&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent(),this._disposed=!0}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=P(P({},this._config),t),this._updateElementSize()}setDirection(t){this._config=ie(P({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=_t(this._config.width),t.height=_t(this._config.height),t.minWidth=_t(this._config.minWidth),t.minHeight=_t(this._config.minHeight),t.maxWidth=_t(this._config.maxWidth),t.maxHeight=_t(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachHost(){if(!this._host.parentElement){let t=this._config.usePopover?this._positionStrategy?.getPopoverInsertionPoint?.():null;ip(t)?t.after(this._host):t?.type==="parent"?t.element.appendChild(this._host):this._previousHostParent?.appendChild(this._host)}if(this._config.usePopover)try{this._host.showPopover()}catch{}}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new np(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._config.usePopover?this._host.prepend(this._backdropRef.element):this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(t))}):this._backdropRef.element.classList.add(t)}_updateStackingOrder(){!this._config.usePopover&&this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(t,e,n){let r=_s(e||[]).filter(o=>!!o);r.length&&(n?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){let t=!1;try{this._detachContentAfterRenderRef=vn(()=>{t=!0,this._detachContent()},{injector:this._injector})}catch(e){if(t)throw e;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let t=this._scrollStrategy;t?.disable(),t?.detach?.()}},ov="cdk-overlay-connected-position-bounding-box",mD=/([A-Za-z%]+)$/;function fo(i,t){return new Is(t,i.get(Ar),i.get(De),i.get(We),i.get(fv))}var Is=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new de;_resizeSubscription=rt.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;_popoverLocation="global";positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(ov),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._getContainerRect();let t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[],s;for(let l of this._preferredPositions){let c=this._getOriginPoint(t,r,l),h=this._getOverlayPoint(c,e,l),g=this._getOverlayFit(h,e,n,l);if(g.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(l,c);return}if(this._canFitWithFlexibleDimensions(g,h,n)){o.push({position:l,origin:c,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(c,l)});continue}(!s||s.overlayFit.visibleArea<g.visibleArea)&&(s={overlayFit:g,overlayPoint:h,originPoint:c,position:l,overlayRect:e})}if(o.length){let l=null,c=-1;for(let h of o){let g=h.boundingBoxRect.width*h.boundingBoxRect.height*(h.position.weight||1);g>c&&(c=g,l=h)}this._isPushed=!1,this._applyPosition(l.position,l.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ho(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ov),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;t?(this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._getContainerRect(),this._applyPosition(t,this._getOriginPoint(this._originRect,this._containerRect,t))):this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}withPopoverLocation(t){return this._popoverLocation=t,this}getPopoverInsertionPoint(){return this._popoverLocation==="global"?null:this._popoverLocation!=="inline"?this._popoverLocation:this._origin instanceof Oe?this._origin.nativeElement:ip(this._origin)?this._origin:null}_getOriginPoint(t,e,n){let r;if(n.originX=="center")r=t.left+t.width/2;else{let s=this._isRtl()?t.right:t.left,l=this._isRtl()?t.left:t.right;r=n.originX=="start"?s:l}e.left<0&&(r-=e.left);let o;return n.originY=="center"?o=t.top+t.height/2:o=n.originY=="top"?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,n){let r;n.overlayX=="center"?r=-e.width/2:n.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let o;return n.overlayY=="center"?o=-e.height/2:o=n.overlayY=="top"?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,n,r){let o=av(e),{x:s,y:l}=t,c=this._getOffset(r,"x"),h=this._getOffset(r,"y");c&&(s+=c),h&&(l+=h);let g=0-s,v=s+o.width-n.width,C=0-l,D=l+o.height-n.height,I=this._subtractOverflows(o.width,g,v),M=this._subtractOverflows(o.height,C,D),F=I*M;return{visibleArea:F,isCompletelyWithinViewport:o.width*o.height===F,fitsInViewportVertically:M===o.height,fitsInViewportHorizontally:I==o.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){let r=n.bottom-e.y,o=n.right-e.x,s=sv(this._overlayRef.getConfig().minHeight),l=sv(this._overlayRef.getConfig().minWidth),c=t.fitsInViewportVertically||s!=null&&s<=r,h=t.fitsInViewportHorizontally||l!=null&&l<=o;return c&&h}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=av(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),l=Math.max(t.y+r.height-o.height,0),c=Math.max(o.top-n.top-t.y,0),h=Math.max(o.left-n.left-t.x,0),g=0,v=0;return r.width<=o.width?g=h||-s:g=t.x<this._getViewportMarginStart()?o.left-n.left-t.x:0,r.height<=o.height?v=c||-l:v=t.y<this._getViewportMarginTop()?o.top-n.top-t.y:0,this._previousPushAmount={x:g,y:v},{x:t.x+g,y:t.y+v}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!pD(this._lastScrollVisibility,n)){let r=new zd(t,n);this._positionChanges.next(r)}this._lastScrollVisibility=n}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,r=t.overlayY;t.overlayX==="center"?n="center":this._isRtl()?n=t.overlayX==="start"?"right":"left":n=t.overlayX==="start"?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){let n=this._viewportRect,r=this._isRtl(),o,s,l;if(e.overlayY==="top")s=t.y,o=n.height-s+this._getViewportMarginBottom();else if(e.overlayY==="bottom")l=n.height-t.y+this._getViewportMarginTop()+this._getViewportMarginBottom(),o=n.height-l+this._getViewportMarginTop();else{let D=Math.min(n.bottom-t.y+n.top,t.y),I=this._lastBoundingBoxSize.height;o=D*2,s=t.y-D,o>I&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-I/2)}let c=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,h=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,g,v,C;if(h)C=n.width-t.x+this._getViewportMarginStart()+this._getViewportMarginEnd(),g=t.x-this._getViewportMarginStart();else if(c)v=t.x,g=n.right-t.x-this._getViewportMarginEnd();else{let D=Math.min(n.right-t.x+n.left,t.x),I=this._lastBoundingBoxSize.width;g=D*2,v=t.x-D,g>I&&!this._isInitialRender&&!this._growAfterOpen&&(v=t.x-I/2)}return{top:s,left:v,bottom:l,right:C,width:g,height:o}}_setBoundingBoxStyles(t,e){let n=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right="auto",r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.width=_t(n.width),r.height=_t(n.height),r.top=_t(n.top)||"auto",r.bottom=_t(n.bottom)||"auto",r.left=_t(n.left)||"auto",r.right=_t(n.right)||"auto",e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=_t(o)),s&&(r.maxWidth=_t(s))}this._lastBoundingBoxSize=n,ho(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ho(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ho(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let g=this._viewportRuler.getViewportScrollPosition();ho(n,this._getExactOverlayY(e,t,g)),ho(n,this._getExactOverlayX(e,t,g))}else n.position="static";let l="",c=this._getOffset(e,"x"),h=this._getOffset(e,"y");c&&(l+=`translateX(${c}px) `),h&&(l+=`translateY(${h}px)`),n.transform=l.trim(),s.maxHeight&&(r?n.maxHeight=_t(s.maxHeight):o&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=_t(s.maxWidth):o&&(n.maxWidth="")),ho(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),t.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=_t(o.y);return r}_getExactOverlayX(t,e,n){let r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));let s;if(this._isRtl()?s=t.overlayX==="end"?"left":"right":s=t.overlayX==="end"?"right":"left",s==="right"){let l=this._document.documentElement.clientWidth;r.right=`${l-(o.x+this._overlayRect.width)}px`}else r.left=_t(o.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:iv(t,n),isOriginOutsideView:tp(t,n),isOverlayClipped:iv(e,n),isOverlayOutsideView:tp(e,n)}}_subtractOverflows(t,...e){return e.reduce((n,r)=>n-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._getViewportMarginTop(),left:n.left+this._getViewportMarginStart(),right:n.left+t-this._getViewportMarginEnd(),bottom:n.top+e-this._getViewportMarginBottom(),width:t-this._getViewportMarginStart()-this._getViewportMarginEnd(),height:e-this._getViewportMarginTop()-this._getViewportMarginBottom()}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&_s(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getViewportMarginStart(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.start??0}_getViewportMarginEnd(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.end??0}_getViewportMarginTop(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.top??0}_getViewportMarginBottom(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.bottom??0}_getOriginRect(){let t=this._origin;if(t instanceof Oe)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}_getContainerRect(){let t=this._overlayRef.getConfig().usePopover&&this._popoverLocation!=="global",e=this._overlayContainer.getContainerElement();t&&(e.style.display="block");let n=e.getBoundingClientRect();return t&&(e.style.display=""),n}};function ho(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function sv(i){if(typeof i!="number"&&i!=null){let[t,e]=i.split(mD);return!e||e==="px"?parseFloat(t):null}return i||null}function av(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}function pD(i,t){return i===t?!0:i.isOriginClipped===t.isOriginClipped&&i.isOriginOutsideView===t.isOriginOutsideView&&i.isOverlayClipped===t.isOverlayClipped&&i.isOverlayOutsideView===t.isOverlayOutsideView}var lv="cdk-global-overlay-wrapper";function Wd(i){return new qd}var qd=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(lv),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:l}=n,c=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),h=(o==="100%"||o==="100vh")&&(!l||l==="100%"||l==="100vh"),g=this._xPosition,v=this._xOffset,C=this._overlayRef.getConfig().direction==="rtl",D="",I="",M="";c?M="flex-start":g==="center"?(M="center",C?I=v:D=v):C?g==="left"||g==="end"?(M="flex-end",D=v):(g==="right"||g==="start")&&(M="flex-start",I=v):g==="left"||g==="start"?(M="flex-start",D=v):(g==="right"||g==="end")&&(M="flex-end",I=v),t.position=this._cssPosition,t.marginLeft=c?"0":D,t.marginTop=h?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=c?"0":I,e.justifyContent=M,e.alignItems=h?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(lv),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},gv=(()=>{class i{_injector=y(be);constructor(){}global(){return Wd()}flexibleConnectedTo(e){return fo(this._injector,e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),dl=new W("OVERLAY_DEFAULT_CONFIG");function go(i,t){i.get(gt).load(pv);let e=i.get(fv),n=i.get(De),r=i.get(Ot),o=i.get(zr),s=i.get(fn),l=i.get(At,null,{optional:!0})||i.get(Ft).createRenderer(null,null),c=new mo(t),h=i.get(dl,null,{optional:!0})?.usePopover??!0;c.direction=c.direction||s.value,"showPopover"in n.body?c.usePopover=t?.usePopover??h:c.usePopover=!1;let g=n.createElement("div"),v=n.createElement("div");g.id=r.getId("cdk-overlay-"),g.classList.add("cdk-overlay-pane"),v.appendChild(g),c.usePopover&&(v.setAttribute("popover","manual"),v.classList.add("cdk-overlay-popover"));let C=c.usePopover?c.positionStrategy?.getPopoverInsertionPoint?.():null;return e.getContainerElement().appendChild(v),ip(C)?C.after(v):C?.type==="parent"&&C.element.appendChild(v),new $d(new Ld(g,o,i),v,g,c,i.get(ee),i.get(hv),n,i.get(dr),i.get(mv),t?.disableAnimations??i.get(jr,null,{optional:!0})==="NoopAnimations",i.get(Ht),l)}var _v=(()=>{class i{scrollStrategies=y(dv);_positionBuilder=y(gv);_injector=y(be);constructor(){}create(e){return go(this._injector,e)}position(){return this._positionBuilder}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),fD=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],gD=new W("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let i=y(be);return()=>qi(i)}}),xs=(()=>{class i{elementRef=y(Oe);constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return i})(),yv=new W("cdk-connected-overlay-default-config"),Kd=(()=>{class i{_dir=y(fn,{optional:!0});_injector=y(be);_overlayRef;_templatePortal;_backdropSubscription=rt.EMPTY;_attachSubscription=rt.EMPTY;_detachSubscription=rt.EMPTY;_positionSubscription=rt.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=y(gD);_ngZone=y(ee);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;disposeOnNavigation=!1;usePopover;matchWidth=!1;set _config(e){typeof e!="string"&&this._assignConfig(e)}backdropClick=new ue;positionChange=new ue;attach=new ue;detach=new ue;overlayKeydown=new ue;overlayOutsideClick=new ue;constructor(){let e=y(ga),n=y(ti),r=y(yv,{optional:!0}),o=y(dl,{optional:!0});this.usePopover=o?.usePopover===!1?null:"global",this._templatePortal=new Ss(e,n),this.scrollStrategy=this._scrollStrategyFactory(),r&&this._assignConfig(r)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this._getWidth(),minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=fD);let e=this._overlayRef=go(this._injector,this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),n.keyCode===27&&!this.disableClose&&!xt(n)&&(n.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{let r=this._getOriginElement(),o=Vt(n);(!r||r!==o&&!r.contains(o))&&this.overlayOutsideClick.next(n)})}_buildConfig(){let e=this._position=this.positionStrategy||this._createPositionStrategy(),n=new mo({direction:this._dir||"ltr",positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation,usePopover:!!this.usePopover});return(this.height||this.height===0)&&(n.height=this.height),(this.minWidth||this.minWidth===0)&&(n.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(e){let n=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector).withPopoverLocation(this.usePopover===null?"global":this.usePopover)}_createPositionStrategy(){let e=fo(this._injector,this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof xs?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof xs?this.origin.elementRef.nativeElement:this.origin instanceof Oe?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_getWidth(){return this.width?this.width:this.matchWidth?this._getOriginElement()?.getBoundingClientRect?.().width:void 0}attachOverlay(){this._overlayRef||this._createOverlay();let e=this._overlayRef;e.getConfig().hasBackdrop=this.hasBackdrop,e.updateSize({width:this._getWidth()}),e.hasAttached()||e.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=e.backdropClick().subscribe(n=>this.backdropClick.emit(n)):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(T_(()=>this.positionChange.observers.length>0)).subscribe(n=>{this._ngZone.run(()=>this.positionChange.emit(n)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}_assignConfig(e){this.origin=e.origin??this.origin,this.positions=e.positions??this.positions,this.positionStrategy=e.positionStrategy??this.positionStrategy,this.offsetX=e.offsetX??this.offsetX,this.offsetY=e.offsetY??this.offsetY,this.width=e.width??this.width,this.height=e.height??this.height,this.minWidth=e.minWidth??this.minWidth,this.minHeight=e.minHeight??this.minHeight,this.backdropClass=e.backdropClass??this.backdropClass,this.panelClass=e.panelClass??this.panelClass,this.viewportMargin=e.viewportMargin??this.viewportMargin,this.scrollStrategy=e.scrollStrategy??this.scrollStrategy,this.disableClose=e.disableClose??this.disableClose,this.transformOriginSelector=e.transformOriginSelector??this.transformOriginSelector,this.hasBackdrop=e.hasBackdrop??this.hasBackdrop,this.lockPosition=e.lockPosition??this.lockPosition,this.flexibleDimensions=e.flexibleDimensions??this.flexibleDimensions,this.growAfterOpen=e.growAfterOpen??this.growAfterOpen,this.push=e.push??this.push,this.disposeOnNavigation=e.disposeOnNavigation??this.disposeOnNavigation,this.usePopover=e.usePopover??this.usePopover,this.matchWidth=e.matchWidth??this.matchWidth}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",Pe],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",Pe],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Pe],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Pe],push:[2,"cdkConnectedOverlayPush","push",Pe],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Pe],usePopover:[0,"cdkConnectedOverlayUsePopover","usePopover"],matchWidth:[2,"cdkConnectedOverlayMatchWidth","matchWidth",Pe],_config:[0,"cdkConnectedOverlay","_config"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[ht]})}return i})(),ul=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({providers:[_v],imports:[st,Vd,Zm,Zm]})}return i})();var hl=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new de;constructor(t=!1,e,n=!0,r){this._multiple=t,this._emitChanges=n,this.compareWith=r,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(n=>this._markSelected(n));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(n=>this._unmarkSelected(n));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);let e=this.selected,n=new Set(t.map(o=>this._getConcreteValue(o)));t.forEach(o=>this._markSelected(o)),e.filter(o=>!n.has(this._getConcreteValue(o,n))).forEach(o=>this._unmarkSelected(o));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();let e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){t.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(t,e){if(this.compareWith){e=e??this._selection;for(let n of e)if(this.compareWith(t,n))return n;return t}else return t}};var Gd=(()=>{class i{isErrorState(e,n){return!!(e&&e.invalid&&(e.touched||n&&n.submitted))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var As=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(t,e,n,r,o){this._defaultMatcher=t,this.ngControl=e,this._parentFormGroup=n,this._parentForm=r,this._stateChanges=o}updateErrorState(){let t=this.errorState,e=this._parentFormGroup||this._parentForm,n=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=n?.isErrorState(r,e)??!1;o!==t&&(this.errorState=o,this._stateChanges.next())}};var Yd=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({imports:[st]})}return i})();var bv=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({imports:[st]})}return i})();var Ts=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({imports:[Yd,bv,Cs,st]})}return i})();var _D=["trigger"],yD=["panel"],bD=[[["mat-select-trigger"]],"*"],vD=["mat-select-trigger","*"];function wD(i,t){if(i&1&&(m(0,"span",4),_(1),f()),i&2){let e=A();u(),T(e.placeholder)}}function CD(i,t){i&1&&Xe(0)}function ED(i,t){if(i&1&&(m(0,"span",11),_(1),f()),i&2){let e=A(2);u(),T(e.triggerValue)}}function SD(i,t){if(i&1&&(m(0,"span",5),K(1,CD,1,0)(2,ED,2,1,"span",11),f()),i&2){let e=A();u(),G(e.customTrigger?1:2)}}function ID(i,t){if(i&1){let e=he();m(0,"div",12,1),q("keydown",function(r){L(e);let o=A();return V(o._handleKeydown(r))}),Xe(2,1),f()}if(i&2){let e=A();kn(G_("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme())),me("mat-select-panel-animations-enabled",!e._animationsDisabled),U("ngClass",e.panelClass),Me("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var xD=new W("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let i=y(be);return()=>qi(i)}}),AD=new W("MAT_SELECT_CONFIG"),TD=new W("MatSelectTrigger"),rp=class{source;value;constructor(t,e){this.source=t,this.value=e}},vv=(()=>{class i{_viewportRuler=y(Ar);_changeDetectorRef=y(dt);_elementRef=y(Oe);_dir=y(fn,{optional:!0});_idGenerator=y(Ot);_renderer=y(At);_parentFormField=y(lo,{optional:!0});ngControl=y(Sa,{self:!0,optional:!0});_liveAnnouncer=y(Nm);_defaultOptions=y(AD,{optional:!0});_animationsDisabled=Pt();_popoverLocation;_initialized=new de;_cleanupDetach;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(e){let n=this.options.toArray()[e];if(n){let r=this.panel.nativeElement,o=ev(e,this.options,this.optionGroups),s=n._getHostElement();e===0&&o===1?r.scrollTop=0:r.scrollTop=tv(s.offsetTop,s.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new rp(this,e)}_scrollStrategyFactory=y(xD);_panelOpen=!1;_compareWith=(e,n)=>e===n;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new de;_errorStateTracker;stateChanges=new de;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;get disableRipple(){return this._disableRipple()}set disableRipple(e){this._disableRipple.set(e)}_disableRipple=Ve(!1);tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(Ko.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=Mo(()=>{let e=this.options;return e?e.changes.pipe($t(e),wt(()=>pi(...e.map(n=>n.onSelectionChange)))):this._initialized.pipe(wt(()=>this.optionSelectionChanges))});openedChange=new ue;_openedStream=this.openedChange.pipe(Ge(e=>e),$e(()=>{}));_closedStream=this.openedChange.pipe(Ge(e=>!e),$e(()=>{}));selectionChange=new ue;valueChange=new ue;constructor(){let e=y(Gd),n=y(Ia,{optional:!0}),r=y(xa,{optional:!0}),o=y(new Po("tabindex"),{optional:!0}),s=y(dl,{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new As(e,this.ngControl,r,n,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=o==null?0:parseInt(o)||0,this._popoverLocation=s?.usePopover===!1?null:"inline",this.id=this.id}ngOnInit(){this._selectionModel=new hl(this.multiple),this.stateChanges.next(),this._viewportRuler.change().pipe(Je(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Je(this._destroy)).subscribe(e=>{e.added.forEach(n=>n.select()),e.removed.forEach(n=>n.deselect())}),this.options.changes.pipe($t(null),Je(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),n=this.ngControl;if(e!==this._triggerAriaLabelledBy){let r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(this._previousControl!==void 0&&n.disabled!==null&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._cleanupDetach?.(),this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._cleanupDetach?.(),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._overlayDir.positionChange.pipe($n(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()}),this._overlayDir.attachOverlay(),this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!0)))}_trackedModal=null;_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let n=`${this.id}-panel`;this._trackedModal&&Od(this._trackedModal,"aria-owns",n),jm(e,"aria-owns",n),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;Od(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._exitAndDetach(),this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!1)))}_exitAndDetach(){if(this._animationsDisabled||!this.panel){this._detachOverlay();return}this._cleanupDetach?.(),this._cleanupDetach=()=>{n(),clearTimeout(r),this._cleanupDetach=void 0};let e=this.panel.nativeElement,n=this._renderer.listen(e,"animationend",o=>{o.animationName==="_mat-select-exit"&&(this._cleanupDetach?.(),this._detachOverlay())}),r=setTimeout(()=>{this._cleanupDetach?.(),this._detachOverlay()},200);e.classList.add("mat-select-panel-exit")}_detachOverlay(){this._overlayDir.detachOverlay(),this._changeDetectorRef.markForCheck()}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let n=e.keyCode,r=n===40||n===38||n===37||n===39,o=n===13||n===32,s=this._keyManager;if(!s.isTyping()&&o&&!xt(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){let l=this.selected;s.onKeydown(e);let c=this.selected;c&&l!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(e){let n=this._keyManager,r=e.keyCode,o=r===40||r===38,s=n.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(!s&&(r===13||r===32)&&n.activeItem&&!xt(e))e.preventDefault(),n.activeItem._selectViaInteraction();else if(!s&&this._multiple&&r===65&&e.ctrlKey){e.preventDefault();let l=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(l?c.select():c.deselect())})}else{let l=n.activeItemIndex;n.onKeydown(e),this._multiple&&o&&e.shiftKey&&n.activeItem&&n.activeItemIndex!==l&&n.activeItem._selectViaInteraction()}}_handleOverlayKeydown(e){e.keyCode===27&&!xt(e)&&(e.preventDefault(),this.close())}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{let n=this._selectOptionByValue(e);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let n=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return(r.value!=null||this.canSelectNullableOptions)&&this._compareWith(r.value,e)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_skipPredicate=e=>this.panelOpen?!1:e.disabled;_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof xs?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new rl(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=pi(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Je(e)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),pi(...this.options.map(n=>n._stateChanges)).pipe(Je(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,n){let r=this._selectionModel.isSelected(e);!this.canSelectNullableOptions&&e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),n&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),n&&this.focus())),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((n,r)=>this.sortComparator?this.sortComparator(n,r,e):e.indexOf(n)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let n;this.multiple?n=this.selected.map(r=>r.value):n=this.selected?this.selected.value:e,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let n=0;n<this.options.length;n++)if(!this.options.get(n).disabled){e=n;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0&&!!this._overlayDir}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||null,n=e?e+" ":"";return this.ariaLabelledby?n+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||"";return this.ariaLabelledby&&(e+=" "+this.ariaLabelledby),e||(e=this._valueId),e}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(e){let n=this._elementRef.nativeElement;e.length?n.setAttribute("aria-describedby",e.join(" ")):n.removeAttribute("aria-describedby")}onContainerClick(e){let n=Vt(e);n&&(n.tagName==="MAT-OPTION"||n.classList.contains("cdk-overlay-backdrop")||n.closest(".mat-mdc-select-panel"))||(this.focus(),this.open())}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["mat-select"]],contentQueries:function(n,r,o){if(n&1&&ar(o,TD,5)(o,Cs,5)(o,Xm,5),n&2){let s;Se(s=Ie())&&(r.customTrigger=s.first),Se(s=Ie())&&(r.options=s),Se(s=Ie())&&(r.optionGroups=s)}},viewQuery:function(n,r){if(n&1&&Ct(_D,5)(yD,5)(Kd,5),n&2){let o;Se(o=Ie())&&(r.trigger=o.first),Se(o=Ie())&&(r.panel=o.first),Se(o=Ie())&&(r._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:21,hostBindings:function(n,r){n&1&&q("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),n&2&&(Me("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),me("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple)("mat-select-open",r.panelOpen))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",Pe],disableRipple:[2,"disableRipple","disableRipple",Pe],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:ba(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Pe],placeholder:"placeholder",required:[2,"required","required",Pe],multiple:[2,"multiple","multiple",Pe],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",Pe],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",ba],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",Pe]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[Cn([{provide:vs,useExisting:i},{provide:Qm,useExisting:i}]),ht],ngContentSelectors:vD,decls:11,vars:10,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"detach","backdropClick","overlayKeydown","cdkConnectedOverlayDisableClose","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","cdkConnectedOverlayFlexibleDimensions","cdkConnectedOverlayUsePopover"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(n,r){if(n&1){let o=he();Wt(bD),m(0,"div",2,0),q("click",function(){return L(o),V(r.open())}),m(3,"div",3),K(4,wD,2,1,"span",4)(5,SD,3,1,"span",5),f(),m(6,"div",6)(7,"div",7),ki(),m(8,"svg",8),H(9,"path",9),f()()()(),Ni(10,ID,3,10,"ng-template",10),q("detach",function(){return L(o),V(r.close())})("backdropClick",function(){return L(o),V(r.close())})("overlayKeydown",function(l){return L(o),V(r._handleOverlayKeydown(l))})}if(n&2){let o=Et(1);u(3),Me("id",r._valueId),u(),G(r.empty?4:5),u(6),U("cdkConnectedOverlayDisableClose",!0)("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)("cdkConnectedOverlayFlexibleDimensions",!0)("cdkConnectedOverlayUsePopover",r._popoverLocation)}},dependencies:[xs,Kd,En],styles:[`@keyframes _mat-select-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-select-exit{from{opacity:1}to{opacity:0}}.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-select-open .mat-mdc-select-arrow{transform:rotate(180deg)}.mat-form-field-animations-enabled .mat-mdc-select-arrow{transition:transform 80ms linear}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:relative;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-select-panel-animations-enabled{animation:_mat-select-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-select-panel-animations-enabled.mat-select-panel-exit{animation:_mat-select-exit 100ms linear}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field:not(.mat-form-field-animations-enabled) .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}
`],encapsulation:2,changeDetection:0})}return i})();var wv=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({imports:[ul,Ts,st,uo,co,Ts]})}return i})();var RD=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[`textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}
`],encapsulation:2,changeDetection:0})}return i})(),MD={passive:!0},Cv=(()=>{class i{_platform=y(We);_ngZone=y(ee);_renderer=y(Ft).createRenderer(null,null);_styleLoader=y(gt);_monitoredElements=new Map;constructor(){}monitor(e){if(!this._platform.isBrowser)return ei;this._styleLoader.load(RD);let n=Ln(e),r=this._monitoredElements.get(n);if(r)return r.subject;let o=new de,s="cdk-text-field-autofilled",l=h=>{h.animationName==="cdk-text-field-autofill-start"&&!n.classList.contains(s)?(n.classList.add(s),this._ngZone.run(()=>o.next({target:h.target,isAutofilled:!0}))):h.animationName==="cdk-text-field-autofill-end"&&n.classList.contains(s)&&(n.classList.remove(s),this._ngZone.run(()=>o.next({target:h.target,isAutofilled:!1})))},c=this._ngZone.runOutsideAngular(()=>(n.classList.add("cdk-text-field-autofill-monitored"),this._renderer.listen(n,"animationstart",l,MD)));return this._monitoredElements.set(n,{subject:o,unlisten:c}),o}stopMonitoring(e){let n=Ln(e),r=this._monitoredElements.get(n);r&&(r.unlisten(),r.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((e,n)=>this.stopMonitoring(n))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Ev=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({})}return i})();var Qd=new W("MAT_INPUT_VALUE_ACCESSOR");var kD=["button","checkbox","file","hidden","image","radio","range","reset","submit"],OD=new W("MAT_INPUT_CONFIG"),Sv=(()=>{class i{_elementRef=y(Oe);_platform=y(We);ngControl=y(Sa,{optional:!0,self:!0});_autofillMonitor=y(Cv);_ngZone=y(ee);_formField=y(lo,{optional:!0});_renderer=y(At);_uid=y(Ot).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=y(OD,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new de;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=$i(e),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(e){this._id=e||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(Ko.required)??!1}set required(e){this._required=$i(e)}_required;get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&zm().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(e){e!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(e):this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=$i(e)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>zm().has(e));constructor(){let e=y(Ia,{optional:!0}),n=y(xa,{optional:!0}),r=y(Gd),o=y(Qd,{optional:!0,self:!0}),s=this._elementRef.nativeElement,l=s.nodeName.toLowerCase();o?Ur(o.value)?this._signalBasedValueAccessor=o:this._inputValueAccessor=o:this._inputValueAccessor=s,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(s,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new As(r,this.ngControl,n,e,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=l==="select",this._isTextarea=l==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=s.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&sr(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){if(e!==this.focused){if(!this._isNativeSelect&&e&&this.disabled&&this.disabledInteractive){let n=this._elementRef.nativeElement;n.type==="number"?(n.type="text",n.setSelectionRange(0,0),n.type="number"):n.setSelectionRange(0,0)}this.focused=e,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let n=this._elementRef.nativeElement;this._previousPlaceholder=e,e?n.setAttribute("placeholder",e):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){kD.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,n=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&n&&n.label)}else return this.focused&&!this.disabled||!this.empty}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(e){let n=this._elementRef.nativeElement;e.length?n.setAttribute("aria-describedby",e.join(" ")):n.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_iOSKeyupListener=e=>{let n=e.target;!n.value&&n.selectionStart===0&&n.selectionEnd===0&&(n.setSelectionRange(1,1),n.setSelectionRange(0,0))};_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(n,r){n&1&&q("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),n&2&&(wn("id",r.id)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),Me("name",r.name||null)("readonly",r._getReadonlyAttribute())("aria-disabled",r.disabled&&r.disabledInteractive?"true":null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),me("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mat-mdc-input-disabled-interactive",r.disabledInteractive)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Pe]},exportAs:["matInput"],features:[Cn([{provide:vs,useExisting:i}]),ht]})}return i})(),Iv=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({imports:[co,co,Ev,st]})}return i})();var op=new W("MAT_DATE_LOCALE",{providedIn:"root",factory:()=>y(X_)}),Ds="Method not implemented",rn=class{locale;_localeChanges=new de;localeChanges=this._localeChanges;setTime(t,e,n,r){throw new Error(Ds)}getHours(t){throw new Error(Ds)}getMinutes(t){throw new Error(Ds)}getSeconds(t){throw new Error(Ds)}parseTime(t,e){throw new Error(Ds)}addSeconds(t,e){throw new Error(Ds)}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return t==null||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}compareTime(t,e){return this.getHours(t)-this.getHours(e)||this.getMinutes(t)-this.getMinutes(e)||this.getSeconds(t)-this.getSeconds(e)}sameDate(t,e){if(t&&e){let n=this.isValid(t),r=this.isValid(e);return n&&r?!this.compareDate(t,e):n==r}return t==e}sameTime(t,e){if(t&&e){let n=this.isValid(t),r=this.isValid(e);return n&&r?!this.compareTime(t,e):n==r}return t==e}clampDate(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t}},Dr=new W("mat-date-formats");var ND={capture:!0},FD=["focus","mousedown","mouseenter","touchstart"],sp="mat-ripple-loader-uninitialized",ap="mat-ripple-loader-class-name",xv="mat-ripple-loader-centered",Xd="mat-ripple-loader-disabled",Av=(()=>{class i{_document=y(De);_animationsDisabled=Pt();_globalRippleOptions=y(Gm,{optional:!0});_platform=y(We);_ngZone=y(ee);_injector=y(be);_eventCleanups;_hosts=new Map;constructor(){let e=y(Ft).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>FD.map(n=>e.listen(this._document,n,this._onInteraction,ND)))}ngOnDestroy(){let e=this._hosts.keys();for(let n of e)this.destroyRipple(n);this._eventCleanups.forEach(n=>n())}configureRipple(e,n){e.setAttribute(sp,this._globalRippleOptions?.namespace??""),(n.className||!e.hasAttribute(ap))&&e.setAttribute(ap,n.className||""),n.centered&&e.setAttribute(xv,""),n.disabled&&e.setAttribute(Xd,"")}setDisabled(e,n){let r=this._hosts.get(e);r?(r.target.rippleDisabled=n,!n&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(e))):n?e.setAttribute(Xd,""):e.removeAttribute(Xd)}_onInteraction=e=>{let n=Vt(e);if(n instanceof HTMLElement){let r=n.closest(`[${sp}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(e){if(!this._document||this._hosts.has(e))return;e.querySelector(".mat-ripple")?.remove();let n=this._document.createElement("span");n.classList.add("mat-ripple",e.getAttribute(ap)),e.append(n);let r=this._globalRippleOptions,o=this._animationsDisabled?0:r?.animation?.enterDuration??sl.enterDuration,s=this._animationsDisabled?0:r?.animation?.exitDuration??sl.exitDuration,l={rippleDisabled:this._animationsDisabled||r?.disabled||e.hasAttribute(Xd),rippleConfig:{centered:e.hasAttribute(xv),terminateOnPointerUp:r?.terminateOnPointerUp,animation:{enterDuration:o,exitDuration:s}}},c=new al(l,this._ngZone,n,this._platform,this._injector),h=!l.rippleDisabled;h&&c.setupTriggerEvents(e),this._hosts.set(e,{target:l,renderer:c,hasSetUpEvents:h}),e.removeAttribute(sp)}destroyRipple(e){let n=this._hosts.get(e);n&&(n.renderer._removeTriggerEvents(),this._hosts.delete(e))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var LD=["mat-icon-button",""],VD=["*"],BD=new W("MAT_BUTTON_CONFIG");function Tv(i){return i==null?void 0:ba(i)}var lp=(()=>{class i{_elementRef=y(Oe);_ngZone=y(ee);_animationsDisabled=Pt();_config=y(BD,{optional:!0});_focusMonitor=y(gs);_cleanupClick;_renderer=y(At);_rippleLoader=y(Av);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(e){this.tabIndex=e}constructor(){y(gt).load(ws);let e=this._elementRef.nativeElement;this._isAnchor=e.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(e,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",n){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",e=>{this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(n,r){n&2&&(Me("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled())("tabindex",r._getTabIndex()),kn(r.color?"mat-"+r.color:""),me("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("mat-unthemed",!r.color)("_mat-animation-noopable",r._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Pe],disabled:[2,"disabled","disabled",Pe],ariaDisabled:[2,"aria-disabled","ariaDisabled",Pe],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Pe],tabIndex:[2,"tabIndex","tabIndex",Tv],_tabindex:[2,"tabindex","_tabindex",Tv]}})}return i})(),Zd=(()=>{class i extends lp{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["button","mat-icon-button",""],["a","mat-icon-button",""],["button","matIconButton",""],["a","matIconButton",""]],hostAttrs:[1,"mdc-icon-button","mat-mdc-icon-button"],exportAs:["matButton","matAnchor"],features:[fi],attrs:LD,ngContentSelectors:VD,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){n&1&&(Wt(),gi(0,"span",0),Xe(1),gi(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%));flex-shrink:0;text-align:center;width:var(--mat-icon-button-state-layer-size, 40px);height:var(--mat-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mat-icon-button-state-layer-size, 40px) - var(--mat-icon-button-icon-size, 24px)) / 2);font-size:var(--mat-icon-button-icon-size, 24px);color:var(--mat-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus-visible>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-icon-button-touch-target-size, 48px);display:var(--mat-icon-button-touch-target-display, block);left:50%;width:var(--mat-icon-button-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mat-icon-button-icon-size, 24px);height:var(--mat-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%))}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return i})();var jD=["matButton",""],UD=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],zD=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var Dv=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]),cp=(()=>{class i extends lp{get appearance(){return this._appearance}set appearance(e){this.setAppearance(e||this._config?.defaultAppearance||"text")}_appearance=null;constructor(){super();let e=$D(this._elementRef.nativeElement);e&&this.setAppearance(e)}setAppearance(e){if(e===this._appearance)return;let n=this._elementRef.nativeElement.classList,r=this._appearance?Dv.get(this._appearance):null,o=Dv.get(e);r&&n.remove(...r),n.add(...o),this._appearance=e}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[fi],attrs:jD,ngContentSelectors:zD,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){n&1&&(Wt(UD),gi(0,"span",0),Xe(1),Ee(2,"span",1),Xe(3,1),ve(),Xe(4,2),gi(5,"span",2)(6,"span",3)),n&2&&me("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mat-mdc-button-base .mat-icon{min-height:fit-content;flex-shrink:0}@media(hover: none){.mat-mdc-button-base:hover>span.mat-mdc-button-persistent-ripple::before{opacity:0}}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-text-touch-target-size, 48px);display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-filled-touch-target-size, 48px);display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-protected-touch-target-size, 48px);display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}@media(hover: hover){.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-outlined-touch-target-size, 48px);display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-tonal-touch-target-size, 48px);display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-raised-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus-visible>.mat-focus-indicator::before,.mat-tonal-button:focus-visible>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return i})();function $D(i){return i.hasAttribute("mat-raised-button")?"elevated":i.hasAttribute("mat-stroked-button")?"outlined":i.hasAttribute("mat-flat-button")?"filled":i.hasAttribute("mat-button")?"text":null}var Rv=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({imports:[Yd,st]})}return i})();var qD=["tooltip"],HD=20;var WD=new W("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let i=y(be);return()=>qi(i,{scrollThrottle:HD})}}),KD=new W("mat-tooltip-default-options",{providedIn:"root",factory:()=>({showDelay:0,hideDelay:0,touchendHideDelay:1500})});var Mv="tooltip-panel",kv=Ir({passive:!0}),GD=8,YD=8,QD=24,XD=200,Ov=(()=>{class i{_elementRef=y(Oe);_ngZone=y(ee);_platform=y(We);_ariaDescriber=y(Db);_focusMonitor=y(gs);_dir=y(fn);_injector=y(be);_viewContainerRef=y(ti);_mediaMatcher=y(ys);_animationsDisabled=Pt();_defaultOptions=y(KD,{optional:!0});_overlayRef;_tooltipInstance;_overlayPanelClass;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=ZD;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=$i(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let n=$i(e);this._disabled!==n&&(this._disabled=n,n?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=fs(e)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=fs(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(e){let n=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(n)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new de;_isDestroyed=!1;constructor(){let e=this._defaultOptions;e&&(this._showDelay=e.showDelay,this._hideDelay=e.hideDelay,e.position&&(this.position=e.position),e.positionAtOrigin&&(this.positionAtOrigin=e.positionAtOrigin),e.touchGestures&&(this.touchGestures=e.touchGestures),e.tooltipClass&&(this.tooltipClass=e.tooltipClass)),this._viewportMargin=GD}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Je(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,r])=>{e.removeEventListener(n,r,kv)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,n){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let r=this._createOverlay(n);this._detach(),this._portal=this._portal||new Tr(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Je(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){let n=this._tooltipInstance;n&&(n.isVisible()?n.hide(e):(n._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&s._origin instanceof Oe)return this._overlayRef;this._detach()}let n=this._injector.get(Es).getAncestorScrollContainers(this._elementRef),r=`${this._cssClassPrefix}-${Mv}`,o=fo(this._injector,this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n).withPopoverLocation("global");return o.positionChanges.pipe(Je(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=go(this._injector,{direction:this._dir,positionStrategy:o,panelClass:this._overlayPanelClass?[...this._overlayPanelClass,r]:r,scrollStrategy:this._injector.get(WD)(),disableAnimations:this._animationsDisabled}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Je(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Je(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Je(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&s.keyCode===27&&!xt(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(Je(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let n=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();n.withPositions([this._addOffset(P(P({},r.main),o.main)),this._addOffset(P(P({},r.fallback),o.fallback))])}_addOffset(e){let n=YD,r=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-n:e.originY==="bottom"?e.offsetY=n:e.originX==="start"?e.offsetX=r?-n:n:e.originX==="end"&&(e.offsetX=r?n:-n),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",n=this.position,r;n=="above"||n=="below"?r={originX:"center",originY:n=="above"?"top":"bottom"}:n=="before"||n=="left"&&e||n=="right"&&!e?r={originX:"start",originY:"center"}:(n=="after"||n=="right"&&e||n=="left"&&!e)&&(r={originX:"end",originY:"center"});let{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",n=this.position,r;n=="above"?r={overlayX:"center",overlayY:"bottom"}:n=="below"?r={overlayX:"center",overlayY:"top"}:n=="before"||n=="left"&&e||n=="right"&&!e?r={overlayX:"end",overlayY:"center"}:(n=="after"||n=="right"&&e||n=="left"&&!e)&&(r={overlayX:"start",overlayY:"center"});let{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),vn(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,n){return this.position==="above"||this.position==="below"?n==="top"?n="bottom":n==="bottom"&&(n="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:n}}_updateCurrentPositionClass(e){let{overlayY:n,originX:r,originY:o}=e,s;if(n==="center"?this._dir&&this._dir.value==="rtl"?s=r==="end"?"left":"right":s=r==="start"?"left":"right":s=n==="bottom"&&o==="top"?"above":"below",s!==this._currentPosition){let l=this._overlayRef;if(l){let c=`${this._cssClassPrefix}-${Mv}-`;l.removePanelClass(c+this._currentPosition),l.addPanelClass(c+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._isTouchPlatform()?this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let n=e.targetTouches?.[0],r=n?{x:n.clientX,y:n.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions?.touchLongPressShowDelay??o)}])):this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let n;e.x!==void 0&&e.y!==void 0&&(n=e),this.show(void 0,n)}]),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(!this._isTouchPlatform())e.push(["mouseleave",n=>{let r=n.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let n=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};e.push(["touchend",n],["touchcancel",n])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([n,r])=>{this._elementRef.nativeElement.addEventListener(n,r,kv)})}_isTouchPlatform(){return this._platform.IOS||this._platform.ANDROID?!0:this._platform.isBrowser?!!this._defaultOptions?.detectHoverCapability&&this._mediaMatcher.matchMedia("(any-hover: none)").matches:!1}_wheelListener(e){if(this._isTooltipVisible()){let n=this._injector.get(De).elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;n!==r&&!r.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let n=this._elementRef.nativeElement,r=n.style;(e==="on"||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA")&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),(e==="on"||!n.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._isDestroyed||vn({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(n,r){n&2&&me("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return i})(),ZD=(()=>{class i{_changeDetectorRef=y(dt);_elementRef=y(Oe);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled=Pt();_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new de;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>QD&&e.width>=XD}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let n=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(n.classList.remove(e?o:r),n.classList.add(e?r:o),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(n);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["mat-tooltip-component"]],viewQuery:function(n,r){if(n&1&&Ct(qD,7),n&2){let o;Se(o=Ie())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(n,r){n&1&&q("mouseleave",function(s){return r._handleMouseLeave(s)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(n,r){if(n&1){let o=he();m(0,"div",1,0),q("animationend",function(l){return L(o),V(r._handleAnimationEnd(l))}),m(2,"div",2),_(3),f()()}n&2&&(me("mdc-tooltip--multiline",r._isMultiline),U("ngClass",r.tooltipClass),u(3),T(r.message))},dependencies:[En],styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mat-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mat-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mat-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mat-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mat-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mat-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return i})();var JD=["mat-calendar-body",""];function eR(i,t){return this._trackRow(t)}var jv=(i,t)=>t.id;function tR(i,t){if(i&1&&(m(0,"tr",0)(1,"td",3),_(2),f()()),i&2){let e=A();u(),Li("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Me("colspan",e.numCols),u(),$(" ",e.label," ")}}function nR(i,t){if(i&1&&(m(0,"td",3),_(1),f()),i&2){let e=A(2);Li("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Me("colspan",e._firstRowOffset),u(),$(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function iR(i,t){if(i&1){let e=he();m(0,"td",6)(1,"button",7),q("click",function(r){let o=L(e).$implicit,s=A(2);return V(s._cellClicked(o,r))})("focus",function(r){let o=L(e).$implicit,s=A(2);return V(s._emitActiveDateChange(o,r))}),m(2,"span",8),_(3),f(),H(4,"span",9),f()()}if(i&2){let e=t.$implicit,n=t.$index,r=A().$index,o=A();Li("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),Me("data-mat-row",r)("data-mat-col",n),u(),me("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",o._isActiveCell(r,n))("mat-calendar-body-range-start",o._isRangeStart(e.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",o._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(e.compareValue,r,n))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(e.compareValue,r,n))("mat-calendar-body-comparison-start",o._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",o._isInPreview(e.compareValue)),U("ngClass",e.cssClasses)("tabindex",o._isActiveCell(r,n)?0:-1),Me("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",o._isSelected(e.compareValue))("aria-current",o.todayValue===e.compareValue?"date":null)("aria-describedby",o._getDescribedby(e.compareValue)),u(),me("mat-calendar-body-selected",o._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",o.todayValue===e.compareValue),u(),$(" ",e.displayValue," ")}}function rR(i,t){if(i&1&&(m(0,"tr",1),K(1,nR,2,6,"td",4),we(2,iR,5,48,"td",5,jv),f()),i&2){let e=t.$implicit,n=t.$index,r=A();u(),G(n===0&&r._firstRowOffset?1:-1),u(),Ce(e)}}function oR(i,t){if(i&1&&(m(0,"th",2)(1,"span",6),_(2),f(),m(3,"span",3),_(4),f()()),i&2){let e=t.$implicit;u(2),T(e.long),u(2),T(e.narrow)}}var sR=["*"];function aR(i,t){}function lR(i,t){if(i&1){let e=he();m(0,"mat-month-view",4),le("activeDateChange",function(r){L(e);let o=A();return ae(o.activeDate,r)||(o.activeDate=r),V(r)}),q("_userSelection",function(r){L(e);let o=A();return V(o._dateSelected(r))})("dragStarted",function(r){L(e);let o=A();return V(o._dragStarted(r))})("dragEnded",function(r){L(e);let o=A();return V(o._dragEnded(r))}),f()}if(i&2){let e=A();se("activeDate",e.activeDate),U("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function cR(i,t){if(i&1){let e=he();m(0,"mat-year-view",5),le("activeDateChange",function(r){L(e);let o=A();return ae(o.activeDate,r)||(o.activeDate=r),V(r)}),q("monthSelected",function(r){L(e);let o=A();return V(o._monthSelectedInYearView(r))})("selectedChange",function(r){L(e);let o=A();return V(o._goToDateInView(r,"month"))}),f()}if(i&2){let e=A();se("activeDate",e.activeDate),U("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function dR(i,t){if(i&1){let e=he();m(0,"mat-multi-year-view",6),le("activeDateChange",function(r){L(e);let o=A();return ae(o.activeDate,r)||(o.activeDate=r),V(r)}),q("yearSelected",function(r){L(e);let o=A();return V(o._yearSelectedInMultiYearView(r))})("selectedChange",function(r){L(e);let o=A();return V(o._goToDateInView(r,"year"))}),f()}if(i&2){let e=A();se("activeDate",e.activeDate),U("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function uR(i,t){}var hR=["button"],mR=[[["","matDatepickerToggleIcon",""]]],pR=["[matDatepickerToggleIcon]"];function fR(i,t){i&1&&(ki(),m(0,"svg",2),H(1,"path",3),f())}var ks=(()=>{class i{changes=new de;calendarLabel="Calendar";openCalendarLabel="Open calendar";closeCalendarLabel="Close calendar";prevMonthLabel="Previous month";nextMonthLabel="Next month";prevYearLabel="Previous year";nextYearLabel="Next year";prevMultiYearLabel="Previous 24 years";nextMultiYearLabel="Next 24 years";switchToMonthViewLabel="Choose date";switchToMultiYearViewLabel="Choose month and year";startDateLabel="Start date";endDateLabel="End date";comparisonDateLabel="Comparison range";formatYearRange(e,n){return`${e} \u2013 ${n}`}formatYearRangeLabel(e,n){return`${e} to ${n}`}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),gR=0,pl=class{value;displayValue;ariaLabel;enabled;cssClasses;compareValue;rawValue;id=gR++;constructor(t,e,n,r,o={},s=t,l){this.value=t,this.displayValue=e,this.ariaLabel=n,this.enabled=r,this.cssClasses=o,this.compareValue=s,this.rawValue=l}},_R={passive:!1,capture:!0},Jd={passive:!0,capture:!0},Pv={passive:!0},Ms=(()=>{class i{_elementRef=y(Oe);_ngZone=y(ee);_platform=y(We);_intl=y(ks);_eventCleanups;_skipNextFocus;_focusActiveCellAfterViewChecked=!1;label;rows;todayValue;startValue;endValue;labelMinRequiredCells;numCols=7;activeCell=0;ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}isRange=!1;cellAspectRatio=1;comparisonStart;comparisonEnd;previewStart=null;previewEnd=null;startDateAccessibleName;endDateAccessibleName;selectedValueChange=new ue;previewChange=new ue;activeDateChange=new ue;dragStarted=new ue;dragEnded=new ue;_firstRowOffset;_cellPadding;_cellWidth;_startDateLabelId;_endDateLabelId;_comparisonStartDateLabelId;_comparisonEndDateLabelId;_didDragSinceMouseDown=!1;_injector=y(be);comparisonDateAccessibleName=this._intl.comparisonDateLabel;_trackRow=e=>e;constructor(){let e=y(At),n=y(Ot);this._startDateLabelId=n.getId("mat-calendar-body-start-"),this._endDateLabelId=n.getId("mat-calendar-body-end-"),this._comparisonStartDateLabelId=n.getId("mat-calendar-body-comparison-start-"),this._comparisonEndDateLabelId=n.getId("mat-calendar-body-comparison-end-"),y(gt).load(ws),this._ngZone.runOutsideAngular(()=>{let r=this._elementRef.nativeElement,o=[e.listen(r,"touchmove",this._touchmoveHandler,_R),e.listen(r,"mouseenter",this._enterHandler,Jd),e.listen(r,"focus",this._enterHandler,Jd),e.listen(r,"mouseleave",this._leaveHandler,Jd),e.listen(r,"blur",this._leaveHandler,Jd),e.listen(r,"mousedown",this._mousedownHandler,Pv),e.listen(r,"touchstart",this._mousedownHandler,Pv)];this._platform.isBrowser&&o.push(e.listen("window","mouseup",this._mouseupHandler),e.listen("window","touchend",this._touchendHandler)),this._eventCleanups=o})}_cellClicked(e,n){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:n})}_emitActiveDateChange(e,n){e.enabled&&this.activeDateChange.emit({value:e.value,event:n})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){let n=e.numCols,{rows:r,numCols:o}=this;(e.rows||n)&&(this._firstRowOffset=r&&r.length&&r[0].length?o-r[0].length:0),(e.cellAspectRatio||n||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/o}%`),(n||!this._cellWidth)&&(this._cellWidth=`${100/o}%`)}ngOnDestroy(){this._eventCleanups.forEach(e=>e())}_isActiveCell(e,n){let r=e*this.numCols+n;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){vn(()=>{setTimeout(()=>{let n=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");n&&(e||(this._skipNextFocus=!0),n.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return hp(e,this.startValue,this.endValue)}_isRangeEnd(e){return mp(e,this.startValue,this.endValue)}_isInRange(e){return pp(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return hp(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,n,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let o=this.rows[n][r-1];if(!o){let s=this.rows[n-1];o=s&&s[s.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(e,n,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let o=this.rows[n][r+1];if(!o){let s=this.rows[n+1];o=s&&s[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(e){return mp(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return pp(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return hp(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return mp(e,this.previewStart,this.previewEnd)}_isInPreview(e){return pp(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){if(!this.isRange)return null;if(this.startValue===e&&this.endValue===e)return`${this._startDateLabelId} ${this._endDateLabelId}`;if(this.startValue===e)return this._startDateLabelId;if(this.endValue===e)return this._endDateLabelId;if(this.comparisonStart!==null&&this.comparisonEnd!==null){if(e===this.comparisonStart&&e===this.comparisonEnd)return`${this._comparisonStartDateLabelId} ${this._comparisonEndDateLabelId}`;if(e===this.comparisonStart)return this._comparisonStartDateLabelId;if(e===this.comparisonEnd)return this._comparisonEndDateLabelId}return null}_enterHandler=e=>{if(this._skipNextFocus&&e.type==="focus"){this._skipNextFocus=!1;return}if(e.target&&this.isRange){let n=this._getCellFromElement(e.target);n&&this._ngZone.run(()=>this.previewChange.emit({value:n.enabled?n:null,event:e}))}};_touchmoveHandler=e=>{if(!this.isRange)return;let n=Nv(e),r=n?this._getCellFromElement(n):null;n!==e.target&&(this._didDragSinceMouseDown=!0),up(e.target)&&e.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:r?.enabled?r:null,event:e}))};_leaveHandler=e=>{this.previewEnd!==null&&this.isRange&&(e.type!=="blur"&&(this._didDragSinceMouseDown=!0),e.target&&this._getCellFromElement(e.target)&&!(e.relatedTarget&&this._getCellFromElement(e.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:e})))};_mousedownHandler=e=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let n=e.target&&this._getCellFromElement(e.target);!n||!this._isInRange(n.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:n.rawValue,event:e})})};_mouseupHandler=e=>{if(!this.isRange)return;let n=up(e.target);if(!n){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:e})});return}n.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let r=this._getCellFromElement(n);this.dragEnded.emit({value:r?.rawValue??null,event:e})})};_touchendHandler=e=>{let n=Nv(e);n&&this._mouseupHandler({target:n})};_getCellFromElement(e){let n=up(e);if(n){let r=n.getAttribute("data-mat-row"),o=n.getAttribute("data-mat-col");if(r&&o)return this.rows[parseInt(r)]?.[parseInt(o)]||null}return null}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[ht],attrs:JD,decls:11,vars:11,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(n,r){n&1&&(K(0,tR,3,6,"tr",0),we(1,rR,4,1,"tr",1,eR,!0),m(3,"span",2),_(4),f(),m(5,"span",2),_(6),f(),m(7,"span",2),_(8),f(),m(9,"span",2),_(10),f()),n&2&&(G(r._firstRowOffset<r.labelMinRequiredCells?0:-1),u(),Ce(r.rows),u(2),U("id",r._startDateLabelId),u(),$(" ",r.startDateAccessibleName,`
`),u(),U("id",r._endDateLabelId),u(),$(" ",r.endDateAccessibleName,`
`),u(),U("id",r._comparisonStartDateLabelId),u(),ni(" ",r.comparisonDateAccessibleName," ",r.startDateAccessibleName,`
`),u(),U("id",r._comparisonEndDateLabelId),u(),ni(" ",r.comparisonDateAccessibleName," ",r.endDateAccessibleName,`
`))},dependencies:[En],styles:[`.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-sys-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-sys-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size));-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-calendar-body-disabled{opacity:.5}}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-sys-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color, transparent)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}@media(forced-colors: active){.mat-calendar-body-cell-content{border:none}}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-sys-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-sys-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-sys-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-sys-secondary))}@media(forced-colors: active){.mat-datepicker-popup:not(:empty),.mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-selected{background:none}.mat-calendar-body-in-range::before,.mat-calendar-body-comparison-bridge-start::before,.mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}}
`],encapsulation:2,changeDetection:0})}return i})();function dp(i){return i?.nodeName==="TD"}function up(i){let t;return dp(i)?t=i:dp(i.parentNode)?t=i.parentNode:dp(i.parentNode?.parentNode)&&(t=i.parentNode.parentNode),t?.getAttribute("data-mat-row")!=null?t:null}function hp(i,t,e){return e!==null&&t!==e&&i<e&&i===t}function mp(i,t,e){return t!==null&&t!==e&&i>=t&&i===e}function pp(i,t,e,n){return n&&t!==null&&e!==null&&t!==e&&i>=t&&i<=e}function Nv(i){let t=i.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}var Qn=class{start;end;_disableStructuralEquivalency;constructor(t,e){this.start=t,this.end=e}},fl=(()=>{class i{selection;_adapter;_selectionChanged=new de;selectionChanged=this._selectionChanged;constructor(e,n){this.selection=e,this._adapter=n,this.selection=e}updateSelection(e,n){let r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:n,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static \u0275fac=function(n){fc()};static \u0275prov=Q({token:i,factory:i.\u0275fac})}return i})(),yR=(()=>{class i extends fl{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let e=new i(this._adapter);return e.updateSelection(this.selection,this),e}static \u0275fac=function(n){return new(n||i)(_e(rn))};static \u0275prov=Q({token:i,factory:i.\u0275fac})}return i})();var Uv={provide:fl,useFactory:()=>y(fl,{optional:!0,skipSelf:!0})||new yR(y(rn))};var zv=new W("MAT_DATE_RANGE_SELECTION_STRATEGY");var fp=7,bR=0,Fv=(()=>{class i{_changeDetectorRef=y(dt);_dateFormats=y(Dr,{optional:!0});_dateAdapter=y(rn,{optional:!0});_dir=y(fn,{optional:!0});_rangeStrategy=y(zv,{optional:!0});_rerenderSubscription=rt.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let n=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(n,this._activeDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof Qn?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;activeDrag=null;selectedChange=new ue;_userSelection=new ue;dragStarted=new ue;dragEnded=new ue;activeDateChange=new ue;_matCalendarBody;_monthLabel=Ve("");_weeks=Ve([]);_firstWeekOffset=Ve(0);_rangeStart=Ve(null);_rangeEnd=Ve(null);_comparisonRangeStart=Ve(null);_comparisonRangeEnd=Ve(null);_previewStart=Ve(null);_previewEnd=Ve(null);_isRange=Ve(!1);_todayDate=Ve(null);_weekdays=Ve([]);constructor(){y(gt).load(ai),this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe($t(null)).subscribe(()=>this._init())}ngOnChanges(e){let n=e.comparisonStart||e.comparisonEnd;n&&!n.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){let n=e.value,r=this._getDateFromDayOfMonth(n),o,s;this._selected instanceof Qn?(o=this._getDateInCurrentMonth(this._selected.start),s=this._getDateInCurrentMonth(this._selected.end)):o=s=this._getDateInCurrentMonth(this._selected),(o!==n||s!==n)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){let n=e.value,r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(n),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){let n=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&e.preventDefault();return;case 27:this._previewEnd()!=null&&!xt(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation());return;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate.set(this._getCellCompareValue(this._dateAdapter.today())),this._monthLabel.set(this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase());let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset.set((fp+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%fp),this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:n}){if(this._rangeStrategy){let r=n?n.rawValue:null,o=this._rangeStrategy.createPreview(r,this.selected,e);if(this._previewStart.set(this._getCellCompareValue(o.start)),this._previewEnd.set(this._getCellCompareValue(o.end)),this.activeDrag&&r){let s=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,r,e);s&&(this._previewStart.set(this._getCellCompareValue(s.start)),this._previewEnd.set(this._getCellCompareValue(s.end)))}}}_dragEnded(e){if(this.activeDrag)if(e.value){let n=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:n??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){let e=this._dateAdapter.getFirstDayOfWeek(),n=this._dateAdapter.getDayOfWeekNames("narrow"),o=this._dateAdapter.getDayOfWeekNames("long").map((s,l)=>({long:s,narrow:n[l],id:bR++}));this._weekdays.set(o.slice(e).concat(o.slice(0,e)))}_createWeekCells(){let e=this._dateAdapter.getNumDaysInMonth(this.activeDate),n=this._dateAdapter.getDateNames(),r=[[]];for(let o=0,s=this._firstWeekOffset();o<e;o++,s++){s==fp&&(r.push([]),s=0);let l=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),o+1),c=this._shouldEnableDate(l),h=this._dateAdapter.format(l,this._dateFormats.display.dateA11yLabel),g=this.dateClass?this.dateClass(l,"month"):void 0;r[r.length-1].push(new pl(o+1,n[o],h,c,g,this._getCellCompareValue(l),l))}this._weeks.set(r)}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,n){return!!(e&&n&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(n)&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(n))}_getCellCompareValue(e){if(e){let n=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),o=this._dateAdapter.getDate(e);return new Date(n,r,o).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(e){e instanceof Qn?(this._rangeStart.set(this._getCellCompareValue(e.start)),this._rangeEnd.set(this._getCellCompareValue(e.end)),this._isRange.set(!0)):(this._rangeStart.set(this._getCellCompareValue(e)),this._rangeEnd.set(this._rangeStart()),this._isRange.set(!1)),this._comparisonRangeStart.set(this._getCellCompareValue(this.comparisonStart)),this._comparisonRangeEnd.set(this._getCellCompareValue(this.comparisonEnd))}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart.set(null),this._previewEnd.set(null)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["mat-month-view"]],viewQuery:function(n,r){if(n&1&&Ct(Ms,5),n&2){let o;Se(o=Ie())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[ht],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(n,r){n&1&&(m(0,"table",0)(1,"thead",1)(2,"tr"),we(3,oR,5,2,"th",2,jv),f(),m(5,"tr",3),H(6,"th",4),f()(),m(7,"tbody",5),q("selectedValueChange",function(s){return r._dateSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("previewChange",function(s){return r._previewChanged(s)})("dragStarted",function(s){return r.dragStarted.emit(s)})("dragEnded",function(s){return r._dragEnded(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),f()()),n&2&&(u(3),Ce(r._weekdays()),u(4),U("label",r._monthLabel())("rows",r._weeks())("todayValue",r._todayDate())("startValue",r._rangeStart())("endValue",r._rangeEnd())("comparisonStart",r._comparisonRangeStart())("comparisonEnd",r._comparisonRangeEnd())("previewStart",r._previewStart())("previewEnd",r._previewEnd())("isRange",r._isRange())("labelMinRequiredCells",3)("activeCell",r._dateAdapter.getDate(r.activeDate)-1)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName))},dependencies:[Ms],encapsulation:2,changeDetection:0})}return i})(),Vn=24,gp=4,Lv=(()=>{class i{_changeDetectorRef=y(dt);_dateAdapter=y(rn,{optional:!0});_dir=y(fn,{optional:!0});_rerenderSubscription=rt.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let n=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),$v(this._dateAdapter,n,this._activeDate,this.minDate,this.maxDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof Qn?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;selectedChange=new ue;yearSelected=new ue;activeDateChange=new ue;_matCalendarBody;_years=Ve([]);_todayYear=Ve(0);_selectedYear=Ve(null);constructor(){this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe($t(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear.set(this._dateAdapter.getYear(this._dateAdapter.today()));let n=this._dateAdapter.getYear(this._activeDate)-ml(this._dateAdapter,this.activeDate,this.minDate,this.maxDate),r=[];for(let o=0,s=[];o<Vn;o++)s.push(n+o),s.length==gp&&(r.push(s.map(l=>this._createCellForYear(l))),s=[]);this._years.set(r),this._changeDetectorRef.markForCheck()}_yearSelected(e){let n=e.value,r=this._dateAdapter.createDate(n,0,1),o=this._getDateFromYear(n);this.yearSelected.emit(r),this.selectedChange.emit(o)}_updateActiveDate(e){let n=e.value,r=this._activeDate;this.activeDate=this._getDateFromYear(n),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let n=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-gp);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,gp);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-ml(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Vn-ml(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-Vn*10:-Vn);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?Vn*10:Vn);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return ml(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){let n=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,n,1));return this._dateAdapter.createDate(e,n,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){let n=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(n),o=this.dateClass?this.dateClass(n,"multi-year"):void 0;return new pl(e,r,r,this._shouldEnableYear(e),o)}_shouldEnableYear(e){if(e==null||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let n=this._dateAdapter.createDate(e,0,1);for(let r=n;this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(e){if(this._selectedYear.set(null),e instanceof Qn){let n=e.start||e.end;n&&this._selectedYear.set(this._dateAdapter.getYear(n))}else e&&this._selectedYear.set(this._dateAdapter.getYear(e))}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["mat-multi-year-view"]],viewQuery:function(n,r){if(n&1&&Ct(Ms,5),n&2){let o;Se(o=Ie())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(n,r){n&1&&(m(0,"table",0)(1,"thead",1)(2,"tr"),H(3,"th",2),f()(),m(4,"tbody",3),q("selectedValueChange",function(s){return r._yearSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),f()()),n&2&&(u(4),U("rows",r._years())("todayValue",r._todayYear())("startValue",r._selectedYear())("endValue",r._selectedYear())("numCols",4)("cellAspectRatio",4/7)("activeCell",r._getActiveCell()))},dependencies:[Ms],encapsulation:2,changeDetection:0})}return i})();function $v(i,t,e,n,r){let o=i.getYear(t),s=i.getYear(e),l=qv(i,n,r);return Math.floor((o-l)/Vn)===Math.floor((s-l)/Vn)}function ml(i,t,e,n){let r=i.getYear(t);return vR(r-qv(i,e,n),Vn)}function qv(i,t,e){let n=0;return e?n=i.getYear(e)-Vn+1:t&&(n=i.getYear(t)),n}function vR(i,t){return(i%t+t)%t}var Vv=(()=>{class i{_changeDetectorRef=y(dt);_dateFormats=y(Dr,{optional:!0});_dateAdapter=y(rn,{optional:!0});_dir=y(fn,{optional:!0});_rerenderSubscription=rt.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let n=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(n)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof Qn?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;selectedChange=new ue;monthSelected=new ue;activeDateChange=new ue;_matCalendarBody;_months=Ve([]);_yearLabel=Ve("");_todayMonth=Ve(null);_selectedMonth=Ve(null);constructor(){this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe($t(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){let n=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,1);this.monthSelected.emit(r);let o=this._getDateFromMonth(n);this.selectedChange.emit(o)}_updateActiveDate(e){let n=e.value,r=this._activeDate;this.activeDate=this._getDateFromMonth(n),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let n=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth.set(this._getMonthInCurrentYear(this._dateAdapter.today())),this._yearLabel.set(this._dateAdapter.getYearName(this.activeDate));let e=this._dateAdapter.getMonthNames("short");this._months.set([[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(n=>n.map(r=>this._createCellForMonth(r,e[r])))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){let n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(n);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,n){let r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),s=this.dateClass?this.dateClass(r,"year"):void 0;return new pl(e,n.toLocaleUpperCase(),o,this._shouldEnableMonth(e),s)}_shouldEnableMonth(e){let n=this._dateAdapter.getYear(this.activeDate);if(e==null||this._isYearAndMonthAfterMaxDate(n,e)||this._isYearAndMonthBeforeMinDate(n,e))return!1;if(!this.dateFilter)return!0;let r=this._dateAdapter.createDate(n,e,1);for(let o=r;this._dateAdapter.getMonth(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(e,n){if(this.maxDate){let r=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&n>o}return!1}_isYearAndMonthBeforeMinDate(e,n){if(this.minDate){let r=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&n<o}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(e){e instanceof Qn?this._selectedMonth.set(this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end)):this._selectedMonth.set(this._getMonthInCurrentYear(e))}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["mat-year-view"]],viewQuery:function(n,r){if(n&1&&Ct(Ms,5),n&2){let o;Se(o=Ie())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(n,r){n&1&&(m(0,"table",0)(1,"thead",1)(2,"tr"),H(3,"th",2),f()(),m(4,"tbody",3),q("selectedValueChange",function(s){return r._monthSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),f()()),n&2&&(u(4),U("label",r._yearLabel())("rows",r._months())("todayValue",r._todayMonth())("startValue",r._selectedMonth())("endValue",r._selectedMonth())("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._dateAdapter.getMonth(r.activeDate)))},dependencies:[Ms],encapsulation:2,changeDetection:0})}return i})(),Hv=(()=>{class i{_intl=y(ks);calendar=y(_p);_dateAdapter=y(rn,{optional:!0});_dateFormats=y(Dr,{optional:!0});_periodButtonText;_periodButtonDescription;_periodButtonLabel;_prevButtonLabel;_nextButtonLabel;constructor(){y(gt).load(ai);let e=y(dt);this._updateLabels(),this.calendar.stateChanges.subscribe(()=>{this._updateLabels(),e.markForCheck()})}get periodButtonText(){return this._periodButtonText}get periodButtonDescription(){return this._periodButtonDescription}get periodButtonLabel(){return this._periodButtonLabel}get prevButtonLabel(){return this._prevButtonLabel}get nextButtonLabel(){return this._nextButtonLabel}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.previousEnabled()&&(this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-Vn))}nextClicked(){this.nextEnabled()&&(this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:Vn))}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_updateLabels(){let e=this.calendar,n=this._intl,r=this._dateAdapter;e.currentView==="month"?(this._periodButtonText=r.format(e.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase(),this._periodButtonDescription=r.format(e.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase(),this._periodButtonLabel=n.switchToMultiYearViewLabel,this._prevButtonLabel=n.prevMonthLabel,this._nextButtonLabel=n.nextMonthLabel):e.currentView==="year"?(this._periodButtonText=r.getYearName(e.activeDate),this._periodButtonDescription=r.getYearName(e.activeDate),this._periodButtonLabel=n.switchToMonthViewLabel,this._prevButtonLabel=n.prevYearLabel,this._nextButtonLabel=n.nextYearLabel):(this._periodButtonText=n.formatYearRange(...this._formatMinAndMaxYearLabels()),this._periodButtonDescription=n.formatYearRangeLabel(...this._formatMinAndMaxYearLabels()),this._periodButtonLabel=n.switchToMonthViewLabel,this._prevButtonLabel=n.prevMultiYearLabel,this._nextButtonLabel=n.nextMultiYearLabel)}_isSameView(e,n){return this.calendar.currentView=="month"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(n)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(n):this.calendar.currentView=="year"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(n):$v(this._dateAdapter,e,n,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let n=this._dateAdapter.getYear(this.calendar.activeDate)-ml(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=n+Vn-1,o=this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1)),s=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return[o,s]}_periodButtonLabelId=y(Ot).getId("mat-calendar-period-label-");static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:sR,decls:17,vars:13,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["matButton","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["matIconButton","","type","button","disabledInteractive","",1,"mat-calendar-previous-button",3,"click","disabled","matTooltip"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["matIconButton","","type","button","disabledInteractive","",1,"mat-calendar-next-button",3,"click","disabled","matTooltip"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(n,r){n&1&&(Wt(),m(0,"div",0)(1,"div",1)(2,"span",2),_(3),f(),m(4,"button",3),q("click",function(){return r.currentPeriodClicked()}),m(5,"span",4),_(6),f(),ki(),m(7,"svg",5),H(8,"polygon",6),f()(),xh(),H(9,"div",7),Xe(10),m(11,"button",8),q("click",function(){return r.previousClicked()}),ki(),m(12,"svg",9),H(13,"path",10),f()(),xh(),m(14,"button",11),q("click",function(){return r.nextClicked()}),ki(),m(15,"svg",9),H(16,"path",12),f()()()()),n&2&&(u(2),U("id",r._periodButtonLabelId),u(),T(r.periodButtonDescription),u(),Me("aria-label",r.periodButtonLabel)("aria-describedby",r._periodButtonLabelId),u(2),T(r.periodButtonText),u(),me("mat-calendar-invert",r.calendar.currentView!=="month"),u(4),U("disabled",!r.previousEnabled())("matTooltip",r.prevButtonLabel),Me("aria-label",r.prevButtonLabel),u(3),U("disabled",!r.nextEnabled())("matTooltip",r.nextButtonLabel),Me("aria-label",r.nextButtonLabel))},dependencies:[cp,Zd,Ov],encapsulation:2,changeDetection:0})}return i})(),_p=(()=>{class i{_dateAdapter=y(rn,{optional:!0});_dateFormats=y(Dr,{optional:!0});_changeDetectorRef=y(dt);_elementRef=y(Oe);headerComponent;_calendarHeaderPortal;_intlChanges;_moveFocusOnNextTick=!1;get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt;startView="month";get selected(){return this._selected}set selected(e){e instanceof Qn?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;selectedChange=new ue;yearSelected=new ue;monthSelected=new ue;viewChanged=new ue(!0);_userSelection=new ue;_userDragDrop=new ue;monthView;yearView;multiYearView;get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}_clampedActiveDate;get currentView(){return this._currentView}set currentView(e){let n=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),n&&(this.stateChanges.next(),this.viewChanged.emit(n))}_currentView;_activeDrag=null;stateChanges=new de;constructor(){this._intlChanges=y(ks).changes.subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new Tr(this.headerComponent||Hv),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){let n=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,o=n||r||e.dateFilter;if(o&&!o.firstChange){let s=this._getCurrentViewComponent();s&&(this._elementRef.nativeElement.contains(ps())&&(this._moveFocusOnNextTick=!0),this._changeDetectorRef.detectChanges(),s._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){let n=e.value;(this.selected instanceof Qn||n&&!this._dateAdapter.sameDate(n,this.selected))&&this.selectedChange.emit(n),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,n){this.activeDate=e,this.currentView=n}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["mat-calendar"]],viewQuery:function(n,r){if(n&1&&Ct(Fv,5)(Vv,5)(Lv,5),n&2){let o;Se(o=Ie())&&(r.monthView=o.first),Se(o=Ie())&&(r.yearView=o.first),Se(o=Ie())&&(r.multiYearView=o.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[Cn([Uv]),ht],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(n,r){if(n&1&&(Ni(0,aR,0,0,"ng-template",0),m(1,"div",1),K(2,lR,1,11,"mat-month-view",2)(3,cR,1,6,"mat-year-view",3)(4,dR,1,6,"mat-multi-year-view",3),f()),n&2){let o;U("cdkPortalOutlet",r._calendarHeaderPortal),u(2),G((o=r.currentView)==="month"?2:o==="year"?3:o==="multi-year"?4:-1)}},dependencies:[ep,Rm,Fv,Vv,Lv],styles:[`.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-sys-title-small-weight));--mat-button-text-label-text-color: var(--mat-datepicker-calendar-period-button-text-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}@media(forced-colors: active){.mat-calendar-arrow{fill:CanvasText}}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-sys-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-sys-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color, transparent)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus-visible .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return i})(),wR=new W("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let i=y(be);return()=>qi(i)}}),Wv=(()=>{class i{_elementRef=y(Oe);_animationsDisabled=Pt();_changeDetectorRef=y(dt);_globalModel=y(fl);_dateAdapter=y(rn);_ngZone=y(ee);_rangeSelectionStrategy=y(zv,{optional:!0});_stateChanges;_model;_eventCleanups;_animationFallback;_calendar;color;datepicker;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;_isAbove;_animationDone=new de;_isAnimating=!1;_closeButtonText;_closeButtonFocused;_actionsPortal=null;_dialogLabelId;constructor(){if(y(gt).load(ai),this._closeButtonText=y(ks).closeCalendarLabel,!this._animationsDisabled){let e=this._elementRef.nativeElement,n=y(At);this._eventCleanups=this._ngZone.runOutsideAngular(()=>[n.listen(e,"animationstart",this._handleAnimationEvent),n.listen(e,"animationend",this._handleAnimationEvent),n.listen(e,"animationcancel",this._handleAnimationEvent)])}}ngAfterViewInit(){this._stateChanges=this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._calendar.focusActiveCell()}ngOnDestroy(){clearTimeout(this._animationFallback),this._eventCleanups?.forEach(e=>e()),this._stateChanges?.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){let n=this._model.selection,r=e.value,o=n instanceof Qn;if(o&&this._rangeSelectionStrategy){let s=this._rangeSelectionStrategy.selectionFinished(r,n,e.event);this._model.updateSelection(s,this)}else r&&(o||!this._dateAdapter.sameDate(r,n))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._elementRef.nativeElement.classList.add("mat-datepicker-content-exit"),this._animationsDisabled?this._animationDone.next():(clearTimeout(this._animationFallback),this._animationFallback=setTimeout(()=>{this._isAnimating||this._animationDone.next()},200))}_handleAnimationEvent=e=>{let n=this._elementRef.nativeElement;e.target!==n||!e.animationName.startsWith("_mat-datepicker-content")||(clearTimeout(this._animationFallback),this._isAnimating=e.type==="animationstart",n.classList.toggle("mat-datepicker-content-animating",this._isAnimating),this._isAnimating||this._animationDone.next())};_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,n){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,n&&this._changeDetectorRef.detectChanges()}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["mat-datepicker-content"]],viewQuery:function(n,r){if(n&1&&Ct(_p,5),n&2){let o;Se(o=Ie())&&(r._calendar=o.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:6,hostBindings:function(n,r){n&2&&(kn(r.color?"mat-"+r.color:""),me("mat-datepicker-content-touch",r.datepicker.touchUi)("mat-datepicker-content-animations-enabled",!r._animationsDisabled))},inputs:{color:"color"},exportAs:["matDatepickerContent"],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","matButton","elevated",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"mat-calendar",1),q("yearSelected",function(s){return r.datepicker._selectYear(s)})("monthSelected",function(s){return r.datepicker._selectMonth(s)})("viewChanged",function(s){return r.datepicker._viewChanged(s)})("_userSelection",function(s){return r._handleUserSelection(s)})("_userDragDrop",function(s){return r._handleUserDragDrop(s)}),f(),Ni(2,uR,0,0,"ng-template",2),m(3,"button",3),q("focus",function(){return r._closeButtonFocused=!0})("blur",function(){return r._closeButtonFocused=!1})("click",function(){return r.datepicker.close()}),_(4),f()()),n&2&&(me("mat-datepicker-content-container-with-custom-header",r.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",r._actionsPortal),Me("aria-modal",!0)("aria-labelledby",r._dialogLabelId??void 0),u(),kn(r.datepicker.panelClass),U("id",r.datepicker.id)("startAt",r.datepicker.startAt)("startView",r.datepicker.startView)("minDate",r.datepicker._getMinDate())("maxDate",r.datepicker._getMaxDate())("dateFilter",r.datepicker._getDateFilter())("headerComponent",r.datepicker.calendarHeaderComponent)("selected",r._getSelected())("dateClass",r.datepicker.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName),u(),U("cdkPortalOutlet",r._actionsPortal),u(),me("cdk-visually-hidden",!r._closeButtonFocused),U("color",r.color||"primary"),u(),T(r._closeButtonText))},dependencies:[Pm,_p,ep,cp],styles:[`@keyframes _mat-datepicker-content-dropdown-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-dialog-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-exit{from{opacity:1}to{opacity:0}}.mat-datepicker-content{display:block;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-sys-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-sys-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-sys-corner-large))}.mat-datepicker-content.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dropdown-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.mat-datepicker-content-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-sys-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dialog-enter 150ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}.mat-datepicker-content-exit.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-exit 100ms linear}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}
`],encapsulation:2,changeDetection:0})}return i})(),Bv=(()=>{class i{_injector=y(be);_viewContainerRef=y(ti);_dateAdapter=y(rn,{optional:!0});_dir=y(fn,{optional:!0});_model=y(fl);_animationsDisabled=Pt();_scrollStrategy=y(wR);_inputStateChanges=rt.EMPTY;_document=y(De);calendarHeaderComponent;get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt;startView="month";get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}_color;touchUi=!1;get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){e!==this._disabled&&(this._disabled=e,this.stateChanges.next(void 0))}_disabled;xPosition="start";yPosition="below";restoreFocus=!0;yearSelected=new ue;monthSelected=new ue;viewChanged=new ue(!0);dateClass;openedStream=new ue;closedStream=new ue;get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=Mb(e)}_panelClass;get opened(){return this._opened}set opened(e){e?this.open():this.close()}_opened=!1;id=y(Ot).getId("mat-datepicker-");_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}_overlayRef;_componentRef;_focusedElementBeforeOpen=null;_backdropHarnessClass=`${this.id}-backdrop`;_actionsPortal;datepickerInput;stateChanges=new de;_changeDetectorRef=y(dt);constructor(){this._dateAdapter,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(e){let n=e.xPosition||e.yPosition;if(n&&!n.firstChange&&this._overlayRef){let r=this._overlayRef.getConfig().positionStrategy;r instanceof Is&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal,this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=ps(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;let e=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",n=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:r,location:o}=this._componentRef;r._animationDone.pipe($n(1)).subscribe(()=>{let s=this._document.activeElement;e&&(!s||s===this._document.activeElement||o.nativeElement.contains(s))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()}),r._startExitAnimation()}e?setTimeout(n):n()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let e=this.touchUi,n=new Tr(Wv,this._viewContainerRef),r=this._overlayRef=go(this._injector,new mo({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir||"ltr",scrollStrategy:e?Hd(this._injector):this._scrollStrategy(),panelClass:`mat-datepicker-${e?"dialog":"popup"}`,disableAnimations:this._animationsDisabled}));this._getCloseStream(r).subscribe(o=>{o&&o.preventDefault(),this.close()}),r.keydownEvents().subscribe(o=>{let s=o.keyCode;(s===38||s===40||s===37||s===39||s===33||s===34)&&o.preventDefault()}),this._componentRef=r.attach(n),this._forwardContentValues(this._componentRef.instance),e||vn(()=>{r.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return Wd(this._injector).centerHorizontally().centerVertically()}_getDropdownStrategy(){let e=fo(this._injector,this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){let n=this.xPosition==="end"?"end":"start",r=n==="start"?"end":"start",o=this.yPosition==="above"?"bottom":"top",s=o==="top"?"bottom":"top";return e.withPositions([{originX:n,originY:s,overlayX:n,overlayY:o},{originX:n,originY:o,overlayX:n,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:s}])}_getCloseStream(e){let n=["ctrlKey","shiftKey","metaKey"];return pi(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Ge(r=>r.keyCode===27&&!xt(r)||this.datepickerInput&&xt(r,"altKey")&&r.keyCode===38&&n.every(o=>!xt(r,o)))))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",Pe],disabled:[2,"disabled","disabled",Pe],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",Pe],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",Pe]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[ht]})}return i})(),Kv=(()=>{class i extends Bv{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Pi(i)))(r||i)}})();static \u0275cmp=ne({type:i,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[Cn([Uv,{provide:Bv,useExisting:i}]),fi],decls:0,vars:0,template:function(n,r){},encapsulation:2,changeDetection:0})}return i})(),Rs=class{target;targetElement;value;constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}},CR=(()=>{class i{_elementRef=y(Oe);_dateAdapter=y(rn,{optional:!0});_dateFormats=y(Dr,{optional:!0});_isInitialized;get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e,!0)}_model;get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){let n=e,r=this._elementRef.nativeElement;this._disabled!==n&&(this._disabled=n,this.stateChanges.next(void 0)),n&&this._isInitialized&&r.blur&&r.blur()}_disabled;dateChange=new ue;dateInput=new ue;stateChanges=new de;_onTouched=()=>{};_validatorOnChange=()=>{};_cvaOnChange=()=>{};_valueChangesSubscription=rt.EMPTY;_localeSubscription=rt.EMPTY;_pendingValue;_parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}};_filterValidator=e=>{let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value));return!n||this._matchesFilter(n)?null:{matDatepickerFilter:!0}};_minValidator=e=>{let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),r=this._getMinDate();return!r||!n||this._dateAdapter.compareDate(r,n)<=0?null:{matDatepickerMin:{min:r,actual:n}}};_maxValidator=e=>{let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),r=this._getMaxDate();return!r||!n||this._dateAdapter.compareDate(r,n)>=0?null:{matDatepickerMax:{max:r,actual:n}}};_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(n=>{if(this._shouldHandleChangeEvent(n)){let r=this._getValueFromModel(n.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new Rs(this,this._elementRef.nativeElement)),this.dateChange.emit(new Rs(this,this._elementRef.nativeElement))}})}_lastValueValid=!1;constructor(){this._localeSubscription=this._dateAdapter.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value,!0)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){ER(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e,e!==this.value)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){let n=["ctrlKey","shiftKey","metaKey"];xt(e,"altKey")&&e.keyCode===40&&n.every(o=>!xt(e,o))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){let n=e.target.value,r=this._lastValueValid,o=this._dateAdapter.parse(n,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(o),o=this._dateAdapter.getValidDateOrNull(o);let s=!this._dateAdapter.sameDate(o,this.value);!o||s?this._cvaOnChange(o):(n&&!this.value&&this._cvaOnChange(o),r!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(o),this.dateInput.emit(new Rs(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Rs(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e!=null?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e,n){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),n&&this._formatValue(e)}_matchesFilter(e){let n=this._getDateFilter();return!n||n(e)}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,inputs:{value:"value",disabled:[2,"disabled","disabled",Pe]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[ht]})}return i})();function ER(i,t){let e=Object.keys(i);for(let n of e){let{previousValue:r,currentValue:o}=i[n];if(t.isDateInstance(r)&&t.isDateInstance(o)){if(!t.sameDate(r,o))return!0}else return!0}return!1}var SR={provide:_y,useExisting:dc(()=>eu),multi:!0},IR={provide:yy,useExisting:dc(()=>eu),multi:!0},eu=(()=>{class i extends CR{_formField=y(lo,{optional:!0});_closedSubscription=rt.EMPTY;_openedSubscription=rt.EMPTY;set matDatepicker(e){e&&(this._datepicker=e,this._ariaOwns.set(e.opened?e.id:null),this._closedSubscription=e.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=e.openedStream.subscribe(()=>{this._ariaOwns.set(e.id)}),this._registerModel(e.registerInput(this)))}_datepicker;_ariaOwns=Ve(null);get min(){return this._min}set min(e){let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(n,this._min)||(this._min=n,this._validatorOnChange())}_min;get max(){return this._max}set max(e){let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(n,this._max)||(this._max=n,this._validatorOnChange())}_max;get dateFilter(){return this._dateFilter}set dateFilter(e){let n=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==n&&this._validatorOnChange()}_dateFilter;_validator;constructor(){super(),this._validator=Ko.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(n,r){n&1&&q("input",function(s){return r._onInput(s)})("change",function(){return r._onChange()})("blur",function(){return r._onBlur()})("keydown",function(s){return r._onKeydown(s)}),n&2&&(wn("disabled",r.disabled),Me("aria-haspopup",r._datepicker?"dialog":null)("aria-owns",r._ariaOwns())("min",r.min?r._dateAdapter.toIso8601(r.min):null)("max",r.max?r._dateAdapter.toIso8601(r.max):null)("data-mat-calendar",r._datepicker?r._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[Cn([SR,IR,{provide:Qd,useExisting:i}]),fi]})}return i})(),xR=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["","matDatepickerToggleIcon",""]]})}return i})(),yp=(()=>{class i{_intl=y(ks);_changeDetectorRef=y(dt);_stateChanges=rt.EMPTY;datepicker;tabIndex;ariaLabel;get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=e}_disabled;disableRipple;_customIcon;_button;constructor(){let e=y(new Po("tabindex"),{optional:!0}),n=Number(e);this.tabIndex=n||n===0?n:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){let e=this.datepicker?this.datepicker.stateChanges:fe(),n=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:fe(),r=this.datepicker?pi(this.datepicker.openedStream,this.datepicker.closedStream):fe();this._stateChanges.unsubscribe(),this._stateChanges=pi(this._intl.changes,e,n,r).subscribe(()=>this._changeDetectorRef.markForCheck())}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["mat-datepicker-toggle"]],contentQueries:function(n,r,o){if(n&1&&ar(o,xR,5),n&2){let s;Se(s=Ie())&&(r._customIcon=s.first)}},viewQuery:function(n,r){if(n&1&&Ct(hR,5),n&2){let o;Se(o=Ie())&&(r._button=o.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(n,r){n&1&&q("click",function(s){return r._open(s)}),n&2&&(Me("tabindex",null)("data-mat-calendar",r.datepicker?r.datepicker.id:null),me("mat-datepicker-toggle-active",r.datepicker&&r.datepicker.opened)("mat-accent",r.datepicker&&r.datepicker.color==="accent")("mat-warn",r.datepicker&&r.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",Pe],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[ht],ngContentSelectors:pR,decls:4,vars:7,consts:[["button",""],["matIconButton","","type","button",3,"tabIndex","disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(n,r){n&1&&(Wt(mR),m(0,"button",1,0),K(2,fR,2,0,":svg:svg",2),Xe(3),f()),n&2&&(U("tabIndex",r.disabled?-1:r.tabIndex)("disabled",r.disabled)("disableRipple",r.disableRipple),Me("aria-haspopup",r.datepicker?"dialog":null)("aria-label",r.ariaLabel||r._intl.openCalendarLabel)("aria-expanded",r.datepicker?r.datepicker.opened:null),u(2),G(r._customIcon?-1:2))},dependencies:[Zd],styles:[`.mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-sys-on-surface-variant))}.mat-datepicker-toggle button{color:inherit}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-datepicker-toggle-default-icon{color:CanvasText}}
`],encapsulation:2,changeDetection:0})}return i})();var Gv=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({providers:[ks],imports:[Rv,ul,Fm,Vd,Wv,yp,Hv,st,uo]})}return i})();var TR=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/,DR=/^(\d?\d)[:.](\d?\d)(?:[:.](\d?\d))?\s*(AM|PM)?$/i;function bp(i,t){let e=Array(i);for(let n=0;n<i;n++)e[n]=t(n);return e}var RR=(()=>{class i extends rn{_matDateLocale=y(op,{optional:!0});constructor(){super();let e=y(op,{optional:!0});e!==void 0&&(this._matDateLocale=e),super.setLocale(this._matDateLocale)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){let n=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return bp(12,r=>this._format(n,new Date(2017,r,1)))}getDateNames(){let e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return bp(31,n=>this._format(e,new Date(2017,0,n+1)))}getDayOfWeekNames(e){let n=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return bp(7,r=>this._format(n,new Date(2017,0,r+1)))}getYearName(e){let n=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(n,e)}getFirstDayOfWeek(){if(typeof Intl<"u"&&Intl.Locale){let e=new Intl.Locale(this.locale),n=(e.getWeekInfo?.()||e.weekInfo)?.firstDay??0;return n===7?0:n}return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,n,r){let o=this._createDateWithOverflow(e,n,r);return o.getMonth()!=n,o}today(){return new Date}parse(e,n){return typeof e=="number"?new Date(e):e?new Date(Date.parse(e)):null}format(e,n){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");let r=new Intl.DateTimeFormat(this.locale,ie(P({},n),{timeZone:"utc"}));return this._format(r,e)}addCalendarYears(e,n){return this.addCalendarMonths(e,n*12)}addCalendarMonths(e,n){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+n,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+n)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,n){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+n)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if(typeof e=="string"){if(!e)return null;if(TR.test(e)){let n=new Date(e);if(this.isValid(n))return n}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}setTime(e,n,r,o){let s=this.clone(e);return s.setHours(n,r,o,0),s}getHours(e){return e.getHours()}getMinutes(e){return e.getMinutes()}getSeconds(e){return e.getSeconds()}parseTime(e,n){if(typeof e!="string")return e instanceof Date?new Date(e.getTime()):null;let r=e.trim();if(r.length===0)return null;let o=this._parseTimeString(r);if(o===null){let s=r.replace(/[^0-9:(AM|PM)]/gi,"").trim();s.length>0&&(o=this._parseTimeString(s))}return o||this.invalid()}addSeconds(e,n){return new Date(e.getTime()+n*1e3)}_createDateWithOverflow(e,n,r){let o=new Date;return o.setFullYear(e,n,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,n){let r=new Date;return r.setUTCFullYear(n.getFullYear(),n.getMonth(),n.getDate()),r.setUTCHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e.format(r)}_parseTimeString(e){let n=e.toUpperCase().match(DR);if(n){let r=parseInt(n[1]),o=parseInt(n[2]),s=n[3]==null?void 0:parseInt(n[3]),l=n[4];if(r===12?r=l==="AM"?0:r:l==="PM"&&(r+=12),vp(r,0,23)&&vp(o,0,59)&&(s==null||vp(s,0,59)))return this.setTime(this.today(),r,o,s||0)}return null}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac})}return i})();function vp(i,t,e){return!isNaN(i)&&i>=t&&i<=e}var MR={parse:{dateInput:null,timeInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},timeInput:{hour:"numeric",minute:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"},timeOptionLabel:{hour:"numeric",minute:"numeric"}}};var Yv=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({providers:[kR()]})}return i})();function kR(i=MR){return[{provide:rn,useClass:RR},{provide:Dr,useValue:i}]}var Qv=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({imports:[st]})}return i})();var OR=["revenueChartCanvas"],PR=["categoryChartCanvas"],NR=["typeChartCanvas"],FR=["discountChartCanvas"],LR=["itemsChartCanvas"];function VR(i,t){if(i&1&&(m(0,"mat-option",63),_(1),f()),i&2){let e=t.$implicit;U("value",e.key),u(),T(e.label)}}function BR(i,t){if(i&1&&(m(0,"small",8),_(1),f()),i&2){let e=A().$implicit,n=A(3);u(),T(n.isArabic?e.choiceAr||e.choiceEn:e.choiceEn||e.choiceAr)}}function jR(i,t){if(i&1&&(m(0,"div",95)(1,"div",96)(2,"div")(3,"div",10),_(4),f(),K(5,BR,2,1,"small",8),f(),m(6,"div",88)(7,"div"),_(8),f(),m(9,"small",8),_(10),et(11,"number"),f()()()()),i&2){let e=t.$implicit,n=A(3);u(4),T(n.getItemDisplayName(e)),u(),G(e.choiceEn||e.choiceAr?5:-1),u(3),$("\xD7 ",e.quantity||1),u(2),$("\u20AA ",pt(11,4,e.unitPrice||e.price||0,"1.2-2"))}}function UR(i,t){if(i&1&&(m(0,"tr")(1,"td",91)(2,"div",92)(3,"div",93),_(4),f(),m(5,"div",94),we(6,jR,12,7,"div",95,$_().trackByKey,!0),f()()()()),i&2){let e=A().$implicit,n=A();u(2),U("@expandCollapse",void 0),u(2),T(n.isArabic?"\u0627\u0644\u0639\u0646\u0627\u0635\u0631":"Items"),u(2),Ce(n.orderItemsArray(e))}}function zR(i,t){if(i&1){let e=he();m(0,"tr",87)(1,"td",8),_(2),f(),m(3,"td"),_(4),f(),m(5,"td"),_(6),et(7,"date"),f(),m(8,"td",10),_(9),et(10,"number"),f(),m(11,"td",88)(12,"button",89),q("click",function(){let r=L(e).$implicit,o=A();return V(o.toggleExpand(r.id))}),H(13,"i",90),f()()(),K(14,UR,8,2,"tr")}if(i&2){let e=t.$implicit,n=A();u(2),$("#",e.id),u(2),T(e.tableName||e.tableId||"-"),u(2),T(pt(7,9,e.createdAt||e.ts,"HH:mm")),u(3),$("\u20AA ",pt(10,12,e.total||0,"1.2-2")),u(4),me("bi-chevron-down",!n.isExpanded(e.id))("bi-chevron-up",n.isExpanded(e.id)),u(),G(n.isExpanded(e.id)?14:-1)}}function $R(i,t){if(i&1){let e=he();m(0,"div",73)(1,"button",97),q("click",function(){L(e);let r=A();return V(r.loadMoreOrders())}),_(2),f()()}if(i&2){let e=A();u(2),T(e.isArabic?"\u062D\u0645\u0651\u0644 \u0627\u0644\u0645\u0632\u064A\u062F":"Load older")}}function qR(i,t){if(i&1&&(m(0,"div",86)(1,"div"),_(2),f(),m(3,"div",8),_(4),f()()),i&2){let e=t.$implicit;u(2),T(e.label),u(2),$("\xD7 ",e.count)}}var tu=class i{constructor(t,e,n){this.route=t;this.lang=e;this.menu=n}restaurantId="";restaurant=null;restaurantName="";isArabic=!1;now=new Date;clockInterval;overview={employeesBalance:0,suppliersBalance:0,customersBalance:0,bankBalances:0,checksBalance:0,cashOnHand:0,totalExpenses:0,totalPurchases:0,totalDiscounts:0,salesRevenue:0};counts={invoicesToDate:0,tableCount:0,customerCount:0,itemCount:0,employeeCount:0,categoryCount:0};timeScale="day";revenueScale="day";categoryScale="day";typeScale="day";itemsScale="day";categories={};categoryList=[];selectedCategoryKey="all";categorySearch="";itemCatMap={};selectedType="all";typeSearch="";typeOptions=[{value:"all",labelEn:"All",labelAr:"\u0627\u0644\u0643\u0644"},{value:"kitchen",labelEn:"Kitchen",labelAr:"\u0627\u0644\u0645\u0637\u0628\u062E"},{value:"bar",labelEn:"Bar",labelAr:"\u0627\u0644\u0628\u0627\u0631"},{value:"hookah",labelEn:"Hookah",labelAr:"\u0627\u0644\u0623\u0631\u062C\u064A\u0644\u0629"},{value:"other",labelEn:"Other",labelAr:"\u0623\u062E\u0631\u0649"}];history={};revenueChartCanvas;categoryChartCanvas;typeChartCanvas;discountChartCanvas;itemsChartCanvas;revenueChart;categoryChart;typeChart;discountChart;itemsChart;selectedOrdersDate=this.formatDateKey(new Date);orders=[];orderSearch="";orderPageSize=10;expandedOrders={};ordersDate=null;selectedItemsCategoryKey="";ordersUnsub=null;historyUnsub=null;tablesUnsub=null;liveTablesSnapshot={};ordersByKey={};ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t),this.lang.isArabic$.subscribe(e=>{this.isArabic=e,this.updateRestaurantDisplayName(),this.updateCategoryListLabels(),this.refreshAllCharts()}),Kn.getRestaurantById(this.restaurantId).then(e=>{this.restaurant=e,this.updateRestaurantDisplayName()}).catch(()=>{this.restaurant=null,this.updateRestaurantDisplayName()}),this.menu.getCategoriesOnce(this.restaurantId).then(e=>{this.categories=e||{},this.categoryList=Object.keys(this.categories).map(n=>({key:n,label:this.isArabic?this.categories[n]?.nameArabic||this.categories[n]?.name||n:this.categories[n]?.name||this.categories[n]?.nameArabic||n,section:this.categories[n]?.section||"kitchen"})),this.countItems(),this.buildItemCatMap(),!this.selectedItemsCategoryKey&&this.categoryList.length&&(this.selectedItemsCategoryKey=this.categoryList[0].key),this.itemsChartCanvas?.nativeElement&&setTimeout(()=>this.refreshAllCharts(),0)}),this.loadCounts(),this.observeHistory(),this.clockInterval=setInterval(()=>{this.now=new Date},1e3),this.observeOrdersForDate(this.selectedOrdersDate),this.observeLiveTables()}getItemsInCategoryDataset(t,e){let n=this.bucketize(t),r={},o={},s=(C,D,I)=>{r[C]=(r[C]||0)+D,o[C]=(o[C]||0)+I};n.forEach(C=>{C.keys.forEach(D=>{let I=this.history[D];if(!I)return;let M=I?.categories?.[e];if(M&&M.items){let F=M.items||{},z=0;Object.keys(F).forEach(X=>{let Z=F[X]||{},Y=Number(Z.counter||0),Ae=Number(Z.price||0);s(X,Y,Ae*Y),z+=Y}),z===0&&this.getOrdersForKey(I,D).forEach(Z=>{let Y=Z?.items??Z?.orders??{};Object.keys(Y).forEach(Ae=>{let ye=Y[Ae]||{};if(this.getCategoryKeyByItemName(ye?.name||"")!==e)return;let w=Number(ye.quantity??ye.counter??0)||0,E=Number(ye.unitPrice??ye.price??0),R=this.normalizeName(ye?.name||ye?.nameArabic||Ae);s(R,w,E*w)})})}else this.getOrdersForKey(I,D).forEach(z=>{let X=z?.items??z?.orders??{};Object.keys(X).forEach(Z=>{let Y=X[Z]||{};if(this.getCategoryKeyByItemName(Y?.name||"")!==e)return;let ye=Number(Y.quantity??Y.counter??0)||0,x=Number(Y.unitPrice??Y.price??0),w=this.normalizeName(Y?.name||Y?.nameArabic||Z);s(w,ye,x*ye)})})})});let l={},c={};Object.keys(r).forEach(C=>{let D;if(this.idToItem[C]){let I=this.idToItem[C];D=this.isArabic?I.nameArabic||I.name||C:I.name||I.nameArabic||C}else if(this.nameToItem[C]){let I=this.nameToItem[C];D=this.isArabic?I.nameArabic||I.name||C:I.name||I.nameArabic||C}else D=C;l[D]=(l[D]||0)+(r[C]||0),c[D]=(c[D]||0)+(o[C]||0)});let h=Object.keys(l),g=h.map(C=>l[C]),v=h.map(C=>this.colorForLabel(C));return{labels:h,values:g,colors:v,revenueByLabel:c}}buildItemCatMap(){let t={},e={},n={};Object.keys(this.categories||{}).forEach(r=>{let o=this.categories?.[r]?.items||{};Object.keys(o).forEach(s=>{t[s]=r;let l=o[s]||{},c=this.normalizeName(l.name||""),h=this.normalizeName(l.nameArabic||"");c&&(e[c]=r),h&&(e[h]=r),c&&(n[c]={name:l.name||"",nameArabic:l.nameArabic||""}),h&&(n[h]={name:l.name||"",nameArabic:l.nameArabic||""}),this.idToItem[s]={name:l.name||"",nameArabic:l.nameArabic||""}})}),this.itemCatMap=t,this.nameToCatMap=e,this.nameToItem=n}getCategoryKeyByItemName(t){return this.nameToCatMap[this.normalizeName(t||"")]}aggregateLiveTableOrdersByItem(){let t={},e=this.liveTablesSnapshot||{};Object.keys(e).forEach(r=>{let o=e[r]?.order||{};Object.keys(o).forEach(s=>{let l=o[s]||{};if(l.state==="unordered")return;let c=String(l.name||""),h=this.normalizeName(c),g=Number(l.unitPrice??0)||0,v=Number(l.quantity??0)||0;if(!t[h]){let C=this.nameToItem[h];t[h]={name:c,nameArabic:C?.nameArabic||void 0,unitPrice:g,quantity:0}}t[h].quantity+=v})});let n={};return Object.keys(t).forEach(r=>{let o=t[r];n[r]={name:o.name,nameArabic:o.nameArabic,unitPrice:o.unitPrice,quantity:o.quantity}}),n}getOrdersForKey(t,e){let n=this.getDayInvoices(t),r=this.formatDateKey(new Date);if(e&&e===r){let o=this.aggregateLiveTableOrdersByItem();Object.keys(o).length&&n.push({id:"live",items:o})}return n}getDayInvoices(t){let e=t?.Order_List||{};return Object.keys(e).map(n=>P({id:n},e[n]||{}))}observeLiveTables(){let t=Hn(Wn,`restaurants/${this.restaurantId}/tables`);this.tablesUnsub=Sc(t,e=>{this.liveTablesSnapshot=e.exists()?e.val():{},this.refreshAllCharts()})}normalizeName(t){return String(t||"").trim().toLocaleLowerCase()}nameToCatMap={};nameToItem={};idToItem={};itemLabel(t,e){let n=String(t?.name||"").trim(),r=String(t?.nameArabic||"").trim(),o=this.isArabic?r||n:n||r;if(o)return o;let s=this.nameToItem[this.normalizeName(n||r)];return s?this.isArabic?s.nameArabic||s.name||e:s.name||s.nameArabic||e:e}updateCategoryListLabels(){this.categoryList=Object.keys(this.categories||{}).map(t=>({key:t,label:this.isArabic?this.categories[t]?.nameArabic||this.categories[t]?.name||t:this.categories[t]?.name||this.categories[t]?.nameArabic||t,section:this.categories[t]?.section||"kitchen"}))}ngAfterViewInit(){setTimeout(()=>this.refreshAllCharts(),0)}ngOnDestroy(){this.clockInterval&&clearInterval(this.clockInterval),this.ordersUnsub&&this.ordersUnsub(),this.historyUnsub&&this.historyUnsub(),this.tablesUnsub&&this.tablesUnsub(),this.destroyCharts()}updateRestaurantDisplayName(){let t=this.isArabic?this.restaurant?.restArabicName||this.restaurant?.restName||"":this.restaurant?.restName||this.restaurant?.restArabicName||"";this.restaurantName=String(t||"").trim()}loadCounts(){return j(this,null,function*(){let t=yield mr(Hn(Wn,`restaurants/${this.restaurantId}/tables`)),e=t.exists()?t.val():{};this.counts.tableCount=Object.keys(e).length;let n=yield mr(Hn(Wn,`restaurants/${this.restaurantId}/employees`)),r=n.exists()?n.val():{};this.counts.employeeCount=Object.keys(r).length;let o=yield mr(Hn(Wn,`restaurants/${this.restaurantId}/customers`)),s=o.exists()?o.val():{};this.counts.customerCount=Object.keys(s).length;let l=yield mr(Hn(Wn,`restaurants/${this.restaurantId}/meta/lastInvoiceNumber`)),c=l.exists()?Number(l.val()):0;this.counts.invoicesToDate=isFinite(c)?c:0;let h=yield mr(Hn(Wn,`restaurants/${this.restaurantId}/finance`)),g=h.exists()?h.val():{};this.overview.employeesBalance=Number(g.employeesBalance??0)||0,this.overview.suppliersBalance=Number(g.suppliersBalance??0)||0,this.overview.customersBalance=Number(g.customersBalance??0)||0,this.overview.bankBalances=Number(g.bankBalances??0)||0,this.overview.checksBalance=Number(g.checksBalance??0)||0,this.overview.cashOnHand=Number(g.cashOnHand??0)||0,this.overview.totalExpenses=Number(g.totalExpenses??0)||0,this.overview.totalPurchases=Number(g.totalPurchases??0)||0})}countItems(){let t=0;Object.keys(this.categories||{}).forEach(e=>{let n=this.categories[e]?.items||{};t+=Object.keys(n).length}),this.counts.itemCount=t,this.counts.categoryCount=Object.keys(this.categories||{}).length}observeHistory(){this.historyUnsub&&(this.historyUnsub(),this.historyUnsub=null);let t=Hn(Wn,`restaurants/${this.restaurantId}/history`);this.historyUnsub=Sc(t,e=>{this.history=e.exists()?e.val():{};let n=this.formatDateKey(new Date);this.history[n]||(this.history[n]={Order_List:{}});let r=this.computeTotalsForRange("day");this.overview.totalDiscounts=r.totalDiscounts,this.overview.salesRevenue=r.revenue,this.refreshAllCharts()})}destroyCharts(){this.revenueChart&&(this.revenueChart.destroy(),this.revenueChart=null),this.categoryChart&&(this.categoryChart.destroy(),this.categoryChart=null),this.typeChart&&(this.typeChart.destroy(),this.typeChart=null),this.discountChart&&(this.discountChart.destroy(),this.discountChart=null),this.itemsChart&&(this.itemsChart.destroy(),this.itemsChart=null)}onTimeScaleChange(){this.refreshAllCharts()}onCategorySearch(t){this.categorySearch=t?.target?.value||""}onTypeSearch(t){this.typeSearch=t?.target?.value||""}refreshAllCharts(){if(!this.history)return;this.destroyCharts();let t=this.getRevenueSeries(this.revenueScale),e=this.revenueChartCanvas.nativeElement.getContext("2d"),n={id:"valueLabels",afterDatasetsDraw:h=>{let{ctx:g}=h,v=h.data.datasets?.[0],C=h.getDatasetMeta(0);!v||!C||(g.save(),g.fillStyle="#111827",g.textAlign="center",g.textBaseline="bottom",g.font="12px system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial",C.data.forEach((D,I)=>{let M=Number(v.data?.[I]??0)||0,F="\u20AA "+new Intl.NumberFormat(this.isArabic?"ar":"en-US",{maximumFractionDigits:0}).format(M),z=D?.x??0,X=D?.y??0;g.fillText(F,z,X-6)}),g.restore())}},r=this.chartOptions(!0),o=Math.max(0,...t.values||[0]),s=ie(P({},r),{layout:ie(P({},r.layout),{padding:ie(P({},r.layout?.padding||{}),{top:48})}),scales:ie(P({},r.scales),{y:ie(P({},r.scales?.y||{}),{suggestedMax:Math.ceil(o*1.3)})})});this.revenueChart=new Chart(e,{type:"bar",data:{labels:t.labels,datasets:[{label:this.isArabic?"\u0627\u0644\u0625\u064A\u0631\u0627\u062F\u0627\u062A":"Revenue",data:t.values,backgroundColor:"#6366f1",borderRadius:6,maxBarThickness:32}]},options:s,plugins:[n]});let l=this.getCategoryDataset(this.categoryScale,this.selectedCategoryKey);this.categoryChart=new Chart(this.categoryChartCanvas.nativeElement.getContext("2d"),{type:"doughnut",data:{labels:l.labels,datasets:[{label:this.isArabic?"\u0627\u0644\u0643\u0645\u064A\u0629":"Quantity",data:l.values,backgroundColor:l.colors,revenueByLabel:l.revenueByLabel||{}}]},options:ie(P({},this.pieOptions()),{plugins:ie(P({},this.pieOptions().plugins),{tooltip:ie(P({},this.pieOptions().plugins.tooltip),{callbacks:{label:h=>{let g=this.isArabic,v=Number(h.parsed||0)||0,C=String(h.label||""),D=h.dataset.revenueByLabel||{},I=Number(D[C]||0)||0,M=g?"\u0627\u0644\u0643\u0645\u064A\u0629":"Quantity",F=g?"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A":"Total",z="\u20AA "+new Intl.NumberFormat(g?"ar":"en-US",{maximumFractionDigits:0}).format(I);return`${M}: ${v} \u2022 ${F}: ${z}`}}})})})});let c=this.getTypeDataset(this.typeScale,this.selectedType);if(this.typeChart=new Chart(this.typeChartCanvas.nativeElement.getContext("2d"),{type:"doughnut",data:{labels:c.labels,datasets:[{label:this.isArabic?"\u0627\u0644\u0643\u0645\u064A\u0629":"Quantity",data:c.values,backgroundColor:c.colors,revenueByLabel:c.revenueByLabel||{}}]},options:ie(P({},this.pieOptions()),{plugins:ie(P({},this.pieOptions().plugins),{tooltip:ie(P({},this.pieOptions().plugins.tooltip),{callbacks:{label:h=>{let g=this.isArabic,v=Number(h.parsed||0)||0,C=String(h.label||""),D=h.dataset.revenueByLabel||{},I=Number(D[C]||0)||0,M=g?"\u0627\u0644\u0643\u0645\u064A\u0629":"Qty",F=g?"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A":"Total",z="\u20AA "+new Intl.NumberFormat(g?"ar":"en-US",{maximumFractionDigits:0}).format(I);return`${M}: ${v} \u2022 ${F}: ${z}`}}})})})}),this.discountChartCanvas?.nativeElement){let h=this.getDiscountsDataset(this.timeScale);this.discountChart=new Chart(this.discountChartCanvas.nativeElement.getContext("2d"),{type:"bar",data:{labels:h.labels,datasets:h.datasets},options:ie(P({},this.chartOptions(!0)),{plugins:{legend:{position:"bottom",labels:{boxWidth:10,boxHeight:10}}},scales:{x:{stacked:!0,grid:{display:!1}},y:{stacked:!0,ticks:{callback:g=>String(g)}}}})})}if(this.itemsChartCanvas?.nativeElement&&this.selectedItemsCategoryKey){let h=this.getItemsInCategoryDataset(this.itemsScale,this.selectedItemsCategoryKey);this.itemsChart=new Chart(this.itemsChartCanvas.nativeElement.getContext("2d"),{type:"doughnut",data:{labels:h.labels,datasets:[{label:this.isArabic?"\u0627\u0644\u0643\u0645\u064A\u0629":"Quantity",data:h.values,backgroundColor:h.colors,revenueByLabel:h.revenueByLabel||{}}]},options:ie(P({},this.pieOptions()),{plugins:ie(P({},this.pieOptions().plugins),{tooltip:ie(P({},this.pieOptions().plugins.tooltip),{callbacks:{label:g=>{let v=this.isArabic,C=Number(g.parsed||0)||0,D=String(g.label||""),I=g.dataset.revenueByLabel||{},M=Number(I[D]||0)||0,F=v?"\u0627\u0644\u0643\u0645\u064A\u0629":"Qty",z=v?"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A":"Total",X="\u20AA "+new Intl.NumberFormat(v?"ar":"en-US",{maximumFractionDigits:0}).format(M);return`${F}: ${C} \u2022 ${z}: ${X}`}}})})})})}}chartOptions(t=!1){return{responsive:!0,maintainAspectRatio:!1,animation:{duration:600,easing:"easeOutQuart"},layout:t?{padding:{top:20}}:void 0,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,padding:10,backgroundColor:"rgba(17,24,39,.9)"}},scales:{x:{grid:{display:!1},ticks:{maxRotation:0}},y:{grid:{color:"rgba(0,0,0,.06)",drawBorder:!1},ticks:{callback:e=>String(e)}}},elements:t?{bar:{borderSkipped:!1}}:{line:{borderWidth:2}}}}pieOptions(){return{responsive:!0,maintainAspectRatio:!1,animation:{duration:600,easing:"easeOutQuart"},plugins:{legend:{position:"bottom"},tooltip:{padding:10,backgroundColor:"rgba(17,24,39,.9)"}},cutout:"55%"}}makeGradient(t,e){let{height:n}=t.canvas,r=t.createLinearGradient(0,0,0,n);return r.addColorStop(0,this.alpha(e,.35)),r.addColorStop(1,this.alpha(e,0)),r}alpha(t,e){let n=parseInt(t.slice(1,3),16),r=parseInt(t.slice(3,5),16),o=parseInt(t.slice(5,7),16);return`rgba(${n},${r},${o},${e})`}computeTotalsForRange(t){let e=this.bucketize(t),n=0,r=0;return e.forEach(o=>{o.keys.forEach(s=>{let l=this.history[s];if(!l)return;let c=this.computeDayRevenue(l,s);n+=c;let h=this.sumDiscounts(l?.discounts||{});r+=h})}),{revenue:n,totalDiscounts:r}}getRevenueSeries(t){let e=this.bucketize(t),n=[],r=[];return e.forEach(o=>{let s=0;o.keys.forEach(l=>{let c=this.history[l];c&&(s+=this.computeDayRevenue(c,l))}),n.push(o.label),r.push(s)}),{labels:n,values:r}}getCategoryDataset(t,e){let n={},r={},o=this.bucketize(t);if(e&&e!=="all"){let s=this.getCategoryLabel(e),l=0,c=0;return o.forEach(h=>{h.keys.forEach(g=>{let v=this.history[g];v&&(l+=this.sumCategory(v,e,g),c+=this.sumCategoryRevenue(v,e,g))})}),r[s]=c,{labels:[s],values:[l],colors:[this.colorForLabel(s)],revenueByLabel:r}}else{Object.keys(this.categories||{}).forEach(v=>n[v]=0);let s={};Object.keys(this.categories||{}).forEach(v=>s[v]=0),o.forEach(v=>{v.keys.forEach(C=>{let D=this.history[C];D&&Object.keys(n).forEach(I=>{n[I]+=this.sumCategory(D,I,C),s[I]+=this.sumCategoryRevenue(D,I,C)})})});let l=Object.keys(n),c=l.map(v=>this.getCategoryLabel(v)),h=l.map(v=>n[v]);c.forEach((v,C)=>{r[v]=s[l[C]]||0});let g=c.map(v=>this.colorForLabel(v));return{labels:c,values:h,colors:g,revenueByLabel:r}}}getTypeDataset(t,e){let n={},r={},o=this.bucketize(t),s=["kitchen","bar","hookah","other"];if(s.forEach(v=>{n[v]=0,r[v]=0}),o.forEach(v=>{v.keys.forEach(C=>{let D=this.history[C];if(!D)return;let I=D?.categories||{};Object.keys(I).length&&Object.keys(I).forEach(F=>{let z=this.categories?.[F]?.section||"kitchen",X=I[F]?.items||{};Object.keys(X).forEach(Z=>{let Y=X[Z]||{},Ae=Number(Y.counter||0),ye=Number(Y.price||0);n[z]=(n[z]||0)+Ae,r[z]=(r[z]||0)+ye*Ae})});let M=this.getOrdersForKey(D,C);M.length&&M.forEach(F=>{let z=F?.items??F?.orders??{};Object.keys(z).forEach(X=>{let Z=z[X]||{},Y=Number(Z.quantity??Z.counter??0)||0,Ae=this.itemCatMap[X]??this.getCategoryKeyByItemName(Z?.name||""),ye=this.categories?.[Ae]?.section||"kitchen",x=Number(Z.unitPrice??Z.price??0);n[ye]=(n[ye]||0)+Y,r[ye]=(r[ye]||0)+x*Y})})})}),e&&e!=="all"){let v=this.isArabic?this.typeLabelAr(e):this.typeLabelEn(e),C=[this.colorForLabel(v)],D={[v]:r[e]||0};return{labels:[v],values:[n[e]||0],colors:C,revenueByLabel:D}}let l=s.map(v=>this.isArabic?this.typeLabelAr(v):this.typeLabelEn(v)),c=s.map(v=>n[v]||0),h={};l.forEach((v,C)=>{let D=s[C];h[v]=r[D]||0});let g=l.map(v=>this.colorForLabel(v));return{labels:l,values:c,colors:g,revenueByLabel:h}}getDiscountsDataset(t){let e=this.bucketize(t),n=new Set;Object.keys(this.history||{}).forEach(h=>{let v=this.history[h]?.discounts||{};Object.keys(v).forEach(C=>n.add(C))});let r=Array.from(n.values()),o=[],s={};r.forEach(h=>s[h]=[]),e.forEach(h=>{o.push(h.label);let g={};r.forEach(v=>g[v]=0),h.keys.forEach(v=>{let C=this.history[v];if(!C)return;let D=C?.discounts||{};r.forEach(I=>g[I]+=Number(D?.[I]?.value??D?.[I]??0)||0)}),r.forEach(v=>s[v].push(g[v]))});let l=["#f97316","#22c55e","#0ea5e9","#8b5cf6","#ef4444","#06b6d4"],c=r.map((h,g)=>({label:this.discountLabel(h),data:s[h],backgroundColor:l[g%l.length]}));return{labels:o,datasets:c}}discountLabel(t){return t?t==="type1"?this.isArabic?"\u062E\u0635\u0645 1":"Type 1":t==="type2"?this.isArabic?"\u062E\u0635\u0645 2":"Type 2":t==="type3"?this.isArabic?"\u062E\u0635\u0645 3":"Type 3":t:this.isArabic?"\u062E\u0635\u0645":"Discount"}typeLabelAr(t){return t==="kitchen"?"\u0627\u0644\u0645\u0637\u0628\u062E":t==="bar"?"\u0627\u0644\u0628\u0627\u0631":t==="hookah"?"\u0627\u0644\u0623\u0631\u062C\u064A\u0644\u0629":"\u0623\u062E\u0631\u0649"}typeLabelEn(t){return t==="kitchen"?"Kitchen":t==="bar"?"Bar":t==="hookah"?"Hookah":"Other"}sumDiscounts(t){let e=0;return Object.keys(t||{}).forEach(n=>{let r=t[n];e+=Number(r?.value??r??0)||0}),e}sumCategory(t,e,n){let o=(t?.categories?.[e]||{})?.items||{},s=0;return Object.keys(o).forEach(l=>{let c=o[l]||{},h=Number(c.counter||0);s+=h}),s===0&&this.getOrdersForKey(t,n).forEach(c=>{let h=c?.items??c?.orders??{};Object.keys(h).forEach(g=>{let v=h[g]||{};if((this.itemCatMap[g]??this.getCategoryKeyByItemName(v?.name||""))!==e)return;let D=Number(v.quantity??v.counter??0)||0;s+=D})}),s}sumCategoryRevenue(t,e,n){let o=(t?.categories?.[e]||{})?.items||{},s=0;return Object.keys(o).forEach(l=>{let c=o[l]||{},h=Number(c.price||0),g=Number(c.counter||0);s+=h*g}),s===0&&this.getOrdersForKey(t,n).forEach(c=>{let h=c?.items??c?.orders??{};Object.keys(h).forEach(g=>{let v=h[g]||{};if((this.itemCatMap[g]??this.getCategoryKeyByItemName(v?.name||""))!==e)return;let D=Number(v.unitPrice??v.price??0),I=Number(v.quantity??v.counter??0)||0;s+=D*I})}),Math.max(0,s)}computeDayRevenue(t,e){let n=0,r=t?.categories||{};Object.keys(r).forEach(s=>{let l=r[s]?.items||{};Object.keys(l).forEach(c=>{let h=l[c]||{},g=Number(h.price||0),v=Number(h.counter||0);n+=g*v})});let o=this.sumDiscounts(t?.discounts||{});if(n-=o,n<=0){let s=this.getOrdersForKey(t,e),l=0;s.forEach(c=>{let h=c?.items??c?.orders??{};Object.keys(h).forEach(g=>{let v=h[g]||{},C=Number(v.unitPrice??v.price??0),D=Number(v.quantity??v.counter??0)||0;l+=C*D})}),n=l}return n<0?0:n}getCategoryLabel(t){let e=this.categories?.[t]||{};return this.isArabic?e.nameArabic||t:e.name||t}pickColor(t){let e=["#0ea5e9","#22c55e","#f97316","#8b5cf6","#ef4444","#06b6d4","#84cc16","#a855f7","#14b8a6","#eab308"];return e[t%e.length]}colorForLabel(t){let e=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf","#003f5c","#58508d","#bc5090","#ff6361","#ffa600","#2f4b7c","#665191","#a05195","#d45087","#f95d6a","#ff7c43","#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#86bc99","#5f9ea0","#ff6f61","#6b5b95","#88b04b","#92a8d1","#f7cac9","#955251","#b565a7","#009688","#795548","#607d8b","#9e9d24","#c2185b"],n=this.hashString(t);return e[Math.abs(n)%e.length]}hashString(t){let e=5381;for(let n=0;n<t.length;n++)e=(e<<5)+e+t.charCodeAt(n);return e|0}bucketize(t){let e=Object.keys(this.history||{}).sort();if(!e.length)return[];let n=e;if(t==="day")return n.map(s=>({label:s,keys:[s]}));let r=s=>{let[l,c,h]=(s||"").split("-").map(g=>Number(g));return new Date(l||0,(c||1)-1,h||1)};if(t==="week"){let s={};return n.forEach(l=>{let c=r(l),h=c.getFullYear(),g=String(c.getMonth()+1).padStart(2,"0"),v=c.getDate(),C=Math.min(4,Math.floor((v-1)/7)+1),D=`${h}-${g} W${C}`;s[D]||(s[D]=[]),s[D].push(l)}),Object.keys(s).sort().map(l=>({label:l,keys:s[l].sort()}))}if(t==="month"){let s={};return n.forEach(l=>{let c=r(l),h=`${c.getFullYear()}/${String(c.getMonth()+1).padStart(2,"0")}`;s[h]||(s[h]=[]),s[h].push(l)}),Object.keys(s).sort().map(l=>({label:l,keys:s[l].sort()}))}let o={};return n.forEach(s=>{let c=`${r(s).getFullYear()}`;o[c]||(o[c]=[]),o[c].push(s)}),Object.keys(o).sort().map(s=>({label:s,keys:o[s].sort()}))}getYearWeek(t){let e=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())),n=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-n);let r=new Date(Date.UTC(e.getUTCFullYear(),0,1)),o=Math.ceil(((+e-+r)/864e5+1)/7);return{y:e.getUTCFullYear(),w:String(o).padStart(2,"0")}}formatDateKey(t){let e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`}onOrdersDateChange(){this.observeOrdersForDate(this.selectedOrdersDate)}observeOrdersForDate(t){this.ordersUnsub&&(this.ordersUnsub(),this.ordersUnsub=null),this.ordersByKey={};let[e,n,r]=t.split("-").map(C=>Number(C)),o=new Date(e,(n||1)-1,r||1,0,0,0,0).getTime(),s=new Date(e,(n||1)-1,r||1,23,59,59,999).getTime(),l=new Date(o).toISOString().split("T")[0],c=new Date(s).toISOString().split("T")[0],h=Array.from(new Set([l,c])),g=[],v=()=>{let C={};h.forEach(D=>{(this.ordersByKey[D]||[]).forEach(M=>{C[M.id]=M})}),this.orders=Object.values(C).sort((D,I)=>{let M=Number(D.createdAt??0)||0,F=Number(I.createdAt??0)||0;return F!==M?F-M:Number(I.id)-Number(D.id)})};h.forEach(C=>{let D=Hn(Wn,`restaurants/${this.restaurantId}/history/${C}/Order_List`),I=Sc(D,M=>{let F=M.exists()?M.val():{},X=Object.keys(F).map(Z=>P({id:Z},F[Z]||{})).filter(Z=>{let Y=Number(Z.createdAt??0)||0;return Y?Y>=o&&Y<=s:!1});this.ordersByKey[C]=X,v()});g.push(I)}),this.ordersUnsub=()=>g.forEach(C=>{try{C()}catch{}})}localKeyToIsoDateKey(t){let[e,n,r]=t.split("-").map(s=>Number(s));return new Date(e,(n||1)-1,r||1).toISOString().split("T")[0]}get filteredOrders(){let t=(this.orderSearch||"").trim().toLowerCase(),e=this.orders;return t&&(e=e.filter(n=>String(n.id).toLowerCase().includes(t))),e.slice(0,this.orderPageSize)}loadMoreOrders(){this.orderPageSize+=10}onMatDateChange(t){let e=t.value||new Date;this.ordersDate=e,this.selectedOrdersDate=this.formatDateKey(e),this.onOrdersDateChange()}toggleExpand(t){this.expandedOrders[t]=!this.expandedOrders[t]}isExpanded(t){return!!this.expandedOrders[t]}orderItemsArray(t){let e=t?.items??t?.orders??{};return Array.isArray(e)?e:Object.keys(e||{}).map(n=>P({key:n},e[n]||{}))}getItemDisplayName(t){let e=String(t?.name||""),n=String(t?.name||"");return this.isArabic?t?.nameArabic||e:e||t?.nameArabic}getTopSelling(t=8){let e=this.bucketize(this.timeScale),n={},r=(l,c)=>{n[l]=(n[l]||0)+c};e.forEach(l=>{l.keys.forEach(c=>{let h=this.history[c];if(!h)return;let g=h?.categories||{};Object.keys(g).forEach(C=>{let D=g[C]?.items||{};Object.keys(D).forEach(I=>{let M=D[I]||{},F=Number(M.counter||0);r(I,F)})}),this.getOrdersForKey(h,c).forEach(C=>{let D=C?.items??C?.orders??{};Object.keys(D).forEach(I=>{let M=D[I]||{},F=Number(M.quantity??M.counter??0)||0,z=this.normalizeName(M?.name||M?.nameArabic||I);r(z,F)})})})});let o={};Object.keys(n).forEach(l=>{let c;if(this.idToItem[l]){let h=this.idToItem[l];c=this.isArabic?h.nameArabic||h.name||l:h.name||h.nameArabic||l}else if(this.nameToItem[l]){let h=this.nameToItem[l];c=this.isArabic?h.nameArabic||h.name||l:h.name||h.nameArabic||l}else c=l;o[c]=(o[c]||0)+(n[l]||0)});let s=Object.keys(o).map(l=>({label:l,count:o[l]}));return s.sort((l,c)=>c.count-l.count),s.slice(0,t)}getRestaurantDisplayName(){return this.restaurantName||this.restaurantId}trackById(t,e){return e?.id??e?.key??t}trackByKey(t,e){return e?.key??t}static \u0275fac=function(e){return new(e||i)(te(Be),te(Kt),te(nn))};static \u0275cmp=ne({type:i,selectors:[["app-stats"]],viewQuery:function(e,n){if(e&1&&Ct(OR,5)(PR,5)(NR,5)(FR,5)(LR,5),e&2){let r;Se(r=Ie())&&(n.revenueChartCanvas=r.first),Se(r=Ie())&&(n.categoryChartCanvas=r.first),Se(r=Ie())&&(n.typeChartCanvas=r.first),Se(r=Ie())&&(n.discountChartCanvas=r.first),Se(r=Ie())&&(n.itemsChartCanvas=r.first)}},decls:292,vars:117,consts:[["revenueChartCanvas",""],["categoryChartCanvas",""],["typeChartCanvas",""],["itemsChartCanvas",""],["picker",""],[1,"container","py-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"mb-0"],[1,"text-muted"],[1,"clock","text-end"],[1,"fw-semibold"],[1,"text-primary"],[1,"card","shadow-sm","mb-3","fade-in"],[1,"card-header","d-flex","align-items-center","gap-2"],[1,"bi","bi-speedometer2"],[1,"card-body"],[1,"overview-grid"],[1,"tile","tile-blue"],[1,"bi","bi-people"],[1,"meta"],[1,"label"],[1,"value"],[1,"tile","tile-cyan"],[1,"bi","bi-truck"],[1,"tile","tile-lime"],[1,"bi","bi-person-vcard"],[1,"tile","tile-purple"],[1,"bi","bi-bank"],[1,"tile","tile-rose"],[1,"bi","bi-ui-checks-grid"],[1,"tile","tile-amber"],[1,"bi","bi-cash-coin"],[1,"tile","tile-red"],[1,"bi","bi-credit-card"],[1,"tile","tile-teal"],[1,"bi","bi-bag-check"],[1,"tile","tile-yellow"],[1,"bi","bi-ticket-detailed"],[1,"tile","tile-green"],[1,"bi","bi-currency-dollar"],[1,"row","g-3"],[1,"col-lg-8","order-2","order-lg-1"],[1,"card","h-100","shadow-sm","fade-in",2,"height","500px!important"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center","gap-2"],[1,"bi","bi-graph-up"],["appearance","outline",2,"width","160px"],["panelClass","menu-select-panel",3,"ngModelChange","selectionChange","ngModel"],["value","day"],["value","week"],["value","month"],["value","year"],[1,"card-body","chart-md"],[1,"row","g-3","mt-1"],[1,"col-md-6"],[1,"card","shadow-sm","fade-in"],[1,"bi","bi-ui-checks"],["appearance","outline",2,"width","150px"],[1,"card-body","chart-lg"],[1,"bi","bi-columns-gap"],[1,"col-12"],[1,"bi","bi-grid-3x3-gap"],["appearance","outline",2,"width","220px"],[3,"value"],[1,"card","shadow-sm","mt-3","fade-in",2,"padding-bottom","10em"],[1,"bi","bi-receipt"],["appearance","outline",2,"width","200px"],["matInput","",3,"dateChange","matDatepicker"],["matIconSuffix","",3,"for"],["appearance","outline",2,"width","240px"],["matInput","",3,"ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","align-middle","mb-0"],[1,"card-footer","text-center"],[1,"col-lg-4","order-1","order-lg-2"],[1,"card","shadow-sm","mt-3","fade-in"],[1,"card-header"],[1,"counts-grid"],[1,"count-item"],[1,"bi","bi-hash"],[1,"bi","bi-grid"],[1,"bi","bi-basket"],[1,"bi","bi-tags"],[1,"bi","bi-person"],[1,"bi","bi-stars"],[1,"list-group","list-group-flush"],[1,"list-group-item","d-flex","justify-content-between"],[1,"order-row"],[1,"text-end"],[1,"btn","btn-sm","btn-link",3,"click"],[1,"bi"],["colspan","5",1,"bg-body-tertiary"],[1,"p-2"],[1,"small","text-muted","mb-2"],[1,"row","row-cols-1","row-cols-md-2","g-2"],[1,"col"],[1,"d-flex","justify-content-between","border","rounded","p-2"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"]],template:function(e,n){if(e&1){let r=he();m(0,"div",5)(1,"div",6)(2,"div")(3,"h2",7),_(4),f(),m(5,"small",8),_(6),f()(),m(7,"div",9)(8,"div",10),_(9),et(10,"date"),f(),m(11,"small",11),_(12),et(13,"date"),f()()(),m(14,"div",12)(15,"div",13),H(16,"i",14),m(17,"span"),_(18),f()(),m(19,"div",15)(20,"div",16)(21,"div",17),H(22,"i",18),m(23,"div",19)(24,"div",20),_(25),f(),m(26,"div",21),_(27),et(28,"number"),f()()(),m(29,"div",22),H(30,"i",23),m(31,"div",19)(32,"div",20),_(33),f(),m(34,"div",21),_(35),et(36,"number"),f()()(),m(37,"div",24),H(38,"i",25),m(39,"div",19)(40,"div",20),_(41),f(),m(42,"div",21),_(43),et(44,"number"),f()()(),m(45,"div",26),H(46,"i",27),m(47,"div",19)(48,"div",20),_(49),f(),m(50,"div",21),_(51),et(52,"number"),f()()(),m(53,"div",28),H(54,"i",29),m(55,"div",19)(56,"div",20),_(57),f(),m(58,"div",21),_(59),et(60,"number"),f()()(),m(61,"div",30),H(62,"i",31),m(63,"div",19)(64,"div",20),_(65),f(),m(66,"div",21),_(67),et(68,"number"),f()()(),m(69,"div",32),H(70,"i",33),m(71,"div",19)(72,"div",20),_(73),f(),m(74,"div",21),_(75),et(76,"number"),f()()(),m(77,"div",34),H(78,"i",35),m(79,"div",19)(80,"div",20),_(81),f(),m(82,"div",21),_(83),et(84,"number"),f()()(),m(85,"div",36),H(86,"i",37),m(87,"div",19)(88,"div",20),_(89),f(),m(90,"div",21),_(91),et(92,"number"),f()()(),m(93,"div",38),H(94,"i",39),m(95,"div",19)(96,"div",20),_(97),f(),m(98,"div",21),_(99),et(100,"number"),f()()()()()(),m(101,"div",40)(102,"div",41)(103,"div",42)(104,"div",43)(105,"div",44),H(106,"i",45),m(107,"span"),_(108),f()(),m(109,"div",44)(110,"mat-form-field",46)(111,"mat-label"),_(112),f(),m(113,"mat-select",47),le("ngModelChange",function(s){return L(r),ae(n.revenueScale,s)||(n.revenueScale=s),V(s)}),q("selectionChange",function(){return L(r),V(n.refreshAllCharts())}),m(114,"mat-option",48),_(115),f(),m(116,"mat-option",49),_(117),f(),m(118,"mat-option",50),_(119),f(),m(120,"mat-option",51),_(121),f()()()()(),m(122,"div",52),H(123,"canvas",null,0),f()(),m(125,"div",53)(126,"div",54)(127,"div",55)(128,"div",43)(129,"div",44),H(130,"i",56),m(131,"span"),_(132),f()(),m(133,"div",44)(134,"mat-form-field",57)(135,"mat-label"),_(136),f(),m(137,"mat-select",47),le("ngModelChange",function(s){return L(r),ae(n.categoryScale,s)||(n.categoryScale=s),V(s)}),q("selectionChange",function(){return L(r),V(n.refreshAllCharts())}),m(138,"mat-option",48),_(139),f(),m(140,"mat-option",49),_(141),f(),m(142,"mat-option",50),_(143),f(),m(144,"mat-option",51),_(145),f()()()()(),m(146,"div",58),H(147,"canvas",null,1),f()()(),m(149,"div",54)(150,"div",55)(151,"div",43)(152,"div",44),H(153,"i",59),m(154,"span"),_(155),f()(),m(156,"div",44)(157,"mat-form-field",57)(158,"mat-label"),_(159),f(),m(160,"mat-select",47),le("ngModelChange",function(s){return L(r),ae(n.typeScale,s)||(n.typeScale=s),V(s)}),q("selectionChange",function(){return L(r),V(n.refreshAllCharts())}),m(161,"mat-option",48),_(162),f(),m(163,"mat-option",49),_(164),f(),m(165,"mat-option",50),_(166),f(),m(167,"mat-option",51),_(168),f()()()()(),m(169,"div",58),H(170,"canvas",null,2),f()()(),m(172,"div",60)(173,"div",55)(174,"div",43)(175,"div",44),H(176,"i",61),m(177,"span"),_(178),f()(),m(179,"div",44)(180,"mat-form-field",62)(181,"mat-label"),_(182),f(),m(183,"mat-select",47),le("ngModelChange",function(s){return L(r),ae(n.selectedItemsCategoryKey,s)||(n.selectedItemsCategoryKey=s),V(s)}),q("selectionChange",function(){return L(r),V(n.refreshAllCharts())}),we(184,VR,2,2,"mat-option",63,n.trackByKey,!0),f()(),m(186,"mat-form-field",57)(187,"mat-label"),_(188),f(),m(189,"mat-select",47),le("ngModelChange",function(s){return L(r),ae(n.itemsScale,s)||(n.itemsScale=s),V(s)}),q("selectionChange",function(){return L(r),V(n.refreshAllCharts())}),m(190,"mat-option",48),_(191),f(),m(192,"mat-option",49),_(193),f(),m(194,"mat-option",50),_(195),f(),m(196,"mat-option",51),_(197),f()()()()(),m(198,"div",58),H(199,"canvas",null,3),f()()()(),m(201,"div",64)(202,"div",43)(203,"div",44),H(204,"i",65),m(205,"span"),_(206),f()(),m(207,"div",44)(208,"mat-form-field",66)(209,"mat-label"),_(210),f(),m(211,"input",67),q("dateChange",function(s){return L(r),V(n.onMatDateChange(s))}),f(),H(212,"mat-datepicker-toggle",68)(213,"mat-datepicker",null,4),f(),m(215,"mat-form-field",69)(216,"mat-label"),_(217),f(),m(218,"input",70),le("ngModelChange",function(s){return L(r),ae(n.orderSearch,s)||(n.orderSearch=s),V(s)}),f()()()(),m(219,"div",71)(220,"table",72)(221,"thead")(222,"tr")(223,"th"),_(224,"#"),f(),m(225,"th"),_(226),f(),m(227,"th"),_(228),f(),m(229,"th"),_(230),f(),H(231,"th"),f()(),m(232,"tbody"),we(233,zR,15,15,null,null,n.trackById,!0),f()()(),K(235,$R,3,1,"div",73),f()(),m(236,"div",74)(237,"div",75)(238,"div",76),_(239),f(),m(240,"div",15)(241,"div",77)(242,"div",78),H(243,"i",79),m(244,"div")(245,"div",20),_(246),f(),m(247,"div",21),_(248),f()()(),m(249,"div",78),H(250,"i",80),m(251,"div")(252,"div",20),_(253),f(),m(254,"div",21),_(255),f()()(),m(256,"div",78),H(257,"i",18),m(258,"div")(259,"div",20),_(260),f(),m(261,"div",21),_(262),f()()(),m(263,"div",78),H(264,"i",81),m(265,"div")(266,"div",20),_(267),f(),m(268,"div",21),_(269),f()()(),m(270,"div",78),H(271,"i",82),m(272,"div")(273,"div",20),_(274),f(),m(275,"div",21),_(276),f()()(),m(277,"div",78),H(278,"i",83),m(279,"div")(280,"div",20),_(281),f(),m(282,"div",21),_(283),f()()()()()(),m(284,"div",75)(285,"div",13),H(286,"i",84),m(287,"span"),_(288),f()(),m(289,"div",85),we(290,qR,5,2,"div",86,n.trackByKey,!0),f()()()()()}if(e&2){let r=Et(214);Me("dir",n.isArabic?"rtl":"ltr"),u(4),ni("",n.isArabic?"\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A":"Statistics"," \u2014 ",n.getRestaurantDisplayName()),u(2),T(n.isArabic?"\u0639\u0631\u0636 \u0627\u0644\u0623\u062F\u0627\u0621 \u0648\u0627\u0644\u0645\u0642\u0627\u064A\u064A\u0633":"Performance and metrics"),u(3),T(pt(10,81,n.now,n.isArabic?"EEEE\u060C d MMMM y":"EEE, MMM d, y")),u(3),T(pt(13,84,n.now,"HH:mm:ss")),u(6),T(n.isArabic?"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629":"Overview"),u(7),T(n.isArabic?"\u0631\u0635\u064A\u062F \u0627\u0644\u0645\u0648\u0638\u0641\u064A\u0646":"Employees Balance"),u(2),$("\u20AA ",pt(28,87,n.overview.employeesBalance,"1.0-0")),u(6),T(n.isArabic?"\u0631\u0635\u064A\u062F \u0627\u0644\u0645\u0648\u0631\u0651\u062F\u064A\u0646":"Suppliers Balance"),u(2),$("\u20AA ",pt(36,90,n.overview.suppliersBalance,"1.0-0")),u(6),T(n.isArabic?"\u0631\u0635\u064A\u062F \u0627\u0644\u0632\u0628\u0627\u0626\u0646":"Customers Balance"),u(2),$("\u20AA ",pt(44,93,n.overview.customersBalance,"1.0-0")),u(6),T(n.isArabic?"\u0623\u0631\u0635\u062F\u0629 \u0627\u0644\u0628\u0646\u0648\u0643":"Bank Balances"),u(2),$("\u20AA ",pt(52,96,n.overview.bankBalances,"1.0-0")),u(6),T(n.isArabic?"\u0631\u0635\u064A\u062F \u0627\u0644\u0634\u064A\u0643\u0627\u062A":"Checks Balance"),u(2),$("\u20AA ",pt(60,99,n.overview.checksBalance,"1.0-0")),u(6),T(n.isArabic?"\u0646\u0642\u062F \u0628\u0627\u0644\u0635\u0646\u062F\u0648\u0642":"Cash on Hand"),u(2),$("\u20AA ",pt(68,102,n.overview.cashOnHand,"1.0-0")),u(6),T(n.isArabic?"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A":"Total Expenses"),u(2),$("\u20AA ",pt(76,105,n.overview.totalExpenses,"1.0-0")),u(6),T(n.isArabic?"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A":"Total Purchases"),u(2),$("\u20AA ",pt(84,108,n.overview.totalPurchases,"1.0-0")),u(6),T(n.isArabic?"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A":"Total Discounts"),u(2),$("\u20AA ",pt(92,111,n.overview.totalDiscounts,"1.0-0")),u(6),T(n.isArabic?"\u0625\u064A\u0631\u0627\u062F\u0627\u062A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A":"Sales Revenue"),u(2),$("\u20AA ",pt(100,114,n.overview.salesRevenue,"1.0-0")),u(9),T(n.isArabic?"\u0627\u0644\u0625\u064A\u0631\u0627\u062F\u0627\u062A":"Revenue"),u(4),T(n.isArabic?"\u0627\u0644\u0645\u062F\u0629":"Range"),u(),se("ngModel",n.revenueScale),u(2),T(n.isArabic?"\u064A\u0648\u0645\u064A":"Daily"),u(2),T(n.isArabic?"\u0623\u0633\u0628\u0648\u0639\u064A":"Weekly"),u(2),T(n.isArabic?"\u0634\u0647\u0631\u064A":"Monthly"),u(2),T(n.isArabic?"\u0633\u0646\u0648\u064A":"Yearly"),u(11),T(n.isArabic?"\u0645\u0628\u064A\u0639\u0627\u062A \u062D\u0633\u0628 \u0627\u0644\u0641\u0626\u0627\u062A":"Sales by Categories"),u(4),T(n.isArabic?"\u0627\u0644\u0645\u062F\u0629":"Range"),u(),se("ngModel",n.categoryScale),u(2),T(n.isArabic?"\u064A\u0648\u0645\u064A":"Daily"),u(2),T(n.isArabic?"\u0623\u0633\u0628\u0648\u0639\u064A":"Weekly"),u(2),T(n.isArabic?"\u0634\u0647\u0631\u064A":"Monthly"),u(2),T(n.isArabic?"\u0633\u0646\u0648\u064A":"Yearly"),u(10),T(n.isArabic?"\u0645\u0628\u064A\u0639\u0627\u062A \u062D\u0633\u0628 \u0627\u0644\u0646\u0648\u0639":"Sales by Type"),u(4),T(n.isArabic?"\u0627\u0644\u0645\u062F\u0629":"Range"),u(),se("ngModel",n.typeScale),u(2),T(n.isArabic?"\u064A\u0648\u0645\u064A":"Daily"),u(2),T(n.isArabic?"\u0623\u0633\u0628\u0648\u0639\u064A":"Weekly"),u(2),T(n.isArabic?"\u0634\u0647\u0631\u064A":"Monthly"),u(2),T(n.isArabic?"\u0633\u0646\u0648\u064A":"Yearly"),u(10),T(n.isArabic?"\u0627\u0644\u0639\u0646\u0627\u0635\u0631 \u062D\u0633\u0628 \u0627\u0644\u0641\u0626\u0629":"Items by Category"),u(4),T(n.isArabic?"\u0627\u0644\u0641\u0626\u0629":"Category"),u(),se("ngModel",n.selectedItemsCategoryKey),u(),Ce(n.categoryList),u(4),T(n.isArabic?"\u0627\u0644\u0645\u062F\u0629":"Range"),u(),se("ngModel",n.itemsScale),u(2),T(n.isArabic?"\u064A\u0648\u0645\u064A":"Daily"),u(2),T(n.isArabic?"\u0623\u0633\u0628\u0648\u0639\u064A":"Weekly"),u(2),T(n.isArabic?"\u0634\u0647\u0631\u064A":"Monthly"),u(2),T(n.isArabic?"\u0633\u0646\u0648\u064A":"Yearly"),u(9),T(n.isArabic?"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0637\u0644\u0628\u0627\u062A":"Order List"),u(4),T(n.isArabic?"\u0627\u0644\u064A\u0648\u0645":"Day"),u(),U("matDatepicker",r),u(),U("for",r),u(5),T(n.isArabic?"\u0627\u0628\u062D\u062B \u0628\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629":"Search by invoice id"),u(),se("ngModel",n.orderSearch),u(8),T(n.isArabic?"\u0627\u0644\u0637\u0627\u0648\u0644\u0629":"Table"),u(2),T(n.isArabic?"\u0627\u0644\u0648\u0642\u062A":"Time"),u(2),T(n.isArabic?"\u0627\u0644\u0642\u064A\u0645\u0629":"Amount"),u(3),Ce(n.filteredOrders),u(2),G(n.orders.length>n.orderPageSize?235:-1),u(4),$(" ",n.isArabic?"\u0627\u0644\u0625\u062D\u0635\u0627\u0621\u0627\u062A":"Counts"," "),u(7),T(n.isArabic?"\u0639\u062F\u062F \u0627\u0644\u0641\u0648\u0627\u062A\u064A\u0631":"Invoices to date"),u(2),T(n.counts.invoicesToDate),u(5),T(n.isArabic?"\u0639\u062F\u062F \u0627\u0644\u0637\u0627\u0648\u0644\u0627\u062A":"Tables"),u(2),T(n.counts.tableCount),u(5),T(n.isArabic?"\u0639\u062F\u062F \u0627\u0644\u0632\u0628\u0627\u0626\u0646":"Customers"),u(2),T(n.counts.customerCount),u(5),T(n.isArabic?"\u0639\u062F\u062F \u0627\u0644\u0623\u0635\u0646\u0627\u0641":"Items"),u(2),T(n.counts.itemCount),u(5),T(n.isArabic?"\u0639\u062F\u062F \u0627\u0644\u0641\u0626\u0627\u062A":"Categories"),u(2),T(n.counts.categoryCount),u(5),T(n.isArabic?"\u0639\u062F\u062F \u0627\u0644\u0645\u0648\u0638\u0641\u064A\u0646":"Employees"),u(2),T(n.counts.employeeCount),u(5),T(n.isArabic?"\u0627\u0644\u0639\u0646\u0627\u0635\u0631 \u0627\u0644\u0623\u0643\u062B\u0631 \u0645\u0628\u064A\u0639\u064B\u0627":"Best Selling Items"),u(2),Ce(n.getTopSelling(8))}},dependencies:[dn,yt,Tt,Dt,Rt,co,Nd,ol,Hm,wv,vv,Cs,Iv,Sv,Gv,Kv,eu,yp,Yv,Qv,Ts,bc,uy],styles:[`.metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:12px}@media(min-width:576px){.metrics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@media(min-width:992px){.metrics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.metric[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;border:1px solid var(--bs-border-color);border-radius:12px;padding:12px;background:var(--bs-body-bg);transition:transform .2s ease,box-shadow .2s ease}.metric[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px #0000000d}.metric[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.85rem;color:var(--bs-secondary-color)}.metric[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade .3s ease}@keyframes _ngcontent-%COMP%_fade{0%{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}.counts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:12px}.count-item[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;border:1px dashed var(--bs-border-color);border-radius:12px;padding:10px}.count-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.8rem;color:var(--bs-secondary-color)}.order-row[_ngcontent-%COMP%]{cursor:pointer}.overview-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}.tile[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:14px;border-radius:14px;color:#0f172a;background:linear-gradient(180deg,#fffc,#fff9);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);box-shadow:0 1px #0000000d inset,0 8px 24px #0000000d;transition:transform .25s ease,box-shadow .25s ease}.tile[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 10px 30px #00000014}.tile[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px}.tile[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.8rem;color:#64748b}.tile[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700}.tile-blue[_ngcontent-%COMP%]{border-left:4px solid #3b82f6}.tile-cyan[_ngcontent-%COMP%]{border-left:4px solid #06b6d4}.tile-lime[_ngcontent-%COMP%]{border-left:4px solid #84cc16}.tile-purple[_ngcontent-%COMP%]{border-left:4px solid #8b5cf6}.tile-rose[_ngcontent-%COMP%]{border-left:4px solid #f43f5e}.tile-amber[_ngcontent-%COMP%]{border-left:4px solid #f59e0b}.tile-red[_ngcontent-%COMP%]{border-left:4px solid #ef4444}.tile-teal[_ngcontent-%COMP%]{border-left:4px solid #14b8a6}.tile-yellow[_ngcontent-%COMP%]{border-left:4px solid #eab308}.tile-green[_ngcontent-%COMP%]{border-left:4px solid #22c55e}.chart-sm[_ngcontent-%COMP%]{height:110px}.chart-md[_ngcontent-%COMP%]{height:160px}.chart-lg[_ngcontent-%COMP%]{height:220px}.card-header[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:999px;background:#fff;padding:.25rem .9rem;box-shadow:0 1px 2px #0000000a;transition:border-color .2s ease,box-shadow .2s ease,transform .12s ease}.card-header[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:hover, .card-header[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #00000014}.card-header[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus, .card-header[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#6366f1;box-shadow:0 0 0 4px #6366f126;outline:0}.card-header[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{padding-right:2rem;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23677689' viewBox='0 0 16 16'%3E%3Cpath d='M3.204 5h9.592L8 10.481 3.204 5z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right .6rem center;background-size:12px}.card-header[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{min-width:auto;margin:0}.card-header[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{height:auto;min-height:38px}.card-header[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:.2rem;padding-bottom:.2rem;min-height:38px}.card-header[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]   .mdc-floating-label[_ngcontent-%COMP%]{font-size:.75rem}.card-header[_ngcontent-%COMP%]   .mat-mdc-select-value-text[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]   .mat-mdc-input-element[_ngcontent-%COMP%]{font-size:.8rem}.card-header[_ngcontent-%COMP%]   .mdc-notched-outline__leading[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]   .mdc-notched-outline__trailing[_ngcontent-%COMP%]{border-color:#e5e7eb}`],data:{animation:[Im("expandCollapse",[Ed(":enter",[ji({height:0,opacity:0}),Cd("220ms ease-out",ji({height:"*",opacity:1}))]),Ed(":leave",[ji({height:"*",opacity:1}),Cd("180ms ease-in",ji({height:0,opacity:0}))])])]}})};function HR(i,t){if(i&1){let e=he();m(0,"li",13),q("click",function(){let r=L(e).$implicit,o=A();return V(o.selectTable(r))}),m(1,"div",14)(2,"span",15),_(3),f()(),m(4,"span",16),_(5),f()()}if(i&2){let e=t.$implicit,n=A();me("active",(n.selectedTable==null?null:n.selectedTable.id)===e.id),u(3),T(e.name),u(),U("ngClass",e.availability?"bg-success":"bg-danger"),u(),$(" ",e.availability?n.isArabic?"\u0645\u062A\u0627\u062D":"Available":n.isArabic?"\u0645\u0634\u063A\u0648\u0644\u0629":"Occupied"," ")}}function WR(i,t){if(i&1){let e=he();m(0,"li",21)(1,"div",29)(2,"div",30)(3,"div",31),_(4),f(),m(5,"div",32)(6,"input",33),le("ngModelChange",function(r){let o=L(e).$implicit;return ae(o.value.details,r)||(o.value.details=r),V(r)}),f()()(),m(7,"div",34)(8,"input",35),le("ngModelChange",function(r){let o=L(e).$implicit;return ae(o.value.quantity,r)||(o.value.quantity=r),V(r)}),f(),m(9,"div",36)(10,"button",37),q("click",function(){let r=L(e).$implicit,o=A(2);return V(o.updateOrder(r.key,r.value.quantity,r.value.details||""))}),_(11),f(),m(12,"button",38),q("click",function(){let r=L(e).$implicit,o=A(2);return V(o.deleteOrder(r.key))}),_(13),f()()()()()}if(i&2){let e=t.$implicit,n=A(2);u(4),T(e.value.name),u(2),se("ngModel",e.value.details),U("placeholder",n.isArabic?"\u062A\u0641\u0627\u0635\u064A\u0644":"Details"),u(2),se("ngModel",e.value.quantity),u(3),$(" ",n.isArabic?"\u062A\u062D\u062F\u064A\u062B":"Update"," "),u(2),$(" ",n.isArabic?"\u062D\u0630\u0641":"Remove"," ")}}function KR(i,t){if(i&1&&H(0,"option",25),i&2){let e=t.$implicit;U("value",e)}}function GR(i,t){if(i&1){let e=he();m(0,"div",12)(1,"div",17)(2,"div",8)(3,"div"),_(4),m(5,"strong"),_(6),f()(),m(7,"button",18),q("click",function(){L(e);let r=A();return V(r.selectedTable=null)}),_(8),f()(),m(9,"div",19)(10,"ul",20),we(11,WR,14,6,"li",21,Ue),et(13,"keyvalue"),f(),m(14,"div",22),H(15,"input",23,0),m(17,"datalist",24),we(18,KR,1,1,"option",25,Ue),f(),H(20,"input",26,1)(22,"input",27,2),m(24,"button",28),q("click",function(){L(e);let r=Et(16),o=Et(21),s=Et(23);return A().addOrder(r.value,+o.value,s.value),r.value="",o.value="",V(s.value="")}),_(25),f()()()()()}if(i&2){let e=A();u(4),$(" ",e.isArabic?"\u0627\u0644\u0637\u0644\u0628\u0627\u062A \u0644\u0640":"Orders for"," "),u(2),T(e.selectedTable.name),u(2),T(e.isArabic?"\u0631\u062C\u0648\u0639":"Back"),u(3),Ce(Oo(13,7,e.selectedTable.order)),u(4),U("placeholder",e.isArabic?"\u0627\u0633\u0645 \u0627\u0644\u0635\u0646\u0641":"Item name"),u(3),Ce(e.menuItemNames),u(2),U("placeholder",e.isArabic?"\u0627\u0644\u0643\u0645\u064A\u0629":"Qty"),u(2),U("placeholder",e.isArabic?"\u062A\u0641\u0627\u0635\u064A\u0644 (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)":"Details (optional)"),u(3),$(" ",e.isArabic?"\u0625\u0636\u0627\u0641\u0629":"Add"," ")}}var nu=class i{constructor(t,e,n,r,o){this.db=t;this.menuService=e;this.languageService=n;this.ngZone=r;this.route=o}restaurantId="";restaurantName="";restaurant=null;tables=[];selectedTable=null;menuItemNames=[];categoriesCache=null;isArabic=!1;subs=[];tablesUnsub=null;choiceDraftIndex={};ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t),Kn.getRestaurantById(this.restaurantId).then(n=>{this.restaurant=n,this.updateRestaurantDisplayName()}).catch(()=>{this.restaurant=null,this.updateRestaurantDisplayName()});let e=Ne(this.db,`restaurants/${this.restaurantId}/tables`);this.tablesUnsub=In(e,n=>{this.ngZone.run(()=>{let r=n.val()||{};if(this.tables=Object.keys(r).map(o=>{let s=P({id:o},r[o]);if(s.order){let l={};Object.keys(s.order).forEach(c=>{let h=s.order[c];h.state&&h.state!=="unordered"&&(l[c]=h)}),s.order=l}return s}).sort((o,s)=>(o.name||"").localeCompare(s.name||"",void 0,{numeric:!0})),this.selectedTable){let o=this.tables.find(s=>s.id===this.selectedTable.id)||null;this.selectedTable=o}})}),this.menuService.getCategoriesOnce(this.restaurantId).then(n=>{this.categoriesCache=n,this.menuItemNames=this.flattenMenuNames(n,this.isArabic)}),this.subs.push(this.languageService.isArabic$.subscribe(n=>{this.isArabic=n,this.menuItemNames=this.flattenMenuNames(this.categoriesCache,this.isArabic),this.updateRestaurantDisplayName()}))}ngOnDestroy(){this.tablesUnsub&&this.tablesUnsub(),this.subs.forEach(t=>t.unsubscribe())}selectTable(t){this.selectedTable=t}updateOrder(t,e,n){return j(this,null,function*(){if(!this.selectedTable)return;let r=Ne(this.db,`restaurants/${this.restaurantId}/tables/${this.selectedTable.id}/order/${t}`);if(e<=0)yield qr(r);else{let o=this.selectedTable.order?.[t],s=this.choiceDraftIndex[t],l={quantity:e,details:n};if(o&&s!==void 0&&s!==null){let c=this.getChoicePairs(o.name);l.choiceEn=c.en[s]??null,l.choiceAr=c.ar[s]??null;let h=this.getMenuItemPrice(o.name||""),g=this.getChoiceAddByIndex(o.name||"",s);l.unitPrice=h+g}yield ft(r,l),delete this.choiceDraftIndex[t]}})}addOrder(t,e,n){return j(this,null,function*(){if(!this.selectedTable||!t||e<=0)return;let r=this.resolveNameFromMenu(t.trim(),this.isArabic)||t.trim(),o=Ne(this.db,`restaurants/${this.restaurantId}/tables/${this.selectedTable.id}/order`),s=Date.now().toString(),l=this.getChoicePairs(r),c=l.en.length?l.en[0]:null,h=l.ar.length?l.ar[0]:null,g=Number(this.findMenuItemByName(r)?.price??0);yield ft(o,{[s]:{name:r,quantity:e,details:n||"",state:"ordered",choiceEn:c,choiceAr:h,unitPrice:g,ts:Date.now()}})})}deleteOrder(t){return j(this,null,function*(){if(!this.selectedTable)return;let e=Ne(this.db,`restaurants/${this.restaurantId}/tables/${this.selectedTable.id}/order/${t}`);yield qr(e)})}getMenuItemPrice(t){let e=this.findMenuItemByName(t);return Number(e?.price||0)}getChoiceAddByIndex(t,e){return e===null?0:this.getChoiceDisplayStructured(t)[e]?.add||0}resolveNameFromMenu(t,e){if(!this.categoriesCache)return null;let n=t.toLowerCase();for(let r of Object.keys(this.categoriesCache)){let o=this.categoriesCache[r]?.items||{};for(let s of Object.keys(o)){let l=o[s];if(l.name?.toLowerCase()===n||l.nameArabic?.toLowerCase()===n)return e?l.nameArabic||l.name:l.name||l.nameArabic}}return null}findMenuItemByName(t){if(!this.categoriesCache)return null;let e=t.toLowerCase();for(let n of Object.keys(this.categoriesCache)){let r=this.categoriesCache[n]?.items||{};for(let o of Object.keys(r)){let s=r[o];if(s.name?.toLowerCase()===e||s.nameArabic?.toLowerCase()===e)return s}}return null}getChoiceDisplayStructured(t){let e=this.findMenuItemByName(t),n=Array.isArray(e?.choiceOptions)?e.choiceOptions:[];return n.length?n.map(r=>({label:this.isArabic?r.ar||r.en||"":r.en||r.ar||"",add:Number(r.add)||0})):[]}getChoicePairs(t){let e=this.findMenuItemByName(t);return{en:Array.isArray(e?.choices)?e.choices:[],ar:Array.isArray(e?.choicesArabic)?e.choicesArabic:[]}}flattenMenuNames(t,e){let n=new Set;return t?(Object.keys(t).forEach(r=>{let o=t[r];Object.keys(o.items||{}).forEach(s=>{let l=o.items[s],c=e?l.nameArabic||l.name:l.name||l.nameArabic;c&&n.add(c)})}),Array.from(n)):[]}updateRestaurantDisplayName(){this.restaurantName=this.isArabic?this.restaurant?.restArabicName||this.restaurant?.restName:this.restaurant?.restName||this.restaurant?.restArabicName}get restaurantDisplayName(){return this.restaurantName||this.restaurantId}static \u0275fac=function(e){return new(e||i)(te(Sn),te(nn),te(Kt),te(ee),te(Be))};static \u0275cmp=ne({type:i,selectors:[["app-ordering-dashboard"]],decls:18,vars:8,consts:[["itemName",""],["itemQty",""],["itemDetails",""],[1,"container","py-4"],[1,"dashboard-header"],[1,"row","g-4"],[1,"col-lg-4"],[1,"card","sticky-col"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"badge","bg-primary"],[1,"list-group","list-group-flush",2,"max-height","70vh","overflow-y","auto"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",3,"active"],[1,"col-lg-8"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",3,"click"],[1,"d-flex","flex-column"],[1,"fw-semibold"],[1,"badge",3,"ngClass"],[1,"card"],[1,"btn","btn-sm","btn-outline-light",3,"click"],[1,"card-body"],[1,"list-group","mb-3"],[1,"list-group-item"],[1,"d-flex","flex-wrap","gap-2"],["type","text","list","menuSuggestions",1,"form-control",2,"max-width","260px",3,"placeholder"],["id","menuSuggestions"],[3,"value"],["type","number","min","1",1,"form-control",2,"max-width","100px",3,"placeholder"],["type","text",1,"form-control",3,"placeholder"],[1,"btn","btn-success",3,"click"],[1,"d-flex","justify-content-between","align-items-start"],[1,"flex-grow-1","pe-3"],[1,"fw-bold"],[1,"mt-2"],["type","text",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","placeholder"],[2,"min-width","160px"],["type","number","min","0",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],[1,"d-flex","gap-2","mt-2"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"btn","btn-sm","btn-warning",3,"click"]],template:function(e,n){e&1&&(m(0,"div",3)(1,"div",4)(2,"h1"),_(3),f(),m(4,"p"),_(5),f()(),m(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"span"),_(11),f(),m(12,"span",9),_(13),f()(),m(14,"ul",10),we(15,HR,6,5,"li",11,Ue),f()()(),K(17,GR,26,9,"div",12),f()()),e&2&&(Me("dir",n.isArabic?"rtl":"ltr"),u(),me("align-right",n.isArabic),u(2),T(n.restaurantDisplayName),u(2),T(n.isArabic?"\u0644\u0648\u062D\u0629 \u0627\u0644\u0637\u0644\u0628\u0627\u062A":"Ordering Dashboard"),u(6),T(n.isArabic?"\u0627\u0644\u0637\u0627\u0648\u0644\u0627\u062A":"Tables"),u(2),T(n.tables.length||0),u(2),Ce(n.tables),u(2),G(n.selectedTable?17:-1))},dependencies:[dn,En,yt,fr,gr,Tt,yi,Dt,xc,Rt,Fo],styles:["[_nghost-%COMP%]{display:block;background:#f8fafc;min-height:100vh}.dashboard-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1f2937;font-weight:700;margin:0 0 .25rem}.dashboard-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin:0}.btn-outline-secondary[_ngcontent-%COMP%]{color:#fff;background-color:#21a77a;--bs-btn-active-bg: #059669}.card[_ngcontent-%COMP%]{border:none;border-radius:14px;overflow:hidden;box-shadow:0 10px 24px #0000000f}.card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;font-weight:600}.list-group-item[_ngcontent-%COMP%]{border:0;border-bottom:1px solid #eef2f7;transition:transform .15s ease,background .15s ease}.list-group-item[_ngcontent-%COMP%]:hover{background:#10b981;transform:translate(4px);border-radius:5px}.list-group-item.active[_ngcontent-%COMP%]{background:#10b981;font-weight:600}.badge[_ngcontent-%COMP%]{border-radius:999px;padding:.4rem .65rem;font-weight:600}.bg-success[_ngcontent-%COMP%]{background:#21a77a!important}.bg-danger[_ngcontent-%COMP%]{background:#ef4444!important;border:#88190f 1px solid}.orders-card[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background:transparent}.orders-card[_ngcontent-%COMP%]   .order-title[_ngcontent-%COMP%]{font-weight:600;color:#111827}.orders-card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#6b7280;font-size:.85rem}.form-control[_ngcontent-%COMP%]{border-radius:10px;border:1px solid #e5e7eb}.form-control[_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f626}.btn[_ngcontent-%COMP%]{border-radius:10px;font-weight:600;transition:transform .15s ease,box-shadow .15s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #020f0954}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);border:none}.btn-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);border:none}.btn-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#d40909);border:none;color:#e5e7eb}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}.orders-card[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .25s ease both}@media(max-width:991px){.sticky-col[_ngcontent-%COMP%]{position:static!important}}.dashboard-header.align-right[_ngcontent-%COMP%]{text-align:right}.choice-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-top:6px}.choice-chip[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;border-radius:99px;border:1px solid #d1d5db;background:#f5f6f8;color:var(--text-color, #212529);font-weight:700;cursor:pointer;-webkit-user-select:none;user-select:none}.choice-chip.active[_ngcontent-%COMP%]{background:rgba(var(--primary-color-rgb, 255, 107, 107),.12);color:var(--primary-color, #ff6b6b);border-color:var(--primary-color, #ff6b6b)}.choice-chip.readonly[_ngcontent-%COMP%]{pointer-events:none;opacity:.95}.choice-add[_ngcontent-%COMP%]{color:var(--primary-color, #ff6b6b);font-weight:700;margin-inline-start:6px}.badge.clickable[_ngcontent-%COMP%]{cursor:pointer;transition:transform .2s}.badge.clickable[_ngcontent-%COMP%]:hover{transform:scale(1.05)}"]})};var YR=()=>({background:"rgba(0,0,0,0.4)"});function QR(i,t){if(i&1&&(m(0,"div",20),_(1),f()),i&2){let e=A().$implicit,n=A();u(),$(" In: ",n.getTodayTime(e)," ")}}function XR(i,t){i&1&&(m(0,"div",21),_(1,"Not signed in"),f())}function ZR(i,t){if(i&1){let e=he();m(0,"button",23),q("click",function(){L(e);let r=A().$implicit,o=A();return V(o.openSignOutModal(r.id,r.name))}),_(1," Sign Out "),f()}}function JR(i,t){if(i&1&&(m(0,"div",12)(1,"div",14),H(2,"img",15),m(3,"div")(4,"div",16),_(5),m(6,"span",17),_(7),f()(),m(8,"div",18),_(9),f()()(),m(10,"div",19),K(11,QR,2,1,"div",20),K(12,XR,2,0,"div",21),K(13,ZR,2,0,"button",22),f()()),i&2){let e=t.$implicit,n=A();u(2),U("src",e.imageUrl||"https://via.placeholder.com/50",qn),u(3),$(" ",e.name," "),u(),U("ngClass",n.isHere(e)?"text-success":"text-secondary"),u(),$(" \u25CF ",n.isHere(e)?"Here":"Away"," "),u(2),T(e.role||"Employee"),u(2),G(n.isHere(e)?11:-1),u(),G(n.isHere(e)?-1:12),u(),G(n.isHere(e)?13:-1)}}function eM(i,t){if(i&1){let e=he();m(0,"div",13)(1,"div",24)(2,"div",25)(3,"div",26)(4,"h5",27),_(5),f(),m(6,"button",28),q("click",function(){L(e);let r=A();return V(r.closeSignOutModal())}),f()(),m(7,"div",29)(8,"div",30)(9,"label",31),_(10,"Name"),f(),m(11,"input",32),le("ngModelChange",function(r){L(e);let o=A();return ae(o.signOutName,r)||(o.signOutName=r),V(r)}),f()(),m(12,"div",30)(13,"label",31),_(14,"Password"),f(),m(15,"input",33),le("ngModelChange",function(r){L(e);let o=A();return ae(o.signOutPassword,r)||(o.signOutPassword=r),V(r)}),f()()(),m(16,"div",34)(17,"button",35),q("click",function(){L(e);let r=A();return V(r.closeSignOutModal())}),_(18,"Cancel"),f(),m(19,"button",36),q("click",function(){L(e);let r=A();return V(r.confirmSignOut())}),_(20,"Sign Out"),f()()()()()}if(i&2){let e=A();U("ngStyle",lr(4,YR)),u(5),$("Sign Out \u2013 ",e.signOutName),u(6),se("ngModel",e.signOutName),u(4),se("ngModel",e.signOutPassword)}}var iu=class i{constructor(t,e,n){this.db=t;this.route=e;this.ngZone=n}restaurantId="";employees=[];name="";password="";message="";loading=!1;showSignOutModal=!1;signOutName="";signOutPassword="";signOutEmpId="";ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t),this.loadEmployees()}loadEmployees(){let t=Ne(this.db,`restaurants/${this.restaurantId}/employees`);In(t,e=>{this.ngZone.run(()=>{let n=e.val()||{};this.employees=Object.keys(n).map(r=>P({id:r},n[r]))})})}signIn(){return j(this,null,function*(){if(this.message="",!this.name.trim()||!this.password.trim()){this.message="\u26A0\uFE0F Please enter name and password.";return}this.loading=!0;try{let t=Ne(this.db,`restaurants/${this.restaurantId}/employees`),n=(yield yr(t)).val()||{},r=null;if(Object.keys(n).forEach(h=>{let g=n[h];g.name===this.name.trim()&&g.password===this.password.trim()&&(r=h)}),!r){this.message="\u274C Invalid name or password.",this.loading=!1;return}let o=new Date,s=o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),l=o.toISOString().split("T")[0],c=Ne(this.db,`restaurants/${this.restaurantId}/employees/${r}/attendance/${l}`);yield ft(c,{datein:s}),this.message=`\u2705 ${this.name} signed in at ${s}`,this.clearFields()}catch(t){console.error(t),this.message="\u274C Failed to sign in."}finally{this.loading=!1}})}openSignOutModal(t,e){this.signOutEmpId=t,this.signOutName=e,this.signOutPassword="",this.showSignOutModal=!0}closeSignOutModal(){this.showSignOutModal=!1,this.signOutEmpId="",this.signOutName="",this.signOutPassword=""}confirmSignOut(){return j(this,null,function*(){if(!this.signOutName.trim()||!this.signOutPassword.trim()){alert("\u26A0\uFE0F Please enter name and password.");return}let t=Ne(this.db,`restaurants/${this.restaurantId}/employees`),n=(yield yr(t)).val()||{},r=null;if(Object.keys(n).forEach(h=>{let g=n[h];g.name===this.signOutName.trim()&&g.password===this.signOutPassword.trim()&&(r=h)}),!r||r!==this.signOutEmpId){alert("\u274C Invalid credentials or employee mismatch.");return}let o=new Date,s=o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),l=o.toISOString().split("T")[0],c=Ne(this.db,`restaurants/${this.restaurantId}/employees/${this.signOutEmpId}/attendance/${l}`);yield ft(c,{dateout:s}),alert(`\u2705 Signed out successfully at ${s}`),this.closeSignOutModal()})}clearFields(){this.name="",this.password=""}isHere(t){let e=new Date().toISOString().split("T")[0];return!!t.attendance?.[e]?.datein&&!t.attendance?.[e]?.dateout}getTodayTime(t){let e=new Date().toISOString().split("T")[0];return t.attendance?.[e]?.datein||"-"}static \u0275fac=function(e){return new(e||i)(te(Sn),te(Be),te(ee))};static \u0275cmp=ne({type:i,selectors:[["app-attendance-page"]],decls:21,vars:10,consts:[[1,"container","py-4"],[1,"text-center","mb-4"],[1,"row","justify-content-center","g-4"],[1,"col-lg-4","col-md-5"],[1,"card","p-3","shadow-sm",2,"border-radius","12px"],[1,"mb-3","text-center"],["type","text","placeholder","Employee name",1,"form-control","mb-2",3,"ngModelChange","ngModel"],["type","password","placeholder","Password",1,"form-control","mb-3",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","w-100","mb-2",3,"click","disabled"],[1,"text-center","small"],[1,"col-lg-6","col-md-7"],[1,"employee-list","mx-auto"],[1,"employee-card","d-flex","align-items-center","justify-content-between","p-2","mb-2","rounded","shadow-sm",2,"background","#fff","max-width","450px","margin","0 auto"],["tabindex","-1",1,"modal","fade","show","d-block",3,"ngStyle"],[1,"d-flex","align-items-center","gap-2"],["alt","avatar","width","45","height","45",1,"rounded-circle",2,"object-fit","cover",3,"src"],[1,"fw-semibold","small"],[1,"ms-2","small",3,"ngClass"],[1,"text-muted","small"],[1,"text-end","small"],[1,"text-success","fw-bold"],[1,"text-muted"],[1,"btn","btn-outline-danger","btn-sm","mt-1","py-0","px-2",2,"font-size","0.8rem"],[1,"btn","btn-outline-danger","btn-sm","mt-1","py-0","px-2",2,"font-size","0.8rem",3,"click"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"form-label"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],["type","password",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(e,n){e&1&&(m(0,"div",0)(1,"h2",1),_(2,"Employee Attendance"),f(),m(3,"div",2)(4,"div",3)(5,"div",4)(6,"h5",5),_(7,"Sign In"),f(),m(8,"input",6),le("ngModelChange",function(o){return ae(n.name,o)||(n.name=o),o}),f(),m(9,"input",7),le("ngModelChange",function(o){return ae(n.password,o)||(n.password=o),o}),f(),m(10,"button",8),q("click",function(){return n.signIn()}),_(11),f(),m(12,"div",9),_(13),f()()(),m(14,"div",10)(15,"div",11)(16,"h5",5),_(17,"Today\u2019s Attendance"),f(),we(18,JR,14,8,"div",12,Ue),f()()(),K(20,eM,21,5,"div",13),f()),e&2&&(u(8),se("ngModel",n.name),u(),se("ngModel",n.password),u(),U("disabled",n.loading),u(),$(" ",n.loading?"Signing in...":"Sign In"," "),u(),me("text-success",n.message.startsWith("\u2705"))("text-danger",n.message.startsWith("\u274C")),u(),$(" ",n.message," "),u(5),Ce(n.employees),u(2),G(n.showSignOutModal?20:-1))},dependencies:[dn,En,No,yt,Tt,Dt,Rt],styles:[".employee-list[_ngcontent-%COMP%]{max-height:75vh;overflow-y:auto;padding-right:4px}.employee-card[_ngcontent-%COMP%]{border:1px solid #e8e8e8;transition:transform .15s ease,box-shadow .15s ease}.employee-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 2px 6px #0000000d}.employee-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid #eee}h5[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}@media(max-width:768px){.employee-list[_ngcontent-%COMP%]{margin-top:1.5rem}.employee-card[_ngcontent-%COMP%]{max-width:100%}}"]})};var tM=()=>({background:"rgba(0,0,0,0.5)"});function nM(i,t){if(i&1){let e=he();m(0,"div",21),q("click",function(){let r=L(e).$implicit,o=A();return V(o.openEmployeeDetails(r))}),m(1,"div",22),H(2,"img",23),m(3,"div")(4,"div",24),_(5),f(),m(6,"div",25),_(7),f()()(),m(8,"div",26),_(9),f()()}if(i&2){let e=t.$implicit;u(2),U("src",e.imageUrl||"https://via.placeholder.com/60",qn),u(3),T(e.name),u(2),T(e.role||"Employee"),u(2),$(" ",e.age?e.age+" yrs":""," ")}}function iM(i,t){if(i&1){let e=he();m(0,"div",20)(1,"div",27)(2,"div",28)(3,"div",29)(4,"h5",30),_(5),f(),m(6,"button",31),q("click",function(){L(e);let r=A();return V(r.closeModal())}),f()(),m(7,"div",32),H(8,"img",33),m(9,"p")(10,"strong"),_(11,"Role:"),f(),_(12),f(),m(13,"p")(14,"strong"),_(15,"Age:"),f(),_(16),f(),m(17,"p")(18,"strong"),_(19,"Salary:"),f(),_(20),f()(),m(21,"div",34)(22,"button",35),q("click",function(){L(e);let r=A();return V(r.closeModal())}),_(23,"Close"),f()()()()()}if(i&2){let e=A();U("ngStyle",lr(6,tM)),u(5),T(e.selectedEmployee.name),u(3),U("src",e.selectedEmployee.imageUrl||"https://via.placeholder.com/120",qn),u(4),$(" ",e.selectedEmployee.role||"Employee"),u(4),$(" ",e.selectedEmployee.age||"N/A"),u(4),$(" ",e.selectedEmployee.salary?e.selectedEmployee.salary+" \u20AA":"N/A")}}var ru=class i{constructor(t,e){this.db=t;this.route=e}restaurantId="";name="";password="";role="";imageUrl="";age=null;salary=null;message="";loading=!1;employees=[];selectedEmployee=null;ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t);let e=Ne(this.db,`restaurants/${this.restaurantId}/employees`);In(e,n=>{let r=n.val()||{};this.employees=Object.keys(r).map(o=>P({id:o},r[o]))})}addEmployee(){return j(this,null,function*(){if(this.message="",!this.name.trim()||!this.password.trim()){this.message="\u26A0\uFE0F Please fill all required fields.";return}this.loading=!0;try{let t=Ne(this.db,`restaurants/${this.restaurantId}/employees`),e=Ac(t);yield Hr(e,{name:this.name.trim(),password:this.password.trim(),role:this.role.trim()||"Employee",imageUrl:this.imageUrl.trim()||"",age:this.age||null,salary:this.salary||null}),this.message=`\u2705 Employee "${this.name}" added successfully.`,this.name="",this.password="",this.role="",this.imageUrl="",this.age=null,this.salary=null}catch(t){console.error(t),this.message="\u274C Failed to add employee."}finally{this.loading=!1}})}openEmployeeDetails(t){this.selectedEmployee=t}closeModal(){this.selectedEmployee=null}static \u0275fac=function(e){return new(e||i)(te(Sn),te(Be))};static \u0275cmp=ne({type:i,selectors:[["app-add-employee-page"]],decls:42,vars:14,consts:[[1,"container","py-4"],[1,"row","g-4"],[1,"col-lg-7"],[1,"card","shadow","p-4","h-100"],[1,"mb-3"],[1,"text-center","mb-4"],[1,"form-label"],["type","text","placeholder","Employee name",1,"form-control",3,"ngModelChange","ngModel"],["type","password","placeholder","Password",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g. Manager, Waiter, Cashier",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","https://...",1,"form-control",3,"ngModelChange","ngModel"],[1,"row"],[1,"col-md-6","mb-3"],["type","number","placeholder","Age",1,"form-control",3,"ngModelChange","ngModel"],["type","number","placeholder","Salary",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","w-100",3,"click","disabled"],[1,"text-center","mt-3"],[1,"col-lg-4"],[1,"employee-list","mx-auto"],[1,"employee-card","d-flex","align-items-center","justify-content-between","p-3","mb-3","rounded","shadow-sm","bg-white",2,"cursor","pointer"],["tabindex","-1",1,"modal","fade","show","d-block",3,"ngStyle"],[1,"employee-card","d-flex","align-items-center","justify-content-between","p-3","mb-3","rounded","shadow-sm","bg-white",2,"cursor","pointer",3,"click"],[1,"d-flex","align-items-center","gap-3"],["alt","avatar","width","55","height","55",1,"rounded-circle",2,"object-fit","cover",3,"src"],[1,"fw-semibold"],[1,"text-muted","small"],[1,"text-end","text-muted","small"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","text-center"],["width","120","height","120",1,"rounded-circle","mb-3",2,"object-fit","cover",3,"src"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"]],template:function(e,n){e&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),_(6,"Add Employee"),f(),m(7,"label",6),_(8,"Name"),f(),m(9,"input",7),le("ngModelChange",function(o){return ae(n.name,o)||(n.name=o),o}),f()(),m(10,"div",4)(11,"label",6),_(12,"Password"),f(),m(13,"input",8),le("ngModelChange",function(o){return ae(n.password,o)||(n.password=o),o}),f()(),m(14,"div",4)(15,"label",6),_(16,"Role"),f(),m(17,"input",9),le("ngModelChange",function(o){return ae(n.role,o)||(n.role=o),o}),f()(),m(18,"div",4)(19,"label",6),_(20,"Image URL"),f(),m(21,"input",10),le("ngModelChange",function(o){return ae(n.imageUrl,o)||(n.imageUrl=o),o}),f()(),m(22,"div",11)(23,"div",12)(24,"label",6),_(25,"Age"),f(),m(26,"input",13),le("ngModelChange",function(o){return ae(n.age,o)||(n.age=o),o}),f()(),m(27,"div",12)(28,"label",6),_(29,"Salary (\u20AA)"),f(),m(30,"input",14),le("ngModelChange",function(o){return ae(n.salary,o)||(n.salary=o),o}),f()()(),m(31,"button",15),q("click",function(){return n.addEmployee()}),_(32),f(),m(33,"div",16),_(34),f()()(),m(35,"div",17)(36,"div",18)(37,"h4",4),_(38,"All Employees"),f(),we(39,nM,10,4,"div",19,Ue),f()()(),K(41,iM,24,7,"div",20),f()),e&2&&(u(9),se("ngModel",n.name),u(4),se("ngModel",n.password),u(4),se("ngModel",n.role),u(4),se("ngModel",n.imageUrl),u(5),se("ngModel",n.age),u(4),se("ngModel",n.salary),u(),U("disabled",n.loading),u(),$(" ",n.loading?"Adding...":"Add Employee"," "),u(),me("text-success",n.message.startsWith("\u2705"))("text-danger",n.message.startsWith("\u274C")),u(),$(" ",n.message," "),u(5),Ce(n.employees),u(2),G(n.selectedEmployee?41:-1))},dependencies:[dn,No,yt,Tt,yi,Dt,Rt],styles:[".employee-card[_ngcontent-%COMP%]{border:1px solid #e5e5e5;transition:all .2s ease}.employee-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 4px 12px #0000001a}.employee-list[_ngcontent-%COMP%]{max-height:75vh;overflow-y:auto}@media(max-width:992px){.employee-list[_ngcontent-%COMP%]{margin-top:2rem}}"]})};var Xv=[{path:"",redirectTo:"rest1",pathMatch:"full"},{path:"cart",loadComponent:()=>import("./chunk-ICFOHZC2.js").then(i=>i.CartComponent)},{path:":restId",component:pd},{path:":restId/category/:categoryKey",component:fd},{path:":restId/t/:tableId",component:yd},{path:":restId/control-board",component:Xa},{path:":restId/dashboard",component:Xa},{path:":restId/stats",component:tu},{path:":restId/ManageMenuComponent",component:gd},{path:":restId/EditItemComponent",component:_d},{path:":restId/kitchen-orders",component:wd},{path:":restId/bar-orders",component:vd},{path:":restId/hookah-orders",component:bd},{path:":restId/ordering-dashboard",component:nu},{path:":restId/attendance",component:iu},{path:":restId/add-employee",component:ru},{path:"**",redirectTo:""}];var ou="analytics",rM="firebase_id",oM="origin",sM=60*1e3,aM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ap="https://www.googletagmanager.com/gtag/js";var gn=new hr("@firebase/analytics");var lM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Bn=new $o("analytics","Analytics",lM);function cM(i){if(!i.startsWith(Ap)){let t=Bn.create("invalid-gtag-resource",{gtagURL:i});return gn.warn(t.message),""}return i}function rw(i){return Promise.all(i.map(t=>t.catch(e=>e)))}function dM(i,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(i,t)),e}function uM(i,t){let e=dM("firebase-js-sdk-policy",{createScriptURL:cM}),n=document.createElement("script"),r=`${Ap}?l=${i}&id=${t}`;n.src=e?e?.createScriptURL(r):r,n.async=!0,document.head.appendChild(n)}function hM(i){let t=[];return Array.isArray(window[i])?t=window[i]:window[i]=t,t}function mM(i,t,e,n,r,o){return j(this,null,function*(){let s=n[r];try{if(s)yield t[s];else{let c=(yield rw(e)).find(h=>h.measurementId===r);c&&(yield t[c.appId])}}catch(l){gn.error(l)}i("config",r,o)})}function pM(i,t,e,n,r){return j(this,null,function*(){try{let o=[];if(r&&r.send_to){let s=r.send_to;Array.isArray(s)||(s=[s]);let l=yield rw(e);for(let c of s){let h=l.find(v=>v.measurementId===c),g=h&&t[h.appId];if(g)o.push(g);else{o=[];break}}}o.length===0&&(o=Object.values(t)),yield Promise.all(o),i("event",n,r||{})}catch(o){gn.error(o)}})}function fM(i,t,e,n){function r(o,...s){return j(this,null,function*(){try{if(o==="event"){let[l,c]=s;yield pM(i,t,e,l,c)}else if(o==="config"){let[l,c]=s;yield mM(i,t,e,n,l,c)}else if(o==="consent"){let[l,c]=s;i("consent",l,c)}else if(o==="get"){let[l,c,h]=s;i("get",l,c,h)}else if(o==="set"){let[l]=s;i("set",l)}else i(o,...s)}catch(l){gn.error(l)}})}return r}function gM(i,t,e,n,r){let o=function(...s){window[n].push(arguments)};return window[r]&&typeof window[r]=="function"&&(o=window[r]),window[r]=fM(o,i,t,e),{gtagCore:o,wrappedGtag:window[r]}}function _M(i){let t=window.document.getElementsByTagName("script");for(let e of Object.values(t))if(e.src&&e.src.includes(Ap)&&e.src.includes(i))return e;return null}var yM=30,bM=1e3,Cp=class{constructor(t={},e=bM){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}},ow=new Cp;function vM(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}function wM(i){return j(this,null,function*(){var t;let{appId:e,apiKey:n}=i,r={method:"GET",headers:vM(n)},o=aM.replace("{app-id}",e),s=yield fetch(o,r);if(s.status!==200&&s.status!==304){let l="";try{let c=yield s.json();!((t=c.error)===null||t===void 0)&&t.message&&(l=c.error.message)}catch{}throw Bn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:l})}return s.json()})}function CM(n){return j(this,arguments,function*(i,t=ow,e){let{appId:r,apiKey:o,measurementId:s}=i.options;if(!r)throw Bn.create("no-app-id");if(!o){if(s)return{measurementId:s,appId:r};throw Bn.create("no-api-key")}let l=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Ep;return setTimeout(()=>j(null,null,function*(){c.abort()}),e!==void 0?e:sM),sw({appId:r,apiKey:o,measurementId:s},l,c,t)})}function sw(o,s,l){return j(this,arguments,function*(i,{throttleEndTimeMillis:t,backoffCount:e},n,r=ow){var c;let{appId:h,measurementId:g}=i;try{yield EM(n,t)}catch(v){if(g)return gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:h,measurementId:g};throw v}try{let v=yield wM(i);return r.deleteThrottleMetadata(h),v}catch(v){let C=v;if(!SM(C)){if(r.deleteThrottleMetadata(h),g)return gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${C?.message}]`),{appId:h,measurementId:g};throw v}let D=Number((c=C?.customData)===null||c===void 0?void 0:c.httpStatus)===503?Ea(e,r.intervalMillis,yM):Ea(e,r.intervalMillis),I={throttleEndTimeMillis:Date.now()+D,backoffCount:e+1};return r.setThrottleMetadata(h,I),gn.debug(`Calling attemptFetch again in ${D} millis`),sw(i,I,n,r)}})}function EM(i,t){return new Promise((e,n)=>{let r=Math.max(t-Date.now(),0),o=setTimeout(e,r);i.addEventListener(()=>{clearTimeout(o),n(Bn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function SM(i){if(!(i instanceof ii)||!i.customData)return!1;let t=Number(i.customData.httpStatus);return t===429||t===500||t===503||t===504}var Ep=class{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}};var Sp;function IM(i,t,e,n,r){return j(this,null,function*(){if(r&&r.global){i("event",e,n);return}else{let o=yield t,s=Object.assign(Object.assign({},n),{send_to:o});i("event",e,s)}})}function xM(i,t,e,n){return j(this,null,function*(){if(n&&n.global)return i("set",{user_id:e}),Promise.resolve();{let r=yield t;i("config",r,{update:!0,user_id:e})}})}var Ip;function AM(i){Ip=i}function TM(i){Sp=i}function DM(){return j(this,null,function*(){if(ur())try{yield zo()}catch(i){return gn.warn(Bn.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return gn.warn(Bn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function RM(i,t,e,n,r,o,s){return j(this,null,function*(){var l;let c=CM(i);c.then(D=>{e[D.measurementId]=D.appId,i.options.measurementId&&D.measurementId!==i.options.measurementId&&gn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${D.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(D=>gn.error(D)),t.push(c);let h=DM().then(D=>{if(D)return n.getId()}),[g,v]=yield Promise.all([c,h]);_M(o)||uM(o,g.measurementId),Ip&&(r("consent","default",Ip),AM(void 0)),r("js",new Date);let C=(l=s?.config)!==null&&l!==void 0?l:{};return C[oM]="firebase",C.update=!0,v!=null&&(C[rM]=v),r("config",g.measurementId,C),Sp&&(r("set",Sp),TM(void 0)),g.measurementId})}var xp=class{constructor(t){this.app=t}_delete(){return delete Os[this.app.options.appId],Promise.resolve()}},Os={},Zv=[],Jv={},wp="dataLayer",MM="gtag",ew,Tp,tw=!1;function kM(){let i=[];if(Ph()&&i.push("This is a browser extension environment."),Ca()||i.push("Cookies are not available."),i.length>0){let t=i.map((n,r)=>`(${r+1}) ${n}`).join(" "),e=Bn.create("invalid-analytics-context",{errorInfo:t});gn.warn(e.message)}}function OM(i,t,e){kM();let n=i.options.appId;if(!n)throw Bn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Bn.create("no-api-key");if(Os[n]!=null)throw Bn.create("already-exists",{id:n});if(!tw){hM(wp);let{wrappedGtag:o,gtagCore:s}=gM(Os,Zv,Jv,wp,MM);Tp=o,ew=s,tw=!0}return Os[n]=RM(i,Zv,Jv,t,ew,wp,e),new xp(i)}function aw(i=Qt()){i=Lt(i);let t=un(i,ou);return t.isInitialized()?t.getImmediate():lw(i)}function lw(i,t={}){let e=un(i,ou);if(e.isInitialized()){let r=e.getImmediate();if(qo(t,e.getOptions()))return r;throw Bn.create("already-initialized")}return e.initialize({options:t})}function cw(){return j(this,null,function*(){if(Ph()||!Ca()||!ur())return!1;try{return yield zo()}catch{return!1}})}function dw(i,t,e){i=Lt(i),xM(Tp,Os[i.app.options.appId],t,e).catch(n=>gn.error(n))}function Dp(i,t,e,n){i=Lt(i),IM(Tp,Os[i.app.options.appId],t,e,n).catch(r=>gn.error(r))}var nw="@firebase/analytics",iw="0.10.17";function PM(){Yt(new Gt(ou,(t,{options:e})=>{let n=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();return OM(n,r,e)},"PUBLIC")),Yt(new Gt("analytics-internal",i,"PRIVATE")),Le(nw,iw),Le(nw,iw,"esm2017");function i(t){try{let e=t.getProvider(ou).getImmediate();return{logEvent:(n,r,o)=>Dp(e,n,r,o)}}catch(e){throw Bn.create("interop-component-reg-failed",{reason:e})}}}PM();var _o=class{constructor(t){return t}},mw="analytics",Mp=class{constructor(){return Zt(mw)}};var pw=St(aw,!0);var fw=St(cw,!1),NM=St(Dp,!1,2);var FM=St(dw,!0,2);var Op=(()=>{class i{initialized;disposables=[];constructor(e,n,r){Le("angularfire",Mt.full,"user-tracking");let o;this.initialized=n.runOutsideAngular(()=>new Promise(s=>{o=s})),fw().then(()=>{let s=r.get(_o);s?this.disposables=[Ey(e).subscribe(l=>{FM(s,l?.uid),o()})]:o()})}ngOnDestroy(){this.disposables.forEach(e=>e.unsubscribe())}static \u0275fac=function(n){return new(n||i)(_e(wy),_e(ee),_e(be))};static \u0275prov=Q({token:i,factory:i.\u0275fac})}return i})(),LM="firebase_event_origin",VM="firebase_previous_class",BM="firebase_previous_id",jM="firebase_previous_screen",UM="firebase_screen_class",uw="firebase_screen_id",zM="firebase_screen",kp="outlet",$M="page_path",qM="page_title",gl="screen_class",hw="screen_name",HM="screen_view",WM="auto",KM="#",GM=Math.floor(Math.random()*(2**32-1))-2**31,Rp={},YM=i=>{let t=[i[gl],i[kp]].join(KM);if(Rp.hasOwnProperty(t))return Rp[t];{let e=GM++;return Rp[t]=e,e}},QM=(i,t,e)=>i.events.pipe(Ge(r=>r instanceof os)).pipe(wt(r=>{let s=i.parseUrl(i.url.replace(/(?:\().+(?:\))/g,C=>C.replace("://",":///"))).root.children[r.snapshot.outlet]?.toString()||"",l=i.routerState.root.children.map(C=>C).find(C=>C.outlet===r.snapshot.outlet);if(!l)return fe(null);let c=l;for(;c.firstChild;)c=c.firstChild;let h=c.pathFromRoot.map(C=>C.routeConfig?.path).filter(C=>C).join("/")||"/",g={[hw]:h,[$M]:`/${s}`,[LM]:WM,[zM]:h,[kp]:r.snapshot.outlet};t&&(g[qM]=t.getTitle());let v=l.component;if(v){if(v===Ka){let C=r.snapshot;for(;C.firstChild;)C=C.firstChild;v=C.component}}else v=r.snapshot.component;if(typeof v=="string")return fe(ie(P({},g),{[gl]:v}));if(v){let C=e.resolveComponentFactory(v);return fe(ie(P({},g),{[gl]:C.selector}))}return fe(null)}),Ge(r=>!!r),$e(r=>P({[UM]:r[gl],[uw]:YM(r)},r)),A_(r=>r[kp]),zn(r=>r.pipe(ua((o,s)=>JSON.stringify(o)===JSON.stringify(s)),$t(void 0),ma(),$e(([o,s])=>o?P({[VM]:o[gl],[jM]:o[hw],[BM]:o[uw]},s):s)))),gw=(()=>{class i{disposable;constructor(e,n,r,o,s,l){Le("angularfire",Mt.full,"screen-tracking"),fw().then(()=>{let c=l.get(_o);!e||!c||o.runOutsideAngular(()=>{this.disposable=QM(e,n,r).pipe(wt(h=>j(this,null,function*(){return s&&(yield s.initialized),NM(c,HM,h)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}static \u0275fac=function(n){return new(n||i)(_e(kt,8),_e(Vc,8),_e(B_),_e(ee),_e(Op,8),_e(be))};static \u0275prov=Q({token:i,factory:i.\u0275fac})}return i})(),Pp=new W("angularfire2.analytics-instances");function XM(i,t,e){if(!_i(e))return null;let n=Xt(mw,i,t);return n&&new _o(n)}function ZM(i){return(t,e,n)=>{if(!_i(n))return null;let r=t.runOutsideAngular(()=>i(e));return new _o(r)}}var JM={provide:Mp,deps:[[new Ye,Pp]]},ek={provide:_o,useFactory:XM,deps:[[new Ye,Pp],en,mt]};function _w(i,...t){return Le("angularfire",Mt.full,"analytics"),ot([ek,JM,{provide:Pp,useFactory:ZM(i),multi:!0,deps:[ee,be,mt,Jt,tn,...t]}])}var yw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bw={};var su,vw;(function(){var i;function t(x,w){function E(){}E.prototype=w.prototype,x.D=w.prototype,x.prototype=new E,x.prototype.constructor=x,x.C=function(R,k,N){for(var S=Array(arguments.length-2),jn=2;jn<arguments.length;jn++)S[jn-2]=arguments[jn];return w.prototype[k].apply(R,S)}}function e(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,e),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(x,w,E){E||(E=0);var R=Array(16);if(typeof w=="string")for(var k=0;16>k;++k)R[k]=w.charCodeAt(E++)|w.charCodeAt(E++)<<8|w.charCodeAt(E++)<<16|w.charCodeAt(E++)<<24;else for(k=0;16>k;++k)R[k]=w[E++]|w[E++]<<8|w[E++]<<16|w[E++]<<24;w=x.g[0],E=x.g[1],k=x.g[2];var N=x.g[3],S=w+(N^E&(k^N))+R[0]+3614090360&4294967295;w=E+(S<<7&4294967295|S>>>25),S=N+(k^w&(E^k))+R[1]+3905402710&4294967295,N=w+(S<<12&4294967295|S>>>20),S=k+(E^N&(w^E))+R[2]+606105819&4294967295,k=N+(S<<17&4294967295|S>>>15),S=E+(w^k&(N^w))+R[3]+3250441966&4294967295,E=k+(S<<22&4294967295|S>>>10),S=w+(N^E&(k^N))+R[4]+4118548399&4294967295,w=E+(S<<7&4294967295|S>>>25),S=N+(k^w&(E^k))+R[5]+1200080426&4294967295,N=w+(S<<12&4294967295|S>>>20),S=k+(E^N&(w^E))+R[6]+2821735955&4294967295,k=N+(S<<17&4294967295|S>>>15),S=E+(w^k&(N^w))+R[7]+4249261313&4294967295,E=k+(S<<22&4294967295|S>>>10),S=w+(N^E&(k^N))+R[8]+1770035416&4294967295,w=E+(S<<7&4294967295|S>>>25),S=N+(k^w&(E^k))+R[9]+2336552879&4294967295,N=w+(S<<12&4294967295|S>>>20),S=k+(E^N&(w^E))+R[10]+4294925233&4294967295,k=N+(S<<17&4294967295|S>>>15),S=E+(w^k&(N^w))+R[11]+2304563134&4294967295,E=k+(S<<22&4294967295|S>>>10),S=w+(N^E&(k^N))+R[12]+1804603682&4294967295,w=E+(S<<7&4294967295|S>>>25),S=N+(k^w&(E^k))+R[13]+4254626195&4294967295,N=w+(S<<12&4294967295|S>>>20),S=k+(E^N&(w^E))+R[14]+2792965006&4294967295,k=N+(S<<17&4294967295|S>>>15),S=E+(w^k&(N^w))+R[15]+1236535329&4294967295,E=k+(S<<22&4294967295|S>>>10),S=w+(k^N&(E^k))+R[1]+4129170786&4294967295,w=E+(S<<5&4294967295|S>>>27),S=N+(E^k&(w^E))+R[6]+3225465664&4294967295,N=w+(S<<9&4294967295|S>>>23),S=k+(w^E&(N^w))+R[11]+643717713&4294967295,k=N+(S<<14&4294967295|S>>>18),S=E+(N^w&(k^N))+R[0]+3921069994&4294967295,E=k+(S<<20&4294967295|S>>>12),S=w+(k^N&(E^k))+R[5]+3593408605&4294967295,w=E+(S<<5&4294967295|S>>>27),S=N+(E^k&(w^E))+R[10]+38016083&4294967295,N=w+(S<<9&4294967295|S>>>23),S=k+(w^E&(N^w))+R[15]+3634488961&4294967295,k=N+(S<<14&4294967295|S>>>18),S=E+(N^w&(k^N))+R[4]+3889429448&4294967295,E=k+(S<<20&4294967295|S>>>12),S=w+(k^N&(E^k))+R[9]+568446438&4294967295,w=E+(S<<5&4294967295|S>>>27),S=N+(E^k&(w^E))+R[14]+3275163606&4294967295,N=w+(S<<9&4294967295|S>>>23),S=k+(w^E&(N^w))+R[3]+4107603335&4294967295,k=N+(S<<14&4294967295|S>>>18),S=E+(N^w&(k^N))+R[8]+1163531501&4294967295,E=k+(S<<20&4294967295|S>>>12),S=w+(k^N&(E^k))+R[13]+2850285829&4294967295,w=E+(S<<5&4294967295|S>>>27),S=N+(E^k&(w^E))+R[2]+4243563512&4294967295,N=w+(S<<9&4294967295|S>>>23),S=k+(w^E&(N^w))+R[7]+1735328473&4294967295,k=N+(S<<14&4294967295|S>>>18),S=E+(N^w&(k^N))+R[12]+2368359562&4294967295,E=k+(S<<20&4294967295|S>>>12),S=w+(E^k^N)+R[5]+4294588738&4294967295,w=E+(S<<4&4294967295|S>>>28),S=N+(w^E^k)+R[8]+2272392833&4294967295,N=w+(S<<11&4294967295|S>>>21),S=k+(N^w^E)+R[11]+1839030562&4294967295,k=N+(S<<16&4294967295|S>>>16),S=E+(k^N^w)+R[14]+4259657740&4294967295,E=k+(S<<23&4294967295|S>>>9),S=w+(E^k^N)+R[1]+2763975236&4294967295,w=E+(S<<4&4294967295|S>>>28),S=N+(w^E^k)+R[4]+1272893353&4294967295,N=w+(S<<11&4294967295|S>>>21),S=k+(N^w^E)+R[7]+4139469664&4294967295,k=N+(S<<16&4294967295|S>>>16),S=E+(k^N^w)+R[10]+3200236656&4294967295,E=k+(S<<23&4294967295|S>>>9),S=w+(E^k^N)+R[13]+681279174&4294967295,w=E+(S<<4&4294967295|S>>>28),S=N+(w^E^k)+R[0]+3936430074&4294967295,N=w+(S<<11&4294967295|S>>>21),S=k+(N^w^E)+R[3]+3572445317&4294967295,k=N+(S<<16&4294967295|S>>>16),S=E+(k^N^w)+R[6]+76029189&4294967295,E=k+(S<<23&4294967295|S>>>9),S=w+(E^k^N)+R[9]+3654602809&4294967295,w=E+(S<<4&4294967295|S>>>28),S=N+(w^E^k)+R[12]+3873151461&4294967295,N=w+(S<<11&4294967295|S>>>21),S=k+(N^w^E)+R[15]+530742520&4294967295,k=N+(S<<16&4294967295|S>>>16),S=E+(k^N^w)+R[2]+3299628645&4294967295,E=k+(S<<23&4294967295|S>>>9),S=w+(k^(E|~N))+R[0]+4096336452&4294967295,w=E+(S<<6&4294967295|S>>>26),S=N+(E^(w|~k))+R[7]+1126891415&4294967295,N=w+(S<<10&4294967295|S>>>22),S=k+(w^(N|~E))+R[14]+2878612391&4294967295,k=N+(S<<15&4294967295|S>>>17),S=E+(N^(k|~w))+R[5]+4237533241&4294967295,E=k+(S<<21&4294967295|S>>>11),S=w+(k^(E|~N))+R[12]+1700485571&4294967295,w=E+(S<<6&4294967295|S>>>26),S=N+(E^(w|~k))+R[3]+2399980690&4294967295,N=w+(S<<10&4294967295|S>>>22),S=k+(w^(N|~E))+R[10]+4293915773&4294967295,k=N+(S<<15&4294967295|S>>>17),S=E+(N^(k|~w))+R[1]+2240044497&4294967295,E=k+(S<<21&4294967295|S>>>11),S=w+(k^(E|~N))+R[8]+1873313359&4294967295,w=E+(S<<6&4294967295|S>>>26),S=N+(E^(w|~k))+R[15]+4264355552&4294967295,N=w+(S<<10&4294967295|S>>>22),S=k+(w^(N|~E))+R[6]+2734768916&4294967295,k=N+(S<<15&4294967295|S>>>17),S=E+(N^(k|~w))+R[13]+1309151649&4294967295,E=k+(S<<21&4294967295|S>>>11),S=w+(k^(E|~N))+R[4]+4149444226&4294967295,w=E+(S<<6&4294967295|S>>>26),S=N+(E^(w|~k))+R[11]+3174756917&4294967295,N=w+(S<<10&4294967295|S>>>22),S=k+(w^(N|~E))+R[2]+718787259&4294967295,k=N+(S<<15&4294967295|S>>>17),S=E+(N^(k|~w))+R[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(k+(S<<21&4294967295|S>>>11))&4294967295,x.g[2]=x.g[2]+k&4294967295,x.g[3]=x.g[3]+N&4294967295}n.prototype.u=function(x,w){w===void 0&&(w=x.length);for(var E=w-this.blockSize,R=this.B,k=this.h,N=0;N<w;){if(k==0)for(;N<=E;)r(this,x,N),N+=this.blockSize;if(typeof x=="string"){for(;N<w;)if(R[k++]=x.charCodeAt(N++),k==this.blockSize){r(this,R),k=0;break}}else for(;N<w;)if(R[k++]=x[N++],k==this.blockSize){r(this,R),k=0;break}}this.h=k,this.o+=w},n.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;var E=8*this.o;for(w=x.length-8;w<x.length;++w)x[w]=E&255,E/=256;for(this.u(x),x=Array(16),w=E=0;4>w;++w)for(var R=0;32>R;R+=8)x[E++]=this.g[w]>>>R&255;return x};function o(x,w){var E=l;return Object.prototype.hasOwnProperty.call(E,x)?E[x]:E[x]=w(x)}function s(x,w){this.h=w;for(var E=[],R=!0,k=x.length-1;0<=k;k--){var N=x[k]|0;R&&N==w||(E[k]=N,R=!1)}this.g=E}var l={};function c(x){return-128<=x&&128>x?o(x,function(w){return new s([w|0],0>w?-1:0)}):new s([x|0],0>x?-1:0)}function h(x){if(isNaN(x)||!isFinite(x))return v;if(0>x)return F(h(-x));for(var w=[],E=1,R=0;x>=E;R++)w[R]=x/E|0,E*=4294967296;return new s(w,0)}function g(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return F(g(x.substring(1),w));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=h(Math.pow(w,8)),R=v,k=0;k<x.length;k+=8){var N=Math.min(8,x.length-k),S=parseInt(x.substring(k,k+N),w);8>N?(N=h(Math.pow(w,N)),R=R.j(N).add(h(S))):(R=R.j(E),R=R.add(h(S)))}return R}var v=c(0),C=c(1),D=c(16777216);i=s.prototype,i.m=function(){if(M(this))return-F(this).m();for(var x=0,w=1,E=0;E<this.g.length;E++){var R=this.i(E);x+=(0<=R?R:4294967296+R)*w,w*=4294967296}return x},i.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(I(this))return"0";if(M(this))return"-"+F(this).toString(x);for(var w=h(Math.pow(x,6)),E=this,R="";;){var k=Y(E,w).g;E=z(E,k.j(w));var N=((0<E.g.length?E.g[0]:E.h)>>>0).toString(x);if(E=k,I(E))return N+R;for(;6>N.length;)N="0"+N;R=N+R}},i.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function I(x){if(x.h!=0)return!1;for(var w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function M(x){return x.h==-1}i.l=function(x){return x=z(this,x),M(x)?-1:I(x)?0:1};function F(x){for(var w=x.g.length,E=[],R=0;R<w;R++)E[R]=~x.g[R];return new s(E,~x.h).add(C)}i.abs=function(){return M(this)?F(this):this},i.add=function(x){for(var w=Math.max(this.g.length,x.g.length),E=[],R=0,k=0;k<=w;k++){var N=R+(this.i(k)&65535)+(x.i(k)&65535),S=(N>>>16)+(this.i(k)>>>16)+(x.i(k)>>>16);R=S>>>16,N&=65535,S&=65535,E[k]=S<<16|N}return new s(E,E[E.length-1]&-2147483648?-1:0)};function z(x,w){return x.add(F(w))}i.j=function(x){if(I(this)||I(x))return v;if(M(this))return M(x)?F(this).j(F(x)):F(F(this).j(x));if(M(x))return F(this.j(F(x)));if(0>this.l(D)&&0>x.l(D))return h(this.m()*x.m());for(var w=this.g.length+x.g.length,E=[],R=0;R<2*w;R++)E[R]=0;for(R=0;R<this.g.length;R++)for(var k=0;k<x.g.length;k++){var N=this.i(R)>>>16,S=this.i(R)&65535,jn=x.i(k)>>>16,Zi=x.i(k)&65535;E[2*R+2*k]+=S*Zi,X(E,2*R+2*k),E[2*R+2*k+1]+=N*Zi,X(E,2*R+2*k+1),E[2*R+2*k+1]+=S*jn,X(E,2*R+2*k+1),E[2*R+2*k+2]+=N*jn,X(E,2*R+2*k+2)}for(R=0;R<w;R++)E[R]=E[2*R+1]<<16|E[2*R];for(R=w;R<2*w;R++)E[R]=0;return new s(E,0)};function X(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function Z(x,w){this.g=x,this.h=w}function Y(x,w){if(I(w))throw Error("division by zero");if(I(x))return new Z(v,v);if(M(x))return w=Y(F(x),w),new Z(F(w.g),F(w.h));if(M(w))return w=Y(x,F(w)),new Z(F(w.g),w.h);if(30<x.g.length){if(M(x)||M(w))throw Error("slowDivide_ only works with positive integers.");for(var E=C,R=w;0>=R.l(x);)E=Ae(E),R=Ae(R);var k=ye(E,1),N=ye(R,1);for(R=ye(R,2),E=ye(E,2);!I(R);){var S=N.add(R);0>=S.l(x)&&(k=k.add(E),N=S),R=ye(R,1),E=ye(E,1)}return w=z(x,k.j(w)),new Z(k,w)}for(k=v;0<=x.l(w);){for(E=Math.max(1,Math.floor(x.m()/w.m())),R=Math.ceil(Math.log(E)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),N=h(E),S=N.j(w);M(S)||0<S.l(x);)E-=R,N=h(E),S=N.j(w);I(N)&&(N=C),k=k.add(N),x=z(x,S)}return new Z(k,x)}i.A=function(x){return Y(this,x).h},i.and=function(x){for(var w=Math.max(this.g.length,x.g.length),E=[],R=0;R<w;R++)E[R]=this.i(R)&x.i(R);return new s(E,this.h&x.h)},i.or=function(x){for(var w=Math.max(this.g.length,x.g.length),E=[],R=0;R<w;R++)E[R]=this.i(R)|x.i(R);return new s(E,this.h|x.h)},i.xor=function(x){for(var w=Math.max(this.g.length,x.g.length),E=[],R=0;R<w;R++)E[R]=this.i(R)^x.i(R);return new s(E,this.h^x.h)};function Ae(x){for(var w=x.g.length+1,E=[],R=0;R<w;R++)E[R]=x.i(R)<<1|x.i(R-1)>>>31;return new s(E,x.h)}function ye(x,w){var E=w>>5;w%=32;for(var R=x.g.length-E,k=[],N=0;N<R;N++)k[N]=0<w?x.i(N+E)>>>w|x.i(N+E+1)<<32-w:x.i(N+E);return new s(k,x.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,vw=bw.Md5=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=g,su=bw.Integer=s}).apply(typeof yw<"u"?yw:typeof self<"u"?self:typeof window<"u"?window:{});var au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hi={};var ww,tk,Cw,Ew,Sw,Iw,xw,Aw,Tw;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,p){return a==Array.prototype||a==Object.prototype||(a[d]=p.value),a};function e(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof au=="object"&&au];for(var d=0;d<a.length;++d){var p=a[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var n=e(this);function r(a,d){if(d)e:{var p=n;a=a.split(".");for(var b=0;b<a.length-1;b++){var O=a[b];if(!(O in p))break e;p=p[O]}a=a[a.length-1],b=p[a],d=d(b),d!=b&&d!=null&&t(p,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var p=0,b=!1,O={next:function(){if(!b&&p<a.length){var B=p++;return{value:d(B,a[B]),done:!1}}return b=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}r("Array.prototype.values",function(a){return a||function(){return o(this,function(d,p){return p})}});var s=s||{},l=this||self;function c(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function h(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function g(a,d,p){return a.call.apply(a.bind,arguments)}function v(a,d,p){if(!a)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,b),a.apply(d,O)}}return function(){return a.apply(d,arguments)}}function C(a,d,p){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,C.apply(null,arguments)}function D(a,d){var p=Array.prototype.slice.call(arguments,1);return function(){var b=p.slice();return b.push.apply(b,arguments),a.apply(this,b)}}function I(a,d){function p(){}p.prototype=d.prototype,a.aa=d.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(b,O,B){for(var J=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)J[Ze-2]=arguments[Ze];return d.prototype[O].apply(b,J)}}function M(a){let d=a.length;if(0<d){let p=Array(d);for(let b=0;b<d;b++)p[b]=a[b];return p}return[]}function F(a,d){for(let p=1;p<arguments.length;p++){let b=arguments[p];if(c(b)){let O=a.length||0,B=b.length||0;a.length=O+B;for(let J=0;J<B;J++)a[O+J]=b[J]}else a.push(b)}}class z{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function X(a){return/^[\s\xa0]*$/.test(a)}function Z(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function Y(a){return Y[" "](a),a}Y[" "]=function(){};var Ae=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function ye(a,d,p){for(let b in a)d.call(p,a[b],b,a)}function x(a,d){for(let p in a)d.call(void 0,a[p],p,a)}function w(a){let d={};for(let p in a)d[p]=a[p];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(a,d){let p,b;for(let O=1;O<arguments.length;O++){b=arguments[O];for(p in b)a[p]=b[p];for(let B=0;B<E.length;B++)p=E[B],Object.prototype.hasOwnProperty.call(b,p)&&(a[p]=b[p])}}function k(a){var d=1;a=a.split(":");let p=[];for(;0<d&&a.length;)p.push(a.shift()),d--;return a.length&&p.push(a.join(":")),p}function N(a){l.setTimeout(()=>{throw a},0)}function S(){var a=je;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class jn{constructor(){this.h=this.g=null}add(d,p){let b=Zi.get();b.set(d,p),this.h?this.h.next=b:this.g=b,this.h=b}}var Zi=new z(()=>new re,a=>a.reset());class re{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,ge=!1,je=new jn,ut=()=>{let a=l.Promise.resolve(void 0);ce=()=>{a.then(Un)}};var Un=()=>{for(var a;a=S();){try{a.h.call(a.g)}catch(p){N(p)}var d=Zi;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}ge=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var nt=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let p=()=>{};l.addEventListener("test",p,d),l.removeEventListener("test",p,d)}catch{}return a})();function Ji(a,d){if(tt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,b=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Ae){e:{try{Y(d.nodeName);var O=!0;break e}catch{}O=!1}O||(d=null)}}else p=="mouseover"?d=a.fromElement:p=="mouseout"&&(d=a.toElement);this.relatedTarget=d,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Qu[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Ji.aa.h.call(this)}}I(Ji,tt);var Qu={2:"touch",3:"pen",4:"mouse"};Ji.prototype.h=function(){Ji.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var lt="closure_listenable_"+(1e6*Math.random()|0),Ti=0;function yn(a,d,p,b,O){this.listener=a,this.proxy=null,this.src=d,this.type=p,this.capture=!!b,this.ha=O,this.key=++Ti,this.da=this.fa=!1}function Di(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function er(a){this.src=a,this.g={},this.h=0}er.prototype.add=function(a,d,p,b,O){var B=a.toString();a=this.g[B],a||(a=this.g[B]=[],this.h++);var J=Zu(a,d,b,O);return-1<J?(d=a[J],p||(d.fa=!1)):(d=new yn(d,this.src,B,!!b,O),d.fa=p,a.push(d)),d};function Xu(a,d){var p=d.type;if(p in a.g){var b=a.g[p],O=Array.prototype.indexOf.call(b,d,void 0),B;(B=0<=O)&&Array.prototype.splice.call(b,O,1),B&&(Di(d),a.g[p].length==0&&(delete a.g[p],a.h--))}}function Zu(a,d,p,b){for(var O=0;O<a.length;++O){var B=a[O];if(!B.da&&B.listener==d&&B.capture==!!p&&B.ha==b)return O}return-1}var Ju="closure_lm_"+(1e6*Math.random()|0),eh={};function Sg(a,d,p,b,O){if(b&&b.once)return xg(a,d,p,b,O);if(Array.isArray(d)){for(var B=0;B<d.length;B++)Sg(a,d[B],p,b,O);return null}return p=rh(p),a&&a[lt]?a.K(d,p,h(b)?!!b.capture:!!b,O):Ig(a,d,p,!1,b,O)}function Ig(a,d,p,b,O,B){if(!d)throw Error("Invalid event type");var J=h(O)?!!O.capture:!!O,Ze=nh(a);if(Ze||(a[Ju]=Ze=new er(a)),p=Ze.add(d,p,b,J,B),p.proxy)return p;if(b=PS(),p.proxy=b,b.src=a,b.listener=p,a.addEventListener)nt||(O=J),O===void 0&&(O=!1),a.addEventListener(d.toString(),b,O);else if(a.attachEvent)a.attachEvent(Tg(d.toString()),b);else if(a.addListener&&a.removeListener)a.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return p}function PS(){function a(p){return d.call(a.src,a.listener,p)}let d=NS;return a}function xg(a,d,p,b,O){if(Array.isArray(d)){for(var B=0;B<d.length;B++)xg(a,d[B],p,b,O);return null}return p=rh(p),a&&a[lt]?a.L(d,p,h(b)?!!b.capture:!!b,O):Ig(a,d,p,!0,b,O)}function Ag(a,d,p,b,O){if(Array.isArray(d))for(var B=0;B<d.length;B++)Ag(a,d[B],p,b,O);else b=h(b)?!!b.capture:!!b,p=rh(p),a&&a[lt]?(a=a.i,d=String(d).toString(),d in a.g&&(B=a.g[d],p=Zu(B,p,b,O),-1<p&&(Di(B[p]),Array.prototype.splice.call(B,p,1),B.length==0&&(delete a.g[d],a.h--)))):a&&(a=nh(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Zu(d,p,b,O)),(p=-1<a?d[a]:null)&&th(p))}function th(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[lt])Xu(d.i,a);else{var p=a.type,b=a.proxy;d.removeEventListener?d.removeEventListener(p,b,a.capture):d.detachEvent?d.detachEvent(Tg(p),b):d.addListener&&d.removeListener&&d.removeListener(b),(p=nh(d))?(Xu(p,a),p.h==0&&(p.src=null,d[Ju]=null)):Di(a)}}}function Tg(a){return a in eh?eh[a]:eh[a]="on"+a}function NS(a,d){if(a.da)a=!0;else{d=new Ji(d,this);var p=a.listener,b=a.ha||a.src;a.fa&&th(a),a=p.call(b,d)}return a}function nh(a){return a=a[Ju],a instanceof er?a:null}var ih="__closure_events_fn_"+(1e9*Math.random()>>>0);function rh(a){return typeof a=="function"?a:(a[ih]||(a[ih]=function(d){return a.handleEvent(d)}),a[ih])}function jt(){at.call(this),this.i=new er(this),this.M=this,this.F=null}I(jt,at),jt.prototype[lt]=!0,jt.prototype.removeEventListener=function(a,d,p,b){Ag(this,a,d,p,b)};function on(a,d){var p,b=a.F;if(b)for(p=[];b;b=b.F)p.push(b);if(a=a.M,b=d.type||d,typeof d=="string")d=new tt(d,a);else if(d instanceof tt)d.target=d.target||a;else{var O=d;d=new tt(b,a),R(d,O)}if(O=!0,p)for(var B=p.length-1;0<=B;B--){var J=d.g=p[B];O=$l(J,b,!0,d)&&O}if(J=d.g=a,O=$l(J,b,!0,d)&&O,O=$l(J,b,!1,d)&&O,p)for(B=0;B<p.length;B++)J=d.g=p[B],O=$l(J,b,!1,d)&&O}jt.prototype.N=function(){if(jt.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var p=a.g[d],b=0;b<p.length;b++)Di(p[b]);delete a.g[d],a.h--}}this.F=null},jt.prototype.K=function(a,d,p,b){return this.i.add(String(a),d,!1,p,b)},jt.prototype.L=function(a,d,p,b){return this.i.add(String(a),d,!0,p,b)};function $l(a,d,p,b){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var O=!0,B=0;B<d.length;++B){var J=d[B];if(J&&!J.da&&J.capture==p){var Ze=J.listener,Nt=J.ha||J.src;J.fa&&Xu(a.i,J),O=Ze.call(Nt,b)!==!1&&O}}return O&&!b.defaultPrevented}function Dg(a,d,p){if(typeof a=="function")p&&(a=C(a,p));else if(a&&typeof a.handleEvent=="function")a=C(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(a,d||0)}function Rg(a){a.g=Dg(()=>{a.g=null,a.i&&(a.i=!1,Rg(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class FS extends at{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Rg(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ys(a){at.call(this),this.h=a,this.g={}}I(Ys,at);var Mg=[];function kg(a){ye(a.g,function(d,p){this.g.hasOwnProperty(p)&&th(d)},a),a.g={}}Ys.prototype.N=function(){Ys.aa.N.call(this),kg(this)},Ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oh=l.JSON.stringify,LS=l.JSON.parse,VS=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function sh(){}sh.prototype.h=null;function Og(a){return a.h||(a.h=a.i())}function Pg(){}var Qs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ah(){tt.call(this,"d")}I(ah,tt);function lh(){tt.call(this,"c")}I(lh,tt);var Nr={},Ng=null;function ql(){return Ng=Ng||new jt}Nr.La="serverreachability";function Fg(a){tt.call(this,Nr.La,a)}I(Fg,tt);function Xs(a){let d=ql();on(d,new Fg(d))}Nr.STAT_EVENT="statevent";function Lg(a,d){tt.call(this,Nr.STAT_EVENT,a),this.stat=d}I(Lg,tt);function sn(a){let d=ql();on(d,new Lg(d,a))}Nr.Ma="timingevent";function Vg(a,d){tt.call(this,Nr.Ma,a),this.size=d}I(Vg,tt);function Zs(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},d)}function Js(){this.g=!0}Js.prototype.xa=function(){this.g=!1};function BS(a,d,p,b,O,B){a.info(function(){if(a.g)if(B)for(var J="",Ze=B.split("&"),Nt=0;Nt<Ze.length;Nt++){var Ke=Ze[Nt].split("=");if(1<Ke.length){var Ut=Ke[0];Ke=Ke[1];var zt=Ut.split("_");J=2<=zt.length&&zt[1]=="type"?J+(Ut+"="+Ke+"&"):J+(Ut+"=redacted&")}}else J=null;else J=B;return"XMLHTTP REQ ("+b+") [attempt "+O+"]: "+d+`
`+p+`
`+J})}function jS(a,d,p,b,O,B,J){a.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+O+"]: "+d+`
`+p+`
`+B+" "+J})}function Ao(a,d,p,b){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+zS(a,p)+(b?" "+b:"")})}function US(a,d){a.info(function(){return"TIMEOUT: "+d})}Js.prototype.info=function(){};function zS(a,d){if(!a.g)return d;if(!d)return null;try{var p=JSON.parse(d);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var b=p[a];if(!(2>b.length)){var O=b[1];if(Array.isArray(O)&&!(1>O.length)){var B=O[0];if(B!="noop"&&B!="stop"&&B!="close")for(var J=1;J<O.length;J++)O[J]=""}}}}return oh(p)}catch{return d}}var Hl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ch;function Wl(){}I(Wl,sh),Wl.prototype.g=function(){return new XMLHttpRequest},Wl.prototype.i=function(){return{}},ch=new Wl;function tr(a,d,p,b){this.j=a,this.i=d,this.l=p,this.R=b||1,this.U=new Ys(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jg}function jg(){this.i=null,this.g="",this.h=!1}var Ug={},dh={};function uh(a,d,p){a.L=1,a.v=Ql(Ri(d)),a.m=p,a.P=!0,zg(a,null)}function zg(a,d){a.F=Date.now(),Kl(a),a.A=Ri(a.v);var p=a.A,b=a.R;Array.isArray(b)||(b=[String(b)]),n_(p.i,"t",b),a.C=0,p=a.j.J,a.h=new jg,a.g=v_(a.j,p?d:null,!a.m),0<a.O&&(a.M=new FS(C(a.Y,a,a.g),a.O)),d=a.U,p=a.g,b=a.ca;var O="readystatechange";Array.isArray(O)||(O&&(Mg[0]=O.toString()),O=Mg);for(var B=0;B<O.length;B++){var J=Sg(p,O[B],b||d.handleEvent,!1,d.h||d);if(!J)break;d.g[J.key]=J}d=a.H?w(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Xs(),BS(a.i,a.u,a.A,a.l,a.R,a.m)}tr.prototype.ca=function(a){a=a.target;let d=this.M;d&&Mi(a)==3?d.j():this.Y(a)},tr.prototype.Y=function(a){try{if(a==this.g)e:{let zt=Mi(this.g);var d=this.g.Ba();let Ro=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||c_(this.g)))){this.J||zt!=4||d==7||(d==8||0>=Ro?Xs(3):Xs(2)),hh(this);var p=this.g.Z();this.X=p;t:if($g(this)){var b=c_(this.g);a="";var O=b.length,B=Mi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fr(this),ea(this);var J="";break t}this.h.i=new l.TextDecoder}for(d=0;d<O;d++)this.h.h=!0,a+=this.h.i.decode(b[d],{stream:!(B&&d==O-1)});b.length=0,this.h.g+=a,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=p==200,jS(this.i,this.u,this.A,this.l,this.R,zt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,Nt=this.g;if((Ze=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Ze)){var Ke=Ze;break t}}Ke=null}if(p=Ke)Ao(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mh(this,p);else{this.o=!1,this.s=3,sn(12),Fr(this),ea(this);break e}}if(this.P){p=!0;let Jn;for(;!this.J&&this.C<J.length;)if(Jn=$S(this,J),Jn==dh){zt==4&&(this.s=4,sn(14),p=!1),Ao(this.i,this.l,null,"[Incomplete Response]");break}else if(Jn==Ug){this.s=4,sn(15),Ao(this.i,this.l,J,"[Invalid Chunk]"),p=!1;break}else Ao(this.i,this.l,Jn,null),mh(this,Jn);if($g(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||J.length!=0||this.h.h||(this.s=1,sn(16),p=!1),this.o=this.o&&p,!p)Ao(this.i,this.l,J,"[Invalid Chunked Response]"),Fr(this),ea(this);else if(0<J.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),bh(Ut),Ut.M=!0,sn(11))}}else Ao(this.i,this.l,J,null),mh(this,J);zt==4&&Fr(this),this.o&&!this.J&&(zt==4?g_(this.j,this):(this.o=!1,Kl(this)))}else sI(this.g),p==400&&0<J.indexOf("Unknown SID")?(this.s=3,sn(12)):(this.s=0,sn(13)),Fr(this),ea(this)}}}catch{}finally{}};function $g(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function $S(a,d){var p=a.C,b=d.indexOf(`
`,p);return b==-1?dh:(p=Number(d.substring(p,b)),isNaN(p)?Ug:(b+=1,b+p>d.length?dh:(d=d.slice(b,b+p),a.C=b+p,d)))}tr.prototype.cancel=function(){this.J=!0,Fr(this)};function Kl(a){a.S=Date.now()+a.I,qg(a,a.I)}function qg(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Zs(C(a.ba,a),d)}function hh(a){a.B&&(l.clearTimeout(a.B),a.B=null)}tr.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(US(this.i,this.A),this.L!=2&&(Xs(),sn(17)),Fr(this),this.s=2,ea(this)):qg(this,this.S-a)};function ea(a){a.j.G==0||a.J||g_(a.j,a)}function Fr(a){hh(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,kg(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function mh(a,d){try{var p=a.j;if(p.G!=0&&(p.g==a||ph(p.h,a))){if(!a.K&&ph(p.h,a)&&p.G==3){try{var b=p.Da.g.parse(d)}catch{b=null}if(Array.isArray(b)&&b.length==3){var O=b;if(O[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)tc(p),Jl(p);else break e;yh(p),sn(18)}}else p.za=O[1],0<p.za-p.T&&37500>O[2]&&p.F&&p.v==0&&!p.C&&(p.C=Zs(C(p.Za,p),6e3));if(1>=Kg(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Vr(p,11)}else if((a.K||p.g==a)&&tc(p),!X(d))for(O=p.Da.g.parse(d),d=0;d<O.length;d++){let Ke=O[d];if(p.T=Ke[0],Ke=Ke[1],p.G==2)if(Ke[0]=="c"){p.K=Ke[1],p.ia=Ke[2];let Ut=Ke[3];Ut!=null&&(p.la=Ut,p.j.info("VER="+p.la));let zt=Ke[4];zt!=null&&(p.Aa=zt,p.j.info("SVER="+p.Aa));let Ro=Ke[5];Ro!=null&&typeof Ro=="number"&&0<Ro&&(b=1.5*Ro,p.L=b,p.j.info("backChannelRequestTimeoutMs_="+b)),b=p;let Jn=a.g;if(Jn){let ic=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ic){var B=b.h;B.g||ic.indexOf("spdy")==-1&&ic.indexOf("quic")==-1&&ic.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(fh(B,B.h),B.h=null))}if(b.D){let vh=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;vh&&(b.ya=vh,it(b.I,b.D,vh))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),b=p;var J=a;if(b.qa=b_(b,b.J?b.ia:null,b.W),J.K){Gg(b.h,J);var Ze=J,Nt=b.L;Nt&&(Ze.I=Nt),Ze.B&&(hh(Ze),Kl(Ze)),b.g=J}else p_(b);0<p.i.length&&ec(p)}else Ke[0]!="stop"&&Ke[0]!="close"||Vr(p,7);else p.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Vr(p,7):_h(p):Ke[0]!="noop"&&p.l&&p.l.ta(Ke),p.v=0)}}Xs(4)}catch{}}var qS=class{constructor(a,d){this.g=a,this.map=d}};function Hg(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wg(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Kg(a){return a.h?1:a.g?a.g.size:0}function ph(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function fh(a,d){a.g?a.g.add(d):a.h=d}function Gg(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Hg.prototype.cancel=function(){if(this.i=Yg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function Yg(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let p of a.g.values())d=d.concat(p.D);return d}return M(a.i)}function HS(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var d=[],p=a.length,b=0;b<p;b++)d.push(a[b]);return d}d=[],p=0;for(b in a)d[p++]=a[b];return d}function WS(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var d=[];a=a.length;for(var p=0;p<a;p++)d.push(p);return d}d=[],p=0;for(let b in a)d[p++]=b;return d}}}function Qg(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var p=WS(a),b=HS(a),O=b.length,B=0;B<O;B++)d.call(void 0,b[B],p&&p[B],a)}var Xg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function KS(a,d){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var b=a[p].indexOf("="),O=null;if(0<=b){var B=a[p].substring(0,b);O=a[p].substring(b+1)}else B=a[p];d(B,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Lr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Lr){this.h=a.h,Gl(this,a.j),this.o=a.o,this.g=a.g,Yl(this,a.s),this.l=a.l;var d=a.i,p=new ia;p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),Zg(this,p),this.m=a.m}else a&&(d=String(a).match(Xg))?(this.h=!1,Gl(this,d[1]||"",!0),this.o=ta(d[2]||""),this.g=ta(d[3]||"",!0),Yl(this,d[4]),this.l=ta(d[5]||"",!0),Zg(this,d[6]||"",!0),this.m=ta(d[7]||"")):(this.h=!1,this.i=new ia(null,this.h))}Lr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(na(d,Jg,!0),":");var p=this.g;return(p||d=="file")&&(a.push("//"),(d=this.o)&&a.push(na(d,Jg,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(na(p,p.charAt(0)=="/"?QS:YS,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",na(p,ZS)),a.join("")};function Ri(a){return new Lr(a)}function Gl(a,d,p){a.j=p?ta(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Yl(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Zg(a,d,p){d instanceof ia?(a.i=d,JS(a.i,a.h)):(p||(d=na(d,XS)),a.i=new ia(d,a.h))}function it(a,d,p){a.i.set(d,p)}function Ql(a){return it(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function ta(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function na(a,d,p){return typeof a=="string"?(a=encodeURI(a).replace(d,GS),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function GS(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Jg=/[#\/\?@]/g,YS=/[#\?:]/g,QS=/[#\?]/g,XS=/[#\?@]/g,ZS=/#/g;function ia(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function nr(a){a.g||(a.g=new Map,a.h=0,a.i&&KS(a.i,function(d,p){a.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}i=ia.prototype,i.add=function(a,d){nr(this),this.i=null,a=To(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(d),this.h+=1,this};function e_(a,d){nr(a),d=To(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function t_(a,d){return nr(a),d=To(a,d),a.g.has(d)}i.forEach=function(a,d){nr(this),this.g.forEach(function(p,b){p.forEach(function(O){a.call(d,O,b,this)},this)},this)},i.na=function(){nr(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),p=[];for(let b=0;b<d.length;b++){let O=a[b];for(let B=0;B<O.length;B++)p.push(d[b])}return p},i.V=function(a){nr(this);let d=[];if(typeof a=="string")t_(this,a)&&(d=d.concat(this.g.get(To(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)d=d.concat(a[p])}return d},i.set=function(a,d){return nr(this),this.i=null,a=To(this,a),t_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},i.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function n_(a,d,p){e_(a,d),0<p.length&&(a.i=null,a.g.set(To(a,d),M(p)),a.h+=p.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var p=0;p<d.length;p++){var b=d[p];let B=encodeURIComponent(String(b)),J=this.V(b);for(b=0;b<J.length;b++){var O=B;J[b]!==""&&(O+="="+encodeURIComponent(String(J[b]))),a.push(O)}}return this.i=a.join("&")};function To(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function JS(a,d){d&&!a.j&&(nr(a),a.i=null,a.g.forEach(function(p,b){var O=b.toLowerCase();b!=O&&(e_(this,b),n_(this,O,p))},a)),a.j=d}function eI(a,d){let p=new Js;if(l.Image){let b=new Image;b.onload=D(ir,p,"TestLoadImage: loaded",!0,d,b),b.onerror=D(ir,p,"TestLoadImage: error",!1,d,b),b.onabort=D(ir,p,"TestLoadImage: abort",!1,d,b),b.ontimeout=D(ir,p,"TestLoadImage: timeout",!1,d,b),l.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=a}else d(!1)}function tI(a,d){let p=new Js,b=new AbortController,O=setTimeout(()=>{b.abort(),ir(p,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:b.signal}).then(B=>{clearTimeout(O),B.ok?ir(p,"TestPingServer: ok",!0,d):ir(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(O),ir(p,"TestPingServer: error",!1,d)})}function ir(a,d,p,b,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),b(p)}catch{}}function nI(){this.g=new VS}function iI(a,d,p){let b=p||"";try{Qg(a,function(O,B){let J=O;h(O)&&(J=oh(O)),d.push(b+B+"="+encodeURIComponent(J))})}catch(O){throw d.push(b+"type="+encodeURIComponent("_badmap")),O}}function ra(a){this.l=a.Ub||null,this.j=a.eb||!1}I(ra,sh),ra.prototype.g=function(){return new Xl(this.l,this.j)},ra.prototype.i=(function(a){return function(){return a}})({});function Xl(a,d){jt.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Xl,jt),i=Xl.prototype,i.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,sa(this)},i.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oa(this)),this.readyState=0},i.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,sa(this)),this.g&&(this.readyState=3,sa(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;i_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function i_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}i.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?oa(this):sa(this),this.readyState==3&&i_(this)}},i.Ra=function(a){this.g&&(this.response=this.responseText=a,oa(this))},i.Qa=function(a){this.g&&(this.response=a,oa(this))},i.ga=function(){this.g&&oa(this)};function oa(a){a.readyState=4,a.l=null,a.j=null,a.v=null,sa(a)}i.setRequestHeader=function(a,d){this.u.append(a,d)},i.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=d.next();return a.join(`\r
`)};function sa(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Xl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function r_(a){let d="";return ye(a,function(p,b){d+=b,d+=":",d+=p,d+=`\r
`}),d}function gh(a,d,p){e:{for(b in p){var b=!1;break e}b=!0}b||(p=r_(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):it(a,d,p))}function ct(a){jt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(ct,jt);var rI=/^https?$/i,oI=["POST","PUT"];i=ct.prototype,i.Ha=function(a){this.J=a},i.ea=function(a,d,p,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ch.g(),this.v=this.o?Og(this.o):Og(ch),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(B){o_(this,B);return}if(a=p||"",p=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var O in b)p.set(O,b[O]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(let B of b.keys())p.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(p.keys()).find(B=>B.toLowerCase()=="content-type"),O=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(oI,d,void 0))||b||O||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[B,J]of p)this.g.setRequestHeader(B,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{l_(this),this.u=!0,this.g.send(a),this.u=!1}catch(B){o_(this,B)}};function o_(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,s_(a),Zl(a)}function s_(a){a.A||(a.A=!0,on(a,"complete"),on(a,"error"))}i.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,on(this,"complete"),on(this,"abort"),Zl(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zl(this,!0)),ct.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?a_(this):this.bb())},i.bb=function(){a_(this)};function a_(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Mi(a)!=4||a.Z()!=2)){if(a.u&&Mi(a)==4)Dg(a.Ea,0,a);else if(on(a,"readystatechange"),Mi(a)==4){a.h=!1;try{let J=a.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var b;if(b=J===0){var O=String(a.D).match(Xg)[1]||null;!O&&l.self&&l.self.location&&(O=l.self.location.protocol.slice(0,-1)),b=!rI.test(O?O.toLowerCase():"")}p=b}if(p)on(a,"complete"),on(a,"success");else{a.m=6;try{var B=2<Mi(a)?a.g.statusText:""}catch{B=""}a.l=B+" ["+a.Z()+"]",s_(a)}}finally{Zl(a)}}}}function Zl(a,d){if(a.g){l_(a);let p=a.g,b=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||on(a,"ready");try{p.onreadystatechange=b}catch{}}}function l_(a){a.I&&(l.clearTimeout(a.I),a.I=null)}i.isActive=function(){return!!this.g};function Mi(a){return a.g?a.g.readyState:0}i.Z=function(){try{return 2<Mi(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),LS(d)}};function c_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function sI(a){let d={};a=(a.g&&2<=Mi(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<a.length;b++){if(X(a[b]))continue;var p=k(a[b]);let O=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let B=d[O]||[];d[O]=B,B.push(p)}x(d,function(b){return b.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function aa(a,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||d}function d_(a){this.Aa=0,this.i=[],this.j=new Js,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=aa("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=aa("baseRetryDelayMs",5e3,a),this.cb=aa("retryDelaySeedMs",1e4,a),this.Wa=aa("forwardChannelMaxRetries",2,a),this.wa=aa("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Hg(a&&a.concurrentRequestLimit),this.Da=new nI,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=d_.prototype,i.la=8,i.G=1,i.connect=function(a,d,p,b){sn(0),this.W=a,this.H=d||{},p&&b!==void 0&&(this.H.OSID=p,this.H.OAID=b),this.F=this.X,this.I=b_(this,null,this.W),ec(this)};function _h(a){if(u_(a),a.G==3){var d=a.U++,p=Ri(a.I);if(it(p,"SID",a.K),it(p,"RID",d),it(p,"TYPE","terminate"),la(a,p),d=new tr(a,a.j,d),d.L=2,d.v=Ql(Ri(p)),p=!1,l.navigator&&l.navigator.sendBeacon)try{p=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!p&&l.Image&&(new Image().src=d.v,p=!0),p||(d.g=v_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Kl(d)}y_(a)}function Jl(a){a.g&&(bh(a),a.g.cancel(),a.g=null)}function u_(a){Jl(a),a.u&&(l.clearTimeout(a.u),a.u=null),tc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function ec(a){if(!Wg(a.h)&&!a.s){a.s=!0;var d=a.Ga;ce||ut(),ge||(ce(),ge=!0),je.add(d,a),a.B=0}}function aI(a,d){return Kg(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Zs(C(a.Ga,a,d),__(a,a.B)),a.B++,!0)}i.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let O=new tr(this,this.j,a),B=this.o;if(this.S&&(B?(B=w(B),R(B,this.S)):B=this.S),this.m!==null||this.O||(O.H=B,B=null),this.P)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var b=this.i[p];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(d+=b,4096<d){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=m_(this,O,d),p=Ri(this.I),it(p,"RID",a),it(p,"CVER",22),this.D&&it(p,"X-HTTP-Session-Id",this.D),la(this,p),B&&(this.O?d="headers="+encodeURIComponent(String(r_(B)))+"&"+d:this.m&&gh(p,this.m,B)),fh(this.h,O),this.Ua&&it(p,"TYPE","init"),this.P?(it(p,"$req",d),it(p,"SID","null"),O.T=!0,uh(O,p,null)):uh(O,p,d),this.G=2}}else this.G==3&&(a?h_(this,a):this.i.length==0||Wg(this.h)||h_(this))};function h_(a,d){var p;d?p=d.l:p=a.U++;let b=Ri(a.I);it(b,"SID",a.K),it(b,"RID",p),it(b,"AID",a.T),la(a,b),a.m&&a.o&&gh(b,a.m,a.o),p=new tr(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),d&&(a.i=d.D.concat(a.i)),d=m_(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),fh(a.h,p),uh(p,b,d)}function la(a,d){a.H&&ye(a.H,function(p,b){it(d,b,p)}),a.l&&Qg({},function(p,b){it(d,b,p)})}function m_(a,d,p){p=Math.min(a.i.length,p);var b=a.l?C(a.l.Na,a.l,a):null;e:{var O=a.i;let B=-1;for(;;){let J=["count="+p];B==-1?0<p?(B=O[0].g,J.push("ofs="+B)):B=0:J.push("ofs="+B);let Ze=!0;for(let Nt=0;Nt<p;Nt++){let Ke=O[Nt].g,Ut=O[Nt].map;if(Ke-=B,0>Ke)B=Math.max(0,O[Nt].g-100),Ze=!1;else try{iI(Ut,J,"req"+Ke+"_")}catch{b&&b(Ut)}}if(Ze){b=J.join("&");break e}}}return a=a.i.splice(0,p),d.D=a,b}function p_(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;ce||ut(),ge||(ce(),ge=!0),je.add(d,a),a.v=0}}function yh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Zs(C(a.Fa,a),__(a,a.v)),a.v++,!0)}i.Fa=function(){if(this.u=null,f_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Zs(C(this.ab,this),a)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,sn(10),Jl(this),f_(this))};function bh(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function f_(a){a.g=new tr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Ri(a.qa);it(d,"RID","rpc"),it(d,"SID",a.K),it(d,"AID",a.T),it(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&it(d,"TO",a.ja),it(d,"TYPE","xmlhttp"),la(a,d),a.m&&a.o&&gh(d,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=Ql(Ri(d)),p.m=null,p.P=!0,zg(p,a)}i.Za=function(){this.C!=null&&(this.C=null,Jl(this),yh(this),sn(19))};function tc(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function g_(a,d){var p=null;if(a.g==d){tc(a),bh(a),a.g=null;var b=2}else if(ph(a.h,d))p=d.D,Gg(a.h,d),b=1;else return;if(a.G!=0){if(d.o)if(b==1){p=d.m?d.m.length:0,d=Date.now()-d.F;var O=a.B;b=ql(),on(b,new Vg(b,p)),ec(a)}else p_(a);else if(O=d.s,O==3||O==0&&0<d.X||!(b==1&&aI(a,d)||b==2&&yh(a)))switch(p&&0<p.length&&(d=a.h,d.i=d.i.concat(p)),O){case 1:Vr(a,5);break;case 4:Vr(a,10);break;case 3:Vr(a,6);break;default:Vr(a,2)}}}function __(a,d){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*d}function Vr(a,d){if(a.j.info("Error code "+d),d==2){var p=C(a.fb,a),b=a.Xa;let O=!b;b=new Lr(b||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Gl(b,"https"),Ql(b),O?eI(b.toString(),p):tI(b.toString(),p)}else sn(2);a.G=0,a.l&&a.l.sa(d),y_(a),u_(a)}i.fb=function(a){a?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function y_(a){if(a.G=0,a.ka=[],a.l){let d=Yg(a.h);(d.length!=0||a.i.length!=0)&&(F(a.ka,d),F(a.ka,a.i),a.h.i.length=0,M(a.i),a.i.length=0),a.l.ra()}}function b_(a,d,p){var b=p instanceof Lr?Ri(p):new Lr(p);if(b.g!="")d&&(b.g=d+"."+b.g),Yl(b,b.s);else{var O=l.location;b=O.protocol,d=d?d+"."+O.hostname:O.hostname,O=+O.port;var B=new Lr(null);b&&Gl(B,b),d&&(B.g=d),O&&Yl(B,O),p&&(B.l=p),b=B}return p=a.D,d=a.ya,p&&d&&it(b,p,d),it(b,"VER",a.la),la(a,b),b}function v_(a,d,p){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new ct(new ra({eb:p})):new ct(a.pa),d.Ha(a.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function w_(){}i=w_.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function nc(){}nc.prototype.g=function(a,d){return new Mn(a,d)};function Mn(a,d){jt.call(this),this.g=new d_(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!X(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!X(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Do(this)}I(Mn,jt),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){_h(this.g)},Mn.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=oh(a),a=p);d.i.push(new qS(d.Ya++,a)),d.G==3&&ec(d)},Mn.prototype.N=function(){this.g.l=null,delete this.j,_h(this.g),delete this.g,Mn.aa.N.call(this)};function C_(a){ah.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let p in d){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}I(C_,ah);function E_(){lh.call(this),this.status=1}I(E_,lh);function Do(a){this.g=a}I(Do,w_),Do.prototype.ua=function(){on(this.g,"a")},Do.prototype.ta=function(a){on(this.g,new C_(a))},Do.prototype.sa=function(a){on(this.g,new E_)},Do.prototype.ra=function(){on(this.g,"b")},nc.prototype.createWebChannel=nc.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,Tw=Hi.createWebChannelTransport=function(){return new nc},Aw=Hi.getStatEventTarget=function(){return ql()},xw=Hi.Event=Nr,Iw=Hi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hl.NO_ERROR=0,Hl.TIMEOUT=8,Hl.HTTP_ERROR=6,Sw=Hi.ErrorCode=Hl,Bg.COMPLETE="complete",Ew=Hi.EventType=Bg,Pg.EventType=Qs,Qs.OPEN="a",Qs.CLOSE="b",Qs.ERROR="c",Qs.MESSAGE="d",jt.prototype.listen=jt.prototype.K,Cw=Hi.WebChannel=Pg,tk=Hi.FetchXmlHttpFactory=ra,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,ww=Hi.XhrIo=ct}).apply(typeof au<"u"?au:typeof self<"u"?self:typeof window<"u"?window:{});var Dw="@firebase/firestore",Rw="4.8.0";var Bt=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");var El="11.10.0";var Vs=new hr("@firebase/firestore");function di(i,...t){if(Vs.logLevel<=Ho.DEBUG){let e=t.map(tf);Vs.debug(`Firestore (${El}): ${i}`,...e)}}function $w(i,...t){if(Vs.logLevel<=Ho.ERROR){let e=t.map(tf);Vs.error(`Firestore (${El}): ${i}`,...e)}}function nk(i,...t){if(Vs.logLevel<=Ho.WARN){let e=t.map(tf);Vs.warn(`Firestore (${El}): ${i}`,...e)}}function tf(i){if(typeof i=="string")return i;try{return(function(e){return JSON.stringify(e)})(i)}catch{return i}}function xn(i,t,e){let n="Unexpected state";typeof t=="string"?n=t:e=t,qw(i,n,e)}function qw(i,t,e){let n=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{n+=" CONTEXT: "+JSON.stringify(e)}catch{n+=" CONTEXT: "+e}throw $w(n),new Error(n)}function yo(i,t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,i||qw(t,r,n)}var He={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ze=class extends ii{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var bo=class{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}};var lu=class{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},Fp=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Bt.UNAUTHENTICATED))}shutdown(){}},Lp=class{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}},Vp=class{constructor(t){this.t=t,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){yo(this.o===void 0,42304);let n=this.i,r=c=>this.i!==n?(n=this.i,e(c)):Promise.resolve(),o=new bo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new bo,t.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let c=o;t.enqueueRetryable(()=>j(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},l=c=>{di("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?l(c):(di("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new bo)}},0),s()}getToken(){let t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(n=>this.i!==t?(di("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(yo(typeof n.accessToken=="string",31837,{l:n}),new lu(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let t=this.auth&&this.auth.getUid();return yo(t===null||typeof t=="string",2055,{h:t}),new Bt(t)}},Bp=class{constructor(t,e,n){this.P=t,this.T=e,this.I=n,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},jp=class{constructor(t,e,n){this.P=t,this.T=e,this.I=n}getToken(){return Promise.resolve(new Bp(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},cu=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Up=class{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$r(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){yo(this.o===void 0,3512);let n=o=>{o.error!=null&&di("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,di("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>n(o))};let r=o=>{di("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?r(o):di("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new cu(this.p));let t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(yo(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new cu(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function ik(i){let t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let n=0;n<i;n++)e[n]=Math.floor(256*Math.random());return e}function rk(){return new TextEncoder}var zp=class{static newId(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516),n="";for(;n.length<20;){let r=ik(40);for(let o=0;o<r.length;++o)n.length<20&&r[o]<e&&(n+=t.charAt(r[o]%62))}return n}};function Xn(i,t){return i<t?-1:i>t?1:0}function ok(i,t){let e=0;for(;e<i.length&&e<t.length;){let n=i.codePointAt(e),r=t.codePointAt(e);if(n!==r){if(n<128&&r<128)return Xn(n,r);{let o=rk(),s=sk(o.encode(Mw(i,e)),o.encode(Mw(t,e)));return s!==0?s:Xn(n,r)}}e+=n>65535?2:1}return Xn(i.length,t.length)}function Mw(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function sk(i,t){for(let e=0;e<i.length&&e<t.length;++e)if(i[e]!==t[e])return Xn(i[e],t[e]);return Xn(i.length,t.length)}var kw="__name__",du=class i{constructor(t,e,n){e===void 0?e=0:e>t.length&&xn(637,{offset:e,range:t.length}),n===void 0?n=t.length-e:n>t.length-e&&xn(1746,{length:n,range:t.length-e}),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return i.comparator(this,t)===0}child(t){let e=this.segments.slice(this.offset,this.limit());return t instanceof i?t.forEach(n=>{e.push(n)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){let n=Math.min(t.length,e.length);for(let r=0;r<n;r++){let o=i.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return Xn(t.length,e.length)}static compareSegments(t,e){let n=i.isNumericId(t),r=i.isNumericId(e);return n&&!r?-1:!n&&r?1:n&&r?i.extractNumericId(t).compare(i.extractNumericId(e)):ok(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return su.fromString(t.substring(4,t.length-2))}},Wi=class i extends du{construct(t,e,n){return new i(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){let e=[];for(let n of t){if(n.indexOf("//")>=0)throw new ze(He.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(r=>r.length>0))}return new i(e)}static emptyPath(){return new i([])}},ak=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$p=class i extends du{construct(t,e,n){return new i(t,e,n)}static isValidIdentifier(t){return ak.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),i.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kw}static keyField(){return new i([kw])}static fromServerFormat(t){let e=[],n="",r=0,o=()=>{if(n.length===0)throw new ze(He.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""},s=!1;for(;r<t.length;){let l=t[r];if(l==="\\"){if(r+1===t.length)throw new ze(He.INVALID_ARGUMENT,"Path has trailing escape character: "+t);let c=t[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ze(He.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=c,r+=2}else l==="`"?(s=!s,r++):l!=="."||s?(n+=l,r++):(o(),r++)}if(o(),s)throw new ze(He.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new i(e)}static emptyPath(){return new i([])}};var Ki=class i{constructor(t){this.path=t}static fromPath(t){return new i(Wi.fromString(t))}static fromName(t){return new i(Wi.fromString(t).popFirst(5))}static empty(){return new i(Wi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Wi.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Wi.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new i(new Wi(t.slice()))}};function lk(i,t,e,n){if(t===!0&&n===!0)throw new ze(He.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function ck(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function dk(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{let t=(function(n){return n.constructor?n.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":xn(12329,{type:typeof i})}function uk(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new ze(He.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let e=dk(i);throw new ze(He.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}function bt(i,t){let e={typeString:i};return t&&(e.value=t),e}function Sl(i,t){if(!ck(i))throw new ze(He.INVALID_ARGUMENT,"JSON must be an object");let e;for(let n in t)if(t[n]){let r=t[n].typeString,o="value"in t[n]?{value:t[n].value}:void 0;if(!(n in i)){e=`JSON missing required field: '${n}'`;break}let s=i[n];if(r&&typeof s!==r){e=`JSON field '${n}' must be a ${r}.`;break}if(o!==void 0&&s!==o.value){e=`Expected '${n}' field to equal '${o.value}'`;break}}if(e)throw new ze(He.INVALID_ARGUMENT,e);return!0}var Ow=-62135596800,Pw=1e6,_l=class i{static now(){return i.fromMillis(Date.now())}static fromDate(t){return i.fromMillis(t.getTime())}static fromMillis(t){let e=Math.floor(t/1e3),n=Math.floor((t-1e3*e)*Pw);return new i(e,n)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ze(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ze(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Ow)throw new ze(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ze(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Pw}_compareTo(t){return this.seconds===t.seconds?Xn(this.nanoseconds,t.nanoseconds):Xn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:i._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Sl(t,i._jsonSchema))return new i(t.seconds,t.nanoseconds)}valueOf(){let t=this.seconds-Ow;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};_l._jsonSchemaVersion="firestore/timestamp/1.0",_l._jsonSchema={type:bt("string",_l._jsonSchemaVersion),seconds:bt("number"),nanoseconds:bt("number")};var qp=class{constructor(t,e,n,r){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=r}};qp.UNKNOWN_ID=-1;function hk(i){return i.name==="IndexedDbTransactionError"}function mk(i){return i===0&&1/i==-1/0}var pk="remoteDocuments",Hw="owner";var Ww="mutationQueues";var Kw="mutations";var Gw="documentMutations",fk="remoteDocumentsV14";var Yw="remoteDocumentGlobal";var Qw="targets";var Xw="targetDocuments";var Zw="targetGlobal",Jw="collectionParents";var eC="clientMetadata";var tC="bundles";var nC="namedQueries";var gk="indexConfiguration";var _k="indexState";var yk="indexEntries";var iC="documentOverlays";var bk="globals";var vk=[Ww,Kw,Gw,pk,Qw,Hw,Zw,Xw,eC,Yw,Jw,tC,nC],N9=[...vk,iC],wk=[Ww,Kw,Gw,fk,Qw,Hw,Zw,Xw,eC,Yw,Jw,tC,nC,iC],Ck=wk,Ek=[...Ck,gk,_k,yk];var F9=[...Ek,bk];var Bs=class i{constructor(t,e){this.comparator=t,this.root=e||Ii.EMPTY}insert(t,e){return new i(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ii.BLACK,null,null))}remove(t){return new i(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ii.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){let n=this.comparator(t,e.key);if(n===0)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(t,n.key);if(r===0)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){let t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ps(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ps(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ps(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ps(this.root,t,this.comparator,!0)}},Ps=class{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?n(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},Ii=class i{constructor(t,e,n,r,o){this.key=t,this.value=e,this.color=n??i.RED,this.left=r??i.EMPTY,this.right=o??i.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,o){return new i(t??this.key,e??this.value,n??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this,o=n(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,n),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return i.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return i.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xn(14113,{key:this.key,value:this.value});let t=this.left.check();if(t!==this.right.check())throw xn(27949);return t+(this.isRed()?0:1)}};Ii.EMPTY=null,Ii.RED=!0,Ii.BLACK=!1;Ii.EMPTY=new class{constructor(){this.size=0}get key(){throw xn(57766)}get value(){throw xn(16141)}get color(){throw xn(16727)}get left(){throw xn(29726)}get right(){throw xn(36894)}copy(t,e,n,r,o){return this}insert(t,e,n){return new Ii(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var uu=class i{constructor(t){this.comparator=t,this.data=new Bs(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){let n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){let e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new hu(this.data.getIterator())}getIteratorFrom(t){return new hu(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(n=>{e=e.add(n)}),e}isEqual(t){if(!(t instanceof i)||this.size!==t.size)return!1;let e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){let r=e.getNext().key,o=n.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let t=[];return this.forEach(e=>{t.push(e)}),t}toString(){let t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){let e=new i(this.comparator);return e.data=t,e}},hu=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Hp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Rr=class i{constructor(t){this.binaryString=t}static fromBase64String(t){let e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Hp("Invalid base64 string: "+o):o}})(t);return new i(e)}static fromUint8Array(t){let e=(function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o})(t);return new i(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){let n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Xn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};Rr.EMPTY_BYTE_STRING=new Rr("");var Sk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ik(i){if(yo(!!i,39018),typeof i=="string"){let t=0,e=Sk.exec(i);if(yo(!!e,46558,{timestamp:i}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}let n=new Date(i);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:yl(i.seconds),nanos:yl(i.nanos)}}function yl(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function xk(i){return typeof i=="string"?Rr.fromBase64String(i):Rr.fromUint8Array(i)}var Wp="(default)",Kp=class i{constructor(t,e){this.projectId=t,this.database=e||Wp}static empty(){return new i("","")}get isDefaultDatabase(){return this.database===Wp}isEqual(t){return t instanceof i&&t.projectId===this.projectId&&t.database===this.database}};var rC="__type__",Ak="__max__";var oC="__vector__",sC="value";function Tk(i){var t,e;return((e=(((t=i?.mapValue)===null||t===void 0?void 0:t.fields)||{})[rC])===null||e===void 0?void 0:e.stringValue)===oC}function Dk(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===Ak}var V9={mapValue:{fields:{[rC]:{stringValue:oC},[sC]:{arrayValue:{}}}}};var Gp=class{constructor(t,e=null,n=[],r=[],o=null,s="F",l=null,c=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Rk(i){return new Gp(i)}var B9=new Bs(Ki.comparator);var j9=new Bs(Ki.comparator);var U9=new Bs(Ki.comparator),z9=new uu(Ki.comparator);var $9=new uu(Xn);var Nw,qe;(qe=Nw||(Nw={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";var q9=new su([4294967295,4294967295],0);var mu=class{constructor(){}bt(t,e){this.Dt(t,e),e.vt()}Dt(t,e){if("nullValue"in t)this.Ct(e,5);else if("booleanValue"in t)this.Ct(e,10),e.Ft(t.booleanValue?1:0);else if("integerValue"in t)this.Ct(e,15),e.Ft(yl(t.integerValue));else if("doubleValue"in t){let n=yl(t.doubleValue);isNaN(n)?this.Ct(e,13):(this.Ct(e,15),mk(n)?e.Ft(0):e.Ft(n))}else if("timestampValue"in t){let n=t.timestampValue;this.Ct(e,20),typeof n=="string"&&(n=Ik(n)),e.Mt(`${n.seconds||""}`),e.Ft(n.nanos||0)}else if("stringValue"in t)this.xt(t.stringValue,e),this.Ot(e);else if("bytesValue"in t)this.Ct(e,30),e.Nt(xk(t.bytesValue)),this.Ot(e);else if("referenceValue"in t)this.Bt(t.referenceValue,e);else if("geoPointValue"in t){let n=t.geoPointValue;this.Ct(e,45),e.Ft(n.latitude||0),e.Ft(n.longitude||0)}else"mapValue"in t?Dk(t)?this.Ct(e,Number.MAX_SAFE_INTEGER):Tk(t)?this.Lt(t.mapValue,e):(this.kt(t.mapValue,e),this.Ot(e)):"arrayValue"in t?(this.qt(t.arrayValue,e),this.Ot(e)):xn(19022,{Qt:t})}xt(t,e){this.Ct(e,25),this.$t(t,e)}$t(t,e){e.Mt(t)}kt(t,e){let n=t.fields||{};this.Ct(e,55);for(let r of Object.keys(n))this.xt(r,e),this.Dt(n[r],e)}Lt(t,e){var n,r;let o=t.fields||{};this.Ct(e,53);let s=sC,l=((r=(n=o[s].arrayValue)===null||n===void 0?void 0:n.values)===null||r===void 0?void 0:r.length)||0;this.Ct(e,15),e.Ft(yl(l)),this.xt(s,e),this.Dt(o[s],e)}qt(t,e){let n=t.values||[];this.Ct(e,50);for(let r of n)this.Dt(r,e)}Bt(t,e){this.Ct(e,37),Ki.fromName(t).path.forEach(n=>{this.Ct(e,60),this.$t(n,e)})}Ct(t,e){t.Ft(e)}Ot(t){t.Ft(2)}};mu.Ut=new mu;var H9=new Uint8Array(0);var aC=41943040,Si=class i{static withCacheSize(t){return new i(t,i.DEFAULT_COLLECTION_PERCENTILE,i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}};Si.DEFAULT_COLLECTION_PERCENTILE=10,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Si.DEFAULT=new Si(aC,Si.DEFAULT_COLLECTION_PERCENTILE,Si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Si.DISABLED=new Si(-1,0,0);var Mk=1048576;function Np(){return typeof document<"u"?document:null}var Yp=class{constructor(t,e,n=1e3,r=1.5,o=6e4){this.Fi=t,this.timerId=e,this.d_=n,this.E_=r,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();let e=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),r=Math.max(0,e-n);r>0&&di("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var Qp=class i{constructor(t,e,n,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new bo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,r,o){let s=Date.now()+n,l=new i(t,e,s,r,o);return l.start(n),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ze(He.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var Fw,Lw;(Lw=Fw||(Fw={})).Fa="default",Lw.Cache="cache";function kk(i){let t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}var Vw=new Map;var lC="firestore.googleapis.com",Bw=!0,pu=class{constructor(t){var e,n;if(t.host===void 0){if(t.ssl!==void 0)throw new ze(He.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lC,this.ssl=Bw}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:Bw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=aC;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Mk)throw new ze(He.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}lk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kk((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ze(He.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ze(He.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ze(He.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(n,r){return n.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}},fu=class{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pu({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ze(He.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ze(He.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pu(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new Fp;switch(n.type){case"firstParty":return new jp(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ze(He.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return j(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){let n=Vw.get(e);n&&(di("ComponentProvider","Removing Datastore"),Vw.delete(e),n.terminate())})(this),Promise.resolve()}};function cC(i,t,e,n={}){var r;i=uk(i,fu);let o=Bo(t),s=i._getSettings(),l=Object.assign(Object.assign({},s),{emulatorOptions:i._getEmulatorOptions()}),c=`${t}:${e}`;o&&(jo(`https://${c}`),Uo("Firestore",!0)),s.host!==lC&&s.host!==c&&nk("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let h=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:n});if(!qo(h,l)&&(i._setSettings(h),n.mockUserToken)){let g,v;if(typeof n.mockUserToken=="string")g=n.mockUserToken,v=Bt.MOCK_USER;else{g=Cc(n.mockUserToken,(r=i._app)===null||r===void 0?void 0:r.options.projectId);let C=n.mockUserToken.sub||n.mockUserToken.user_id;if(!C)throw new ze(He.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Bt(C)}i._authCredentials=new Lp(new lu(g,v))}}var Xp=class i{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new i(this.firestore,t,this._query)}},vo=class i{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zp(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new i(this.firestore,t,this._key)}toJSON(){return{type:i._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,n){if(Sl(e,i._jsonSchema))return new i(t,n||null,new Ki(Wi.fromString(e.referencePath)))}};vo._jsonSchemaVersion="firestore/documentReference/1.0",vo._jsonSchema={type:bt("string",vo._jsonSchemaVersion),referencePath:bt("string")};var Zp=class i extends Xp{constructor(t,e,n){super(t,e,Rk(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let t=this._path.popLast();return t.isEmpty()?null:new vo(this.firestore,null,new Ki(t))}withConverter(t){return new i(this.firestore,t,this._path)}};var jw="AsyncQueue",gu=class{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Yp(this,"async_queue_retry"),this.oc=()=>{let n=Np();n&&di(jw,"Visibility state changed to "+n.visibilityState),this.F_.y_()},this._c=t;let e=Np();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;let e=Np();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});let e=new bo;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}cc(){return j(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!hk(t))throw t;di(jw,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(t){let e=this._c.then(()=>(this.nc=!0,t().catch(n=>{throw this.tc=n,this.nc=!1,$w("INTERNAL UNHANDLED ERROR: ",Uw(n)),n}).then(n=>(this.nc=!1,n))));return this._c=e,e}enqueueAfterDelay(t,e,n){this.ac(),this.sc.indexOf(t)>-1&&(e=0);let r=Qp.createAndSchedule(this,t,e,n,o=>this.lc(o));return this.ec.push(r),r}ac(){this.tc&&xn(47125,{hc:Uw(this.tc)})}verifyOperationInProgress(){}Pc(){return j(this,null,function*(){let t;do t=this._c,yield t;while(t!==this._c)})}Tc(t){for(let e of this.ec)if(e.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((e,n)=>e.targetTimeMs-n.targetTimeMs);for(let e of this.ec)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){let e=this.ec.indexOf(t);this.ec.splice(e,1)}};function Uw(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}var Jp=class extends fu{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new gu,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return j(this,null,function*(){if(this._firestoreClient){let t=this._firestoreClient.terminate();this._queue=new gu(t),this._firestoreClient=void 0,yield t}})}};function dC(i,t){let e=typeof i=="object"?i:Qt(),n=typeof i=="string"?i:t||Wp,r=un(e,"firestore").getImmediate({identifier:n});if(!r._initialized){let o=Vo("firestore");o&&cC(r,...o)}return r}var bl=class i{constructor(t){this._byteString=t}static fromBase64String(t){try{return new i(Rr.fromBase64String(t))}catch(e){throw new ze(He.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new i(Rr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:i._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Sl(t,i._jsonSchema))return i.fromBase64String(t.bytes)}};bl._jsonSchemaVersion="firestore/bytes/1.0",bl._jsonSchema={type:bt("string",bl._jsonSchemaVersion),bytes:bt("string")};var _u=class{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ze(He.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $p(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};var vl=class i{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ze(He.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ze(He.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Xn(this._lat,t._lat)||Xn(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:i._jsonSchemaVersion}}static fromJSON(t){if(Sl(t,i._jsonSchema))return new i(t.latitude,t.longitude)}};vl._jsonSchemaVersion="firestore/geoPoint/1.0",vl._jsonSchema={type:bt("string",vl._jsonSchemaVersion),latitude:bt("number"),longitude:bt("number")};var wl=class i{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return(function(n,r){if(n.length!==r.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Sl(t,i._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new i(t.vectorValues);throw new ze(He.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};wl._jsonSchemaVersion="firestore/vectorValue/1.0",wl._jsonSchema={type:bt("string",wl._jsonSchemaVersion),vectorValues:bt("object")};var Ok=new RegExp("[~\\*/\\[\\]]");function Pk(i,t,e){if(t.search(Ok)>=0)throw zw(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new _u(...t.split("."))._internalPath}catch{throw zw(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function zw(i,t,e,n,r){let o=n&&!n.isEmpty(),s=r!==void 0,l=`Function ${t}() called with invalid data`;e&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${n}`),s&&(c+=` in document ${r}`),c+=")"),new ze(He.INVALID_ARGUMENT,l+i+c)}var yu=class{constructor(t,e,n,r,o){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new vo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let t=new ef(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){let e=this._document.data.field(uC("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}},ef=class extends yu{data(){return super.data()}};function uC(i,t){return typeof t=="string"?Pk(i,t):t instanceof _u?t._internalPath:t._delegate._internalPath}var Ns=class{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}},Fs=class i extends yu{constructor(t,e,n,r,o,s){super(t,e,n,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){let e=new Ls(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){let n=this._document.data.field(uC("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(He.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t=this._document,e={};return e.type=i._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}};Fs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fs._jsonSchema={type:bt("string",Fs._jsonSchemaVersion),bundleSource:bt("string","DocumentSnapshot"),bundleName:bt("string"),bundle:bt("string")};var Ls=class extends Fs{data(t={}){return super.data(t)}},Cl=class i{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ns(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new Ls(this._firestore,this._userDataWriter,n.key,n,new Ns(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){let e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ze(He.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(l=>{let c=new Ls(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Ns(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{let c=new Ls(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Ns(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,g=-1;return l.type!==0&&(h=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),g=s.indexOf(l.doc.key)),{type:Nk(l.type),doc:c,oldIndex:h,newIndex:g}})}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(He.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t={};t.type=i._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=zp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let e=[],n=[],r=[];return this.docs.forEach(o=>{o._document!==null&&(e.push(o._document),n.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}};function Nk(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xn(61501,{type:i})}}Cl._jsonSchemaVersion="firestore/querySnapshot/1.0",Cl._jsonSchema={type:bt("string",Cl._jsonSchemaVersion),bundleSource:bt("string","QuerySnapshot"),bundleName:bt("string"),bundle:bt("string")};(function(t,e=!0){(function(r){El=r})(Wo),Yt(new Gt("firestore",(n,{instanceIdentifier:r,options:o})=>{let s=n.getProvider("app").getImmediate(),l=new Jp(new Vp(n.getProvider("auth-internal")),new Up(s,n.getProvider("app-check-internal")),(function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ze(He.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kp(h.options.projectId,g)})(s,r),s);return o=Object.assign({useFetchStreams:e},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Le(Dw,Rw,t),Le(Dw,Rw,"esm2017")})();var Il=class{constructor(t){return t}},hC="firestore",nf=class{constructor(){return Zt(hC)}};var rf=new W("angularfire2.firestore-instances");function Fk(i,t){let e=Xt(hC,i,t);return e&&new Il(e)}function Lk(i){return(t,e)=>{let n=t.runOutsideAngular(()=>i(e));return new Il(n)}}var Vk={provide:nf,deps:[[new Ye,rf]]},Bk={provide:Il,useFactory:Fk,deps:[[new Ye,rf],en]};function mC(i,...t){return Le("angularfire",Mt.full,"fst"),ot([Bk,Vk,{provide:rf,useFactory:Lk(i),multi:!0,deps:[ee,be,Jt,tn,[new Ye,Go],[new Ye,_r],...t]}])}var pC=St(dC,!0);var _C="functions";var of=class{constructor(t,e,n,r){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,$r(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(o=>this.auth=o,()=>{}),this.messaging||n.get().then(o=>this.messaging=o,()=>{}),this.appCheck||r?.get().then(o=>this.appCheck=o,()=>{})}getAuthToken(){return j(this,null,function*(){if(this.auth)try{let t=yield this.auth.getToken();return t?.accessToken}catch{return}})}getMessagingToken(){return j(this,null,function*(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return yield this.messaging.getToken()}catch{return}})}getAppCheckToken(t){return j(this,null,function*(){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){let e=t?yield this.appCheck.getLimitedUseToken():yield this.appCheck.getToken();return e.error?null:e.token}return null})}getContext(t){return j(this,null,function*(){let e=yield this.getAuthToken(),n=yield this.getMessagingToken(),r=yield this.getAppCheckToken(t);return{authToken:e,messagingToken:n,appCheckToken:r}})}};var sf="us-central1";var af=class{constructor(t,e,n,r,o=sf,s=(...l)=>fetch(...l)){this.app=t,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new of(t,e,n,r),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{let l=new URL(o);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=sf}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(t){let e=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${e}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${e}.cloudfunctions.net/${t}`}};function jk(i,t,e){let n=Bo(t);i.emulatorOrigin=`http${n?"s":""}://${t}:${e}`,n&&(jo(i.emulatorOrigin),Uo("Functions",!0))}var fC="@firebase/functions",gC="0.12.9";var Uk="auth-internal",zk="app-check-internal",$k="messaging-internal";function qk(i){let t=(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),o=e.getProvider(Uk),s=e.getProvider($k),l=e.getProvider(zk);return new af(r,o,s,l,n)};Yt(new Gt(_C,t,"PUBLIC").setMultipleInstances(!0)),Le(fC,gC,i),Le(fC,gC,"esm2017")}function yC(i=Qt(),t=sf){let n=un(Lt(i),_C).getImmediate({identifier:t}),r=Vo("functions");return r&&bC(n,...r),n}function bC(i,t,e){jk(Lt(i),t,e)}qk();var xl=class{constructor(t){return t}},vC="functions",lf=class{constructor(){return Zt(vC)}};var cf=new W("angularfire2.functions-instances");function Hk(i,t){let e=Xt(vC,i,t);return e&&new xl(e)}function Wk(i){return(t,e)=>{let n=t.runOutsideAngular(()=>i(e));return new xl(n)}}var Kk={provide:lf,deps:[[new Ye,cf]]},Gk={provide:xl,useFactory:Hk,deps:[[new Ye,cf],en]};function wC(i,...t){return Le("angularfire",Mt.full,"fn"),ot([Gk,Kk,{provide:cf,useFactory:Wk(i),multi:!0,deps:[ee,be,Jt,tn,[new Ye,Go],[new Ye,_r],...t]}])}var CC=St(yC,!0);var Yk="/firebase-messaging-sw.js",Qk="/firebase-cloud-messaging-push-scope",DC="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Xk="https://fcmregistrations.googleapis.com/v1",RC="google.c.a.c_id",Zk="google.c.a.c_l",Jk="google.c.a.ts",eO="google.c.a.e",EC=1e4;var bu=(function(i){return i.PUSH_RECEIVED="push-received",i.NOTIFICATION_CLICKED="notification-clicked",i})(bu||{});function Gi(i){let t=new Uint8Array(i);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function tO(i){let t="=".repeat((4-i.length%4)%4),e=(i+t).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length);for(let o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r}var df="fcm_token_details_db",nO=5,SC="fcm_token_object_Store";function iO(i){return j(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(df))return null;let t=null;return(yield Nh(df,nO,{upgrade:(n,r,o,s)=>j(null,null,function*(){var l;if(r<2||!n.objectStoreNames.contains(SC))return;let c=s.objectStore(SC),h=yield c.index("fcmSenderId").get(i);if(yield c.clear(),!!h){if(r===2){let g=h;if(!g.auth||!g.p256dh||!g.endpoint)return;t={token:g.fcmToken,createTime:(l=g.createTime)!==null&&l!==void 0?l:Date.now(),subscriptionOptions:{auth:g.auth,p256dh:g.p256dh,endpoint:g.endpoint,swScope:g.swScope,vapidKey:typeof g.vapidKey=="string"?g.vapidKey:Gi(g.vapidKey)}}}else if(r===3){let g=h;t={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:Gi(g.auth),p256dh:Gi(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:Gi(g.vapidKey)}}}else if(r===4){let g=h;t={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:Gi(g.auth),p256dh:Gi(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:Gi(g.vapidKey)}}}}})})).close(),yield Ec(df),yield Ec("fcm_vapid_details_db"),yield Ec("undefined"),rO(t)?t:null})}function rO(i){if(!i||!i.subscriptionOptions)return!1;let{subscriptionOptions:t}=i;return typeof i.createTime=="number"&&i.createTime>0&&typeof i.token=="string"&&i.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}var oO="firebase-messaging-database",sO=1,Al="firebase-messaging-store",uf=null;function MC(){return uf||(uf=Nh(oO,sO,{upgrade:(i,t)=>{switch(t){case 0:i.createObjectStore(Al)}}})),uf}function aO(i){return j(this,null,function*(){let t=kC(i),n=yield(yield MC()).transaction(Al).objectStore(Al).get(t);if(n)return n;{let r=yield iO(i.appConfig.senderId);if(r)return yield pf(i,r),r}})}function pf(i,t){return j(this,null,function*(){let e=kC(i),r=(yield MC()).transaction(Al,"readwrite");return yield r.objectStore(Al).put(t,e),yield r.done,t})}function kC({appConfig:i}){return i.appId}var lO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},_n=new $o("messaging","Messaging",lO);function cO(i,t){return j(this,null,function*(){let e=yield gf(i),n=OC(t),r={method:"POST",headers:e,body:JSON.stringify(n)},o;try{o=yield(yield fetch(ff(i.appConfig),r)).json()}catch(s){throw _n.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw _n.create("token-subscribe-failed",{errorInfo:s})}if(!o.token)throw _n.create("token-subscribe-no-token");return o.token})}function dO(i,t){return j(this,null,function*(){let e=yield gf(i),n=OC(t.subscriptionOptions),r={method:"PATCH",headers:e,body:JSON.stringify(n)},o;try{o=yield(yield fetch(`${ff(i.appConfig)}/${t.token}`,r)).json()}catch(s){throw _n.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw _n.create("token-update-failed",{errorInfo:s})}if(!o.token)throw _n.create("token-update-no-token");return o.token})}function uO(i,t){return j(this,null,function*(){let n={method:"DELETE",headers:yield gf(i)};try{let o=yield(yield fetch(`${ff(i.appConfig)}/${t}`,n)).json();if(o.error){let s=o.error.message;throw _n.create("token-unsubscribe-failed",{errorInfo:s})}}catch(r){throw _n.create("token-unsubscribe-failed",{errorInfo:r?.toString()})}})}function ff({projectId:i}){return`${Xk}/projects/${i}/registrations`}function gf(e){return j(this,arguments,function*({appConfig:i,installations:t}){let n=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})}function OC({p256dh:i,auth:t,endpoint:e,vapidKey:n}){let r={web:{endpoint:e,auth:t,p256dh:i}};return n!==DC&&(r.web.applicationPubKey=n),r}var hO=10080*60*1e3;function mO(i){return j(this,null,function*(){let t=yield fO(i.swRegistration,i.vapidKey),e={vapidKey:i.vapidKey,swScope:i.swRegistration.scope,endpoint:t.endpoint,auth:Gi(t.getKey("auth")),p256dh:Gi(t.getKey("p256dh"))},n=yield aO(i.firebaseDependencies);if(n){if(gO(n.subscriptionOptions,e))return Date.now()>=n.createTime+hO?pO(i,{token:n.token,createTime:Date.now(),subscriptionOptions:e}):n.token;try{yield uO(i.firebaseDependencies,n.token)}catch(r){console.warn(r)}return IC(i.firebaseDependencies,e)}else return IC(i.firebaseDependencies,e)})}function pO(i,t){return j(this,null,function*(){try{let e=yield dO(i.firebaseDependencies,t),n=Object.assign(Object.assign({},t),{token:e,createTime:Date.now()});return yield pf(i.firebaseDependencies,n),e}catch(e){throw e}})}function IC(i,t){return j(this,null,function*(){let n={token:yield cO(i,t),createTime:Date.now(),subscriptionOptions:t};return yield pf(i,n),n.token})}function fO(i,t){return j(this,null,function*(){let e=yield i.pushManager.getSubscription();return e||i.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:tO(t)})})}function gO(i,t){let e=t.vapidKey===i.vapidKey,n=t.endpoint===i.endpoint,r=t.auth===i.auth,o=t.p256dh===i.p256dh;return e&&n&&r&&o}function xC(i){let t={from:i.from,collapseKey:i.collapse_key,messageId:i.fcmMessageId};return _O(t,i),yO(t,i),bO(t,i),t}function _O(i,t){if(!t.notification)return;i.notification={};let e=t.notification.title;e&&(i.notification.title=e);let n=t.notification.body;n&&(i.notification.body=n);let r=t.notification.image;r&&(i.notification.image=r);let o=t.notification.icon;o&&(i.notification.icon=o)}function yO(i,t){t.data&&(i.data=t.data)}function bO(i,t){var e,n,r,o,s;if(!t.fcmOptions&&!(!((e=t.notification)===null||e===void 0)&&e.click_action))return;i.fcmOptions={};let l=(r=(n=t.fcmOptions)===null||n===void 0?void 0:n.link)!==null&&r!==void 0?r:(o=t.notification)===null||o===void 0?void 0:o.click_action;l&&(i.fcmOptions.link=l);let c=(s=t.fcmOptions)===null||s===void 0?void 0:s.analytics_label;c&&(i.fcmOptions.analyticsLabel=c)}function vO(i){return typeof i=="object"&&!!i&&RC in i}wO("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function wO(i,t){let e=[];for(let n=0;n<i.length;n++)e.push(i.charAt(n)),n<t.length&&e.push(t.charAt(n));return e.join("")}function CO(i){if(!i||!i.options)throw hf("App Configuration Object");if(!i.name)throw hf("App Name");let t=["projectId","apiKey","appId","messagingSenderId"],{options:e}=i;for(let n of t)if(!e[n])throw hf(n);return{appName:i.name,projectId:e.projectId,apiKey:e.apiKey,appId:e.appId,senderId:e.messagingSenderId}}function hf(i){return _n.create("missing-app-config-values",{valueName:i})}var mf=class{constructor(t,e,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let r=CO(t);this.firebaseDependencies={app:t,appConfig:r,installations:e,analyticsProvider:n}}_delete(){return Promise.resolve()}};function EO(i){return j(this,null,function*(){try{i.swRegistration=yield navigator.serviceWorker.register(Yk,{scope:Qk}),i.swRegistration.update().catch(()=>{}),yield SO(i.swRegistration)}catch(t){throw _n.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}})}function SO(i){return j(this,null,function*(){return new Promise((t,e)=>{let n=setTimeout(()=>e(new Error(`Service worker not registered after ${EC} ms`)),EC),r=i.installing||i.waiting;i.active?(clearTimeout(n),t()):r?r.onstatechange=o=>{var s;((s=o.target)===null||s===void 0?void 0:s.state)==="activated"&&(r.onstatechange=null,clearTimeout(n),t())}:(clearTimeout(n),e(new Error("No incoming service worker found.")))})})}function IO(i,t){return j(this,null,function*(){if(!t&&!i.swRegistration&&(yield EO(i)),!(!t&&i.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw _n.create("invalid-sw-registration");i.swRegistration=t}})}function xO(i,t){return j(this,null,function*(){t?i.vapidKey=t:i.vapidKey||(i.vapidKey=DC)})}function AO(i,t){return j(this,null,function*(){if(!navigator)throw _n.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw _n.create("permission-blocked");return yield xO(i,t?.vapidKey),yield IO(i,t?.serviceWorkerRegistration),mO(i)})}function TO(i,t,e){return j(this,null,function*(){let n=DO(t);(yield i.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:e[RC],message_name:e[Zk],message_time:e[Jk],message_device_time:Math.floor(Date.now()/1e3)})})}function DO(i){switch(i){case bu.NOTIFICATION_CLICKED:return"notification_open";case bu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function RO(i,t){return j(this,null,function*(){let e=t.data;if(!e.isFirebaseMessaging)return;i.onMessageHandler&&e.messageType===bu.PUSH_RECEIVED&&(typeof i.onMessageHandler=="function"?i.onMessageHandler(xC(e)):i.onMessageHandler.next(xC(e)));let n=e.data;vO(n)&&n[eO]==="1"&&(yield TO(i,e.messageType,n))})}var AC="@firebase/messaging",TC="0.12.22";var MO=i=>{let t=new mf(i.getProvider("app").getImmediate(),i.getProvider("installations-internal").getImmediate(),i.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>RO(t,e)),t},kO=i=>{let t=i.getProvider("messaging").getImmediate();return{getToken:n=>AO(t,n)}};function OO(){Yt(new Gt("messaging",MO,"PUBLIC")),Yt(new Gt("messaging-internal",kO,"PRIVATE")),Le(AC,TC),Le(AC,TC,"esm2017")}function PC(){return j(this,null,function*(){try{yield zo()}catch{return!1}return typeof window<"u"&&ur()&&Ca()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function NC(i=Qt()){return PC().then(t=>{if(!t)throw _n.create("unsupported-browser")},t=>{throw _n.create("indexed-db-unsupported")}),un(Lt(i),"messaging").getImmediate()}OO();var Tl=class{constructor(t){return t}},FC="messaging",_f=class{constructor(){return Zt(FC)}};var yf=new W("angularfire2.messaging-instances");function PO(i,t,e){if(Lo(e))return null;let n=Xt(FC,i,t);return n&&new Tl(n)}function NO(i){return(t,e,n)=>{if(Lo(n))return null;let r=t.runOutsideAngular(()=>i(e));return new Tl(r)}}var FO={provide:_f,deps:[[new Ye,yf]]},LO={provide:Tl,useFactory:PO,deps:[[new Ye,yf],en,mt]};function LC(i,...t){return Le("angularfire",Mt.full,"fcm"),ot([LO,FO,{provide:yf,useFactory:NO(i),multi:!0,deps:[ee,be,mt,Jt,tn,...t]}])}var VC=St(NC,!0);var Dl=class{constructor(t){return t}},BC="performance",bf=class{constructor(){return Zt(BC)}};var vf=new W("angularfire2.performance-instances");function VO(i,t,e){if(!_i(e))return null;let n=Xt(BC,i,t);return n&&new Dl(n)}function BO(i){return(t,e,n)=>{if(!_i(e))return null;let r=t.runOutsideAngular(()=>i(n));return new Dl(r)}}var jO={provide:bf,deps:[[new Ye,vf]]},UO={provide:Dl,useFactory:VO,deps:[[new Ye,vf],en,mt]};function jC(i,...t){return Le("angularfire",Mt.full,"perf"),ot([UO,jO,{provide:vf,useFactory:BO(i),multi:!0,deps:[ee,mt,be,Jt,tn,...t]}])}var UC=St(Ay,!0);var KC="firebasestorage.googleapis.com",zO="storageBucket",$O=120*1e3,qO=600*1e3;var xi=class i extends ii{constructor(t,e,n=0){super(wf(t),`Firebase Storage: ${e} (${wf(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,i.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return wf(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Qi=(function(i){return i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment",i})(Qi||{});function wf(i){return"storage/"+i}function HO(){let i="An unknown error occurred, please check the error payload for server response.";return new xi(Qi.UNKNOWN,i)}function WO(){return new xi(Qi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KO(){return new xi(Qi.CANCELED,"User canceled the upload/download.")}function GO(i){return new xi(Qi.INVALID_URL,"Invalid URL '"+i+"'.")}function YO(i){return new xi(Qi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function zC(i){return new xi(Qi.INVALID_ARGUMENT,i)}function GC(){return new xi(Qi.APP_DELETED,"The Firebase app was deleted.")}function QO(i){return new xi(Qi.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Yi=class i{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let n;try{n=i.makeFromUrl(t,e)}catch{return new i(t,"")}if(n.path==="")return n;throw YO(t)}static makeFromUrl(t,e){let n=null,r="([A-Za-z0-9.\\-_]+)";function o(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}let s="(/(.*))?$",l=new RegExp("^gs://"+r+s,"i"),c={bucket:1,path:3};function h(Y){Y.path_=decodeURIComponent(Y.path)}let g="v[A-Za-z0-9_]+",v=e.replace(/[.]/g,"\\."),C="(/([^?#]*).*)?$",D=new RegExp(`^https?://${v}/${g}/b/${r}/o${C}`,"i"),I={bucket:1,path:3},M=e===KC?"(?:storage.googleapis.com|storage.cloud.google.com)":e,F="([^?#]*)",z=new RegExp(`^https?://${M}/${r}/${F}`,"i"),Z=[{regex:l,indices:c,postModify:o},{regex:D,indices:I,postModify:h},{regex:z,indices:{bucket:1,path:2},postModify:h}];for(let Y=0;Y<Z.length;Y++){let Ae=Z[Y],ye=Ae.regex.exec(t);if(ye){let x=ye[Ae.indices.bucket],w=ye[Ae.indices.path];w||(w=""),n=new i(x,w),Ae.postModify(n);break}}if(n==null)throw GO(t);return n}},Cf=class{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}};function XO(i,t,e){let n=1,r=null,o=null,s=!1,l=0;function c(){return l===2}let h=!1;function g(...F){h||(h=!0,t.apply(null,F))}function v(F){r=setTimeout(()=>{r=null,i(D,c())},F)}function C(){o&&clearTimeout(o)}function D(F,...z){if(h){C();return}if(F){C(),g.call(null,F,...z);return}if(c()||s){C(),g.call(null,F,...z);return}n<64&&(n*=2);let Z;l===1?(l=2,Z=0):Z=(n+Math.random())*1e3,v(Z)}let I=!1;function M(F){I||(I=!0,C(),!h&&(r!==null?(F||(l=2),clearTimeout(r),v(0)):F||(l=1)))}return v(0),o=setTimeout(()=>{s=!0,M(!0)},e),M}function ZO(i){i(!1)}function JO(i){return i!==void 0}function $C(i,t,e,n){if(n<t)throw zC(`Invalid value for '${i}'. Expected ${t} or greater.`);if(n>e)throw zC(`Invalid value for '${i}'. Expected ${e} or less.`)}function eP(i){let t=encodeURIComponent,e="?";for(let n in i)if(i.hasOwnProperty(n)){let r=t(n)+"="+t(i[n]);e=e+r+"&"}return e=e.slice(0,-1),e}var Ef=(function(i){return i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT",i})(Ef||{});function tP(i,t){let e=i>=500&&i<600,r=[408,429].indexOf(i)!==-1,o=t.indexOf(i)!==-1;return e||r||o}var Sf=class{constructor(t,e,n,r,o,s,l,c,h,g,v,C=!0,D=!1){this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=l,this.errorCallback_=c,this.timeout_=h,this.progressCallback_=g,this.connectionFactory_=v,this.retry=C,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,M)=>{this.resolve_=I,this.reject_=M,this.start_()})}start_(){let t=(n,r)=>{if(r){n(!1,new js(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=l=>{let c=l.loaded,h=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,h)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let l=o.getErrorCode()===Ef.NO_ERROR,c=o.getStatus();if(!l||tP(c,this.additionalRetryCodes_)&&this.retry){let g=o.getErrorCode()===Ef.ABORT;n(!1,new js(!1,null,g));return}let h=this.successCodes_.indexOf(c)!==-1;n(!0,new js(h,o))})},e=(n,r)=>{let o=this.resolve_,s=this.reject_,l=r.connection;if(r.wasSuccessCode)try{let c=this.callback_(l,l.getResponse());JO(c)?o(c):o()}catch(c){s(c)}else if(l!==null){let c=HO();c.serverResponse=l.getErrorText(),this.errorCallback_?s(this.errorCallback_(l,c)):s(c)}else if(r.canceled){let c=this.appDelete_?GC():KO();s(c)}else{let c=WO();s(c)}};this.canceled_?e(!1,new js(!1,null,!0)):this.backoffId_=XO(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&ZO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},js=class{constructor(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}};function nP(i,t){t!==null&&t.length>0&&(i.Authorization="Firebase "+t)}function iP(i,t){i["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function rP(i,t){t&&(i["X-Firebase-GMPID"]=t)}function oP(i,t){t!==null&&(i["X-Firebase-AppCheck"]=t)}function sP(i,t,e,n,r,o,s=!0,l=!1){let c=eP(i.urlParams),h=i.url+c,g=Object.assign({},i.headers);return rP(g,t),nP(g,e),iP(g,o),oP(g,n),new Sf(h,i.method,g,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,r,s,l)}function aP(i){if(i.length===0)return null;let t=i.lastIndexOf("/");return t===-1?"":i.slice(0,t)}function lP(i){let t=i.lastIndexOf("/",i.length-2);return t===-1?i:i.slice(t+1)}var l8=256*1024;var If=class i{constructor(t,e){this._service=t,e instanceof Yi?this._location=e:this._location=Yi.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new i(t,e)}get root(){let t=new Yi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lP(this._location.path)}get storage(){return this._service}get parent(){let t=aP(this._location.path);if(t===null)return null;let e=new Yi(this._location.bucket,t);return new i(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw QO(t)}};function qC(i,t){let e=t?.[zO];return e==null?null:Yi.makeFromBucketSpec(e,i)}function cP(i,t,e,n={}){i.host=`${t}:${e}`;let r=Bo(t);r&&(jo(`https://${i.host}/b`),Uo("Storage",!0)),i._isUsingEmulator=!0,i._protocol=r?"https":"http";let{mockUserToken:o}=n;o&&(i._overrideAuthToken=typeof o=="string"?o:Cc(o,i.app.options.projectId))}var xf=class{constructor(t,e,n,r,o,s=!1){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=KC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=$O,this._maxUploadRetryTime=qO,this._requests=new Set,r!=null?this._bucket=Yi.makeFromBucketSpec(r,this._host):this._bucket=qC(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Yi.makeFromBucketSpec(this._url,t):this._bucket=qC(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){$C("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){$C("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){return j(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let t=this._authProvider.getImmediate({optional:!0});if(t){let e=yield t.getToken();if(e!==null)return e.accessToken}return null})}_getAppCheckToken(){return j(this,null,function*(){if($r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=this._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new If(this,t)}_makeRequest(t,e,n,r,o=!0){if(this._deleted)return new Cf(GC());{let s=sP(t,this._appId,n,r,e,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(t,e){return j(this,null,function*(){let[n,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,n,r).getPromise()})}},HC="@firebase/storage",WC="0.13.14";var YC="storage";function QC(i=Qt(),t){i=Lt(i);let n=un(i,YC).getImmediate({identifier:t}),r=Vo("storage");return r&&XC(n,...r),n}function XC(i,t,e,n={}){cP(i,t,e,n)}function dP(i,{instanceIdentifier:t}){let e=i.getProvider("app").getImmediate(),n=i.getProvider("auth-internal"),r=i.getProvider("app-check-internal");return new xf(e,n,r,t,Wo)}function uP(){Yt(new Gt(YC,dP,"PUBLIC").setMultipleInstances(!0)),Le(HC,WC,""),Le(HC,WC,"esm2017")}uP();var Rl=class{constructor(t){return t}},ZC="storage",Af=class{constructor(){return Zt(ZC)}};var Tf=new W("angularfire2.storage-instances");function hP(i,t){let e=Xt(ZC,i,t);return e&&new Rl(e)}function mP(i){return(t,e)=>{let n=t.runOutsideAngular(()=>i(e));return new Rl(n)}}var pP={provide:Af,deps:[[new Ye,Tf]]},fP={provide:Rl,useFactory:hP,deps:[[new Ye,Tf],en]};function JC(i,...t){return Le("angularfire",Mt.full,"gcs"),ot([fP,pP,{provide:Tf,useFactory:mP(i),multi:!0,deps:[ee,be,Jt,tn,[new Ye,Go],[new Ye,_r],...t]}])}var eE=St(QC,!0);var Df="@firebase/remote-config",tE="0.6.5";var iE="remote-config",nE=100;var gP={"already-initialized":"Remote Config already initialized","registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser","custom-signal-max-allowed-signals":"Setting more than {$maxSignals} custom signals is not supported."},An=new $o("remoteconfig","Remote Config",gP);function rE(i=Qt(),t={}){var e,n;i=Lt(i);let r=un(i,iE);if(r.isInitialized()){let s=r.getOptions();if(qo(s,t))return r.getImmediate();throw An.create("already-initialized")}r.initialize({options:t});let o=r.getImmediate();return t.initialFetchResponse&&(o._initializePromise=Promise.all([o._storage.setLastSuccessfulFetchResponse(t.initialFetchResponse),o._storage.setActiveConfigEtag(((e=t.initialFetchResponse)===null||e===void 0?void 0:e.eTag)||""),o._storageCache.setLastSuccessfulFetchTimestampMillis(Date.now()),o._storageCache.setLastFetchStatus("success"),o._storageCache.setActiveConfig(((n=t.initialFetchResponse)===null||n===void 0?void 0:n.config)||{})]).then(),o._isInitializationComplete=!0),o}function oE(i){let t=Lt(i);return t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0})),t._initializePromise}var Rf=class{constructor(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}isCachedDataFresh(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;let n=Date.now()-e,r=n<=t;return this.logger.debug(`Config fetch cache check. Cache age millis: ${n}. Cache max age millis (minimumFetchIntervalMillis setting): ${t}. Is cache hit: ${r}.`),r}fetch(t){return j(this,null,function*(){let[e,n]=yield Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(n&&this.isCachedDataFresh(t.cacheMaxAgeMillis,e))return n;t.eTag=n&&n.eTag;let r=yield this.client.fetch(t),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return r.status===200&&o.push(this.storage.setLastSuccessfulFetchResponse(r)),yield Promise.all(o),r})}};function _P(i=navigator){return i.languages&&i.languages[0]||i.language}var Mf=class{constructor(t,e,n,r,o,s){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=o,this.appId=s}fetch(t){return j(this,null,function*(){let[e,n]=yield Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},l={sdk_version:this.sdkVersion,app_instance_id:e,app_instance_id_token:n,app_id:this.appId,language_code:_P(),custom_signals:t.customSignals},c={method:"POST",headers:s,body:JSON.stringify(l)},h=fetch(o,c),g=new Promise((F,z)=>{t.signal.addEventListener(()=>{let X=new Error("The operation was aborted.");X.name="AbortError",z(X)})}),v;try{yield Promise.race([h,g]),v=yield h}catch(F){let z="fetch-client-network";throw F?.name==="AbortError"&&(z="fetch-timeout"),An.create(z,{originalErrorMessage:F?.message})}let C=v.status,D=v.headers.get("ETag")||void 0,I,M;if(v.status===200){let F;try{F=yield v.json()}catch(z){throw An.create("fetch-client-parse",{originalErrorMessage:z?.message})}I=F.entries,M=F.state}if(M==="INSTANCE_STATE_UNSPECIFIED"?C=500:M==="NO_CHANGE"?C=304:(M==="NO_TEMPLATE"||M==="EMPTY_CONFIG")&&(I={}),C!==304&&C!==200)throw An.create("fetch-status",{httpStatus:C});return{status:C,eTag:D,config:I}})}};function yP(i,t){return new Promise((e,n)=>{let r=Math.max(t-Date.now(),0),o=setTimeout(e,r);i.addEventListener(()=>{clearTimeout(o),n(An.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function bP(i){if(!(i instanceof ii)||!i.customData)return!1;let t=Number(i.customData.httpStatus);return t===429||t===500||t===503||t===504}var kf=class{constructor(t,e){this.client=t,this.storage=e}fetch(t){return j(this,null,function*(){let e=(yield this.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(t,e)})}attemptFetch(r,o){return j(this,arguments,function*(t,{throttleEndTimeMillis:e,backoffCount:n}){yield yP(t.signal,e);try{let s=yield this.client.fetch(t);return yield this.storage.deleteThrottleMetadata(),s}catch(s){if(!bP(s))throw s;let l={throttleEndTimeMillis:Date.now()+Ea(n),backoffCount:n+1};return yield this.storage.setThrottleMetadata(l),this.attemptFetch(t,l)}})}};var vP=60*1e3,wP=720*60*1e3,Of=class{get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}constructor(t,e,n,r,o){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:vP,minimumFetchIntervalMillis:wP},this.defaultConfig={}}};function vu(i,t){let e=i.target.error||void 0;return An.create(t,{originalErrorMessage:e&&e?.message})}var Mr="app_namespace_store",CP="firebase_remote_config",EP=1;function SP(){return new Promise((i,t)=>{try{let e=indexedDB.open(CP,EP);e.onerror=n=>{t(vu(n,"storage-open"))},e.onsuccess=n=>{i(n.target.result)},e.onupgradeneeded=n=>{let r=n.target.result;switch(n.oldVersion){case 0:r.createObjectStore(Mr,{keyPath:"compositeKey"})}}}catch(e){t(An.create("storage-open",{originalErrorMessage:e?.message}))}})}var wu=class{getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(t){return this.set("last_fetch_status",t)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(t){return this.set("last_successful_fetch_timestamp_millis",t)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(t){return this.set("last_successful_fetch_response",t)}getActiveConfig(){return this.get("active_config")}setActiveConfig(t){return this.set("active_config",t)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(t){return this.set("active_config_etag",t)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(t){return this.set("throttle_metadata",t)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}getCustomSignals(){return this.get("custom_signals")}},Pf=class extends wu{constructor(t,e,n,r=SP()){super(),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}setCustomSignals(t){return j(this,null,function*(){let n=(yield this.openDbPromise).transaction([Mr],"readwrite"),r=yield this.getWithTransaction("custom_signals",n),o=sE(t,r||{});return yield this.setWithTransaction("custom_signals",o,n),o})}getWithTransaction(t,e){return j(this,null,function*(){return new Promise((n,r)=>{let o=e.objectStore(Mr),s=this.createCompositeKey(t);try{let l=o.get(s);l.onerror=c=>{r(vu(c,"storage-get"))},l.onsuccess=c=>{let h=c.target.result;n(h?h.value:void 0)}}catch(l){r(An.create("storage-get",{originalErrorMessage:l?.message}))}})})}setWithTransaction(t,e,n){return j(this,null,function*(){return new Promise((r,o)=>{let s=n.objectStore(Mr),l=this.createCompositeKey(t);try{let c=s.put({compositeKey:l,value:e});c.onerror=h=>{o(vu(h,"storage-set"))},c.onsuccess=()=>{r()}}catch(c){o(An.create("storage-set",{originalErrorMessage:c?.message}))}})})}get(t){return j(this,null,function*(){let n=(yield this.openDbPromise).transaction([Mr],"readonly");return this.getWithTransaction(t,n)})}set(t,e){return j(this,null,function*(){let r=(yield this.openDbPromise).transaction([Mr],"readwrite");return this.setWithTransaction(t,e,r)})}delete(t){return j(this,null,function*(){let e=yield this.openDbPromise;return new Promise((n,r)=>{let s=e.transaction([Mr],"readwrite").objectStore(Mr),l=this.createCompositeKey(t);try{let c=s.delete(l);c.onerror=h=>{r(vu(h,"storage-delete"))},c.onsuccess=()=>{n()}}catch(c){r(An.create("storage-delete",{originalErrorMessage:c?.message}))}})})}createCompositeKey(t){return[this.appId,this.appName,this.namespace,t].join()}},Nf=class extends wu{constructor(){super(...arguments),this.storage={}}get(t){return j(this,null,function*(){return Promise.resolve(this.storage[t])})}set(t,e){return j(this,null,function*(){return this.storage[t]=e,Promise.resolve(void 0)})}delete(t){return j(this,null,function*(){return this.storage[t]=void 0,Promise.resolve()})}setCustomSignals(t){return j(this,null,function*(){let e=this.storage.custom_signals||{};return this.storage.custom_signals=sE(t,e),Promise.resolve(this.storage.custom_signals)})}};function sE(i,t){let e=Object.assign(Object.assign({},t),i),n=Object.fromEntries(Object.entries(e).filter(([r,o])=>o!==null).map(([r,o])=>typeof o=="number"?[r,o.toString()]:[r,o]));if(Object.keys(n).length>nE)throw An.create("custom-signal-max-allowed-signals",{maxSignals:nE});return n}var Ff=class{constructor(t){this.storage=t}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}getCustomSignals(){return this.customSignals}loadFromStorage(){return j(this,null,function*(){let t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),r=this.storage.getCustomSignals(),o=yield t;o&&(this.lastFetchStatus=o);let s=yield e;s&&(this.lastSuccessfulFetchTimestampMillis=s);let l=yield n;l&&(this.activeConfig=l);let c=yield r;c&&(this.customSignals=c)})}setLastFetchStatus(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)}setLastSuccessfulFetchTimestampMillis(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)}setActiveConfig(t){return this.activeConfig=t,this.storage.setActiveConfig(t)}setCustomSignals(t){return j(this,null,function*(){this.customSignals=yield this.storage.setCustomSignals(t)})}};function IP(){Yt(new Gt(iE,i,"PUBLIC").setMultipleInstances(!0)),Le(Df,tE),Le(Df,tE,"esm2017");function i(t,{options:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate(),{projectId:o,apiKey:s,appId:l}=n.options;if(!o)throw An.create("registration-project-id");if(!s)throw An.create("registration-api-key");if(!l)throw An.create("registration-app-id");let c=e?.templateId||"firebase",h=ur()?new Pf(l,n.name,c):new Nf,g=new Ff(h),v=new hr(Df);v.logLevel=Ho.ERROR;let C=new Mf(r,Wo,c,o,s,l),D=new kf(C,h),I=new Rf(D,h,g,v),M=new Of(n,I,g,h,v);return oE(M),M}}IP();var Ml=class{constructor(t){return t}},aE="remote-config",Lf=class{constructor(){return Zt(aE)}};var Vf=new W("angularfire2.remote-config-instances");function xP(i,t,e){if(Lo(e))return null;let n=Xt(aE,i,t);return n&&new Ml(n)}function AP(i){return(t,e,n)=>{if(Lo(n))return null;let r=t.runOutsideAngular(()=>i(e));return new Ml(r)}}var TP={provide:Lf,deps:[[new Ye,Vf]]},DP={provide:Ml,useFactory:xP,deps:[[new Ye,Vf],en,mt]};function lE(i,...t){return Le("angularfire",Mt.full,"rc"),ot([DP,TP,{provide:Vf,useFactory:AP(i),multi:!0,deps:[ee,be,mt,Jt,tn,...t]}])}var cE=St(rE,!0);var dE="@firebase/ai",uE="1.4.1";var Us="AI",hE="us-central1";var fq=180*1e3;var Bf=(function(i){return i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i})(Bf||{});var mE={VERTEX_AI:"VERTEX_AI",GOOGLE_AI:"GOOGLE_AI"};var Cu=class{constructor(t){this.backendType=t}},Eu=class extends Cu{constructor(){super(mE.GOOGLE_AI)}},zs=class extends Cu{constructor(t=hE){super(mE.VERTEX_AI),t?this.location=t:this.location=hE}};var jf=class{constructor(t,e,n,r){this.app=t,this.backend=e;let o=r?.getImmediate({optional:!0}),s=n?.getImmediate({optional:!0});this.auth=s||null,this.appCheck=o||null,e instanceof zs?this.location=e.location:this.location=""}_delete(){return Promise.resolve()}};var wo=class i extends ii{constructor(t,e,n){let r=Us,o=`${r}/${t}`,s=`${r}: ${e} (${o})`;super(t,s),this.code=t,this.customErrorData=n,Error.captureStackTrace&&Error.captureStackTrace(this,i),Object.setPrototypeOf(this,i.prototype),this.toString=()=>s}};function RP(i){if(i instanceof Eu)return`${Us}/googleai`;if(i instanceof zs)return`${Us}/vertexai/${i.location}`;throw new wo("error",`Invalid backend: ${JSON.stringify(i.backendType)}`)}function MP(i){let t=i.split("/");if(t[0]!==Us)throw new wo("error",`Invalid instance identifier, unknown prefix '${t[0]}'`);switch(t[1]){case"vertexai":let n=t[2];if(!n)throw new wo("error",`Invalid instance identifier, unknown location '${i}'`);return new zs(n);case"googleai":return new Eu;default:throw new wo("error",`Invalid instance identifier string: '${i}'`)}}var gq=new hr("@firebase/vertexai");var _q=[Bf.RECITATION,Bf.SAFETY];function pE(i=Qt(),t){i=Lt(i);let e=un(i,Us),n=new zs(t?.location),r=RP(n);return e.getImmediate({identifier:r})}function kP(){Yt(new Gt(Us,(i,{instanceIdentifier:t})=>{if(!t)throw new wo("error","AIService instance identifier is undefined.");let e=MP(t),n=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new jf(n,e,r,o)},"PUBLIC").setMultipleInstances(!0)),Le(dE,uE),Le(dE,uE,"esm2017")}kP();var kl=class{constructor(t){return t}},fE="vertexai",Uf=class{constructor(){return Zt(fE)}};var zf=new W("angularfire2.vertexai-instances");function OP(i,t){let e=Xt(fE,i,t);return e&&new kl(e)}function PP(i){return(t,e)=>{let n=t.runOutsideAngular(()=>i(e));return new kl(n)}}var NP={provide:Uf,deps:[[new Ye,zf]]},FP={provide:kl,useFactory:OP,deps:[[new Ye,zf],en]};function gE(i,...t){return Le("angularfire",Mt.full,"vertexai"),ot([FP,NP,{provide:zf,useFactory:PP(i),multi:!0,deps:[ee,be,Jt,tn,[new Ye,_r],...t]}])}var _E=St(pE,!0);var kr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(i){return this.listeners.add(i),this.onSubscribe(),()=>{this.listeners.delete(i),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}};var Or=typeof window>"u"||"Deno"in globalThis;function Tn(){}function vE(i,t){return typeof i=="function"?i(t):i}function wE(i){return typeof i=="number"&&i>=0&&i!==1/0}function CE(i,t){return Math.max(i+(t||0)-Date.now(),0)}function qf(i,t){return typeof i=="function"?i(t):i}function EE(i,t){return typeof i=="function"?i(t):i}function Hf(i,t){let{type:e="all",exact:n,fetchStatus:r,predicate:o,queryKey:s,stale:l}=i;if(s){if(n){if(t.queryHash!==Ol(s,t.options))return!1}else if(!qs(t.queryKey,s))return!1}if(e!=="all"){let c=t.isActive();if(e==="active"&&!c||e==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||r&&r!==t.state.fetchStatus||o&&!o(t))}function Wf(i,t){let{exact:e,status:n,predicate:r,mutationKey:o}=i;if(o){if(!t.options.mutationKey)return!1;if(e){if($s(t.options.mutationKey)!==$s(o))return!1}else if(!qs(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||r&&!r(t))}function Ol(i,t){return(t?.queryKeyHashFn||$s)(i)}function $s(i){return JSON.stringify(i,(t,e)=>$f(e)?Object.keys(e).sort().reduce((n,r)=>(n[r]=e[r],n),{}):e)}function qs(i,t){return i===t?!0:typeof i!=typeof t?!1:i&&t&&typeof i=="object"&&typeof t=="object"?!Object.keys(t).some(e=>!qs(i[e],t[e])):!1}function SE(i,t){if(i===t)return i;let e=yE(i)&&yE(t);if(e||$f(i)&&$f(t)){let n=e?i:Object.keys(i),r=n.length,o=e?t:Object.keys(t),s=o.length,l=e?[]:{},c=0;for(let h=0;h<s;h++){let g=e?h:o[h];(!e&&n.includes(g)||e)&&i[g]===void 0&&t[g]===void 0?(l[g]=void 0,c++):(l[g]=SE(i[g],t[g]),l[g]===i[g]&&i[g]!==void 0&&c++)}return r===s&&c===r?i:l}return t}function yE(i){return Array.isArray(i)&&i.length===Object.keys(i).length}function $f(i){if(!bE(i))return!1;let t=i.constructor;if(t===void 0)return!0;let e=t.prototype;return!(!bE(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(i)!==Object.prototype)}function bE(i){return Object.prototype.toString.call(i)==="[object Object]"}function IE(i){return new Promise(t=>{setTimeout(t,i)})}function xE(i,t,e){return typeof e.structuralSharing=="function"?e.structuralSharing(i,t):e.structuralSharing!==!1?SE(i,t):t}function AE(i,t,e=0){let n=[...i,t];return e&&n.length>e?n.slice(1):n}function TE(i,t,e=0){let n=[t,...i];return e&&n.length>e?n.slice(0,-1):n}var Pl=Symbol();function Su(i,t){return!i.queryFn&&t?.initialPromise?()=>t.initialPromise:!i.queryFn||i.queryFn===Pl?()=>Promise.reject(new Error(`Missing queryFn: '${i.queryHash}'`)):i.queryFn}var LP=class extends kr{#e;#t;#n;constructor(){super(),this.#n=i=>{if(!Or&&window.addEventListener){let t=()=>i();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(i){this.#n=i,this.#t?.(),this.#t=i(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(i){this.#e!==i&&(this.#e=i,this.onFocus())}onFocus(){let i=this.isFocused();this.listeners.forEach(t=>{t(i)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Iu=new LP;var VP=class extends kr{#e=!0;#t;#n;constructor(){super(),this.#n=i=>{if(!Or&&window.addEventListener){let t=()=>i(!0),e=()=>i(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",e,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(i){this.#n=i,this.#t?.(),this.#t=i(this.setOnline.bind(this))}setOnline(i){this.#e!==i&&(this.#e=i,this.listeners.forEach(e=>{e(i)}))}isOnline(){return this.#e}},Co=new VP;function DE(){let i,t,e=new Promise((r,o)=>{i=r,t=o});e.status="pending",e.catch(()=>{});function n(r){Object.assign(e,r),delete e.resolve,delete e.reject}return e.resolve=r=>{n({status:"fulfilled",value:r}),i(r)},e.reject=r=>{n({status:"rejected",reason:r}),t(r)},e}function BP(i){return Math.min(1e3*2**i,3e4)}function Kf(i){return(i??"online")==="online"?Co.isOnline():!0}var RE=class extends Error{constructor(i){super("CancelledError"),this.revert=i?.revert,this.silent=i?.silent}};function xu(i){return i instanceof RE}function Au(i){let t=!1,e=0,n=!1,r,o=DE(),s=M=>{n||(C(new RE(M)),i.abort?.())},l=()=>{t=!0},c=()=>{t=!1},h=()=>Iu.isFocused()&&(i.networkMode==="always"||Co.isOnline())&&i.canRun(),g=()=>Kf(i.networkMode)&&i.canRun(),v=M=>{n||(n=!0,i.onSuccess?.(M),r?.(),o.resolve(M))},C=M=>{n||(n=!0,i.onError?.(M),r?.(),o.reject(M))},D=()=>new Promise(M=>{r=F=>{(n||h())&&M(F)},i.onPause?.()}).then(()=>{r=void 0,n||i.onContinue?.()}),I=()=>{if(n)return;let M,F=e===0?i.initialPromise:void 0;try{M=F??i.fn()}catch(z){M=Promise.reject(z)}Promise.resolve(M).then(v).catch(z=>{if(n)return;let X=i.retry??(Or?0:3),Z=i.retryDelay??BP,Y=typeof Z=="function"?Z(e,z):Z,Ae=X===!0||typeof X=="number"&&e<X||typeof X=="function"&&X(e,z);if(t||!Ae){C(z);return}e++,i.onFail?.(e,z),IE(Y).then(()=>h()?void 0:D()).then(()=>{t?C(z):I()})})};return{promise:o,cancel:s,continue:()=>(r?.(),o),cancelRetry:l,continueRetry:c,canStart:g,start:()=>(g()?I():D().then(I),o)}}function jP(){let i=[],t=0,e=l=>{l()},n=l=>{l()},r=l=>setTimeout(l,0),o=l=>{t?i.push(l):r(()=>{e(l)})},s=()=>{let l=i;i=[],l.length&&r(()=>{n(()=>{l.forEach(c=>{e(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||s()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{e=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{r=l}}}var vt=jP();var Tu=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),wE(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(i){this.gcTime=Math.max(this.gcTime||0,i??(Or?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}};var ME=class extends Tu{#e;#t;#n;#r;#i;#s;#a;constructor(i){super(),this.#a=!1,this.#s=i.defaultOptions,this.setOptions(i.options),this.observers=[],this.#r=i.client,this.#n=this.#r.getQueryCache(),this.queryKey=i.queryKey,this.queryHash=i.queryHash,this.#e=zP(this.options),this.state=i.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(i){this.options=P(P({},this.#s),i),this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(i,t){let e=xE(this.state.data,i,this.options);return this.#o({data:e,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),e}setState(i,t){this.#o({type:"setState",state:i,setStateOptions:t})}cancel(i){let t=this.#i?.promise;return this.#i?.cancel(i),t?t.then(Tn).catch(Tn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(i=>EE(i.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Pl||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(i=>i.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(i=0){return this.state.isInvalidated||this.state.data===void 0||!CE(this.state.dataUpdatedAt,i)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(i){this.observers.includes(i)||(this.observers.push(i),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:i}))}removeObserver(i){this.observers.includes(i)&&(this.observers=this.observers.filter(t=>t!==i),this.observers.length||(this.#i&&(this.#a?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:i}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}fetch(i,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(i&&this.setOptions(i),!this.options.queryFn){let l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}let e=new AbortController,n=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#a=!0,e.signal)})},r=()=>{let l=Su(this.options,t),c={client:this.#r,queryKey:this.queryKey,meta:this.meta};return n(c),this.#a=!1,this.options.persister?this.options.persister(l,c,this):l(c)},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:r};n(o),this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#o({type:"fetch",meta:o.fetchOptions?.meta});let s=l=>{xu(l)&&l.silent||this.#o({type:"error",error:l}),xu(l)||(this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#i=Au({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:e.abort.bind(e),onSuccess:l=>{if(l===void 0){s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){s(c);return}this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:s,onFail:(l,c)=>{this.#o({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#i.start()}#o(i){let t=e=>{switch(i.type){case"failed":return ie(P({},e),{fetchFailureCount:i.failureCount,fetchFailureReason:i.error});case"pause":return ie(P({},e),{fetchStatus:"paused"});case"continue":return ie(P({},e),{fetchStatus:"fetching"});case"fetch":return ie(P(P({},e),UP(e.data,this.options)),{fetchMeta:i.meta??null});case"success":return P(ie(P({},e),{data:i.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:i.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success"}),!i.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":let n=i.error;return xu(n)&&n.revert&&this.#t?ie(P({},this.#t),{fetchStatus:"idle"}):ie(P({},e),{error:n,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"});case"invalidate":return ie(P({},e),{isInvalidated:!0});case"setState":return P(P({},e),i.state)}};this.state=t(this.state),vt.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:i})})}};function UP(i,t){return P({fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Kf(t.networkMode)?"fetching":"paused"},i===void 0&&{error:null,status:"pending"})}function zP(i){let t=typeof i.initialData=="function"?i.initialData():i.initialData,e=t!==void 0,n=e?typeof i.initialDataUpdatedAt=="function"?i.initialDataUpdatedAt():i.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:e?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var kE=class extends kr{constructor(i={}){super(),this.config=i,this.#e=new Map}#e;build(i,t,e){let n=t.queryKey,r=t.queryHash??Ol(n,t),o=this.get(r);return o||(o=new ME({client:i,queryKey:n,queryHash:r,options:i.defaultQueryOptions(t),state:e,defaultOptions:i.getQueryDefaults(n)}),this.add(o)),o}add(i){this.#e.has(i.queryHash)||(this.#e.set(i.queryHash,i),this.notify({type:"added",query:i}))}remove(i){let t=this.#e.get(i.queryHash);t&&(i.destroy(),t===i&&this.#e.delete(i.queryHash),this.notify({type:"removed",query:i}))}clear(){vt.batch(()=>{this.getAll().forEach(i=>{this.remove(i)})})}get(i){return this.#e.get(i)}getAll(){return[...this.#e.values()]}find(i){let t=P({exact:!0},i);return this.getAll().find(e=>Hf(t,e))}findAll(i={}){let t=this.getAll();return Object.keys(i).length>0?t.filter(e=>Hf(i,e)):t}notify(i){vt.batch(()=>{this.listeners.forEach(t=>{t(i)})})}onFocus(){vt.batch(()=>{this.getAll().forEach(i=>{i.onFocus()})})}onOnline(){vt.batch(()=>{this.getAll().forEach(i=>{i.onOnline()})})}};var OE=class extends Tu{#e;#t;#n;constructor(i){super(),this.mutationId=i.mutationId,this.#t=i.mutationCache,this.#e=[],this.state=i.state||$P(),this.setOptions(i.options),this.scheduleGc()}setOptions(i){this.options=i,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(i){this.#e.includes(i)||(this.#e.push(i),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:i}))}removeObserver(i){this.#e=this.#e.filter(t=>t!==i),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:i})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}execute(i){return j(this,null,function*(){this.#n=Au({fn:()=>this.options.mutationFn?this.options.mutationFn(i):Promise.reject(new Error("No mutationFn found")),onFail:(n,r)=>{this.#r({type:"failed",failureCount:n,error:r})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});let t=this.state.status==="pending",e=!this.#n.canStart();try{if(!t){this.#r({type:"pending",variables:i,isPaused:e}),yield this.#t.config.onMutate?.(i,this);let r=yield this.options.onMutate?.(i);r!==this.state.context&&this.#r({type:"pending",context:r,variables:i,isPaused:e})}let n=yield this.#n.start();return yield this.#t.config.onSuccess?.(n,i,this.state.context,this),yield this.options.onSuccess?.(n,i,this.state.context),yield this.#t.config.onSettled?.(n,null,this.state.variables,this.state.context,this),yield this.options.onSettled?.(n,null,i,this.state.context),this.#r({type:"success",data:n}),n}catch(n){try{throw yield this.#t.config.onError?.(n,i,this.state.context,this),yield this.options.onError?.(n,i,this.state.context),yield this.#t.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),yield this.options.onSettled?.(void 0,n,i,this.state.context),n}finally{this.#r({type:"error",error:n})}}finally{this.#t.runNext(this)}})}#r(i){let t=e=>{switch(i.type){case"failed":return ie(P({},e),{failureCount:i.failureCount,failureReason:i.error});case"pause":return ie(P({},e),{isPaused:!0});case"continue":return ie(P({},e),{isPaused:!1});case"pending":return ie(P({},e),{context:i.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:i.isPaused,status:"pending",variables:i.variables,submittedAt:Date.now()});case"success":return ie(P({},e),{data:i.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return ie(P({},e),{data:void 0,error:i.error,failureCount:e.failureCount+1,failureReason:i.error,isPaused:!1,status:"error"})}};this.state=t(this.state),vt.batch(()=>{this.#e.forEach(e=>{e.onMutationUpdate(i)}),this.#t.notify({mutation:this,type:"updated",action:i})})}};function $P(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var PE=class extends kr{constructor(i={}){super(),this.config=i,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(i,t,e){let n=new OE({mutationCache:this,mutationId:++this.#n,options:i.defaultMutationOptions(t),state:e});return this.add(n),n}add(i){this.#e.add(i);let t=Du(i);if(typeof t=="string"){let e=this.#t.get(t);e?e.push(i):this.#t.set(t,[i])}this.notify({type:"added",mutation:i})}remove(i){if(this.#e.delete(i)){let t=Du(i);if(typeof t=="string"){let e=this.#t.get(t);if(e)if(e.length>1){let n=e.indexOf(i);n!==-1&&e.splice(n,1)}else e[0]===i&&this.#t.delete(t)}}this.notify({type:"removed",mutation:i})}canRun(i){let t=Du(i);if(typeof t=="string"){let n=this.#t.get(t)?.find(r=>r.state.status==="pending");return!n||n===i}else return!0}runNext(i){let t=Du(i);return typeof t=="string"?this.#t.get(t)?.find(n=>n!==i&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){vt.batch(()=>{this.#e.forEach(i=>{this.notify({type:"removed",mutation:i})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(i){let t=P({exact:!0},i);return this.getAll().find(e=>Wf(t,e))}findAll(i={}){return this.getAll().filter(t=>Wf(i,t))}notify(i){vt.batch(()=>{this.listeners.forEach(t=>{t(i)})})}resumePausedMutations(){let i=this.getAll().filter(t=>t.state.isPaused);return vt.batch(()=>Promise.all(i.map(t=>t.continue().catch(Tn))))}};function Du(i){return i.options.scope?.id}function Gf(i){return{onFetch:(t,e)=>{let n=t.options,r=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],s=t.state.data?.pageParams||[],l={pages:[],pageParams:[]},c=0,h=()=>j(null,null,function*(){let g=!1,v=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},C=Su(t.options,t.fetchOptions),D=(I,M,F)=>j(null,null,function*(){if(g)return Promise.reject();if(M==null&&I.pages.length)return Promise.resolve(I);let z={client:t.client,queryKey:t.queryKey,pageParam:M,direction:F?"backward":"forward",meta:t.options.meta};v(z);let X=yield C(z),{maxPages:Z}=t.options,Y=F?TE:AE;return{pages:Y(I.pages,X,Z),pageParams:Y(I.pageParams,M,Z)}});if(r&&o.length){let I=r==="backward",M=I?qP:NE,F={pages:o,pageParams:s},z=M(n,F);l=yield D(F,z,I)}else{let I=i??o.length;do{let M=c===0?s[0]??n.initialPageParam:NE(n,l);if(c>0&&M==null)break;l=yield D(l,M),c++}while(c<I)}return l});t.options.persister?t.fetchFn=()=>t.options.persister?.(h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},e):t.fetchFn=h}}}function NE(i,{pages:t,pageParams:e}){let n=t.length-1;return t.length>0?i.getNextPageParam(t[n],t,e[n],e):void 0}function qP(i,{pages:t,pageParams:e}){return t.length>0?i.getPreviousPageParam?.(t[0],t,e[0],e):void 0}var Nl=class{#e;#t;#n;#r;#i;#s;#a;#o;constructor(i={}){this.#e=i.queryCache||new kE,this.#t=i.mutationCache||new PE,this.#n=i.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#a=Iu.subscribe(i=>j(this,null,function*(){i&&(yield this.resumePausedMutations(),this.#e.onFocus())})),this.#o=Co.subscribe(i=>j(this,null,function*(){i&&(yield this.resumePausedMutations(),this.#e.onOnline())})))}unmount(){this.#s--,this.#s===0&&(this.#a?.(),this.#a=void 0,this.#o?.(),this.#o=void 0)}isFetching(i){return this.#e.findAll(ie(P({},i),{fetchStatus:"fetching"})).length}isMutating(i){return this.#t.findAll(ie(P({},i),{status:"pending"})).length}getQueryData(i){let t=this.defaultQueryOptions({queryKey:i});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(i){let t=this.defaultQueryOptions(i),e=this.#e.build(this,t),n=e.state.data;return n===void 0?this.fetchQuery(i):(i.revalidateIfStale&&e.isStaleByTime(qf(t.staleTime,e))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(i){return this.#e.findAll(i).map(({queryKey:t,state:e})=>{let n=e.data;return[t,n]})}setQueryData(i,t,e){let n=this.defaultQueryOptions({queryKey:i}),o=this.#e.get(n.queryHash)?.state.data,s=vE(t,o);if(s!==void 0)return this.#e.build(this,n).setData(s,ie(P({},e),{manual:!0}))}setQueriesData(i,t,e){return vt.batch(()=>this.#e.findAll(i).map(({queryKey:n})=>[n,this.setQueryData(n,t,e)]))}getQueryState(i){let t=this.defaultQueryOptions({queryKey:i});return this.#e.get(t.queryHash)?.state}removeQueries(i){let t=this.#e;vt.batch(()=>{t.findAll(i).forEach(e=>{t.remove(e)})})}resetQueries(i,t){let e=this.#e,n=P({type:"active"},i);return vt.batch(()=>(e.findAll(i).forEach(r=>{r.reset()}),this.refetchQueries(n,t)))}cancelQueries(i,t={}){let e=P({revert:!0},t),n=vt.batch(()=>this.#e.findAll(i).map(r=>r.cancel(e)));return Promise.all(n).then(Tn).catch(Tn)}invalidateQueries(i,t={}){return vt.batch(()=>{if(this.#e.findAll(i).forEach(n=>{n.invalidate()}),i?.refetchType==="none")return Promise.resolve();let e=ie(P({},i),{type:i?.refetchType??i?.type??"active"});return this.refetchQueries(e,t)})}refetchQueries(i,t={}){let e=ie(P({},t),{cancelRefetch:t.cancelRefetch??!0}),n=vt.batch(()=>this.#e.findAll(i).filter(r=>!r.isDisabled()).map(r=>{let o=r.fetch(void 0,e);return e.throwOnError||(o=o.catch(Tn)),r.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Tn)}fetchQuery(i){let t=this.defaultQueryOptions(i);t.retry===void 0&&(t.retry=!1);let e=this.#e.build(this,t);return e.isStaleByTime(qf(t.staleTime,e))?e.fetch(t):Promise.resolve(e.state.data)}prefetchQuery(i){return this.fetchQuery(i).then(Tn).catch(Tn)}fetchInfiniteQuery(i){return i.behavior=Gf(i.pages),this.fetchQuery(i)}prefetchInfiniteQuery(i){return this.fetchInfiniteQuery(i).then(Tn).catch(Tn)}ensureInfiniteQueryData(i){return i.behavior=Gf(i.pages),this.ensureQueryData(i)}resumePausedMutations(){return Co.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(i){this.#n=i}setQueryDefaults(i,t){this.#r.set($s(i),{queryKey:i,defaultOptions:t})}getQueryDefaults(i){let t=[...this.#r.values()],e={};return t.forEach(n=>{qs(i,n.queryKey)&&Object.assign(e,n.defaultOptions)}),e}setMutationDefaults(i,t){this.#i.set($s(i),{mutationKey:i,defaultOptions:t})}getMutationDefaults(i){let t=[...this.#i.values()],e={};return t.forEach(n=>{qs(i,n.mutationKey)&&(e=P(P({},e),n.defaultOptions))}),e}defaultQueryOptions(i){if(i._defaulted)return i;let t=ie(P(P(P({},this.#n.queries),this.getQueryDefaults(i.queryKey)),i),{_defaulted:!0});return t.queryHash||(t.queryHash=Ol(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Pl&&(t.enabled=!1),t}defaultMutationOptions(i){return i?._defaulted?i:ie(P(P(P({},this.#n.mutations),i?.mutationKey&&this.getMutationDefaults(i.mutationKey)),i),{_defaulted:!0})}clear(){this.#e.clear(),this.#t.clear()}};function HP(i){return{provide:Nl,useValue:i}}function FE(i,...t){return ot([HP(i),{provide:Ih,multi:!0,useValue:()=>{i.mount(),y(ko).onDestroy(()=>i.unmount())}},t.map(e=>e.\u0275providers)])}function LE(i){return new oe(3e3,!1)}function WP(){return new oe(3100,!1)}function KP(){return new oe(3101,!1)}function GP(i){return new oe(3001,!1)}function YP(i){return new oe(3003,!1)}function QP(i){return new oe(3004,!1)}function BE(i,t){return new oe(3005,!1)}function jE(){return new oe(3006,!1)}function UE(){return new oe(3007,!1)}function zE(i,t){return new oe(3008,!1)}function $E(i){return new oe(3002,!1)}function qE(i,t,e,n,r){return new oe(3010,!1)}function HE(){return new oe(3011,!1)}function WE(){return new oe(3012,!1)}function KE(){return new oe(3200,!1)}function GE(){return new oe(3202,!1)}function YE(){return new oe(3013,!1)}function QE(i){return new oe(3014,!1)}function XE(i){return new oe(3015,!1)}function ZE(i){return new oe(3016,!1)}function JE(i,t){return new oe(3404,!1)}function XP(i){return new oe(3502,!1)}function eS(i){return new oe(3503,!1)}function tS(){return new oe(3300,!1)}function nS(i){return new oe(3504,!1)}function iS(i){return new oe(3301,!1)}function rS(i,t){return new oe(3302,!1)}function oS(i){return new oe(3303,!1)}function sS(i,t){return new oe(3400,!1)}function aS(i){return new oe(3401,!1)}function lS(i){return new oe(3402,!1)}function cS(i,t){return new oe(3505,!1)}function Xi(i){switch(i.length){case 0:return new Ei;case 1:return i[0];default:return new io(i)}}function Zf(i,t,e=new Map,n=new Map){let r=[],o=[],s=-1,l=null;if(t.forEach(c=>{let h=c.get("offset"),g=h==s,v=g&&l||new Map;c.forEach((C,D)=>{let I=D,M=C;if(D!=="offset")switch(I=i.normalizePropertyName(I,r),M){case ms:M=e.get(D);break;case Gn:M=n.get(D);break;default:M=i.normalizeStyleValue(D,I,M,r);break}v.set(I,M)}),g||o.push(v),l=v,s=h}),r.length)throw XP(r);return o}function Ru(i,t,e,n){switch(t){case"start":i.onStart(()=>n(e&&Yf(e,"start",i)));break;case"done":i.onDone(()=>n(e&&Yf(e,"done",i)));break;case"destroy":i.onDestroy(()=>n(e&&Yf(e,"destroy",i)));break}}function Yf(i,t,e){let n=e.totalTime,r=!!e.disabled,o=Mu(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,n??i.totalTime,r),s=i._data;return s!=null&&(o._data=s),o}function Mu(i,t,e,n,r="",o=0,s){return{element:i,triggerName:t,fromState:e,toState:n,phaseName:r,totalTime:o,disabled:!!s}}function Dn(i,t,e){let n=i.get(t);return n||i.set(t,n=e),n}function Jf(i){let t=i.indexOf(":"),e=i.substring(1,t),n=i.slice(t+1);return[e,n]}var ZP=typeof document>"u"?null:document.documentElement;function ku(i){let t=i.parentNode||i.host||null;return t===ZP?null:t}function JP(i){return i.substring(1,6)=="ebkit"}var Eo=null,VE=!1;function dS(i){Eo||(Eo=e2()||{},VE=Eo.style?"WebkitAppearance"in Eo.style:!1);let t=!0;return Eo.style&&!JP(i)&&(t=i in Eo.style,!t&&VE&&(t="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in Eo.style)),t}function e2(){return typeof document<"u"?document.body:null}function eg(i,t){for(;t;){if(t===i)return!0;t=ku(t)}return!1}function tg(i,t,e){if(e)return Array.from(i.querySelectorAll(t));let n=i.querySelector(t);return n?[n]:[]}var t2=1e3,ng="{{",n2="}}",ig="ng-enter",Ou="ng-leave",Fl="ng-trigger",Ll=".ng-trigger",rg="ng-animating",Pu=".ng-animating";function Ai(i){if(typeof i=="number")return i;let t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Qf(parseFloat(t[1]),t[2])}function Qf(i,t){switch(t){case"s":return i*t2;default:return i}}function Vl(i,t,e){return i.hasOwnProperty("duration")?i:r2(i,t,e)}var i2=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function r2(i,t,e){let n,r=0,o="";if(typeof i=="string"){let s=i.match(i2);if(s===null)return t.push(LE(i)),{duration:0,delay:0,easing:""};n=Qf(parseFloat(s[1]),s[2]);let l=s[3];l!=null&&(r=Qf(parseFloat(l),s[4]));let c=s[5];c&&(o=c)}else n=i;if(!e){let s=!1,l=t.length;n<0&&(t.push(WP()),s=!0),r<0&&(t.push(KP()),s=!0),s&&t.splice(l,0,LE(i))}return{duration:n,delay:r,easing:o}}function uS(i){return i.length?i[0]instanceof Map?i:i.map(t=>new Map(Object.entries(t))):[]}function ui(i,t,e){t.forEach((n,r)=>{let o=Nu(r);e&&!e.has(r)&&e.set(r,i.style[o]),i.style[o]=n})}function Pr(i,t){t.forEach((e,n)=>{let r=Nu(n);i.style[r]=""})}function Hs(i){return Array.isArray(i)?i.length==1?i[0]:sb(i):i}function hS(i,t,e){let n=t.params||{},r=og(i);r.length&&r.forEach(o=>{n.hasOwnProperty(o)||e.push(GP(o))})}var Xf=new RegExp(`${ng}\\s*(.+?)\\s*${n2}`,"g");function og(i){let t=[];if(typeof i=="string"){let e;for(;e=Xf.exec(i);)t.push(e[1]);Xf.lastIndex=0}return t}function Ws(i,t,e){let n=`${i}`,r=n.replace(Xf,(o,s)=>{let l=t[s];return l==null&&(e.push(YP(s)),l=""),l.toString()});return r==n?i:r}var o2=/-+([a-z0-9])/g;function Nu(i){return i.replace(o2,(...t)=>t[1].toUpperCase())}function mS(i,t){return i===0||t===0}function pS(i,t,e){if(e.size&&t.length){let n=t[0],r=[];if(e.forEach((o,s)=>{n.has(s)||r.push(s),n.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(l=>s.set(l,Fu(i,l)))}}return t}function Rn(i,t,e){switch(t.type){case ke.Trigger:return i.visitTrigger(t,e);case ke.State:return i.visitState(t,e);case ke.Transition:return i.visitTransition(t,e);case ke.Sequence:return i.visitSequence(t,e);case ke.Group:return i.visitGroup(t,e);case ke.Animate:return i.visitAnimate(t,e);case ke.Keyframes:return i.visitKeyframes(t,e);case ke.Style:return i.visitStyle(t,e);case ke.Reference:return i.visitReference(t,e);case ke.AnimateChild:return i.visitAnimateChild(t,e);case ke.AnimateRef:return i.visitAnimateRef(t,e);case ke.Query:return i.visitQuery(t,e);case ke.Stagger:return i.visitStagger(t,e);default:throw QP(t.type)}}function Fu(i,t){return window.getComputedStyle(i)[t]}var Cg=(()=>{class i{validateStyleProperty(e){return dS(e)}containsElement(e,n){return eg(e,n)}getParentElement(e){return ku(e)}query(e,n,r){return tg(e,n,r)}computeStyle(e,n,r){return r||""}animate(e,n,r,o,s,l=[],c){return new Ei(r,o)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=Q({token:i,factory:i.\u0275fac})}return i})(),Io=class{static NOOP=new Cg},xo=class{};var s2=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Uu=class extends xo{normalizePropertyName(t,e){return Nu(t)}normalizeStyleValue(t,e,n,r){let o="",s=n.toString().trim();if(s2.has(e)&&n!==0&&n!=="0")if(typeof n=="number")o="px";else{let l=n.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&l[1].length==0&&r.push(BE(t,n))}return s+o}};var zu="*";function a2(i,t){let e=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(n=>l2(n,e,t)):e.push(i),e}function l2(i,t,e){if(i[0]==":"){let c=c2(i,e);if(typeof c=="function"){t.push(c);return}i=c}let n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return e.push(XE(i)),t;let r=n[1],o=n[2],s=n[3];t.push(fS(r,s));let l=r==zu&&s==zu;o[0]=="<"&&!l&&t.push(fS(s,r))}function c2(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(ZE(i)),"* => *"}}var Lu=new Set(["true","1"]),Vu=new Set(["false","0"]);function fS(i,t){let e=Lu.has(i)||Vu.has(i),n=Lu.has(t)||Vu.has(t);return(r,o)=>{let s=i==zu||i==r,l=t==zu||t==o;return!s&&e&&typeof r=="boolean"&&(s=r?Lu.has(i):Vu.has(i)),!l&&n&&typeof o=="boolean"&&(l=o?Lu.has(t):Vu.has(t)),s&&l}}var IS=":self",d2=new RegExp(`s*${IS}s*,?`,"g");function xS(i,t,e,n){return new ug(i).build(t,e,n)}var gS="",ug=class{_driver;constructor(t){this._driver=t}build(t,e,n){let r=new hg(e);return this._resetContextStyleTimingState(r),Rn(this,Hs(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=gS,t.collectedStyles=new Map,t.collectedStyles.set(gS,new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0,o=[],s=[];return t.name.charAt(0)=="@"&&e.errors.push(jE()),t.definitions.forEach(l=>{if(this._resetContextStyleTimingState(e),l.type==ke.State){let c=l,h=c.name;h.toString().split(/\s*,\s*/).forEach(g=>{c.name=g,o.push(this.visitState(c,e))}),c.name=h}else if(l.type==ke.Transition){let c=this.visitTransition(l,e);n+=c.queryCount,r+=c.depCount,s.push(c)}else e.errors.push(UE())}),{type:ke.Trigger,name:t.name,states:o,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){let n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){let o=new Set,s=r||{};n.styles.forEach(l=>{l instanceof Map&&l.forEach(c=>{og(c).forEach(h=>{s.hasOwnProperty(h)||o.add(h)})})}),o.size&&e.errors.push(zE(t.name,[...o.values()]))}return{type:ke.State,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let n=Rn(this,Hs(t.animation),e),r=a2(t.expr,e.errors);return{type:ke.Transition,matchers:r,animation:n,queryCount:e.queryCount,depCount:e.depCount,options:So(t.options)}}visitSequence(t,e){return{type:ke.Sequence,steps:t.steps.map(n=>Rn(this,n,e)),options:So(t.options)}}visitGroup(t,e){let n=e.currentTime,r=0,o=t.steps.map(s=>{e.currentTime=n;let l=Rn(this,s,e);return r=Math.max(r,e.currentTime),l});return e.currentTime=r,{type:ke.Group,steps:o,options:So(t.options)}}visitAnimate(t,e){let n=p2(t.timings,e.errors);e.currentAnimateTimings=n;let r,o=t.styles?t.styles:ji({});if(o.type==ke.Keyframes)r=this.visitKeyframes(o,e);else{let s=t.styles,l=!1;if(!s){l=!0;let h={};n.easing&&(h.easing=n.easing),s=ji(h)}e.currentTime+=n.duration+n.delay;let c=this.visitStyle(s,e);c.isEmptyStep=l,r=c}return e.currentAnimateTimings=null,{type:ke.Animate,timings:n,style:r,options:null}}visitStyle(t,e){let n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){let n=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let l of r)typeof l=="string"?l===Gn?n.push(l):e.errors.push($E(l)):n.push(new Map(Object.entries(l)));let o=!1,s=null;return n.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(s=l.get("easing"),l.delete("easing")),!o)){for(let c of l.values())if(c.toString().indexOf(ng)>=0){o=!0;break}}}),{type:ke.Style,styles:n,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){let n=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;n&&o>0&&(o-=n.duration+n.delay),t.styles.forEach(s=>{typeof s!="string"&&s.forEach((l,c)=>{let h=e.collectedStyles.get(e.currentQuerySelector),g=h.get(c),v=!0;g&&(o!=r&&o>=g.startTime&&r<=g.endTime&&(e.errors.push(qE(c,g.startTime,g.endTime,o,r)),v=!1),o=g.startTime),v&&h.set(c,{startTime:o,endTime:r}),e.options&&hS(l,e.options,e.errors)})})}visitKeyframes(t,e){let n={type:ke.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(HE()),n;let r=1,o=0,s=[],l=!1,c=!1,h=0,g=t.steps.map(z=>{let X=this._makeStyleAst(z,e),Z=X.offset!=null?X.offset:m2(X.styles),Y=0;return Z!=null&&(o++,Y=X.offset=Z),c=c||Y<0||Y>1,l=l||Y<h,h=Y,s.push(Y),X});c&&e.errors.push(WE()),l&&e.errors.push(KE());let v=t.steps.length,C=0;o>0&&o<v?e.errors.push(GE()):o==0&&(C=r/(v-1));let D=v-1,I=e.currentTime,M=e.currentAnimateTimings,F=M.duration;return g.forEach((z,X)=>{let Z=C>0?X==D?1:C*X:s[X],Y=Z*F;e.currentTime=I+M.delay+Y,M.duration=Y,this._validateStyleAst(z,e),z.offset=Z,n.styles.push(z)}),n}visitReference(t,e){return{type:ke.Reference,animation:Rn(this,Hs(t.animation),e),options:So(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:ke.AnimateChild,options:So(t.options)}}visitAnimateRef(t,e){return{type:ke.AnimateRef,animation:this.visitReference(t.animation,e),options:So(t.options)}}visitQuery(t,e){let n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;let[o,s]=u2(t.selector);e.currentQuerySelector=n.length?n+" "+o:o,Dn(e.collectedStyles,e.currentQuerySelector,new Map);let l=Rn(this,Hs(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:ke.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:l,originalSelector:t.selector,options:So(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(YE());let n=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Vl(t.timings,e.errors,!0);return{type:ke.Stagger,animation:Rn(this,Hs(t.animation),e),timings:n,options:null}}};function u2(i){let t=!!i.split(/\s*,\s*/).find(e=>e==IS);return t&&(i=i.replace(d2,"")),i=i.replace(/@\*/g,Ll).replace(/@\w+/g,e=>Ll+"-"+e.slice(1)).replace(/:animating/g,Pu),[i,t]}function h2(i){return i?P({},i):null}var hg=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function m2(i){if(typeof i=="string")return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){let n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let e=i;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function p2(i,t){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let o=Vl(i,t).duration;return sg(o,0,"")}let e=i;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=sg(0,0,"");return o.dynamic=!0,o.strValue=e,o}let r=Vl(e,t);return sg(r.duration,r.delay,r.easing)}function So(i){return i?(i=P({},i),i.params&&(i.params=h2(i.params))):i={},i}function sg(i,t,e){return{duration:i,delay:t,easing:e}}function Eg(i,t,e,n,r,o,s=null,l=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:n,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:l}}var jl=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},f2=1,g2=":enter",_2=new RegExp(g2,"g"),y2=":leave",b2=new RegExp(y2,"g");function AS(i,t,e,n,r,o=new Map,s=new Map,l,c,h=[]){return new mg().buildKeyframes(i,t,e,n,r,o,s,l,c,h)}var mg=class{buildKeyframes(t,e,n,r,o,s,l,c,h,g=[]){h=h||new jl;let v=new pg(t,e,h,r,o,g,[]);v.options=c;let C=c.delay?Ai(c.delay):0;v.currentTimeline.delayNextStep(C),v.currentTimeline.setStyles([s],null,v.errors,c),Rn(this,n,v);let D=v.timelines.filter(I=>I.containsAnimation());if(D.length&&l.size){let I;for(let M=D.length-1;M>=0;M--){let F=D[M];if(F.element===e){I=F;break}}I&&!I.allowOnlyTimelineStyles()&&I.setStyles([l],null,v.errors,c)}return D.length?D.map(I=>I.buildKeyframes()):[Eg(e,[],[],[],0,C,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let n=e.subInstructions.get(e.element);if(n){let r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){let n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(let r of t){let o=r?.delay;if(o){let s=typeof o=="number"?o:Ai(Ws(o,r?.params??{},e.errors));n.delayNextStep(s)}}}_visitSubInstructions(t,e,n){let o=e.currentTimeline.currentTime,s=n.duration!=null?Ai(n.duration):null,l=n.delay!=null?Ai(n.delay):null;return s!==0&&t.forEach(c=>{let h=e.appendInstructionToTimeline(c,s,l);o=Math.max(o,h.duration+h.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Rn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let n=e.subContextCount,r=e,o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==ke.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=$u);let s=Ai(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Rn(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let n=[],r=e.currentTimeline.currentTime,o=t.options&&t.options.delay?Ai(t.options.delay):0;t.steps.forEach(s=>{let l=e.createSubContext(t.options);o&&l.delayNextStep(o),Rn(this,s,l),r=Math.max(r,l.currentTimeline.currentTime),n.push(l.currentTimeline)}),n.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let n=t.strValue,r=e.params?Ws(n,e.params,e.errors):n;return Vl(r,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());let o=t.style;o.type==ke.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(n.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();let o=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(o):n.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let n=e.currentAnimateTimings,r=e.currentTimeline.duration,o=n.duration,l=e.createSubContext().currentTimeline;l.easing=n.easing,t.styles.forEach(c=>{let h=c.offset||0;l.forwardTime(h*o),l.setStyles(c.styles,c.easing,e.errors,e.options),l.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(l),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){let n=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Ai(r.delay):0;o&&(e.previousNode.type===ke.Style||n==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=$u);let s=n,l=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=l.length;let c=null;l.forEach((h,g)=>{e.currentQueryIndex=g;let v=e.createSubContext(t.options,h);o&&v.delayNextStep(o),h===e.element&&(c=v.currentTimeline),Rn(this,t.animation,v),v.currentTimeline.applyStylesToKeyframe();let C=v.currentTimeline.currentTime;s=Math.max(s,C)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let n=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),l=s*(e.currentQueryTotal-1),c=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=l-c;break;case"full":c=n.currentStaggerTime;break}let g=e.currentTimeline;c&&g.delayNextStep(c);let v=g.currentTime;Rn(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-v+(r.startTime-n.currentTimeline.startTime)}},$u={},pg=class i{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=$u;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,n,r,o,s,l,c){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=l,this.currentTimeline=c||new qu(this._driver,e,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let n=t,r=this.options;n.duration!=null&&(r.duration=Ai(n.duration)),n.delay!=null&&(r.delay=Ai(n.delay));let o=n.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(l=>{(!e||!s.hasOwnProperty(l))&&(s[l]=Ws(o[l],s,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let n=t.params={};Object.keys(e).forEach(r=>{n[r]=e[r]})}}return t}createSubContext(t=null,e,n){let r=e||this.element,o=new i(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=$u,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){let r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},o=new fg(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,o,s){let l=[];if(r&&l.push(this.element),t.length>0){t=t.replace(_2,"."+this._enterClassName),t=t.replace(b2,"."+this._leaveClassName);let c=n!=1,h=this._driver.query(this.element,t,c);n!==0&&(h=n<0?h.slice(h.length+n,h.length):h.slice(0,n)),l.push(...h)}return!o&&l.length==0&&s.push(QE(e)),l}},qu=class i{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new i(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=f2,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||Gn),this._currentKeyframe.set(e,Gn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&this._previousKeyframe.set("easing",e);let o=r&&r.params||{},s=v2(t,this._globalTimelineStyles);for(let[l,c]of s){let h=Ws(c,o,n);this._pendingStyles.set(l,h),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??Gn),this._updateStyle(l,h)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{let r=this._styleSummary.get(n);(!r||e.time>r.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,n=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((l,c)=>{let h=new Map([...this._backFill,...l]);h.forEach((g,v)=>{g===ms?t.add(v):g===Gn&&e.add(v)}),n||h.set("offset",c/this.duration),r.push(h)});let o=[...t.values()],s=[...e.values()];if(n){let l=r[0],c=new Map(l);l.set("offset",0),c.set("offset",1),r=[l,c]}return Eg(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},fg=class extends qu{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,n,r,o,s,l=!1){super(t,e,s.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=l,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],s=n+e,l=e/s,c=new Map(t[0]);c.set("offset",0),o.push(c);let h=new Map(t[0]);h.set("offset",_S(l)),o.push(h);let g=t.length-1;for(let v=1;v<=g;v++){let C=new Map(t[v]),D=C.get("offset"),I=e+D*n;C.set("offset",_S(I/s)),o.push(C)}n=s,e=0,r="",t=o}return Eg(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}};function _S(i,t=3){let e=Math.pow(10,t-1);return Math.round(i*e)/e}function v2(i,t){let e=new Map,n;return i.forEach(r=>{if(r==="*"){n??=t.keys();for(let o of n)e.set(o,Gn)}else for(let[o,s]of r)e.set(o,s)}),e}function yS(i,t,e,n,r,o,s,l,c,h,g,v,C){return{type:0,element:i,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:n,toStyles:s,timelines:l,queriedElements:c,preStyleProps:h,postStyleProps:g,totalTime:v,errors:C}}var ag={},Hu=class{_triggerName;ast;_stateStyles;constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return w2(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,n):new Map}build(t,e,n,r,o,s,l,c,h,g){let v=[],C=this.ast.options&&this.ast.options.params||ag,D=l&&l.params||ag,I=this.buildStyles(n,D,v),M=c&&c.params||ag,F=this.buildStyles(r,M,v),z=new Set,X=new Map,Z=new Map,Y=r==="void",Ae={params:TS(M,C),delay:this.ast.options?.delay},ye=g?[]:AS(t,e,this.ast.animation,o,s,I,F,Ae,h,v),x=0;return ye.forEach(w=>{x=Math.max(w.duration+w.delay,x)}),v.length?yS(e,this._triggerName,n,r,Y,I,F,[],[],X,Z,x,v):(ye.forEach(w=>{let E=w.element,R=Dn(X,E,new Set);w.preStyleProps.forEach(N=>R.add(N));let k=Dn(Z,E,new Set);w.postStyleProps.forEach(N=>k.add(N)),E!==e&&z.add(E)}),yS(e,this._triggerName,n,r,Y,I,F,ye,[...z.values()],X,Z,x))}};function w2(i,t,e,n,r){return i.some(o=>o(t,e,n,r))}function TS(i,t){let e=P({},t);return Object.entries(i).forEach(([n,r])=>{r!=null&&(e[n]=r)}),e}var gg=class{styles;defaultParams;normalizer;constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){let n=new Map,r=TS(t,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,l)=>{s&&(s=Ws(s,r,e));let c=this.normalizer.normalizePropertyName(l,e);s=this.normalizer.normalizeStyleValue(l,c,s,e),n.set(l,s)})}),n}};function C2(i,t,e){return new _g(i,t,e)}var _g=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,e.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new gg(r.style,o,n))}),bS(this.states,"true","1"),bS(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Hu(t,r,this.states))}),this.fallbackTransition=E2(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(s=>s.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}};function E2(i,t,e){let n=[(s,l)=>!0],r={type:ke.Sequence,steps:[],options:null},o={type:ke.Transition,animation:r,matchers:n,options:null,queryCount:0,depCount:0};return new Hu(i,o,t)}function bS(i,t,e){i.has(t)?i.has(e)||i.set(e,i.get(t)):i.has(e)&&i.set(t,i.get(e))}var S2=new jl,yg=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n}register(t,e){let n=[],r=[],o=xS(this._driver,e,n,r);if(n.length)throw eS(n);this._animations.set(t,o)}_buildPlayer(t,e,n){let r=t.element,o=Zf(this._normalizer,t.keyframes,e,n);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){let r=[],o=this._animations.get(t),s,l=new Map;if(o?(s=AS(this._driver,e,o,ig,Ou,new Map,new Map,n,S2,r),s.forEach(g=>{let v=Dn(l,g.element,new Map);g.postStyleProps.forEach(C=>v.set(C,null))})):(r.push(tS()),s=[]),r.length)throw nS(r);l.forEach((g,v)=>{g.forEach((C,D)=>{g.set(D,this._driver.computeStyle(v,D,Gn))})});let c=s.map(g=>{let v=l.get(g.element);return this._buildPlayer(g,new Map,v)}),h=Xi(c);return this._playersById.set(t,h),h.onDestroy(()=>this.destroy(t)),this.players.push(h),h}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw iS(t);return e}listen(t,e,n,r){let o=Mu(e,"","","");return Ru(this._getPlayer(t),n,o,r),()=>{}}command(t,e,n,r){if(n=="register"){this.register(t,r[0]);return}if(n=="create"){let s=r[0]||{};this.create(t,e,s);return}let o=this._getPlayer(t);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},vS="ng-animate-queued",I2=".ng-animate-queued",lg="ng-animate-disabled",x2=".ng-animate-disabled",A2="ng-star-inserted",T2=".ng-star-inserted",D2=[],DS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},R2={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hi="__ng_removed",Ul=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let n=t&&t.hasOwnProperty("value"),r=n?t.value:t;if(this.value=k2(r),n){let o=t,{value:s}=o,l=rc(o,["value"]);this.options=l}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let n=this.options.params;Object.keys(e).forEach(r=>{n[r]==null&&(n[r]=e[r])})}}},Bl="void",cg=new Ul(Bl),bg=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this._hostClassName="ng-tns-"+t,Zn(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.has(e))throw rS(n,e);if(n==null||n.length==0)throw oS(e);if(!O2(n))throw sS(n,e);let o=Dn(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);let l=Dn(this._engine.statesByElement,t,new Map);return l.has(e)||(Zn(t,Fl),Zn(t,Fl+"-"+e),l.set(e,cg)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(e)||l.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw aS(t);return e}trigger(t,e,n,r=!0){let o=this._getTrigger(e),s=new zl(this.id,e,t),l=this._engine.statesByElement.get(t);l||(Zn(t,Fl),Zn(t,Fl+"-"+e),this._engine.statesByElement.set(t,l=new Map));let c=l.get(e),h=new Ul(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&c&&h.absorbOptions(c.options),l.set(e,h),c||(c=cg),!(h.value===Bl)&&c.value===h.value){if(!F2(c.params,h.params)){let M=[],F=o.matchStyles(c.value,c.params,M),z=o.matchStyles(h.value,h.params,M);M.length?this._engine.reportError(M):this._engine.afterFlush(()=>{Pr(t,F),ui(t,z)})}return}let C=Dn(this._engine.playersByElement,t,[]);C.forEach(M=>{M.namespaceId==this.id&&M.triggerName==e&&M.queued&&M.destroy()});let D=o.matchTransition(c.value,h.value,t,h.params),I=!1;if(!D){if(!r)return;D=o.fallbackTransition,I=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:D,fromState:c,toState:h,player:s,isFallbackTransition:I}),I||(Zn(t,vS),s.onStart(()=>{Ks(t,vS)})),s.onDone(()=>{let M=this.players.indexOf(s);M>=0&&this.players.splice(M,1);let F=this._engine.playersByElement.get(t);if(F){let z=F.indexOf(s);z>=0&&F.splice(z,1)}}),this.players.push(s),C.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let n=this._engine.driver.query(t,Ll,!0);n.forEach(r=>{if(r[hi])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,n,r){let o=this._engine.statesByElement.get(t),s=new Map;if(o){let l=[];if(o.forEach((c,h)=>{if(s.set(h,c.value),this._triggers.has(h)){let g=this.trigger(t,h,Bl,r);g&&l.push(g)}}),l.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),n&&Xi(l).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){let r=new Set;e.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let c=this._triggers.get(s).fallbackTransition,h=n.get(s)||cg,g=new Ul(Bl),v=new zl(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:c,fromState:h,toState:g,player:v,isFallbackTransition:!0})})}}removeNode(t,e){let n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){let o=n.players.length?n.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(n.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{let o=t[hi];(!o||o===DS)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Zn(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(n=>{let r=n.player;if(r.destroyed)return;let o=n.element,s=this._elementListeners.get(o);s&&s.forEach(l=>{if(l.name==n.triggerName){let c=Mu(o,n.triggerName,n.fromState.value,n.toState.value);c._data=t,Ru(n.player,l.phase,c,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((n,r)=>{let o=n.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},vg=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){let n=new bg(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){let n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,l=this.driver.getParentElement(e);for(;l;){let c=r.get(l);if(c){let h=n.indexOf(c);n.splice(h+1,0,t),s=!0;break}l=this.driver.getParentElement(l)}s||n.unshift(t)}else n.push(t);return r.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);let r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,n=this.statesByElement.get(t);if(n){for(let r of n.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}}return e}trigger(t,e,n,r){if(Bu(e)){let o=this._fetchNamespace(t);if(o)return o.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Bu(e))return;let o=e[hi];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){let s=this._fetchNamespace(t);s&&s.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Zn(t,lg)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ks(t,lg))}removeNode(t,e,n){if(Bu(e)){let r=t?this._fetchNamespace(t):null;r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n);let o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,n,r,o){this.collectedLeaveElements.push(e),e[hi]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,n,r,o){return Bu(e)?this._fetchNamespace(t).listen(e,n,r,o):()=>{}}_buildInstruction(t,e,n,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Ll,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,Pu,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Xi(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[hi];if(e&&e.setForRemoval){if(t[hi]=DS,e.namespaceId){this.destroyInnerAnimations(t);let n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(lg)&&this.markElementAsDisabled(t,!1),this.driver.query(t,x2,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let r=this.collectedEnterElements[n];Zn(r,A2)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{e=this._flushAnimations(n,t)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let r=this.collectedLeaveElements[n];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],e.length?Xi(e).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(t){throw lS(t)}_flushAnimations(t,e){let n=new jl,r=[],o=new Map,s=[],l=new Map,c=new Map,h=new Map,g=new Set;this.disabledNodes.forEach(re=>{g.add(re);let ce=this.driver.query(re,I2,!0);for(let ge=0;ge<ce.length;ge++)g.add(ce[ge])});let v=this.bodyNode,C=Array.from(this.statesByElement.keys()),D=ES(C,this.collectedEnterElements),I=new Map,M=0;D.forEach((re,ce)=>{let ge=ig+M++;I.set(ce,ge),re.forEach(je=>Zn(je,ge))});let F=[],z=new Set,X=new Set;for(let re=0;re<this.collectedLeaveElements.length;re++){let ce=this.collectedLeaveElements[re],ge=ce[hi];ge&&ge.setForRemoval&&(F.push(ce),z.add(ce),ge.hasAnimation?this.driver.query(ce,T2,!0).forEach(je=>z.add(je)):X.add(ce))}let Z=new Map,Y=ES(C,Array.from(z));Y.forEach((re,ce)=>{let ge=Ou+M++;Z.set(ce,ge),re.forEach(je=>Zn(je,ge))}),t.push(()=>{D.forEach((re,ce)=>{let ge=I.get(ce);re.forEach(je=>Ks(je,ge))}),Y.forEach((re,ce)=>{let ge=Z.get(ce);re.forEach(je=>Ks(je,ge))}),F.forEach(re=>{this.processLeaveNode(re)})});let Ae=[],ye=[];for(let re=this._namespaceList.length-1;re>=0;re--)this._namespaceList[re].drainQueuedTransitions(e).forEach(ge=>{let je=ge.player,ut=ge.element;if(Ae.push(je),this.collectedEnterElements.length){let lt=ut[hi];if(lt&&lt.setForMove){if(lt.previousTriggersValues&&lt.previousTriggersValues.has(ge.triggerName)){let Ti=lt.previousTriggersValues.get(ge.triggerName),yn=this.statesByElement.get(ge.element);if(yn&&yn.has(ge.triggerName)){let Di=yn.get(ge.triggerName);Di.value=Ti,yn.set(ge.triggerName,Di)}}je.destroy();return}}let Un=!v||!this.driver.containsElement(v,ut),at=Z.get(ut),tt=I.get(ut),nt=this._buildInstruction(ge,n,tt,at,Un);if(nt.errors&&nt.errors.length){ye.push(nt);return}if(Un){je.onStart(()=>Pr(ut,nt.fromStyles)),je.onDestroy(()=>ui(ut,nt.toStyles)),r.push(je);return}if(ge.isFallbackTransition){je.onStart(()=>Pr(ut,nt.fromStyles)),je.onDestroy(()=>ui(ut,nt.toStyles)),r.push(je);return}let Ji=[];nt.timelines.forEach(lt=>{lt.stretchStartingKeyframe=!0,this.disabledNodes.has(lt.element)||Ji.push(lt)}),nt.timelines=Ji,n.append(ut,nt.timelines);let Qu={instruction:nt,player:je,element:ut};s.push(Qu),nt.queriedElements.forEach(lt=>Dn(l,lt,[]).push(je)),nt.preStyleProps.forEach((lt,Ti)=>{if(lt.size){let yn=c.get(Ti);yn||c.set(Ti,yn=new Set),lt.forEach((Di,er)=>yn.add(er))}}),nt.postStyleProps.forEach((lt,Ti)=>{let yn=h.get(Ti);yn||h.set(Ti,yn=new Set),lt.forEach((Di,er)=>yn.add(er))})});if(ye.length){let re=[];ye.forEach(ce=>{re.push(cS(ce.triggerName,ce.errors))}),Ae.forEach(ce=>ce.destroy()),this.reportError(re)}let x=new Map,w=new Map;s.forEach(re=>{let ce=re.element;n.has(ce)&&(w.set(ce,ce),this._beforeAnimationBuild(re.player.namespaceId,re.instruction,x))}),r.forEach(re=>{let ce=re.element;this._getPreviousPlayers(ce,!1,re.namespaceId,re.triggerName,null).forEach(je=>{Dn(x,ce,[]).push(je),je.destroy()})});let E=F.filter(re=>SS(re,c,h)),R=new Map;CS(R,this.driver,X,h,Gn).forEach(re=>{SS(re,c,h)&&E.push(re)});let N=new Map;D.forEach((re,ce)=>{CS(N,this.driver,new Set(re),c,ms)}),E.forEach(re=>{let ce=R.get(re),ge=N.get(re);R.set(re,new Map([...ce?.entries()??[],...ge?.entries()??[]]))});let S=[],jn=[],Zi={};s.forEach(re=>{let{element:ce,player:ge,instruction:je}=re;if(n.has(ce)){if(g.has(ce)){ge.onDestroy(()=>ui(ce,je.toStyles)),ge.disabled=!0,ge.overrideTotalTime(je.totalTime),r.push(ge);return}let ut=Zi;if(w.size>1){let at=ce,tt=[];for(;at=at.parentNode;){let nt=w.get(at);if(nt){ut=nt;break}tt.push(at)}tt.forEach(nt=>w.set(nt,ut))}let Un=this._buildAnimation(ge.namespaceId,je,x,o,N,R);if(ge.setRealPlayer(Un),ut===Zi)S.push(ge);else{let at=this.playersByElement.get(ut);at&&at.length&&(ge.parentPlayer=Xi(at)),r.push(ge)}}else Pr(ce,je.fromStyles),ge.onDestroy(()=>ui(ce,je.toStyles)),jn.push(ge),g.has(ce)&&r.push(ge)}),jn.forEach(re=>{let ce=o.get(re.element);if(ce&&ce.length){let ge=Xi(ce);re.setRealPlayer(ge)}}),r.forEach(re=>{re.parentPlayer?re.syncPlayerEvents(re.parentPlayer):re.destroy()});for(let re=0;re<F.length;re++){let ce=F[re],ge=ce[hi];if(Ks(ce,Ou),ge&&ge.hasAnimation)continue;let je=[];if(l.size){let Un=l.get(ce);Un&&Un.length&&je.push(...Un);let at=this.driver.query(ce,Pu,!0);for(let tt=0;tt<at.length;tt++){let nt=l.get(at[tt]);nt&&nt.length&&je.push(...nt)}}let ut=je.filter(Un=>!Un.destroyed);ut.length?P2(this,ce,ut):this.processLeaveNode(ce)}return F.length=0,S.forEach(re=>{this.players.push(re),re.onDone(()=>{re.destroy();let ce=this.players.indexOf(re);this.players.splice(ce,1)}),re.play()}),S}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,o){let s=[];if(e){let l=this.playersByQueriedElement.get(t);l&&(s=l)}else{let l=this.playersByElement.get(t);if(l){let c=!o||o==Bl;l.forEach(h=>{h.queued||!c&&h.triggerName!=r||s.push(h)})}}return(n||r)&&(s=s.filter(l=>!(n&&n!=l.namespaceId||r&&r!=l.triggerName))),s}_beforeAnimationBuild(t,e,n){let r=e.triggerName,o=e.element,s=e.isRemovalTransition?void 0:t,l=e.isRemovalTransition?void 0:r;for(let c of e.timelines){let h=c.element,g=h!==o,v=Dn(n,h,[]);this._getPreviousPlayers(h,g,s,l,e.toState).forEach(D=>{let I=D.getRealPlayer();I.beforeDestroy&&I.beforeDestroy(),D.destroy(),v.push(D)})}Pr(o,e.fromStyles)}_buildAnimation(t,e,n,r,o,s){let l=e.triggerName,c=e.element,h=[],g=new Set,v=new Set,C=e.timelines.map(I=>{let M=I.element;g.add(M);let F=M[hi];if(F&&F.removedBeforeQueried)return new Ei(I.duration,I.delay);let z=M!==c,X=N2((n.get(M)||D2).map(x=>x.getRealPlayer())).filter(x=>{let w=x;return w.element?w.element===M:!1}),Z=o.get(M),Y=s.get(M),Ae=Zf(this._normalizer,I.keyframes,Z,Y),ye=this._buildPlayer(I,Ae,X);if(I.subTimeline&&r&&v.add(M),z){let x=new zl(t,l,M);x.setRealPlayer(ye),h.push(x)}return ye});h.forEach(I=>{Dn(this.playersByQueriedElement,I.element,[]).push(I),I.onDone(()=>M2(this.playersByQueriedElement,I.element,I))}),g.forEach(I=>Zn(I,rg));let D=Xi(C);return D.onDestroy(()=>{g.forEach(I=>Ks(I,rg)),ui(c,e.toStyles)}),v.forEach(I=>{Dn(r,I,[]).push(D)}),D}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Ei(t.duration,t.delay)}},zl=class{namespaceId;triggerName;element;_player=new Ei;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(r=>Ru(t,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Dn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function M2(i,t,e){let n=i.get(t);if(n){if(n.length){let r=n.indexOf(e);n.splice(r,1)}n.length==0&&i.delete(t)}return n}function k2(i){return i??null}function Bu(i){return i&&i.nodeType===1}function O2(i){return i=="start"||i=="done"}function wS(i,t){let e=i.style.display;return i.style.display=t??"none",e}function CS(i,t,e,n,r){let o=[];e.forEach(c=>o.push(wS(c)));let s=[];n.forEach((c,h)=>{let g=new Map;c.forEach(v=>{let C=t.computeStyle(h,v,r);g.set(v,C),(!C||C.length==0)&&(h[hi]=R2,s.push(h))}),i.set(h,g)});let l=0;return e.forEach(c=>wS(c,o[l++])),s}function ES(i,t){let e=new Map;if(i.forEach(l=>e.set(l,[])),t.length==0)return e;let n=1,r=new Set(t),o=new Map;function s(l){if(!l)return n;let c=o.get(l);if(c)return c;let h=l.parentNode;return e.has(h)?c=h:r.has(h)?c=n:c=s(h),o.set(l,c),c}return t.forEach(l=>{let c=s(l);c!==n&&e.get(c).push(l)}),e}function Zn(i,t){i.classList?.add(t)}function Ks(i,t){i.classList?.remove(t)}function P2(i,t,e){Xi(e).onDone(()=>i.processLeaveNode(t))}function N2(i){let t=[];return RS(i,t),t}function RS(i,t){for(let e=0;e<i.length;e++){let n=i[e];n instanceof io?RS(n.players,t):t.push(n)}}function F2(i,t){let e=Object.keys(i),n=Object.keys(t);if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!t.hasOwnProperty(o)||i[o]!==t[o])return!1}return!0}function SS(i,t,e){let n=e.get(i);if(!n)return!1;let r=t.get(i);return r?n.forEach(o=>r.add(o)):t.set(i,n),e.delete(i),!0}var Gs=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,n){this._driver=e,this._normalizer=n,this._transitionEngine=new vg(t.body,e,n),this._timelineEngine=new yg(t.body,e,n),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,n,r,o){let s=t+"-"+r,l=this._triggerCache[s];if(!l){let c=[],h=[],g=xS(this._driver,o,c,h);if(c.length)throw JE(r,c);l=C2(r,g,this._normalizer),this._triggerCache[s]=l}this._transitionEngine.registerTrigger(e,r,l)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if(n.charAt(0)=="@"){let[o,s]=Jf(n),l=r;this._timelineEngine.command(o,e,s,l)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,o){if(n.charAt(0)=="@"){let[s,l]=Jf(n);return this._timelineEngine.listen(s,e,l,o)}return this._transitionEngine.listen(t,e,n,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function L2(i,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=dg(t[0]),t.length>1&&(n=dg(t[t.length-1]))):t instanceof Map&&(e=dg(t)),e||n?new V2(i,e,n):null}var V2=(()=>{class i{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r;let o=i.initialStylesByElement.get(e);o||i.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ui(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ui(this._element,this._initialStyles),this._endStyles&&(ui(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(Pr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Pr(this._element,this._endStyles),this._endStyles=null),ui(this._element,this._initialStyles),this._state=3)}}return i})();function dg(i){let t=null;return i.forEach((e,n)=>{B2(n)&&(t=t||new Map,t.set(n,e))}),t}function B2(i){return i==="display"||i==="position"}var Wu=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let t=this.keyframes,e=this._triggerWebAnimation(this.element,t,this.options);if(!e)return this._onFinish(),null;this.domPlayer=e,this._finalKeyframe=t.length?t[t.length-1]:new Map;let n=()=>this._onFinish();return e.addEventListener("finish",n),this.onDestroy(()=>{e.removeEventListener("finish",n)}),e}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){let r=this._convertKeyframesToObject(e);try{return t.animate(r,n)}catch{return null}}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){let t=this._buildPlayer();t&&(this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),t.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=t*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{r!=="offset"&&t.set(r,this._finished?n:Fu(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},Ku=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return eg(t,e)}getParentElement(t){return ku(t)}query(t,e,n){return tg(t,e,n)}computeStyle(t,e,n){return Fu(t,e)}animate(t,e,n,r,o,s=[]){let l=r==0?"both":"forwards",c={duration:n,delay:r,fill:l};o&&(c.easing=o);let h=new Map,g=s.filter(D=>D instanceof Wu);mS(n,r)&&g.forEach(D=>{D.currentSnapshot.forEach((I,M)=>h.set(M,I))});let v=uS(e).map(D=>new Map(D));v=pS(t,v,h);let C=L2(t,v);return new Wu(t,v,c,C)}};var ju="@",MS="@.disabled",Gu=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,n,r){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n,r){if(r){this.delegate.removeChild(t,e,n,r);return}this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==ju&&e==MS?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n,r){return this.delegate.listen(t,e,n,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},wg=class extends Gu{factory;constructor(t,e,n,r,o){super(e,n,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==ju?e.charAt(1)=="."&&e==MS?(n=n===void 0?!0:!!n,this.disableAnimations(t,n)):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n,r){if(e.charAt(0)==ju){let o=j2(t),s=e.slice(1),l="";return s.charAt(0)!=ju&&([s,l]=U2(s)),this.engine.listen(this.namespaceId,o,s,l,c=>{let h=c._data||-1;this.factory.scheduleListenerCallback(h,n,c)})}return this.delegate.listen(t,e,n,r)}};function j2(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function U2(i){let t=i.indexOf("."),e=i.substring(0,t),n=i.slice(t+1);return[e,n]}var Yu=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,e.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(t,e){let r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let h=this._rendererCache,g=h.get(r);if(!g){let v=()=>h.delete(r);g=new Gu("",r,this.engine,v),h.set(r,g)}return g}let o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);let l=h=>{Array.isArray(h)?h.forEach(l):this.engine.registerTrigger(o,s,t,h.name,h)};return e.data.animation.forEach(l),new wg(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(n));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,l]=o;s(l)}),this._animationCallbacksBuffer=[]})}),r.push([e,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var $2=(()=>{class i extends Gs{constructor(e,n,r){super(e,n,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||i)(_e(De),_e(Io),_e(xo))};static \u0275prov=Q({token:i,factory:i.\u0275fac})}return i})();function q2(){return new Uu}function H2(){return new Yu(y(Ra),y(Gs),y(ee))}var kS=[{provide:xo,useFactory:q2},{provide:Gs,useClass:$2},{provide:Ft,useFactory:H2}],pW=[{provide:Io,useClass:Cg},{provide:jr,useValue:"NoopAnimations"},...kS],W2=[{provide:Io,useFactory:()=>new Ku},{provide:jr,useFactory:()=>"BrowserAnimations"},...kS];function OS(){return pc("NgEagerAnimations"),[...W2]}zh(md,{providers:[ey(),Cm(Xv),by(()=>py().length?Qt():vy({projectId:"project-a2-7b9e8",appId:"1:423221934609:web:126218f73b12c959f08fb0",databaseURL:"https://project-a2-7b9e8-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"project-a2-7b9e8.firebasestorage.app",apiKey:"AIzaSyDLrpLTvmqdthZlDs6B9GvK6RtxFfV3GyU",authDomain:"project-a2-7b9e8.firebaseapp.com",messagingSenderId:"423221934609",measurementId:"G-PLSVLXGESZ"})),Cy(()=>Sy()),_w(()=>pw()),gw,Op,mC(()=>pC()),Iy(()=>xy()),wC(()=>CC()),LC(()=>VC()),jC(()=>UC()),JC(()=>eE()),lE(()=>cE()),gE(()=>_E()),FE(new Nl),R_(yt),OS()]});
