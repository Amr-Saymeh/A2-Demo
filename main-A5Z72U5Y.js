import{a as Wn}from"./chunk-RHC66ICD.js";import{$ as V,$a as z_,$b as Y_,$c as At,A as rr,Aa as F_,Ab as Se,Ac as dy,B as A_,Ba as uc,Bb as Ie,Bc as uy,C as wh,Ca as $n,Cb as q_,Cc as No,D as ha,Da as L_,Db as H_,Dc as yc,E as Ch,Ea as h,Eb as kh,Ec as cn,F as lc,Fa as pa,Fb as Ct,Fc as bc,G as jt,Ga as V_,Gb as Ni,Gc as vc,H as vt,Ha as hc,Hb as ge,Hc as hy,I as Je,Ia as mc,Ib as Mn,Ic as fi,J as T_,Ja as bn,Jb as y,Jc as Fo,K as Ut,Ka as fa,Kb as M,Kc as my,L as oe,La as B_,Lb as z,Lc as qt,M as Eh,Ma as Ot,Mb as ti,Mc as hr,N as cc,Na as xt,Nb as W_,Nc as _y,O as K,Oa as te,Ob as se,Oc as Gt,P as Te,Pa as pc,Pb as ae,Pc as yy,Q as D_,Qa as ei,Qb as le,Qc as Wo,R as H,Ra as Dh,Rb as K_,Rc as Ea,S as _e,Sa as j_,Sb as G_,Sc as Yt,T as _,Ta as fc,Tb as wn,Tc as Sa,U as Sh,Ua as ne,Ub as ar,Uc as Qt,V as ot,Va as Re,Vb as Oh,Vc as gi,W as R_,Wa as Fe,Wb as Mo,Wc as Ia,X as M_,Xa as mi,Xb as gc,Xc as Sc,Y as zt,Ya as Oi,Yb as et,Yc as mr,Z as ln,Za as U_,Zb as ko,Zc as pr,_ as L,_a as Vr,_b as pt,_c as Ic,a as rt,aa as Ri,ab as Rh,ac as Q_,ad as Tt,b as S_,ba as Ih,bb as Mh,bc as X_,bd as Xt,c as ui,ca as be,cb as Br,cc as ga,cd as Zt,d as de,da as De,db as Oe,dc as Oo,dd as Jt,e as yn,ea as Ro,eb as $_,ec as Z_,ed as Et,f as Jn,fa as k_,fb as Y,fc as _a,fd as en,g as an,ga as ue,gb as Q,gc as J_,gd as tn,h as me,ha as ee,hb as Ue,hc as ey,hd as by,i as I_,ia as xh,ib as we,ic as dt,id as vy,j as rc,ja as dc,jb as Ce,jc as ty,jd as fr,k as x_,ka as Ve,kb as q,kc as Pe,kd as wy,l as $e,la as Ah,lb as p,lc as ya,ld as Ko,m as la,ma as or,mb as f,mc as ny,md as Cy,n as Un,na as Mi,nb as G,nc as _c,nd as Ey,o as ca,oa as Ye,ob as Ee,oc as iy,od as Sy,p as oc,pa as ht,pb as ve,pc as ba,pd as En,q as Do,qa as ki,qb as pi,qc as ry,qd as Iy,r as hi,ra as O_,rb as fe,rc as oy,rd as gr,s as Ge,sa as ke,sb as vn,sc as sy,sd as xy,t as vh,ta as Th,tb as $,tc as ay,td as Sn,u as sc,ua as P_,ub as Pi,uc as va,ud as xc,v as ir,va as Fr,vb as D,vc as ly,vd as Ne,w as ac,wa as N_,wb as $t,wc as lr,wd as Ur,x as zn,xa as mt,xb as Xe,xc as cy,xd as zr,y as da,ya as Lr,yb as sr,yc as Cn,yd as ft,z as ua,za as ma,zb as wt,zc as Po,zd as nn}from"./chunk-ZI2B4GS7.js";import{a as qn,c as fy,f as gy,g as ur,h as Ec,j as Hn}from"./chunk-FS6JWC46.js";import{a as Ay}from"./chunk-VNGMHQCE.js";import{$ as Kt,I as $o,P as Ca,Q as Pt,R as Ht,S as qo,T as dr,U as Nh,V as Cc,W as Wt,X as dn,Y as jr,Z as Ho,aa as py,ba as Le,h as Lo,k as Vo,l as Bo,m as wc,n as jo,r as Ph,v as cr,w as Uo,x as wa,y as ni,z as zo}from"./chunk-ROR7IRWT.js";import{a as P,b as ie,c as ic,e as j}from"./chunk-46AQF2XH.js";var xa=class{_doc;constructor(t){this._doc=t}manager},Ac=(()=>{class i extends xa{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r,o){return e.addEventListener(n,r,o),()=>this.removeEventListener(e,n,r,o)}removeEventListener(e,n,r,o){return e.removeEventListener(n,r,o)}static \u0275fac=function(n){return new(n||i)(_e(De))};static \u0275prov=K({token:i,factory:i.\u0275fac})}return i})(),Rc=new H(""),Bh=(()=>{class i{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,n){this._zone=n,e.forEach(s=>{s.manager=this});let r=e.filter(s=>!(s instanceof Ac));this._plugins=r.slice().reverse();let o=e.find(s=>s instanceof Ac);o&&this._plugins.push(o)}addEventListener(e,n,r,o){return this._findPluginFor(n).addEventListener(e,n,r,o)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(o=>o.supports(e)),!n)throw new oe(5101,!1);return this._eventNameToPlugin.set(e,n),n}static \u0275fac=function(n){return new(n||i)(_e(Rc),_e(ee))};static \u0275prov=K({token:i,factory:i.\u0275fac})}return i})(),Fh="ng-app-id";function Ty(i){for(let t of i)t.remove()}function Dy(i,t){let e=t.createElement("style");return e.textContent=i,e}function aI(i,t,e,n){let r=i.head?.querySelectorAll(`style[${Fh}="${t}"],link[${Fh}="${t}"]`);if(r)for(let o of r)o.removeAttribute(Fh),o instanceof HTMLLinkElement?n.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function Vh(i,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",i),e}var jh=(()=>{class i{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,n,r,o={}){this.doc=e,this.appId=n,this.nonce=r,aI(e,n,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,n){for(let r of e)this.addUsage(r,this.inline,Dy);n?.forEach(r=>this.addUsage(r,this.external,Vh))}removeStyles(e,n){for(let r of e)this.removeUsage(r,this.inline);n?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,n,r){let o=n.get(e);o?o.usage++:n.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(e,this.doc)))})}removeUsage(e,n){let r=n.get(e);r&&(r.usage--,r.usage<=0&&(Ty(r.elements),n.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Ty(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[n,{elements:r}]of this.inline)r.push(this.addElement(e,Dy(n,this.doc)));for(let[n,{elements:r}]of this.external)r.push(this.addElement(e,Vh(n,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,n){return this.nonce&&n.setAttribute("nonce",this.nonce),e.appendChild(n)}static \u0275fac=function(n){return new(n||i)(_e(De),_e(Fr),_e(ma,8),_e(mt))};static \u0275prov=K({token:i,factory:i.\u0275fac})}return i})(),Lh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Uh=/%COMP%/g;var My="%COMP%",lI=`_nghost-${My}`,cI=`_ngcontent-${My}`,dI=!0,uI=new H("",{factory:()=>dI});function hI(i){return cI.replace(Uh,i)}function mI(i){return lI.replace(Uh,i)}function ky(i,t){return t.map(e=>e.replace(Uh,i))}var Da=(()=>{class i{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(e,n,r,o,s,l,c=null,u=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=l,this.nonce=c,this.tracingService=u,this.defaultRenderer=new Aa(e,s,l,this.tracingService)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;let r=this.getOrCreateRenderer(e,n);return r instanceof Dc?r.applyToHost(e):r instanceof Ta&&r.applyStyles(),r}getOrCreateRenderer(e,n){let r=this.rendererByCompId,o=r.get(n.id);if(!o){let s=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,v=this.tracingService;switch(n.encapsulation){case uc.Emulated:o=new Dc(c,u,n,this.appId,g,s,l,v);break;case uc.ShadowDom:return new Tc(c,e,n,s,l,this.nonce,v,u);case uc.ExperimentalIsolatedShadowDom:return new Tc(c,e,n,s,l,this.nonce,v);default:o=new Ta(c,u,n,g,s,l,v);break}r.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(n){return new(n||i)(_e(Bh),_e(jh),_e(Fr),_e(uI),_e(De),_e(ee),_e(ma),_e(hc,8))};static \u0275prov=K({token:i,factory:i.\u0275fac})}return i})(),Aa=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,n,r){this.eventManager=t,this.doc=e,this.ngZone=n,this.tracingService=r}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(Lh[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Ry(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(Ry(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){e.remove()}selectRootElement(t,e){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new oe(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;let o=Lh[r];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){let r=Lh[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(pa.DashCase|pa.Important)?t.style.setProperty(e,n,r&pa.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&pa.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t!=null&&(t[e]=n)}setValue(t,e){t.nodeValue=e}listen(t,e,n,r){if(typeof t=="string"&&(t=ba().getGlobalEventTarget(this.doc,t),!t))throw new oe(5102,!1);let o=this.decoratePreventDefault(n);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,r)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function Ry(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var Tc=class extends Aa{hostEl;sharedStylesHost;shadowRoot;constructor(t,e,n,r,o,s,l,c){super(t,r,o,l),this.hostEl=e,this.sharedStylesHost=c,this.shadowRoot=e.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let u=n.styles;u=ky(n.id,u);for(let v of u){let C=document.createElement("style");s&&C.setAttribute("nonce",s),C.textContent=v,this.shadowRoot.appendChild(C)}let g=n.getExternalStyles?.();if(g)for(let v of g){let C=Vh(v,r);s&&C.setAttribute("nonce",s),this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Ta=class extends Aa{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,n,r,o,s,l,c){super(t,o,s,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let u=n.styles;this.styles=c?ky(c,u):u,this.styleUrls=n.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&V_.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Dc=class extends Ta{contentAttr;hostAttr;constructor(t,e,n,r,o,s,l,c){let u=r+"-"+n.id;super(t,e,n,o,s,l,c,u),this.contentAttr=hI(u),this.hostAttr=mI(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}};var Mc=class i extends oy{supportsDOMEvents=!0;static makeCurrent(){ry(new i)}onAndCancel(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=pI();return e==null?null:fI(e)}resetBaseElement(){Ra=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return bc(document.cookie,t)}},Ra=null;function pI(){return Ra=Ra||document.head.querySelector("base"),Ra?Ra.getAttribute("href"):null}function fI(i){return new URL(i,document.baseURI).pathname}var gI=(()=>{class i{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac})}return i})(),Oy=["alt","control","meta","shift"],_I={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yI={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},Py=(()=>{class i extends xa{constructor(e){super(e)}supports(e){return i.parseEventName(e)!=null}addEventListener(e,n,r,o){let s=i.parseEventName(n),l=i.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ba().onAndCancel(e,s.domEventName,l,o))}static parseEventName(e){let n=e.toLowerCase().split("."),r=n.shift();if(n.length===0||!(r==="keydown"||r==="keyup"))return null;let o=i._normalizeKey(n.pop()),s="",l=n.indexOf("code");if(l>-1&&(n.splice(l,1),s="code."),Oy.forEach(u=>{let g=n.indexOf(u);g>-1&&(n.splice(g,1),s+=u+".")}),s+=o,n.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(e,n){let r=_I[e.key]||e.key,o="";return n.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Oy.forEach(s=>{if(s!==r){let l=yI[s];l(e)&&(o+=s+".")}}),o+=r,o===n)}static eventCallback(e,n,r){return o=>{i.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>n(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(n){return new(n||i)(_e(De))};static \u0275prov=K({token:i,factory:i.\u0275fac})}return i})();function zh(i,t,e){let n=P({rootComponent:i,platformRef:e?.platformRef},bI(t));return ty(n)}function bI(i){return{appProviders:[...SI,...i?.providers??[]],platformProviders:EI}}function vI(){Mc.makeCurrent()}function wI(){return new xh}function CI(){return P_(document),document}var EI=[{provide:mt,useValue:hy},{provide:N_,useValue:vI,multi:!0},{provide:De,useFactory:CI}];var SI=[{provide:M_,useValue:"root"},{provide:xh,useFactory:wI},{provide:Rc,useClass:Ac,multi:!0},{provide:Rc,useClass:Py,multi:!0},Da,jh,Bh,{provide:Ot,useExisting:Da},{provide:vc,useClass:gI},[]];var _r=class i{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let n=e.indexOf(":");if(n>0){let r=e.slice(0,n),o=e.slice(n+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,n)=>{this.addHeaderEntry(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new i;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(l=>o.indexOf(l)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(t,e){let n=t.toLowerCase();this.maybeSetNormalizedName(t,n),this.headers.has(n)?this.headers.get(n).push(e):this.headers.set(n,[e])}setHeaderEntries(t,e){let n=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Oc=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}},Pc=class{encodeKey(t){return Ny(t)}encodeValue(t){return Ny(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function II(i,t){let e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,l]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],c=e.get(s)||[];c.push(l),e.set(s,c)}),e}var xI=/%(\d[a-f0-9])/gi,AI={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ny(i){return encodeURIComponent(i).replace(xI,(t,e)=>AI[e]??t)}function kc(i){return`${i}`}var Fi=class i{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Pc,t.fromString){if(t.fromObject)throw new oe(2805,!1);this.map=II(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let n=t.fromObject[e],r=Array.isArray(n)?n.map(kc):[kc(n)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(n=>{let r=t[n];Array.isArray(r)?r.forEach(o=>{e.push({param:n,value:o,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new i({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(kc(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let n=this.map.get(t.param)||[],r=n.indexOf(kc(t.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};function TI(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Fy(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function Ly(i){return typeof Blob<"u"&&i instanceof Blob}function Vy(i){return typeof FormData<"u"&&i instanceof FormData}function DI(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var By="Content-Type",jy="Accept",zy="text/plain",$y="application/json",RI=`${$y}, ${zy}, */*`,Go=class i{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,e,n,r){this.url=e,this.method=t.toUpperCase();let o;if(TI(this.method)||r?(this.body=n!==void 0?n:null,o=r):o=n,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new oe(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new _r,this.context??=new Oc,!this.params)this.params=new Fi,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let l=e.indexOf("?"),c=l===-1?"?":l<e.length-1?"&":"";this.urlWithParams=e+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Fy(this.body)||Ly(this.body)||Vy(this.body)||DI(this.body)?this.body:this.body instanceof Fi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Vy(this.body)?null:Ly(this.body)?this.body.type||null:Fy(this.body)?null:typeof this.body=="string"?zy:this.body instanceof Fi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?$y:null}clone(t={}){let e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,o=t.keepalive??this.keepalive,s=t.priority||this.priority,l=t.cache||this.cache,c=t.mode||this.mode,u=t.redirect||this.redirect,g=t.credentials||this.credentials,v=t.referrer||this.referrer,C=t.integrity||this.integrity,A=t.referrerPolicy||this.referrerPolicy,I=t.transferCache??this.transferCache,R=t.timeout??this.timeout,F=t.body!==void 0?t.body:this.body,U=t.withCredentials??this.withCredentials,X=t.reportProgress??this.reportProgress,Z=t.headers||this.headers,W=t.params||this.params,Ae=t.context??this.context;return t.setHeaders!==void 0&&(Z=Object.keys(t.setHeaders).reduce((ye,x)=>ye.set(x,t.setHeaders[x]),Z)),t.setParams&&(W=Object.keys(t.setParams).reduce((ye,x)=>ye.set(x,t.setParams[x]),W)),new i(e,n,F,{params:W,headers:Z,context:Ae,reportProgress:X,responseType:r,withCredentials:U,transferCache:I,keepalive:o,cache:l,priority:s,timeout:R,mode:c,redirect:u,credentials:g,referrer:v,integrity:C,referrerPolicy:A})}},kn=(function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i})(kn||{}),Qo=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(t,e=200,n="OK"){this.headers=t.headers||new _r,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.redirected=t.redirected,this.responseType=t.responseType,this.ok=this.status>=200&&this.status<300}},Nc=class i extends Qo{constructor(t={}){super(t)}type=kn.ResponseHeader;clone(t={}){return new i({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Ma=class i extends Qo{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=kn.Response;clone(t={}){return new i({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected,responseType:t.responseType??this.responseType})}},Yo=class extends Qo{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},MI=200,kI=204;var OI=new H("");var PI=/^\)\]\}',?\n/;var qh=(()=>{class i{xhrFactory;tracingService=_(hc,{optional:!0});constructor(e){this.xhrFactory=e}maybePropagateTrace(e){return this.tracingService?.propagate?this.tracingService.propagate(e):e}handle(e){if(e.method==="JSONP")throw new oe(-2800,!1);let n=this.xhrFactory;return me(null).pipe(vt(()=>new ui(o=>{let s=n.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((F,U)=>s.setRequestHeader(F,U.join(","))),e.headers.has(jy)||s.setRequestHeader(jy,RI),!e.headers.has(By)){let F=e.detectContentTypeHeader();F!==null&&s.setRequestHeader(By,F)}if(e.timeout&&(s.timeout=e.timeout),e.responseType){let F=e.responseType.toLowerCase();s.responseType=F!=="json"?F:"text"}let l=e.serializeBody(),c=null,u=()=>{if(c!==null)return c;let F=s.statusText||"OK",U=new _r(s.getAllResponseHeaders()),X=s.responseURL||e.url;return c=new Nc({headers:U,status:s.status,statusText:F,url:X}),c},g=this.maybePropagateTrace(()=>{let{headers:F,status:U,statusText:X,url:Z}=u(),W=null;U!==kI&&(W=typeof s.response>"u"?s.responseText:s.response),U===0&&(U=W?MI:0);let Ae=U>=200&&U<300;if(e.responseType==="json"&&typeof W=="string"){let ye=W;W=W.replace(PI,"");try{W=W!==""?JSON.parse(W):null}catch(x){W=ye,Ae&&(Ae=!1,W={error:x,text:W})}}Ae?(o.next(new Ma({body:W,headers:F,status:U,statusText:X,url:Z||void 0})),o.complete()):o.error(new Yo({error:W,headers:F,status:U,statusText:X,url:Z||void 0}))}),v=this.maybePropagateTrace(F=>{let{url:U}=u(),X=new Yo({error:F,status:s.status||0,statusText:s.statusText||"Unknown Error",url:U||void 0});o.error(X)}),C=v;e.timeout&&(C=this.maybePropagateTrace(F=>{let{url:U}=u(),X=new Yo({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:U||void 0});o.error(X)}));let A=!1,I=this.maybePropagateTrace(F=>{A||(o.next(u()),A=!0);let U={type:kn.DownloadProgress,loaded:F.loaded};F.lengthComputable&&(U.total=F.total),e.responseType==="text"&&s.responseText&&(U.partialText=s.responseText),o.next(U)}),R=this.maybePropagateTrace(F=>{let U={type:kn.UploadProgress,loaded:F.loaded};F.lengthComputable&&(U.total=F.total),o.next(U)});return s.addEventListener("load",g),s.addEventListener("error",v),s.addEventListener("timeout",C),s.addEventListener("abort",v),e.reportProgress&&(s.addEventListener("progress",I),l!==null&&s.upload&&s.upload.addEventListener("progress",R)),s.send(l),o.next({type:kn.Sent}),()=>{s.removeEventListener("error",v),s.removeEventListener("abort",v),s.removeEventListener("load",g),s.removeEventListener("timeout",C),e.reportProgress&&(s.removeEventListener("progress",I),l!==null&&s.upload&&s.upload.removeEventListener("progress",R)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(n){return new(n||i)(_e(vc))};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function qy(i,t){return t(i)}function NI(i,t){return(e,n)=>t.intercept(e,{handle:r=>i(r,n)})}function FI(i,t,e){return(n,r)=>ln(e,()=>t(n,o=>i(o,r)))}var Hy=new H(""),Hh=new H("",{factory:()=>[]}),Wy=new H(""),Wh=new H("",{factory:()=>!0});function LI(){let i=null;return(t,e)=>{i===null&&(i=(_(Hy,{optional:!0})??[]).reduceRight(NI,qy));let n=_(Ah);if(_(Wh)){let o=n.add();return i(t,e).pipe(ua(o))}else return i(t,e)}}var Kh=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:function(n){let r=null;return n?r=new(n||i):r=_e(qh),r},providedIn:"root"})}return i})();var Fc=(()=>{class i{backend;injector;chain=null;pendingTasks=_(Ah);contributeToStability=_(Wh);constructor(e,n){this.backend=e,this.injector=n}handle(e){if(this.chain===null){let n=Array.from(new Set([...this.injector.get(Hh),...this.injector.get(Wy,[])]));this.chain=n.reduceRight((r,o)=>FI(r,o,this.injector),qy)}if(this.contributeToStability){let n=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(ua(n))}else return this.chain(e,n=>this.backend.handle(n))}static \u0275fac=function(n){return new(n||i)(_e(Kh),_e(zt))};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Gh=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:function(n){let r=null;return n?r=new(n||i):r=_e(Fc),r},providedIn:"root"})}return i})();function $h(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,credentials:i.credentials,transferCache:i.transferCache,timeout:i.timeout,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,integrity:i.integrity,referrer:i.referrer,referrerPolicy:i.referrerPolicy}}var Xo=(()=>{class i{handler;constructor(e){this.handler=e}request(e,n,r={}){let o;if(e instanceof Go)o=e;else{let c;r.headers instanceof _r?c=r.headers:c=new _r(r.headers);let u;r.params&&(r.params instanceof Fi?u=r.params:u=new Fi({fromObject:r.params})),o=new Go(e,n,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:u,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive,priority:r.priority,cache:r.cache,mode:r.mode,redirect:r.redirect,credentials:r.credentials,referrer:r.referrer,referrerPolicy:r.referrerPolicy,integrity:r.integrity,timeout:r.timeout})}let s=me(o).pipe(ir(c=>this.handler.handle(c)));if(e instanceof Go||r.observe==="events")return s;let l=s.pipe(Ge(c=>c instanceof Ma));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe($e(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new oe(2806,!1);return c.body}));case"blob":return l.pipe($e(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new oe(2807,!1);return c.body}));case"text":return l.pipe($e(c=>{if(c.body!==null&&typeof c.body!="string")throw new oe(2808,!1);return c.body}));case"json":default:return l.pipe($e(c=>c.body))}case"response":return l;default:throw new oe(2809,!1)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:new Fi().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,$h(r,n))}post(e,n,r={}){return this.request("POST",e,$h(r,n))}put(e,n,r={}){return this.request("PUT",e,$h(r,n))}static \u0275fac=function(n){return new(n||i)(_e(Gh))};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var VI=new H("",{factory:()=>!0}),BI="XSRF-TOKEN",jI=new H("",{factory:()=>BI}),UI="X-XSRF-TOKEN",zI=new H("",{providedIn:"root",factory:()=>UI}),$I=(()=>{class i{cookieName=_(jI);doc=_(De);lastCookieString="";lastToken=null;parseCount=0;getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=bc(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Ky=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:function(n){let r=null;return n?r=new(n||i):r=_e($I),r},providedIn:"root"})}return i})();function qI(i,t){if(!_(VI)||i.method==="GET"||i.method==="HEAD")return t(i);try{let r=_(sy).href,{origin:o}=new URL(r),{origin:s}=new URL(i.url,o);if(o!==s)return t(i)}catch{return t(i)}let e=_(Ky).getToken(),n=_(zI);return e!=null&&!i.headers.has(n)&&(i=i.clone({headers:i.headers.set(n,e)})),t(i)}var Yh=(function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i})(Yh||{});function HI(i,t){return{\u0275kind:i,\u0275providers:t}}function Gy(...i){let t=[Xo,Fc,{provide:Gh,useExisting:Fc},{provide:Kh,useFactory:()=>_(OI,{optional:!0})??_(qh)},{provide:Hh,useValue:qI,multi:!0}];for(let e of i)t.push(...e.\u0275providers);return ot(t)}var Uy=new H("");function Yy(){return HI(Yh.LegacyInterceptors,[{provide:Uy,useFactory:LI},{provide:Hh,useExisting:Uy,multi:!0}])}var ka=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({providers:[Gy(Yy())]})}return i})();var Lc=(()=>{class i{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(n){return new(n||i)(_e(De))};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var xe="primary",$a=Symbol("RouteTitle"),em=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Wr(i){return new em(i)}function sb(i,t,e){let n=e.path.split("/");if(n.length>i.length||e.pathMatch==="full"&&(t.hasChildren()||n.length<i.length))return null;let r={};for(let o=0;o<n.length;o++){let s=n[o],l=i[o];if(s[0]===":")r[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function $c(i){return new Promise((t,e)=>{i.pipe(rr()).subscribe({next:n=>t(n),error:n=>e(n)})})}function WI(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!_i(i[e],t[e]))return!1;return!0}function _i(i,t){let e=i?tm(i):void 0,n=t?tm(t):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!ab(i[r],t[r]))return!1;return!0}function tm(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function ab(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;let e=[...i].sort(),n=[...t].sort();return e.every((r,o)=>n[o]===r)}else return i===t}function lb(i){return i.length>0?i[i.length-1]:null}function Kr(i){return rc(i)?i:z_(i)?an(Promise.resolve(i)):me(i)}function cb(i){return rc(i)?$c(i):Promise.resolve(i)}var KI={exact:ub,subset:hb},db={exact:GI,subset:YI,ignored:()=>!0};function Zy(i,t,e){return KI[e.paths](i.root,t.root,e.matrixParams)&&db[e.queryParams](i.queryParams,t.queryParams)&&!(e.fragment==="exact"&&i.fragment!==t.fragment)}function GI(i,t){return _i(i,t)}function ub(i,t,e){if(!qr(i.segments,t.segments)||!jc(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!i.children[n]||!ub(i.children[n],t.children[n],e))return!1;return!0}function YI(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>ab(i[e],t[e]))}function hb(i,t,e){return mb(i,t,t.segments,e)}function mb(i,t,e,n){if(i.segments.length>e.length){let r=i.segments.slice(0,e.length);return!(!qr(r,e)||t.hasChildren()||!jc(r,e,n))}else if(i.segments.length===e.length){if(!qr(i.segments,e)||!jc(i.segments,e,n))return!1;for(let r in t.children)if(!i.children[r]||!hb(i.children[r],t.children[r],n))return!1;return!0}else{let r=e.slice(0,i.segments.length),o=e.slice(i.segments.length);return!qr(i.segments,r)||!jc(i.segments,r,n)||!i.children[xe]?!1:mb(i.children[xe],t,o,n)}}function jc(i,t,e){return t.every((n,r)=>db[e](i[r].parameters,n.parameters))}var ri=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Qe([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Wr(this.queryParams),this._queryParamMap}toString(){return ZI.serialize(this)}},Qe=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Uc(this)}},yr=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Wr(this.parameters),this._parameterMap}toString(){return fb(this)}};function QI(i,t){return qr(i,t)&&i.every((e,n)=>_i(e.parameters,t[n].parameters))}function qr(i,t){return i.length!==t.length?!1:i.every((e,n)=>e.path===t[n].path)}function XI(i,t){let e=[];return Object.entries(i.children).forEach(([n,r])=>{n===xe&&(e=e.concat(t(r,n)))}),Object.entries(i.children).forEach(([n,r])=>{n!==xe&&(e=e.concat(t(r,n)))}),e}var Gr=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:()=>new Li,providedIn:"root"})}return i})(),Li=class{parse(t){let e=new im(t);return new ri(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Oa(t.root,!0)}`,n=tx(t.queryParams),r=typeof t.fragment=="string"?`#${JI(t.fragment)}`:"";return`${e}${n}${r}`}},ZI=new Li;function Uc(i){return i.segments.map(t=>fb(t)).join("/")}function Oa(i,t){if(!i.hasChildren())return Uc(i);if(t){let e=i.children[xe]?Oa(i.children[xe],!1):"",n=[];return Object.entries(i.children).forEach(([r,o])=>{r!==xe&&n.push(`${r}:${Oa(o,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=XI(i,(n,r)=>r===xe?[Oa(i.children[xe],!1)]:[`${r}:${Oa(n,!1)}`]);return Object.keys(i.children).length===1&&i.children[xe]!=null?`${Uc(i)}/${e[0]}`:`${Uc(i)}/(${e.join("//")})`}}function pb(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vc(i){return pb(i).replace(/%3B/gi,";")}function JI(i){return encodeURI(i)}function nm(i){return pb(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zc(i){return decodeURIComponent(i)}function Jy(i){return zc(i.replace(/\+/g,"%20"))}function fb(i){return`${nm(i.path)}${ex(i.parameters)}`}function ex(i){return Object.entries(i).map(([t,e])=>`;${nm(t)}=${nm(e)}`).join("")}function tx(i){let t=Object.entries(i).map(([e,n])=>Array.isArray(n)?n.map(r=>`${Vc(e)}=${Vc(r)}`).join("&"):`${Vc(e)}=${Vc(n)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var nx=/^[^\/()?;#]+/;function Qh(i){let t=i.match(nx);return t?t[0]:""}var ix=/^[^\/()?;=#]+/;function rx(i){let t=i.match(ix);return t?t[0]:""}var ox=/^[^=?&#]+/;function sx(i){let t=i.match(ox);return t?t[0]:""}var ax=/^[^&#]+/;function lx(i){let t=i.match(ax);return t?t[0]:""}var im=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qe([],{}):new Qe([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[xe]=new Qe(t,e)),n}parseSegment(){let t=Qh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new oe(4009,!1);return this.capture(t),new yr(zc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=rx(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let r=Qh(this.remaining);r&&(n=r,this.capture(n))}t[zc(e)]=zc(n)}parseQueryParam(t){let e=sx(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let s=lx(this.remaining);s&&(n=s,this.capture(n))}let r=Jy(e),o=Jy(n);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Qh(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new oe(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=xe);let s=this.parseChildren();e[o??xe]=Object.keys(s).length===1&&s[xe]?s[xe]:new Qe([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new oe(4011,!1)}};function gb(i){return i.segments.length>0?new Qe([],{[xe]:i}):i}function _b(i){let t={};for(let[n,r]of Object.entries(i.children)){let o=_b(r);if(n===xe&&o.segments.length===0&&o.hasChildren())for(let[s,l]of Object.entries(o.children))t[s]=l;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}let e=new Qe(i.segments,t);return cx(e)}function cx(i){if(i.numberOfChildren===1&&i.children[xe]){let t=i.children[xe];return new Qe(i.segments.concat(t.segments),t.children)}return i}function br(i){return i instanceof ri}function yb(i,t,e=null,n=null,r=new Li){let o=bb(i);return vb(o,t,e,n,r)}function bb(i){let t;function e(o){let s={};for(let c of o.children){let u=e(c);s[c.outlet]=u}let l=new Qe(o.url,s);return o===i&&(t=l),l}let n=e(i.root),r=gb(n);return t??r}function vb(i,t,e,n,r){let o=i;for(;o.parent;)o=o.parent;if(t.length===0)return Xh(o,o,o,e,n,r);let s=dx(t);if(s.toRoot())return Xh(o,o,new Qe([],{}),e,n,r);let l=ux(s,o,i),c=l.processChildren?Na(l.segmentGroup,l.index,s.commands):Cb(l.segmentGroup,l.index,s.commands);return Xh(o,l.segmentGroup,c,e,n,r)}function qc(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function La(i){return typeof i=="object"&&i!=null&&i.outlets}function eb(i,t,e){i||="\u0275";let n=new ri;return n.queryParams={[i]:t},e.parse(e.serialize(n)).queryParams[i]}function Xh(i,t,e,n,r,o){let s={};for(let[u,g]of Object.entries(n??{}))s[u]=Array.isArray(g)?g.map(v=>eb(u,v,o)):eb(u,g,o);let l;i===t?l=e:l=wb(i,t,e);let c=gb(_b(l));return new ri(c,s,r)}function wb(i,t,e){let n={};return Object.entries(i.children).forEach(([r,o])=>{o===t?n[r]=e:n[r]=wb(o,t,e)}),new Qe(i.segments,n)}var Hc=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&qc(n[0]))throw new oe(4003,!1);let r=n.find(La);if(r&&r!==lb(n))throw new oe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function dx(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new Hc(!0,0,i);let t=0,e=!1,n=i.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let l={};return Object.entries(o.outlets).forEach(([c,u])=>{l[c]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:l}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((l,c)=>{c==0&&l==="."||(c==0&&l===""?e=!0:l===".."?t++:l!=""&&r.push(l))}),r):[...r,o]},[]);return new Hc(e,t,n)}var Jo=class{segmentGroup;processChildren;index;constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}};function ux(i,t,e){if(i.isAbsolute)return new Jo(t,!0,0);if(!e)return new Jo(t,!1,NaN);if(e.parent===null)return new Jo(e,!0,0);let n=qc(i.commands[0])?0:1,r=e.segments.length-1+n;return hx(e,r,i.numberOfDoubleDots)}function hx(i,t,e){let n=i,r=t,o=e;for(;o>r;){if(o-=r,n=n.parent,!n)throw new oe(4005,!1);r=n.segments.length}return new Jo(n,!1,r-o)}function mx(i){return La(i[0])?i[0].outlets:{[xe]:i}}function Cb(i,t,e){if(i??=new Qe([],{}),i.segments.length===0&&i.hasChildren())return Na(i,t,e);let n=px(i,t,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){let o=new Qe(i.segments.slice(0,n.pathIndex),{});return o.children[xe]=new Qe(i.segments.slice(n.pathIndex),i.children),Na(o,0,r)}else return n.match&&r.length===0?new Qe(i.segments,{}):n.match&&!i.hasChildren()?rm(i,t,e):n.match?Na(i,0,r):rm(i,t,e)}function Na(i,t,e){if(e.length===0)return new Qe(i.segments,{});{let n=mx(e),r={};if(Object.keys(n).some(o=>o!==xe)&&i.children[xe]&&i.numberOfChildren===1&&i.children[xe].segments.length===0){let o=Na(i.children[xe],t,e);return new Qe(i.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=Cb(i.children[o],t,s))}),Object.entries(i.children).forEach(([o,s])=>{n[o]===void 0&&(r[o]=s)}),new Qe(i.segments,r)}}function px(i,t,e){let n=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=e.length)return o;let s=i.segments[r],l=e[n];if(La(l))break;let c=`${l}`,u=n<e.length-1?e[n+1]:null;if(r>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!nb(c,u,s))return o;n+=2}else{if(!nb(c,{},s))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function rm(i,t,e){let n=i.segments.slice(0,t),r=0;for(;r<e.length;){let o=e[r];if(La(o)){let c=fx(o.outlets);return new Qe(n,c)}if(r===0&&qc(e[0])){let c=i.segments[t];n.push(new yr(c.path,tb(e[0]))),r++;continue}let s=La(o)?o.outlets[xe]:`${o}`,l=r<e.length-1?e[r+1]:null;s&&l&&qc(l)?(n.push(new yr(s,tb(l))),r+=2):(n.push(new yr(s,{})),r++)}return new Qe(n,{})}function fx(i){let t={};return Object.entries(i).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[e]=rm(new Qe([],{}),0,n))}),t}function tb(i){let t={};return Object.entries(i).forEach(([e,n])=>t[e]=`${n}`),t}function nb(i,t,e){return i==e.path&&_i(t,e.parameters)}var es="imperative",St=(function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i})(St||{}),Pn=class{id;url;constructor(t,e){this.id=t,this.url=e}},vr=class extends Pn{type=St.NavigationStart;navigationTrigger;restoredState;constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},hn=class extends Pn{urlAfterRedirects;type=St.NavigationEnd;constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},un=(function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i[i.Aborted=4]="Aborted",i})(un||{}),ns=(function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i})(ns||{}),yi=class extends Pn{reason;code;type=St.NavigationCancel;constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},bi=class extends Pn{reason;code;type=St.NavigationSkipped;constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r}},is=class extends Pn{error;target;type=St.NavigationError;constructor(t,e,n,r){super(t,e),this.error=n,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Va=class extends Pn{urlAfterRedirects;state;type=St.RoutesRecognized;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wc=class extends Pn{urlAfterRedirects;state;type=St.GuardsCheckStart;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kc=class extends Pn{urlAfterRedirects;state;shouldActivate;type=St.GuardsCheckEnd;constructor(t,e,n,r,o){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Gc=class extends Pn{urlAfterRedirects;state;type=St.ResolveStart;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yc=class extends Pn{urlAfterRedirects;state;type=St.ResolveEnd;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qc=class{route;type=St.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Xc=class{route;type=St.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Zc=class{snapshot;type=St.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jc=class{snapshot;type=St.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ed=class{snapshot;type=St.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rs=class{snapshot;type=St.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},os=class{routerEvent;position;anchor;type=St.Scroll;constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Ba=class{},ss=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function gx(i){return!(i instanceof Ba)&&!(i instanceof ss)}function _x(i,t){return i.providers&&!i._injector&&(i._injector=fc(i.providers,t,`Route: ${i.path}`)),i._injector??t}function ii(i){return i.outlet||xe}function yx(i,t){let e=i.filter(n=>ii(n)===t);return e.push(...i.filter(n=>ii(n)!==t)),e}function cs(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let t=i.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var td=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return cs(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Yr(this.rootInjector)}},Yr=(()=>{class i{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,n){let r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new td(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(n){return new(n||i)(_e(zt))};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),nd=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=om(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){let e=om(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=sm(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return sm(t,this._root).map(e=>e.value)}};function om(i,t){if(i===t.value)return t;for(let e of t.children){let n=om(i,e);if(n)return n}return null}function sm(i,t){if(i===t.value)return[t];for(let e of t.children){let n=sm(i,e);if(n.length)return n.unshift(t),n}return[]}var On=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Zo(i){let t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}var ja=class extends nd{snapshot;constructor(t,e){super(t),this.snapshot=e,hm(this,t)}toString(){return this.snapshot.toString()}};function Eb(i){let t=bx(i),e=new yn([new yr("",{})]),n=new yn({}),r=new yn({}),o=new yn({}),s=new yn(""),l=new Be(e,n,o,s,r,xe,i,t.root);return l.snapshot=t.root,new ja(new On(l,[]),t)}function bx(i){let t={},e={},n={},o=new Hr([],t,n,"",e,xe,i,null,{});return new Ua("",new On(o,[]))}var Be=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,n,r,o,s,l,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=l,this._futureSnapshot=c,this.title=this.dataSubject?.pipe($e(u=>u[$a]))??me(void 0),this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe($e(t=>Wr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe($e(t=>Wr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function id(i,t,e="emptyOnly"){let n,{routeConfig:r}=i;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:P(P({},t.params),i.params),data:P(P({},t.data),i.data),resolve:P(P(P(P({},i.data),t.data),r?.data),i._resolvedData)}:n={params:P({},i.params),data:P({},i.data),resolve:P(P({},i.data),i._resolvedData??{})},r&&Ib(r)&&(n.resolve[$a]=r.title),n}var Hr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[$a]}constructor(t,e,n,r,o,s,l,c,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=l,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Wr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Wr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Ua=class extends nd{url;constructor(t,e){super(e),this.url=t,hm(this,e)}toString(){return Sb(this._root)}};function hm(i,t){t.value._routerState=i,t.children.forEach(e=>hm(i,e))}function Sb(i){let t=i.children.length>0?` { ${i.children.map(Sb).join(", ")} } `:"";return`${i.value}${t}`}function Zh(i){if(i.snapshot){let t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,_i(t.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),_i(t.params,e.params)||i.paramsSubject.next(e.params),WI(t.url,e.url)||i.urlSubject.next(e.url),_i(t.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function am(i,t){let e=_i(i.params,t.params)&&QI(i.url,t.url),n=!i.parent!=!t.parent;return e&&!n&&(!i.parent||am(i.parent,t.parent))}function Ib(i){return typeof i.title=="string"||i.title===null}var xb=new H(""),qa=(()=>{class i{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=xe;activateEvents=new ue;deactivateEvents=new ue;attachEvents=new ue;detachEvents=new ue;routerOutletData=Z_();parentContexts=_(Yr);location=_(ei);changeDetector=_(dt);inputBinder=_(Ha,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:r}=e.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new oe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new oe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new oe(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new oe(4013,!1);this._activatedRoute=e;let r=this.location,s=e.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new lm(e,l,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ht]})}return i})(),lm=class{route;childContexts;parent;outletData;constructor(t,e,n,r){this.route=t,this.childContexts=e,this.parent=n,this.outletData=r}get(t,e){return t===Be?this.route:t===Yr?this.childContexts:t===xb?this.outletData:this.parent.get(t,e)}},Ha=new H(""),mm=(()=>{class i{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:n}=e,r=la([n.queryParams,n.params,n.data]).pipe(vt(([o,s,l],c)=>(l=P(P(P({},o),s),l),c===0?me(l):Promise.resolve(l)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let s=iy(n.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:l}of s.inputs)e.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(e,r)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac})}return i})(),Wa=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,r){n&1&&G(0,"router-outlet")},dependencies:[qa],encapsulation:2})}return i})();function pm(i){let t=i.children&&i.children.map(pm),e=t?ie(P({},i),{children:t}):P({},i);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==xe&&(e.component=Wa),e}function vx(i,t,e){let n=za(i,t._root,e?e._root:void 0);return new ja(n,t)}function za(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=t.value;let r=wx(i,t,e);return new On(n,r)}else{if(i.shouldAttach(t.value)){let o=i.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(l=>za(i,l)),s}}let n=Cx(t.value),r=t.children.map(o=>za(i,o));return new On(n,r)}}function wx(i,t,e){return t.children.map(n=>{for(let r of e.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return za(i,n,r);return za(i,n)})}function Cx(i){return new Be(new yn(i.url),new yn(i.params),new yn(i.queryParams),new yn(i.fragment),new yn(i.data),i.outlet,i.component,i)}var as=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},Ab="ngNavigationCancelingError";function rd(i,t){let{redirectTo:e,navigationBehaviorOptions:n}=br(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Tb(!1,un.Redirect);return r.url=e,r.navigationBehaviorOptions=n,r}function Tb(i,t){let e=new Error(`NavigationCancelingError: ${i||""}`);return e[Ab]=!0,e.cancellationCode=t,e}function Ex(i){return Db(i)&&br(i.url)}function Db(i){return!!i&&i[Ab]}var Sx=(i,t,e,n)=>$e(r=>(new cm(t,r.targetRouterState,r.currentRouterState,e,n).activate(i),r)),cm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,n,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Zh(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){let r=Zo(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],n),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,e,n){let r=t.value,o=e?e.value:null;if(r===o)if(r.component){let s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=Zo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(n&&n.outlet){let s=n.outlet.detach(),l=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:l})}}deactivateRouteAndOutlet(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=Zo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,e,n){let r=Zo(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new rs(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Jc(t.value.snapshot))}activateRoutes(t,e,n){let r=t.value,o=e?e.value:null;if(Zh(r),r===o)if(r.component){let s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,n);else if(r.component){let s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),Zh(l.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,n)}},od=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},ts=class{component;route;constructor(t,e){this.component=t,this.route=e}};function Ix(i,t,e){let n=i._root,r=t?t._root:null;return Pa(n,r,e,[n.value])}function xx(i){let t=i.routeConfig?i.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:i,guards:t}}function ds(i,t){let e=Symbol(),n=t.get(i,e);return n===e?typeof i=="function"&&!D_(i)?i:t.get(i):n}function Pa(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Zo(t);return i.children.forEach(s=>{Ax(s,o[s.value.outlet],e,n.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,l])=>Fa(l,e.getContext(s),r)),r}function Ax(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=i.value,s=t?t.value:null,l=e?e.getContext(i.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=Tx(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new od(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Pa(i,t,l?l.children:null,n,r):Pa(i,t,e,n,r),c&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new ts(l.outlet.component,s))}else s&&Fa(t,l,r),r.canActivateChecks.push(new od(n)),o.component?Pa(i,null,l?l.children:null,n,r):Pa(i,null,e,n,r);return r}function Tx(i,t,e){if(typeof e=="function")return e(i,t);switch(e){case"pathParamsChange":return!qr(i.url,t.url);case"pathParamsOrQueryParamsChange":return!qr(i.url,t.url)||!_i(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!am(i,t)||!_i(i.queryParams,t.queryParams);case"paramsChange":default:return!am(i,t)}}function Fa(i,t,e){let n=Zo(i),r=i.value;Object.entries(n).forEach(([o,s])=>{r.component?t?Fa(s,t.children.getContext(o),e):Fa(s,null,e):Fa(s,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new ts(t.outlet.component,r)):e.canDeactivateChecks.push(new ts(null,r)):e.canDeactivateChecks.push(new ts(null,r))}function Ka(i){return typeof i=="function"}function Dx(i){return typeof i=="boolean"}function Rx(i){return i&&Ka(i.canLoad)}function Mx(i){return i&&Ka(i.canActivate)}function kx(i){return i&&Ka(i.canActivateChild)}function Ox(i){return i&&Ka(i.canDeactivate)}function Px(i){return i&&Ka(i.canMatch)}function Rb(i){return i instanceof x_||i?.name==="EmptyError"}var Bc=Symbol("INITIAL_VALUE");function ls(){return vt(i=>la(i.map(t=>t.pipe(zn(1),jt(Bc)))).pipe($e(t=>{for(let e of t)if(e!==!0){if(e===Bc)return Bc;if(e===!1||Nx(e))return e}return!0}),Ge(t=>t!==Bc),zn(1)))}function Nx(i){return br(i)||i instanceof as}function Mb(i){return i.aborted?me(void 0).pipe(zn(1)):new ui(t=>{let e=()=>{t.next(),t.complete()};return i.addEventListener("abort",e),()=>i.removeEventListener("abort",e)})}function kb(i){return Je(Mb(i))}function Fx(i,t){return Un(e=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?me(ie(P({},e),{guardsResult:!0})):Lx(s,n,r,i).pipe(Un(l=>l&&Dx(l)?Vx(n,o,i,t):me(l)),$e(l=>ie(P({},e),{guardsResult:l})))})}function Lx(i,t,e,n){return an(i).pipe(Un(r=>$x(r.component,r.route,e,t,n)),rr(r=>r!==!0,!0))}function Vx(i,t,e,n){return an(t).pipe(ir(r=>oc(jx(r.route.parent,n),Bx(r.route,n),zx(i,r.path,e),Ux(i,r.route,e))),rr(r=>r!==!0,!0))}function Bx(i,t){return i!==null&&t&&t(new ed(i)),me(!0)}function jx(i,t){return i!==null&&t&&t(new Zc(i)),me(!0)}function Ux(i,t,e){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return me(!0);let r=n.map(o=>Do(()=>{let s=cs(t)??e,l=ds(o,s),c=Mx(l)?l.canActivate(t,i):ln(s,()=>l(t,i));return Kr(c).pipe(rr())}));return me(r).pipe(ls())}function zx(i,t,e){let n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>xx(s)).filter(s=>s!==null).map(s=>Do(()=>{let l=s.guards.map(c=>{let u=cs(s.node)??e,g=ds(c,u),v=kx(g)?g.canActivateChild(n,i):ln(u,()=>g(n,i));return Kr(v).pipe(rr())});return me(l).pipe(ls())}));return me(o).pipe(ls())}function $x(i,t,e,n,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return me(!0);let s=o.map(l=>{let c=cs(t)??r,u=ds(l,c),g=Ox(u)?u.canDeactivate(i,t,e,n):ln(c,()=>u(i,t,e,n));return Kr(g).pipe(rr())});return me(s).pipe(ls())}function qx(i,t,e,n,r){let o=t.canLoad;if(o===void 0||o.length===0)return me(!0);let s=o.map(l=>{let c=ds(l,i),u=Rx(c)?c.canLoad(t,e):ln(i,()=>c(t,e)),g=Kr(u);return r?g.pipe(kb(r)):g});return me(s).pipe(ls(),Ob(n))}function Ob(i){return S_(Ut(t=>{if(typeof t!="boolean")throw rd(i,t)}),$e(t=>t===!0))}function Hx(i,t,e,n,r){let o=t.canMatch;if(!o||o.length===0)return me(!0);let s=o.map(l=>{let c=ds(l,i),u=Px(c)?c.canMatch(t,e):ln(i,()=>c(t,e)),g=Kr(u);return r?g.pipe(kb(r)):g});return me(s).pipe(ls(),Ob(n))}var $r=class Pb extends Error{segmentGroup;constructor(t){super(),this.segmentGroup=t||null,Object.setPrototypeOf(this,Pb.prototype)}},dm=class Nb extends Error{urlTree;constructor(t){super(),this.urlTree=t,Object.setPrototypeOf(this,Nb.prototype)}};function Wx(i){throw new oe(4e3,!1)}function Kx(i){throw Tb(!1,un.GuardRejected)}var Gx=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){return j(this,null,function*(){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return n;if(r.numberOfChildren>1||!r.children[xe])throw Wx(`${t.redirectTo}`);r=r.children[xe]}})}applyRedirectCommands(t,e,n,r,o){return j(this,null,function*(){let s=yield Yx(e,r,o);if(s instanceof ri)throw new dm(s);let l=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,n);if(s[0]==="/")throw new dm(l);return l})}applyRedirectCreateUrlTree(t,e,n,r){let o=this.createSegmentGroup(t,e.root,n,r);return new ri(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let n={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let l=o.substring(1);n[r]=e[l]}else n[r]=o}),n}createSegmentGroup(t,e,n,r){let o=this.createSegments(t,e.segments,n,r),s={};return Object.entries(e.children).forEach(([l,c])=>{s[l]=this.createSegmentGroup(t,c,n,r)}),new Qe(o,s)}createSegments(t,e,n,r){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,n))}findPosParam(t,e,n){let r=n[e.path.substring(1)];if(!r)throw new oe(4001,!1);return r}findOrReturn(t,e){let n=0;for(let r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}};function Yx(i,t,e){if(typeof i=="string")return Promise.resolve(i);let n=i,{queryParams:r,fragment:o,routeConfig:s,url:l,outlet:c,params:u,data:g,title:v}=t;return $c(Kr(ln(e,()=>n({params:u,data:g,queryParams:r,fragment:o,routeConfig:s,url:l,outlet:c,title:v}))))}var um={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qx(i,t,e,n,r,o){let s=Fb(i,t,e);return s.matched?(n=_x(t,n),Hx(n,t,e,r,o).pipe($e(l=>l===!0?s:P({},um)))):me(s)}function Fb(i,t,e){if(t.path==="**")return Xx(e);if(t.path==="")return t.pathMatch==="full"&&(i.hasChildren()||e.length>0)?P({},um):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||sb)(e,i,t);if(!r)return P({},um);let o={};Object.entries(r.posParams??{}).forEach(([l,c])=>{o[l]=c.path});let s=r.consumed.length>0?P(P({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function Xx(i){return{matched:!0,parameters:i.length>0?lb(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function ib(i,t,e,n){return e.length>0&&eA(i,e,n)?{segmentGroup:new Qe(t,Jx(n,new Qe(e,i.children))),slicedSegments:[]}:e.length===0&&tA(i,e,n)?{segmentGroup:new Qe(i.segments,Zx(i,e,n,i.children)),slicedSegments:e}:{segmentGroup:new Qe(i.segments,i.children),slicedSegments:e}}function Zx(i,t,e,n){let r={};for(let o of e)if(ad(i,t,o)&&!n[ii(o)]){let s=new Qe([],{});r[ii(o)]=s}return P(P({},n),r)}function Jx(i,t){let e={};e[xe]=t;for(let n of i)if(n.path===""&&ii(n)!==xe){let r=new Qe([],{});e[ii(n)]=r}return e}function eA(i,t,e){return e.some(n=>ad(i,t,n)&&ii(n)!==xe)}function tA(i,t,e){return e.some(n=>ad(i,t,n))}function ad(i,t,e){return(i.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function nA(i,t,e){return t.length===0&&!i.children[e]}var iA=class{};function rA(i,t,e,n,r,o,s="emptyOnly",l){return j(this,null,function*(){return new sA(i,t,e,n,r,s,o,l).recognize()})}var oA=31,sA=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,n,r,o,s,l,c){this.injector=t,this.configLoader=e,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=l,this.abortSignal=c,this.applyRedirects=new Gx(this.urlSerializer,this.urlTree)}noMatchError(t){return new oe(4002,`'${t.segmentGroup}'`)}recognize(){return j(this,null,function*(){let t=ib(this.urlTree.root,[],[],this.config).segmentGroup,{children:e,rootSnapshot:n}=yield this.match(t),r=new On(n,e),o=new Ua("",r),s=yb(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}})}match(t){return j(this,null,function*(){let e=new Hr([],Object.freeze({}),Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),xe,this.rootComponentType,null,{});try{return{children:yield this.processSegmentGroup(this.injector,this.config,t,xe,e),rootSnapshot:e}}catch(n){if(n instanceof dm)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof $r?this.noMatchError(n):n}})}processSegmentGroup(t,e,n,r,o){return j(this,null,function*(){if(n.segments.length===0&&n.hasChildren())return this.processChildren(t,e,n,o);let s=yield this.processSegment(t,e,n,n.segments,r,!0,o);return s instanceof On?[s]:[]})}processChildren(t,e,n,r){return j(this,null,function*(){let o=[];for(let c of Object.keys(n.children))c==="primary"?o.unshift(c):o.push(c);let s=[];for(let c of o){let u=n.children[c],g=yx(e,c),v=yield this.processSegmentGroup(t,g,u,c,r);s.push(...v)}let l=Lb(s);return aA(l),l})}processSegment(t,e,n,r,o,s,l){return j(this,null,function*(){for(let c of e)try{return yield this.processSegmentAgainstRoute(c._injector??t,e,c,n,r,o,s,l)}catch(u){if(u instanceof $r||Rb(u))continue;throw u}if(nA(n,r,o))return new iA;throw new $r(n)})}processSegmentAgainstRoute(t,e,n,r,o,s,l,c){return j(this,null,function*(){if(ii(n)!==s&&(s===xe||!ad(r,o,n)))throw new $r(r);if(n.redirectTo===void 0)return this.matchSegmentAgainstRoute(t,r,n,o,s,c);if(this.allowRedirects&&l)return this.expandSegmentAgainstRouteUsingRedirect(t,r,e,n,o,s,c);throw new $r(r)})}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,s,l){return j(this,null,function*(){let{matched:c,parameters:u,consumedSegments:g,positionalParamSegments:v,remainingSegments:C}=Fb(e,r,o);if(!c)throw new $r(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>oA&&(this.allowRedirects=!1));let A=new Hr(o,u,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,rb(r),ii(r),r.component??r._loadedComponent??null,r,ob(r)),I=id(A,l,this.paramsInheritanceStrategy);if(A.params=Object.freeze(I.params),A.data=Object.freeze(I.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let R=yield this.applyRedirects.applyRedirectCommands(g,r.redirectTo,v,A,t),F=yield this.applyRedirects.lineralizeSegments(r,R);return this.processSegment(t,n,e,F.concat(C),s,!1,l)})}matchSegmentAgainstRoute(t,e,n,r,o,s){return j(this,null,function*(){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let l=yield $c(Qx(e,n,r,t,this.urlSerializer,this.abortSignal));if(n.path==="**"&&(e.children={}),!l?.matched)throw new $r(e);t=n._injector??t;let{routes:c}=yield this.getChildConfig(t,n,r),u=n._loadedInjector??t,{parameters:g,consumedSegments:v,remainingSegments:C}=l,A=new Hr(v,g,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,rb(n),ii(n),n.component??n._loadedComponent??null,n,ob(n)),I=id(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(I.params),A.data=Object.freeze(I.data);let{segmentGroup:R,slicedSegments:F}=ib(e,v,C,c);if(F.length===0&&R.hasChildren()){let Z=yield this.processChildren(u,c,R,A);return new On(A,Z)}if(c.length===0&&F.length===0)return new On(A,[]);let U=ii(n)===o,X=yield this.processSegment(u,c,R,F,U?xe:o,!0,A);return new On(A,X instanceof On?[X]:[])})}getChildConfig(t,e,n){return j(this,null,function*(){if(e.children)return{routes:e.children,injector:t};if(e.loadChildren){if(e._loadedRoutes!==void 0)return{routes:e._loadedRoutes,injector:e._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(yield $c(qx(t,e,n,this.urlSerializer,this.abortSignal))){let o=yield this.configLoader.loadChildren(t,e);return e._loadedRoutes=o.routes,e._loadedInjector=o.injector,o}throw Kx(e)}return{routes:[],injector:t}})}};function aA(i){i.sort((t,e)=>t.value.outlet===xe?-1:e.value.outlet===xe?1:t.value.outlet.localeCompare(e.value.outlet))}function lA(i){let t=i.value.routeConfig;return t&&t.path===""}function Lb(i){let t=[],e=new Set;for(let n of i){if(!lA(n)){t.push(n);continue}let r=t.find(o=>n.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...n.children),e.add(r)):t.push(n)}for(let n of e){let r=Lb(n.children);t.push(new On(n.value,r))}return t.filter(n=>!e.has(n))}function rb(i){return i.data||{}}function ob(i){return i.resolve||{}}var cA=new H("",{factory:()=>rA});function dA(i,t,e,n,r,o,s){let l=i.get(cA);return Un(c=>me(c).pipe(vt(u=>l(i,t,e,n,u.extractedUrl,r,o,s)),$e(({state:u,tree:g})=>ie(P({},c),{targetSnapshot:u,urlAfterRedirects:g}))))}function uA(i,t){return Un(e=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return me(e);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of Vb(c))s.add(u);let l=0;return an(s).pipe(ir(c=>o.has(c)?hA(c,n,i,t):(c.data=id(c,c.parent,i).resolve,me(void 0))),Ut(()=>l++),wh(1),Un(c=>l===s.size?me(e):Jn))})}function Vb(i){let t=i.children.map(e=>Vb(e)).flat();return[i,...t]}function hA(i,t,e,n){let r=i.routeConfig,o=i._resolve;return r?.title!==void 0&&!Ib(r)&&(o[$a]=r.title),Do(()=>(i.data=id(i,i.parent,e).resolve,mA(o,i,t,n).pipe($e(s=>(i._resolvedData=s,i.data=P(P({},i.data),s),null)))))}function mA(i,t,e,n){let r=tm(i);if(r.length===0)return me({});let o={};return an(r).pipe(Un(s=>pA(i[s],t,e,n).pipe(rr(),Ut(l=>{if(l instanceof as)throw rd(new Li,l);o[s]=l}))),wh(1),$e(()=>o),sc(s=>Rb(s)?Jn:I_(s)))}function pA(i,t,e,n){let r=cs(t)??n,o=ds(i,r),s=o.resolve?o.resolve(t,e):ln(r,()=>o(t,e));return Kr(s)}function Jh(i){return vt(t=>{let e=i(t);return e?an(e).pipe($e(()=>t)):me(t)})}var fm=(()=>{class i{buildTitle(e){let n,r=e.root;for(;r!==void 0;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(o=>o.outlet===xe);return n}getResolvedTitleForRoute(e){return e.data[$a]}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:()=>_(Bb),providedIn:"root"})}return i})(),Bb=(()=>{class i extends fm{title;constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||i)(_e(Lc))};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),wr=new H("",{factory:()=>({})}),Qr=new H(""),ld=(()=>{class i{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=_(Q_);loadComponent(e,n){return j(this,null,function*(){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Promise.resolve(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=j(this,null,function*(){try{let o=yield cb(ln(e,()=>n.loadComponent())),s=yield zb(Ub(o));return this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s,s}finally{this.componentLoaders.delete(n)}});return this.componentLoaders.set(n,r),r})}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return Promise.resolve({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let r=j(this,null,function*(){try{let o=yield jb(n,this.compiler,e,this.onLoadEndListener);return n._loadedRoutes=o.routes,n._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(n)}});return this.childrenLoaders.set(n,r),r}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function jb(i,t,e,n){return j(this,null,function*(){let r=yield cb(ln(e,()=>i.loadChildren())),o=yield zb(Ub(r)),s;o instanceof j_||Array.isArray(o)?s=o:s=yield t.compileModuleAsync(o),n&&n(i);let l,c,u=!1;return Array.isArray(s)?(c=s,u=!0):(l=s.create(e).injector,c=l.get(Qr,[],{optional:!0,self:!0}).flat()),{routes:c.map(pm),injector:l}})}function fA(i){return i&&typeof i=="object"&&"default"in i}function Ub(i){return fA(i)?i.default:i}function zb(i){return j(this,null,function*(){return i})}var cd=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:()=>_(gA),providedIn:"root"})}return i})(),gA=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),gm=new H(""),_m=new H("");function $b(i,t,e){let n=i.get(_m),r=i.get(De);if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),l=r.startViewTransition(()=>(o(),_A(i)));l.updateCallbackDone.catch(u=>{}),l.ready.catch(u=>{}),l.finished.catch(u=>{});let{onViewTransitionCreated:c}=n;return c&&ln(i,()=>c({transition:l,from:t,to:e})),s}function _A(i){return new Promise(t=>{bn({read:()=>setTimeout(t)},{injector:i})})}var yA=()=>{},ym=new H(""),dd=(()=>{class i{currentNavigation=Ve(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Ve(null);events=new de;transitionAbortWithErrorSubject=new de;configLoader=_(ld);environmentInjector=_(zt);destroyRef=_(Ro);urlSerializer=_(Gr);rootContexts=_(Yr);location=_(lr);inputBindingEnabled=_(Ha,{optional:!0})!==null;titleStrategy=_(fm);options=_(wr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=_(cd);createViewTransition=_(gm,{optional:!0});navigationErrorHandler=_(ym,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>me(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new Qc(r)),n=r=>this.events.next(new Xc(r));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;Mi(()=>{this.transitions?.next(ie(P({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:n}))})}setupNavigations(e){return this.transitions=new yn(null),this.transitions.pipe(Ge(n=>n!==null),vt(n=>{let r=!1,o=new AbortController;return me(n).pipe(vt(s=>{if(this.navigationId>n.id)return this.cancelNavigationTransition(n,"",un.SupersededByNewNavigation),Jn;this.currentTransition=n;let l=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:l?ie(P({},l),{previousNavigation:null}):null,abort:()=>o.abort()});let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&u!=="reload")return this.events.next(new bi(s.id,this.urlSerializer.serialize(s.rawUrl),"",ns.IgnoredSameUrlNavigation)),s.resolve(!1),Jn;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return me(s).pipe(vt(g=>(this.events.next(new vr(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),g.id!==this.navigationId?Jn:Promise.resolve(g))),dA(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),Ut(g=>{n.targetSnapshot=g.targetSnapshot,n.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation.update(C=>(C.finalUrl=g.urlAfterRedirects,C));let v=new Va(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(v)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:g,extractedUrl:v,source:C,restoredState:A,extras:I}=s,R=new vr(g,this.urlSerializer.serialize(v),C,A);this.events.next(R);let F=Eb(this.rootComponentType).snapshot;return this.currentTransition=n=ie(P({},s),{targetSnapshot:F,urlAfterRedirects:v,extras:ie(P({},I),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(U=>(U.finalUrl=v,U)),me(n)}else return this.events.next(new bi(s.id,this.urlSerializer.serialize(s.extractedUrl),"",ns.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Jn}),Ut(s=>{let l=new Wc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}),$e(s=>(this.currentTransition=n=ie(P({},s),{guards:Ix(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),n)),Fx(this.environmentInjector,s=>this.events.next(s)),Ut(s=>{if(n.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw rd(this.urlSerializer,s.guardsResult);let l=new Kc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(l)}),Ge(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",un.GuardRejected),!1)),Jh(s=>{if(s.guards.canActivateChecks.length!==0)return me(s).pipe(Ut(l=>{let c=new Gc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),vt(l=>{let c=!1;return me(l).pipe(uA(this.paramsInheritanceStrategy,this.environmentInjector),Ut({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(l,"",un.NoDataFromResolver)}}))}),Ut(l=>{let c=new Yc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}))}),Jh(s=>{let l=u=>{let g=[];if(u.routeConfig?._loadedComponent)u.component=u.routeConfig?._loadedComponent;else if(u.routeConfig?.loadComponent){let v=cs(u)??this.environmentInjector;g.push(this.configLoader.loadComponent(v,u.routeConfig).then(C=>{u.component=C}))}for(let v of u.children)g.push(...l(v));return g},c=l(s.targetSnapshot.root);return c.length===0?me(s):an(Promise.all(c).then(()=>s))}),Jh(()=>this.afterPreactivation()),vt(()=>{let{currentSnapshot:s,targetSnapshot:l}=n,c=this.createViewTransition?.(this.environmentInjector,s.root,l.root);return c?an(c).pipe($e(()=>n)):me(n)}),$e(s=>{let l=vx(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=n=ie(P({},s),{targetRouterState:l}),this.currentNavigation.update(c=>(c.targetRouterState=l,c)),n}),Ut(()=>{this.events.next(new Ba)}),Sx(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),zn(1),Je(Mb(o.signal).pipe(Ge(()=>!r&&!n.targetRouterState),Ut(()=>{this.cancelNavigationTransition(n,o.signal.reason+"",un.Aborted)}))),Ut({next:s=>{r=!0,this.currentNavigation.update(l=>(l.abort=yA,l)),this.lastSuccessfulNavigation.set(Mi(this.currentNavigation)),this.events.next(new hn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),Je(this.transitionAbortWithErrorSubject.pipe(Ut(s=>{throw s}))),ua(()=>{o.abort(),r||this.cancelNavigationTransition(n,"",un.SupersededByNewNavigation),this.currentTransition?.id===n.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),sc(s=>{if(this.destroyed)return n.resolve(!1),Jn;if(r=!0,Db(s))this.events.next(new yi(n.id,this.urlSerializer.serialize(n.extractedUrl),s.message,s.cancellationCode)),Ex(s)?this.events.next(new ss(s.url,s.navigationBehaviorOptions)):n.resolve(!1);else{let l=new is(n.id,this.urlSerializer.serialize(n.extractedUrl),s,n.targetSnapshot??void 0);try{let c=ln(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(c instanceof as){let{message:u,cancellationCode:g}=rd(this.urlSerializer,c);this.events.next(new yi(n.id,this.urlSerializer.serialize(n.extractedUrl),u,g)),this.events.next(new ss(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(l),s}catch(c){this.options.resolveNavigationPromiseOnError?n.resolve(!1):n.reject(c)}}return Jn}))}))}cancelNavigationTransition(e,n,r){let o=new yi(e.id,this.urlSerializer.serialize(e.extractedUrl),n,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=Mi(this.currentNavigation),r=n?.targetBrowserUrl??n?.extractedUrl;return e.toString()!==r?.toString()&&!n?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function bA(i){return i!==es}var qb=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:()=>_(vA),providedIn:"root"})}return i})(),sd=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},vA=(()=>{class i extends sd{static \u0275fac=(()=>{let e;return function(r){return(e||(e=ki(i)))(r||i)}})();static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),bm=(()=>{class i{urlSerializer=_(Gr);options=_(wr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=_(lr);urlHandlingStrategy=_(cd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ri;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:n,targetBrowserUrl:r}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,n):n,s=r??o;return s instanceof ri?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:n,initialUrl:r}){n&&e?(this.currentUrlTree=n,this.rawUrlTree=this.urlHandlingStrategy.merge(n,r),this.routerState=e):this.rawUrlTree=r}routerState=Eb(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:()=>_(Hb),providedIn:"root"})}return i})(),Hb=(()=>{class i extends bm{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&setTimeout(()=>{e(n.url,n.state,"popstate")})})}handleRouterEvent(e,n){e instanceof vr?this.updateStateMemento():e instanceof bi?this.commitTransition(n):e instanceof Va?this.urlUpdateStrategy==="eager"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof Ba?(this.commitTransition(n),this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof yi&&e.code!==un.SupersededByNewNavigation&&e.code!==un.Redirect?this.restoreHistory(n):e instanceof is?this.restoreHistory(n,!0):e instanceof hn&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:n,id:r}){let{replaceUrl:o,state:s}=n;if(this.location.isCurrentPathEqualTo(e)||o){let l=this.browserPageId,c=P(P({},s),this.generateNgRouterState(r,l));this.location.replaceState(e,"",c)}else{let l=P(P({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(e,"",l)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=ki(i)))(r||i)}})();static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function ud(i,t){i.events.pipe(Ge(e=>e instanceof hn||e instanceof yi||e instanceof is||e instanceof bi),$e(e=>e instanceof hn||e instanceof bi?0:(e instanceof yi?e.code===un.Redirect||e.code===un.SupersededByNewNavigation:!1)?2:1),Ge(e=>e!==2),zn(1)).subscribe(()=>{t()})}var wA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},CA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Dt=(()=>{class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=_(U_);stateManager=_(bm);options=_(wr,{optional:!0})||{};pendingTasks=_(k_);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=_(dd);urlSerializer=_(Gr);location=_(lr);urlHandlingStrategy=_(cd);injector=_(zt);_events=new de;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=_(qb);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=_(Qr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!_(Ha,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new rt;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let r=this.navigationTransitions.currentTransition,o=Mi(this.navigationTransitions.currentNavigation);if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(n,o),n instanceof yi&&n.code!==un.Redirect&&n.code!==un.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof hn)this.navigated=!0;else if(n instanceof ss){let s=n.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),c=P({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||bA(r.source)},s);this.scheduleNavigation(l,es,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}gx(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),es,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n,r)=>{this.navigateToSyncWithBrowser(e,r,n)})}navigateToSyncWithBrowser(e,n,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let c=P({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(e);this.scheduleNavigation(l,n,s,o).catch(c=>{this.disposed||this.injector.get(dc)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Mi(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(pm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:l,preserveFragment:c}=n,u=c?this.currentUrlTree.fragment:s,g=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":g=P(P({},this.currentUrlTree.queryParams),o);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=o||null}g!==null&&(g=this.removeEmptyProps(g));let v;try{let C=r?r.snapshot:this.routerState.snapshot.root;v=bb(C)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),v=this.currentUrlTree.root}return vb(v,e,g,u??null,this.urlSerializer)}navigateByUrl(e,n={skipLocationChange:!1}){let r=br(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,es,null,n)}navigate(e,n={skipLocationChange:!1}){return EA(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(Eh(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,n){let r;if(n===!0?r=P({},wA):n===!1?r=P({},CA):r=n,br(e))return Zy(this.currentUrlTree,e,r);let o=this.parseUrl(e);return Zy(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((n,[r,o])=>(o!=null&&(n[r]=o),n),{})}scheduleNavigation(e,n,r,o,s){if(this.disposed)return Promise.resolve(!1);let l,c,u;s?(l=s.resolve,c=s.reject,u=s.promise):u=new Promise((v,C)=>{l=v,c=C});let g=this.pendingTasks.add();return ud(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(v=>Promise.reject(v))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function EA(i){for(let t=0;t<i.length;t++)if(i[t]==null)throw new oe(4008,!1)}var vi=(()=>{class i{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Ve(null);get href(){return Mi(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new de;applicationErrorHandler=_(dc);options=_(wr,{optional:!0});constructor(e,n,r,o,s,l){this.router=e,this.route=n,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=l,this.reactiveHref.set(_(new Oo("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement&&(this.setTabIndexIfNotOnNativeEl("0"),this.subscribeToNavigationEventsIfNecessary())}subscribeToNavigationEventsIfNecessary(){this.subscription===void 0&&(this.subscription=this.router.events.subscribe(e=>{e instanceof hn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(br(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,n,r,o,s){let l=this.urlTree;if(l===null||this.isAnchorElement&&(e!==0||n||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,n){let r=this.renderer,o=this.el.nativeElement;n!==null?r.setAttribute(o,e,n):r.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:br(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(n){return new(n||i)(te(Dt),te(Be),O_("tabindex"),te(xt),te(ke),te(va))};static \u0275dir=Fe({type:i,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(n,r){n&1&&$("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),n&2&&Oe("href",r.reactiveHref(),L_)("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Pe],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Pe],replaceUrl:[2,"replaceUrl","replaceUrl",Pe],routerLink:"routerLink"},features:[ht]})}return i})(),wm=(()=>{class i{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new ue;link=_(vi,{optional:!0});constructor(e,n,r,o){this.router=e,this.element=n,this.renderer=r,this.cdr=o,this.routerEventsSubscription=e.events.subscribe(s=>{s instanceof hn&&this.update()})}ngAfterContentInit(){me(this.links.changes,me(null)).pipe(ca()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=an(e).pipe(ca()).subscribe(n=>{this._isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(e){let n=Array.isArray(e)?e:e.split(" ");this.classes=n.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(n=>{e?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let n=SA(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?e.isActive(o,n):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(n){return new(n||i)(te(Dt),te(ke),te(xt),te(dt))};static \u0275dir=Fe({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,o){if(n&1&&sr(o,vi,5),n&2){let s;Se(s=Ie())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[ht]})}return i})();function SA(i){return!!i.paths}var Ga=class{};var Wb=(()=>{class i{router;injector;preloadingStrategy;loader;subscription;constructor(e,n,r,o){this.router=e,this.injector=n,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ge(e=>e instanceof hn),ir(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription?.unsubscribe()}processRoutes(e,n){let r=[];for(let o of n){o.providers&&!o._injector&&(o._injector=fc(o.providers,e,""));let s=o._injector??e,l=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(l,o.children??o._loadedRoutes))}return an(r).pipe(ca())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let r;n.loadChildren&&n.canLoad===void 0?r=an(this.loader.loadChildren(e,n)):r=me(null);let o=r.pipe(Un(s=>s===null?me(void 0):(n._loadedRoutes=s.routes,n._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(n.loadComponent&&!n._loadedComponent){let s=this.loader.loadComponent(e,n);return an([o,s]).pipe(ca())}else return o})}static \u0275fac=function(n){return new(n||i)(_e(Dt),_e(zt),_e(Ga),_e(ld))};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Kb=new H(""),IA=(()=>{class i{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=es;restoredId=0;store={};constructor(e,n,r,o,s={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=r,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof vr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof hn?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof bi&&e.code===ns.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{if(!(e instanceof os))return;let n={behavior:"instant"};e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],n):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position,n):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>j(this,null,function*(){yield new Promise(r=>{setTimeout(r),typeof requestAnimationFrame<"u"&&requestAnimationFrame(r)}),this.zone.run(()=>{this.transitions.events.next(new os(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(n){pc()};static \u0275prov=K({token:i,factory:i.\u0275fac})}return i})();function Cm(i,...t){return ot([{provide:Qr,multi:!0,useValue:i},[],{provide:Be,useFactory:Gb},{provide:Mh,multi:!0,useFactory:Yb},t.map(e=>e.\u0275providers)])}function Gb(){return _(Dt).routerState.root}function Ya(i,t){return{\u0275kind:i,\u0275providers:t}}function Yb(){let i=_(be);return t=>{let e=i.get(Br);if(t!==e.components[0])return;let n=i.get(Dt),r=i.get(Qb);i.get(Em)===1&&n.initialNavigation(),i.get(Jb,null,{optional:!0})?.setUpPreloading(),i.get(Kb,null,{optional:!0})?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Qb=new H("",{factory:()=>new de}),Em=new H("",{factory:()=>1});function Xb(){let i=[{provide:F_,useValue:!0},{provide:Em,useValue:0},Rh(()=>{let t=_(be);return t.get(ay,Promise.resolve()).then(()=>new Promise(n=>{let r=t.get(Dt),o=t.get(Qb);ud(r,()=>{n(!0)}),t.get(dd).afterPreactivation=()=>(n(!0),o.closed?me(void 0):o),r.initialNavigation()}))})];return Ya(2,i)}function Zb(){let i=[Rh(()=>{_(Dt).setUpLocationChangeListener()}),{provide:Em,useValue:2}];return Ya(3,i)}var Jb=new H("");function e0(i){return Ya(0,[{provide:Jb,useExisting:Wb},{provide:Ga,useExisting:i}])}function t0(){return Ya(8,[mm,{provide:Ha,useExisting:mm}])}function n0(i){mc("NgRouterViewTransitions");let t=[{provide:gm,useValue:$b},{provide:_m,useValue:P({skipNextTransition:!!i?.skipInitialTransition},i)}];return Ya(9,t)}var i0=[lr,{provide:Gr,useClass:Li},Dt,Yr,{provide:Be,useFactory:Gb},ld,[]],Vi=(()=>{class i{constructor(){}static forRoot(e,n){return{ngModule:i,providers:[i0,[],{provide:Qr,multi:!0,useValue:e},[],n?.errorHandler?{provide:ym,useValue:n.errorHandler}:[],{provide:wr,useValue:n||{}},n?.useHash?AA():TA(),xA(),n?.preloadingStrategy?e0(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?DA(n):[],n?.bindToComponentInputs?t0().\u0275providers:[],n?.enableViewTransitions?n0().\u0275providers:[],RA()]}}static forChild(e){return{ngModule:i,providers:[{provide:Qr,multi:!0,useValue:e}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({})}return i})();function xA(){return{provide:Kb,useFactory:()=>{let i=_(my),t=_(ee),e=_(wr),n=_(dd),r=_(Gr);return e.scrollOffset&&i.setOffset(e.scrollOffset),new IA(r,n,i,t,e)}}}function AA(){return{provide:va,useClass:cy}}function TA(){return{provide:va,useClass:ly}}function DA(i){return[i.initialNavigation==="disabled"?Zb().\u0275providers:[],i.initialNavigation==="enabledBlocking"?Xb().\u0275providers:[]]}var vm=new H("");function RA(){return[{provide:vm,useFactory:Yb},{provide:Mh,multi:!0,useExisting:vm}]}var MA=(i,t,e)=>({"navbar-dark":i,"navbar-light bg-light":t,"signed-in":e}),kA=i=>["/",i],OA=(i,t)=>({"btn-outline-light":i,"btn-outline-dark":t}),PA=i=>({"arabic-font":i}),r0=(i,t)=>["/",i,"category",t];function NA(i,t){if(i&1){let e=fe();p(0,"div",2)(1,"button",13),$("click",function(){L(e);let r=D();return V(r.callWaiter())}),y(2),f()()}if(i&2){let e=D();h(),q("disabled",e.waiterRequested),h(),z(" ",e.isArabic?e.waiterRequested?"\u062A\u0645 \u0627\u0644\u0637\u0644\u0628":"\u0627\u0637\u0644\u0628 \u0627\u0644\u0646\u0627\u062F\u0644":e.waiterRequested?"Requested":"Call a waiter"," ")}}function FA(i,t){if(i&1&&(p(0,"li",6)(1,"a",14),G(2,"i"),p(3,"span"),y(4),f()()()),i&2){let e=t.$implicit,n=D();h(),q("routerLink",Mo(4,r0,n.currentRestId,e.key)),h(),Mn(e.icon+" category-icon"),h(2),M(n.isArabic?e.nameArabic:e.name)}}function LA(i,t){if(i&1&&(p(0,"a",11),G(1,"i"),p(2,"span"),y(3),f()()),i&2){let e=t.$implicit,n=D();q("routerLink",Mo(4,r0,n.currentRestId,e.key)),h(),Mn(e.icon),h(2),M(n.isArabic?e.nameArabic:e.name)}}var hd=class i{constructor(t,e,n,r){this.languageService=t;this.router=e;this.tableSession=n;this.route=r}isArabic=!1;isLightTheme=!1;categories=[];signedIn=!1;session=null;waiterRequested=!1;currentRestId="";ngOnInit(){return j(this,null,function*(){this.languageService.isArabic$.subscribe(o=>{this.isArabic=o}),this.isArabic=this.languageService.getCurrentLanguage(),this.tableSession.signedIn$.subscribe(o=>this.signedIn=o),this.tableSession.session$.subscribe(o=>{this.session=o,o?.restId&&(this.currentRestId=o.restId)});let t=(this.router.url.split("/")[1]||"").trim();if(t&&t!=="cart"&&(this.currentRestId=t),this.router.events.pipe(Ge(o=>o instanceof hn)).subscribe(()=>{let o=(this.router.url.split("/")[1]||"").trim();o&&o!=="cart"&&(this.currentRestId=o)}),!this.currentRestId){let o=(this.router.url.split("/")[1]||"").trim();o&&o!=="cart"&&(this.currentRestId=o)}let{firebaseService:e}=yield import("./chunk-BTLS5AZD.js"),r=(yield e.getCategories(this.currentRestId))||{};this.categories=Object.entries(r).map(([o,s])=>({key:o,name:s?.name||"",nameArabic:s?.nameArabic||"",icon:s?.icon||"fas fa-utensils"}))})}toggleLanguage(){this.languageService.toggleLanguage()}callWaiter(){return j(this,null,function*(){!this.signedIn||!this.session||(this.waiterRequested=!0,setTimeout(()=>{this.waiterRequested=!1},3e3))})}static \u0275fac=function(e){return new(e||i)(te(qt),te(Dt),te(hr),te(Be))};static \u0275cmp=ne({type:i,selectors:[["app-root"]],decls:19,vars:20,consts:[[1,"navbar","navbar-expand-lg","sticky-top","px-4",3,"ngClass"],[1,"container"],[1,"nav-left","d-lg-none"],[1,"navbar-brand",3,"routerLink"],["id","navbarContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mx-auto","mb-2","mb-lg-0"],[1,"nav-item"],[1,"nav-actions","ms-auto","d-flex","align-items-center","gap-2"],[1,"btn","btn-sm",3,"click","ngClass"],[1,"category-nav-mobile",3,"dir"],[1,"scrollable-nav"],["routerLinkActive","active",1,"category-item",3,"routerLink"],[3,"dir","ngClass"],[1,"btn","btn-sm","btn-waiter",2,"padding","0.5rem",3,"click","disabled"],["routerLinkActive","active",1,"nav-link","d-flex","flex-column","align-items-center",3,"routerLink"]],template:function(e,n){e&1&&(p(0,"nav",0)(1,"div",1),Y(2,NA,3,2,"div",2),p(3,"a",3),y(4),f(),p(5,"div",4)(6,"ul",5),we(7,FA,5,7,"li",6,Ue),f()(),p(9,"div",7)(10,"button",8),$("click",function(){return n.toggleLanguage()}),y(11),f()()()(),p(12,"div",9)(13,"div",1)(14,"div",10),we(15,LA,4,7,"a",11,Ue),f()()(),p(17,"main",12),G(18,"router-outlet"),f()),e&2&&(q("ngClass",gc(9,MA,!n.isLightTheme,n.isLightTheme,n.signedIn&&n.session)),h(2),Q(n.signedIn&&n.session?2:-1),h(),q("routerLink",Oh(13,kA,n.currentRestId)),h(),M(n.isArabic?"\u0637\u0644\u0629 \u064A\u0627\u0641\u0627":"Talat Yafa"),h(3),Ce(n.categories),h(3),q("ngClass",Mo(15,OA,!n.isLightTheme,n.isLightTheme)),h(),z(" ",n.isArabic?"English":"\u0639\u0631\u0628\u064A"," "),h(),q("dir",n.isArabic?"rtl":"ltr"),h(3),Ce(n.categories),h(2),q("dir",n.isArabic?"rtl":"ltr")("ngClass",Oh(18,PA,n.isArabic)))},dependencies:[Vi,qa,vi,wm,cn,Cn],styles:[".navbar[_ngcontent-%COMP%]{padding-left:.2rem!important;box-shadow:0 2px 4px #0000001a;transition:all .3s ease;background-color:var(--secondary-color)}.navbar-brand[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem}.nav-link[_ngcontent-%COMP%]{font-size:.9rem;margin:0 .5rem;transition:all .3s ease;text-align:center;padding:.5rem .75rem;border-radius:8px}.nav-link[_ngcontent-%COMP%]:hover{color:var(--primary-color)!important;transform:translateY(-2px)}.nav-link.active[_ngcontent-%COMP%]{color:var(--primary-color)!important;font-weight:700;background-color:rgba(var(--primary-color-rgb),.1)}.category-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.25rem;display:block}.category-icon.fa-bounce[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_custom-bounce 5s cubic-bezier(.28,.84,.42,1) infinite}@keyframes _ngcontent-%COMP%_custom-bounce{0%{transform:translateY(0)}10%{transform:translateY(-8px)}20%{transform:translateY(0)}to{transform:translateY(0)}}.category-icon.fa-flip[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_custom-flip 5s linear infinite}@keyframes _ngcontent-%COMP%_custom-flip{0%{transform:rotateY(0)}20%{transform:rotateY(180deg)}40%{transform:rotateY(0)}to{transform:rotateY(0)}}.category-icon.fa-shake[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_custom-shake 5s linear infinite}@keyframes _ngcontent-%COMP%_custom-shake{0%,to{transform:translate(0)}5%{transform:translate(-5px)}10%{transform:translate(5px)}15%{transform:translate(-5px)}20%{transform:translate(5px)}25%{transform:translate(0)}to{transform:translate(0)}}.category-icon.fa-beat[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_custom-beat 5s linear infinite}@keyframes _ngcontent-%COMP%_custom-beat{0%,to{transform:scale(1)}10%{transform:scale(1.2)}20%,99%{transform:scale(1)}}.category-icon.fa-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_custom-spin 5s linear infinite}@keyframes _ngcontent-%COMP%_custom-spin{0%{transform:rotate(0)}20%{transform:rotate(360deg)}to{transform:rotate(360deg)}}.category-icon.fa-beat-fade[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_custom-beat-fade 5s linear infinite}@keyframes _ngcontent-%COMP%_custom-beat-fade{0%,to{opacity:1;transform:scale(1)}10%{opacity:.7;transform:scale(1.2)}20%,99%{opacity:1;transform:scale(1)}}.category-icon.fa-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_custom-pulse 5s linear infinite}@keyframes _ngcontent-%COMP%_custom-pulse{0%,to{transform:scale(1)}10%{transform:scale(1.1)}20%,99%{transform:scale(1)}}.category-icon.fa-fade[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_custom-fade 5s linear infinite}@keyframes _ngcontent-%COMP%_custom-fade{0%,to{opacity:1}10%{opacity:.5}20%,99%{opacity:1}}.category-nav-mobile[_ngcontent-%COMP%]{display:none;background-color:#fff;padding:10px 0;position:sticky;top:56px;z-index:1000;box-shadow:0 2px 4px #0000000d}.scrollable-nav[_ngcontent-%COMP%]{display:flex;overflow-x:auto;padding:5px 0;-webkit-overflow-scrolling:touch;scrollbar-width:none}.scrollable-nav[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.category-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:8px 15px;min-width:80px;text-decoration:none;color:var(--text-color);font-size:.8rem;border-radius:8px;transition:all .3s ease}.category-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:5px}.category-item.active[_ngcontent-%COMP%]{background-color:rgba(var(--primary-color-rgb, 233, 78, 27),.1);color:var(--primary-color);font-weight:700}.category-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);color:var(--primary-color)}.nav-actions[_ngcontent-%COMP%]{z-index:1050;position:relative}.btn-waiter[_ngcontent-%COMP%]{background:var(--primary-color, #e94e1b);border-color:var(--primary-color, #e94e1b);color:#fff;box-shadow:0 6px 14px rgba(var(--primary-color-rgb, 233, 78, 27),.35)}main[_ngcontent-%COMP%]{min-height:calc(100vh - 160px);padding-bottom:20px}[dir=rtl][_ngcontent-%COMP%]   .ms-auto[_ngcontent-%COMP%]{margin-right:auto!important;margin-left:0!important}.arabic-font[_ngcontent-%COMP%]{font-family:Tajawal,Poppins,sans-serif}@media(min-width:992px){main[_ngcontent-%COMP%]{padding-bottom:0}.category-nav-mobile[_ngcontent-%COMP%]{display:none}}@media(max-width:991.98px){.category-nav-mobile[_ngcontent-%COMP%]{display:block}.navbar-nav[_ngcontent-%COMP%]{display:none}main[_ngcontent-%COMP%]{padding-top:10px}.navbar.signed-in[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:8px}.navbar.signed-in[_ngcontent-%COMP%]   .nav-left[_ngcontent-%COMP%]{grid-column:1;justify-self:start}.navbar.signed-in[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{grid-column:2;justify-self:center}.navbar.signed-in[_ngcontent-%COMP%]   .nav-actions[_ngcontent-%COMP%]{grid-column:3;justify-self:end}}"]})};var VA=(i,t)=>["/",i,"category",t];function BA(i,t){i&1&&G(0,"div",2)}function jA(i,t){if(i&1&&(p(0,"a",8)(1,"div",9),G(2,"i"),f(),p(3,"span"),y(4),f()()),i&2){let e=t.$implicit,n=D();q("routerLink",Mo(4,VA,(n.session==null?null:n.session.restId)||n.restId,e.key)),h(2),Mn(e.icon),h(2),M(n.isArabic?e.nameArabic:e.name)}}var Qa=class i{constructor(t,e,n){this.languageService=t;this.tableSession=e;this.route=n}isArabic=!1;restaurant=null;categories=[];session=null;signedIn=!1;restId="";ngOnInit(){return j(this,null,function*(){this.languageService.isArabic$.subscribe(r=>this.isArabic=r),this.isArabic=this.languageService.getCurrentLanguage();let e=this.route.snapshot.paramMap.get("restId")||"";if(this.restId=e,!e)return;let n=yield Wn.getRestaurantById(e);if(n){this.restaurant=n;let r=n.menu?.categories||{};(!r||Object.keys(r).length===0)&&(r=(yield Wn.getCategories(e))||{}),this.categories=Object.entries(r).map(([o,s])=>({key:o,name:s.name||"",nameArabic:s.nameArabic||"",icon:s.icon||"fas fa-utensils"}))}this.tableSession.signedIn$.subscribe(r=>this.signedIn=r),this.tableSession.session$.subscribe(r=>this.session=r)})}getTableDisplayName(){let t=this.session;return t?t.tableName||t.tableId:""}checkout(){return j(this,null,function*(){yield this.tableSession.checkout()})}static \u0275fac=function(e){return new(e||i)(te(qt),te(hr),te(Be))};static \u0275cmp=ne({type:i,selectors:[["app-home"]],decls:14,vars:4,consts:[[1,"hero-banner","text-white"],[1,"overlay","d-flex","align-items-center","justify-content-center","text-center"],[1,"mb-3"],[1,"display-4","fw-bold"],[1,"lead"],[1,"explore-menu","mt-5"],[1,"mb-4",2,"color","white"],[1,"category-links"],[1,"category-link",3,"routerLink"],[1,"icon-container"]],template:function(e,n){e&1&&(p(0,"div",0)(1,"div",1)(2,"div"),Y(3,BA,1,0,"div",2),p(4,"h1",3),y(5),f(),p(6,"p",4),y(7),f(),p(8,"div",5)(9,"h4",6),y(10),f(),p(11,"div",7),we(12,jA,5,7,"a",8,Ue),f()()()()()),e&2&&(h(3),Q(n.signedIn&&n.session?3:-1),h(2),z(" ",n.isArabic?"\u0645\u0631\u062D\u0628\u0627\u064B \u0628\u0643\u0645 \u0641\u064A "+((n.restaurant==null?null:n.restaurant.restArabicName)||""):"Welcome to "+((n.restaurant==null?null:n.restaurant.restName)||"")," "),h(2),z(" ",n.isArabic?(n.restaurant==null?null:n.restaurant.restArabicPhrase)||"":(n.restaurant==null?null:n.restaurant.restPhrase)||""," "),h(3),M(n.isArabic?"\u0627\u0643\u062A\u0634\u0641 \u0646\u0643\u0647\u0627\u062A\u0646\u0627 \u0627\u0644\u0631\u0627\u0626\u0639\u0629":"Explore Our Menu"),h(2),Ce(n.categories))},dependencies:[Vi,vi],styles:[".hero-banner[_ngcontent-%COMP%]{background-image:url(https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&w=1600&q=80);background-size:cover;background-position:center;height:100vh;position:relative;overflow-y:auto}.overlay[_ngcontent-%COMP%]{background-color:#0009;height:100%;width:100%;padding:2rem;display:flex;align-items:center;justify-content:center}.explore-menu[_ngcontent-%COMP%]{margin-top:2rem}.category-links[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:1.5rem;max-width:900px;margin:0 auto}.category-link[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-decoration:none;color:#fff;transition:all .3s ease;padding:.5rem;border-radius:8px;width:110px;text-align:center}.category-link[_ngcontent-%COMP%]:hover{transform:translateY(-5px);background-color:#ffffff1a}.icon-container[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem;display:flex;align-items:center;justify-content:center;height:50px;width:50px;border-radius:50%;background-color:#fff3;transition:all .3s ease}.category-link[_ngcontent-%COMP%]:hover   .icon-container[_ngcontent-%COMP%]{background-color:#ff6b6bcc}@media(max-width:768px){.category-links[_ngcontent-%COMP%]{gap:.75rem}.category-link[_ngcontent-%COMP%]{width:90px;font-size:.85rem}.icon-container[_ngcontent-%COMP%]{height:40px;width:40px;font-size:1.2rem}}"]})};var UA=()=>["/cart"];function zA(i,t){if(i&1){let e=fe();p(0,"div",7)(1,"div",10),$("click",function(){let r=L(e).$implicit,o=D();return V(o.openModal(r))}),p(2,"div",11),G(3,"img",12),f(),p(4,"div",13)(5,"div",14)(6,"h4",15),y(7),f(),p(8,"div",16),y(9),f()()()()()}if(i&2){let e=t.$implicit,n=D();h(3),q("src",e.image,$n)("alt",n.isArabic?e.nameArabic:e.name),h(4),M(n.isArabic?e.nameArabic:e.name),h(2),z("",e.price,"\u20AA")}}function $A(i,t){if(i&1&&G(0,"img",12),i&2){let e=D(2);q("src",e.selectedItem.image,$n)("alt",e.isArabic?e.selectedItem.nameArabic:e.selectedItem.name)}}function qA(i,t){if(i&1&&(p(0,"li"),y(1),f()),i&2){let e=t.$implicit;h(),z(" ",e," ")}}function HA(i,t){if(i&1&&(p(0,"span",43),y(1),f()),i&2){let e=D().$implicit;h(),z(" +\u20AA",e.add)}}function WA(i,t){if(i&1){let e=fe();p(0,"span",42),$("click",function(r){let o=L(e).$index;return D(4).selectChoice(o),V(r.stopPropagation())}),y(1),Y(2,HA,2,1,"span",43),f()}if(i&2){let e=t.$implicit,n=t.$index,r=D(4);ge("active",r.selectedChoiceIndex===n),h(),z(" ",e.label),h(),Q(e.add?2:-1)}}function KA(i,t){if(i&1&&(p(0,"div",27)(1,"h6",25),y(2),f(),p(3,"div",40),we(4,WA,3,4,"span",41,Ue),f()()),i&2){let e=D(3);h(2),M(e.isArabic?"\u0627\u062E\u062A\u0631 \u062E\u064A\u0627\u0631\u0627\u064B:":"Select a choice:"),h(2),Ce(e.choiceDisplay)}}function GA(i,t){if(i&1){let e=fe();p(0,"div",37)(1,"textarea",44),le("ngModelChange",function(r){L(e);let o=D(3);return ae(o.notes,r)||(o.notes=r),V(r)}),f()()}if(i&2){let e=D(3);h(),q("placeholder",K_(e.isArabic?"\u0627\u0643\u062A\u0628 \u0645\u0644\u0627\u062D\u0638\u0627\u062A\u0643 \u0647\u0646\u0627...":"Write your notes here...")),se("ngModel",e.notes)}}function YA(i,t){if(i&1&&(p(0,"span"),y(1),f()),i&2){let e=D(3);h(),M(e.justAdded?e.isArabic?"\u0639\u0631\u0636 \u0627\u0644\u0633\u0644\u0629":"View in cart":e.isArabic?"\u0623\u0636\u0641 \u0625\u0644\u0649 \u0627\u0644\u0633\u0644\u0629":"Add to cart")}}function QA(i,t){i&1&&G(0,"span",39)}function XA(i,t){if(i&1){let e=fe();p(0,"div"),Y(1,KA,6,1,"div",27),p(2,"div",28)(3,"div",29)(4,"button",30),$("click",function(){L(e);let r=D(2);return V(r.decQty())}),y(5,"\u2212"),f(),p(6,"input",31),$("change",function(r){L(e);let o=D(2);return V(o.setQtyModal(+r.target.value))}),f(),p(7,"button",32),$("click",function(){L(e);let r=D(2);return V(r.incQty())}),y(8,"+"),f()(),p(9,"div",33)(10,"small"),y(11),f(),p(12,"div",34),y(13),f()()(),p(14,"div",27)(15,"button",35),$("click",function(){L(e);let r=D(2);return V(r.showNotes=!r.showNotes)}),y(16),G(17,"span",36),f(),Y(18,GA,2,3,"div",37),f(),p(19,"button",38),$("click",function(){L(e);let r=D(2);return V(r.onPrimaryCta())}),Y(20,YA,2,1,"span"),Y(21,QA,1,0,"span",39),f()()}if(i&2){let e=D(2);h(),Q(e.hasChoices?1:-1),h(3),q("disabled",e.quantity<=1),h(2),q("value",e.quantity),h(5),M(e.isArabic?"\u0627\u0644\u0645\u062C\u0645\u0648\u0639":"Total"),h(2),z("",(((e.selectedItem==null?null:e.selectedItem.price)||0)+e.selectedChoiceAdd)*e.quantity,"\u20AA"),h(3),z(" ",e.isArabic?"\u0645\u0644\u0627\u062D\u0638\u0627\u062A":"Notes"," "),h(),q("innerText",e.showNotes?"\u25B2":"\u25BC"),h(),Q(e.showNotes?18:-1),h(),q("disabled",e.placingOrder||e.hasChoices&&e.selectedChoiceIndex===null),h(),Q(e.placingOrder?-1:20),h(),Q(e.placingOrder?21:-1)}}function ZA(i,t){if(i&1&&(p(0,"div",26),y(1),f()),i&2){let e=D(2);h(),z(" ",e.isArabic?"\u0627\u0644\u0631\u062C\u0627\u0621 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0639\u0628\u0631 \u0631\u0627\u0628\u0637 \u0627\u0644\u0637\u0627\u0648\u0644\u0629 \u0644\u0637\u0644\u0628 \u0647\u0630\u0627 \u0627\u0644\u0637\u0628\u0642.":"Please sign in via your table link to order this item."," ")}}function JA(i,t){if(i&1){let e=fe();p(0,"div",17),$("click",function(){L(e);let r=D();return V(r.closeModal())}),p(1,"div",18),$("click",function(r){return L(e),V(r.stopPropagation())}),p(2,"div",19),Y(3,$A,1,2,"img",12),f(),p(4,"div",20)(5,"div",21)(6,"h3",22),y(7),f(),p(8,"div",23),y(9),f()(),p(10,"div",24)(11,"h6",25),y(12),f(),p(13,"div")(14,"ul"),we(15,qA,2,1,"li",null,Ue),f()()(),Y(17,XA,22,11,"div")(18,ZA,2,1,"div",26),f()()()}if(i&2){let e=D();q("dir",e.isArabic?"rtl":"ltr"),h(3),Q(e.selectedItem?3:-1),h(4),M(e.isArabic?e.selectedItem==null?null:e.selectedItem.nameArabic:e.selectedItem==null?null:e.selectedItem.name),h(2),z("",e.selectedItem==null?null:e.selectedItem.price,"\u20AA"),h(3),M(e.isArabic?"\u0627\u0644\u0645\u0643\u0648\u0646\u0627\u062A:":"Ingredients:"),h(3),Ce(e.isArabic?e.selectedItem==null?null:e.selectedItem.ingredientsArabic:e.selectedItem==null?null:e.selectedItem.ingredients),h(2),Q(e.signedIn&&e.session?17:18)}}function eT(i,t){if(i&1&&(p(0,"a",9),Ri(),p(1,"svg",45),G(2,"path",46),f()()),i&2){let e=D();q("routerLink",ar(2,UA)),Oe("aria-label",e.isArabic?"\u0627\u0644\u0633\u0644\u0629":"Cart")}}var md=class i{constructor(t,e,n,r){this.languageService=t;this.route=e;this.tableSession=n;this.router=r}isArabic=!1;name="";nameArabic="";catPhrase="";catArabicPhrase="";icon="";items=[];restId=null;signedIn=!1;session=null;showModal=!1;selectedItem=null;quantity=1;notes="";placingOrder=!1;showNotes=!1;justAdded=!1;selectedChoiceIndex=null;ngOnInit(){return j(this,null,function*(){this.languageService.isArabic$.subscribe(t=>this.isArabic=t),this.isArabic=this.languageService.getCurrentLanguage(),this.route.paramMap.subscribe(t=>j(this,null,function*(){let e=t.get("categoryKey"),n=t.get("restId");if(n&&(this.restId=n),!e)return;let r=this.restId||"";if(!r)return;let o=Wn.getCategoryFromCache(r,e);o?(this.name=o.name||"",this.nameArabic=o.nameArabic||"",this.catPhrase=o.catPhrase||"",this.catArabicPhrase=o.catArabicPhrase||"",this.icon=o.icon||"fas fa-utensils",this.items=o.items?Object.values(o.items):[]):(this.name="",this.nameArabic="",this.catPhrase="",this.catArabicPhrase="",this.icon="fas fa-utensils",this.items=[]);try{let s=yield Wn.getCategory(r,e);s&&(this.name=s.name||"",this.nameArabic=s.nameArabic||"",this.catPhrase=s.catPhrase||"",this.catArabicPhrase=s.catArabicPhrase||"",this.icon=s.icon||"fas fa-utensils",this.items=s.items?Object.values(s.items):[])}catch{}})),this.tableSession.signedIn$.subscribe(t=>this.signedIn=t),this.tableSession.session$.subscribe(t=>{this.session=t,t?.restId&&(this.restId=t.restId)})})}openModal(t){this.selectedItem=t,this.quantity=1,this.notes="",this.showModal=!0,this.showNotes=!1,this.justAdded=!1,this.selectedChoiceIndex=this.hasChoices?0:null}closeModal(){this.showModal=!1,this.selectedItem=null,this.placingOrder=!1}decQty(){this.quantity>1&&this.quantity--}incQty(){this.quantity++}setQtyModal(t){let e=Math.max(1,Number(t)||1);this.quantity=e}get structuredOptions(){let t=this.selectedItem?.choiceOptions;return Array.isArray(t)?t.filter(e=>e&&(e.en||e.ar)):null}get currentChoices(){let t=this.isArabic?this.selectedItem?.choicesArabic:this.selectedItem?.choices;return Array.isArray(t)?t.filter(e=>!!e):[]}get choiceDisplay(){let t=this.structuredOptions;return t&&t.length?t.map(e=>({label:this.isArabic?e.ar||e.en||"":e.en||e.ar||"",add:Number(e.add)||0})):this.currentChoices.map(e=>({label:e,add:0}))}get selectedChoiceAdd(){let t=this.structuredOptions;return t&&t.length&&this.selectedChoiceIndex!=null&&t[this.selectedChoiceIndex]&&Number(t[this.selectedChoiceIndex].add)||0}get hasChoices(){return this.choiceDisplay.length>0}selectChoice(t){this.selectedChoiceIndex=t}onPrimaryCta(){if(this.justAdded){this.router.navigate(["/cart"]);return}this.placeOrder()}placeOrder(){return j(this,null,function*(){if(!this.signedIn||!this.session||!this.restId||!this.selectedItem)return;let t=Array.isArray(this.selectedItem.choices)?this.selectedItem.choices:[],e=Array.isArray(this.selectedItem.choicesArabic)?this.selectedItem.choicesArabic:[],n=Array.isArray(this.selectedItem.choiceOptions)?this.selectedItem.choiceOptions:[],r=n.length>0,o=r?n.length>0:t&&t.length||e&&e.length,s=null,l=null,c=0;if(this.selectedChoiceIndex!=null)if(r){let u=n[this.selectedChoiceIndex];u&&(s=u.en||null,l=u.ar||null,c=Number(u.add)||0)}else s=t[this.selectedChoiceIndex]??null,l=e[this.selectedChoiceIndex]??null;if(!(o&&this.selectedChoiceIndex===null)){this.placingOrder=!0;try{let u=`restaurants/${this.restId}/tables/${this.session.tableId}/order`,g=qn(Hn,u),v=this.selectedItem.name,C=this.selectedItem.nameArabic,A=this.notes?.trim()||"";if(A===""){let R=yield ur(g);if(R.exists()){let F=R.val(),U=null,X=0;for(let[Z,W]of Object.entries(F)){let Ae=W,ye=(Ae.details??"").trim(),x=Ae.choiceEn??null,w=Ae.choiceAr??null,E=s||l?x===s&&w===l:!x&&!w;if(ye===""&&(Ae.name===v||Ae.name===C)&&(Ae.state??"unordered")==="unordered"&&E){U=Z,X=Number(Ae.quantity)||0;break}}if(U){yield gy(qn(Hn,`${u}/${U}`),{quantity:X+this.quantity,ts:Date.now()}),this.justAdded=!0,this.placingOrder=!1;return}}}let I={name:this.isArabic?C:v,details:A,quantity:this.quantity,ts:Date.now(),state:"unordered",unitPrice:(this.selectedItem.price||0)+(c||0),choiceEn:s||null,choiceAr:l||null};yield fy(g,I),this.justAdded=!0,this.placingOrder=!1}catch(u){console.error("Failed to place order:",u),this.placingOrder=!1}}})}static \u0275fac=function(e){return new(e||i)(te(qt),te(Be),te(hr),te(Dt))};static \u0275cmp=ne({type:i,selectors:[["app-category"]],decls:13,vars:4,consts:[[1,"category-container"],[1,"container","py-5"],[1,"section-header","text-center","mb-5"],[1,"display-5","fw-bold"],[1,"divider","mx-auto"],[1,"lead","text-muted"],[1,"row","g-4"],[1,"col-md-6","col-lg-4"],[1,"item-modal-overlay",3,"dir"],[1,"cart-fab-right",3,"routerLink"],[1,"product-card",3,"click"],[1,"product-image"],[3,"src","alt"],[1,"product-details"],[1,"item-wrap"],[1,"product-title"],[1,"price-tag"],[1,"item-modal-overlay",3,"click","dir"],[1,"item-modal",3,"click"],[1,"modal-image"],[1,"modal-body"],[1,"d-flex","align-items-center","justify-content-between","mb-3"],[1,"mb-0"],[1,"price-chip"],[1,"ingredients","mb-3"],[1,"mb-2"],["role","alert",1,"alert","alert-warning","mt-3"],[1,"mb-3"],[1,"d-flex","align-items-center","justify-content-between","mb-4"],[1,"qty-ctrl"],["type","button",1,"round","minus",3,"click","disabled"],["type","number","min","1",1,"qty-input",3,"change","value"],["type","button",1,"round","plus",3,"click"],[1,"total-price"],[1,"h5","mb-0"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],[3,"innerText"],[1,"mt-2"],["type","button",1,"btn","btn-order","w-100",3,"click","disabled"],[1,"spinner-border","spinner-border-sm"],[1,"choice-group"],[1,"choice-chip",3,"active"],[1,"choice-chip",3,"click"],[1,"choice-add"],["rows","3",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","24","height","24","fill","currentColor","aria-hidden","true",1,"icon"],["d","M7 18c-.83 0-1.5.67-1.5 1.5S6.17 21 7 21s1.5-.67 1.5-1.5S7.83 18 7 18zm10 0c-.83 0-1.5.67-1.5 1.5S16.17 21 17 21s1.5-.67 1.5-1.5S17.83 18 17 18zM7.16 14.26h9.97c.68 0 1.28-.43 1.49-1.08l2.07-6.21A1.25 1.25 0 0 0 19.52 5H6.21L5.7 3.65A1.5 1.5 0 0 0 4.21 2.63H3a1 1 0 1 0 0 2h1.21l3.18 8.44-.73 1.88a1.5 1.5 0 0 0 1.5 2.06h10.59a1 1 0 1 0 0-2H8.16l.53-1.35z"]],template:function(e,n){e&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),y(4),f(),G(5,"div",4),p(6,"p",5),y(7),f()(),p(8,"div",6),we(9,zA,10,4,"div",7,Ue),f()(),Y(11,JA,19,6,"div",8),Y(12,eT,3,3,"a",9),f()),e&2&&(h(4),M(n.isArabic?n.nameArabic:n.name),h(3),z(" ",n.isArabic?n.catArabicPhrase:n.catPhrase," "),h(2),Ce(n.items),h(2),Q(n.showModal?11:-1),h(),Q(n.signedIn?12:-1))},dependencies:[At,Gt,Yt,Qt,Vi,vi],styles:['.product-card[_ngcontent-%COMP%]{background:var(--card-bg, #ffffff);border-radius:16px;box-shadow:0 6px 18px #00000014;overflow:hidden;transition:transform .25s ease,box-shadow .25s ease;cursor:pointer;height:100%;display:flex;flex-direction:column}.cart-fab-right[_ngcontent-%COMP%]{position:fixed;right:24px;bottom:calc(24px + env(safe-area-inset-bottom,0px));z-index:5000;width:60px;height:60px;border:none;border-radius:18px;background:#f1f2f5;box-shadow:0 12px 24px #0003;display:grid;place-items:center}.cart-fab-right[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:22px;line-height:1;color:var(--primary-color, #ff6b6b)}.cart-fab-left[_ngcontent-%COMP%]{position:fixed;left:28px;bottom:28px;z-index:5000;width:60px;height:60px;border:none;border-radius:18px;background:#f1f2f5;box-shadow:0 12px 24px #0003;display:grid;place-items:center}.cart-fab-left[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:22px;line-height:1;color:var(--primary-color, #ff6b00)}@media(min-width:992px){.cart-fab-left[_ngcontent-%COMP%]{left:28px;bottom:28px}}.product-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 24px #0000001f}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:220px;object-fit:cover;display:block}.product-details[_ngcontent-%COMP%]{padding:16px}.product-title[_ngcontent-%COMP%]{margin:0 0 6px;display:inline-block}.item-wrap[_ngcontent-%COMP%]{position:relative;padding-inline-end:72px}.price-tag[_ngcontent-%COMP%]{position:absolute;top:0;inset-inline-end:0;display:inline-block;background:rgba(var(--primary-color-rgb, 255, 107, 107),.1);color:var(--primary-color, #ff6b6b);padding:4px 10px;border-radius:999px;font-weight:600;margin-bottom:10px;font-family:Tajawal,Poppins,sans-serif}.ingredients[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:700}.ingredients[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:18px;margin:0}.item-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:2000;animation:_ngcontent-%COMP%_overlayFade .2s ease}@keyframes _ngcontent-%COMP%_overlayFade{0%{opacity:0}to{opacity:1}}.item-modal[_ngcontent-%COMP%]{background:#fff;width:min(90vw,680px);max-height:85vh;border-radius:20px;overflow:hidden;box-shadow:0 20px 50px #00000040;transform:translateY(8px) scale(.98);animation:_ngcontent-%COMP%_modalPop .25s ease forwards;font-family:inherit;display:flex;flex-direction:column}@keyframes _ngcontent-%COMP%_modalPop{to{transform:translateY(0) scale(1)}}.btn-close[_ngcontent-%COMP%]{position:absolute;top:12px;inset-inline-end:12px;background:#0009;border:none;width:32px;height:32px;border-radius:50%;color:#fff;display:grid;place-items:center}.btn-close[_ngcontent-%COMP%]:before{content:"\\2715";font-size:16px;line-height:1}.modal-image[_ngcontent-%COMP%]{background:#fff;display:grid;place-items:center}.modal-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:260px;object-fit:cover;display:block}.modal-body[_ngcontent-%COMP%]{padding:18px 18px 22px;overflow-y:auto}.price-chip[_ngcontent-%COMP%]{background:rgba(var(--primary-color-rgb, 255, 107, 107),.1);color:var(--primary-color, #ff6b6b);padding:6px 12px;border-radius:999px;font-weight:700}.choice-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.choice-chip[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;border-radius:99px;border:1px solid #d1d5db;background:#f5f6f8;color:var(--text-color, #212529);font-weight:700;cursor:pointer;-webkit-user-select:none;user-select:none}.choice-chip.active[_ngcontent-%COMP%]{background:rgba(var(--primary-color-rgb, 255, 107, 107),.12);color:var(--primary-color, #ff6b6b);border-color:var(--primary-color, #ff6b6b)}.choice-add[_ngcontent-%COMP%]{color:var(--primary-color, #ff6b6b);font-weight:700;margin-inline-start:6px}.qty-ctrl[_ngcontent-%COMP%]{background:rgba(var(--primary-color-rgb, 255, 107, 107),.08);border-radius:14px;padding:6px 8px;display:inline-flex;align-items:center;gap:10px;box-shadow:inset 0 0 0 1px #00000008}.round[_ngcontent-%COMP%]{width:38px;height:38px;border-radius:12px;border:none;display:grid;place-items:center;font-size:18px;font-weight:800;color:#fff;transition:transform .1s ease;background:var(--primary-color, #ff6b6b)}.round[_ngcontent-%COMP%]:active{transform:scale(.98)}.round.minus[_ngcontent-%COMP%], .round.plus[_ngcontent-%COMP%]{background:var(--primary-color, #ff6b6b)}.qty-input[_ngcontent-%COMP%]{width:56px;height:36px;border:none;background:transparent;text-align:center;font-weight:900;font-size:16px;color:var(--text-color, #212529)}.qty-input[_ngcontent-%COMP%]:focus{outline:none}.qty-control[_ngcontent-%COMP%]{display:inline-flex;gap:10px;align-items:center;background:#f5f6f8;padding:8px 12px;border-radius:999px}.btn-qty[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;border:none;background:var(--secondary-color, #4ecdc4);color:#fff;font-size:18px;line-height:1;display:inline-flex;align-items:center;justify-content:center;padding:0}.qty-value[_ngcontent-%COMP%]{min-width:28px;text-align:center;font-weight:700}.btn-order[_ngcontent-%COMP%]{background:var(--primary-color, #ff6b6b);color:#fff;border:none;padding:12px 16px;border-radius:12px;font-weight:700;box-shadow:0 8px 16px #ff6b6b59;transition:transform .2s ease,box-shadow .2s ease}.btn-order[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 10px 18px #ff6b6b73}.total-price[_ngcontent-%COMP%]   .h5[_ngcontent-%COMP%]{color:var(--text-color, #212529);font-weight:700}@media(max-width:576px){.item-modal[_ngcontent-%COMP%]{width:96vw;max-height:80vh;border-radius:16px}.modal-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px}.modal-body[_ngcontent-%COMP%]{padding:14px 14px 18px}.btn-qty[_ngcontent-%COMP%]{width:36px;height:36px;font-size:16px}.qty-value[_ngcontent-%COMP%]{min-width:24px}}']})};function tT(i,t){if(i&1&&(p(0,"option",23),y(1),f()),i&2){let e=t.$implicit,n=D();q("value",e.key),h(),z(" ",n.isArabic?e.value.nameArabic:e.value.name," ")}}function nT(i,t){if(i&1&&(p(0,"span",38),y(1),f()),i&2){let e=D();h(),M(e.selectedFileName)}}function iT(i,t){if(i&1){let e=fe();p(0,"button",56),$("click",function(){L(e);let r=D();return V(r.clearPendingFile())}),y(1),f()}if(i&2){let e=D();q("disabled",e.uploading),h(),M(e.isArabic?"\u0625\u0632\u0627\u0644\u0629":"Clear")}}function rT(i,t){if(i&1&&(p(0,"div",41),G(1,"img",57),f()),i&2){let e=D();h(),q("src",e.previewUrl,$n)}}function oT(i,t){if(i&1&&(p(0,"div",43)(1,"div",58),G(2,"div",59),f(),p(3,"span"),y(4),f()()),i&2){let e=D();h(2),Ni("width",e.uploadProgress,"%"),h(2),z("",e.uploadProgress,"%")}}function sT(i,t){if(i&1&&(p(0,"span",62),y(1),f()),i&2){let e=D().$implicit;h(),z(" +\u20AA",e.add)}}function aT(i,t){if(i&1){let e=fe();p(0,"span",60),$("click",function(){let r=L(e).$index,o=D();return V(o.editChoiceAt(r))}),p(1,"span",61),y(2),Y(3,sT,2,1,"span",62),f(),p(4,"button",63),$("click",function(r){let o=L(e).$index,s=D();return V(s.removeChoiceAt(o,r))}),y(5,"\xD7"),f()()}if(i&2){let e=t.$implicit,n=t.$index,r=D();ge("active",r.choiceEditIndex===n),h(2),ti("",e.ar," / ",e.en),h(),Q(e.add?3:-1)}}var pd=class i{constructor(t,e,n,r){this.menuService=t;this.http=e;this.languageService=n;this.route=r}restaurantId="";categories={};selectedCategoryId="";newCategory={name:"",nameArabic:"",catPhrase:"",catArabicPhrase:"",icon:"",section:"kitchen"};newItem={name:"",nameArabic:"",price:0,image:"",ingredients:"",ingredientsArabic:"",choices:"",choicesArabic:""};choiceDraft={en:"",ar:"",add:0};choiceEditIndex=null;choiceOptions=[];previewUrl=null;uploading=!1;uploadProgress=0;pendingFile=null;selectedFileName=null;isArabic=!1;workerUrl="https://presigned-url-worker.a2-menu-worker.workers.dev/";ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t),this.menuService.getCategories(this.restaurantId).subscribe(e=>{this.categories=e||{}}),this.languageService.isArabic$.subscribe(e=>this.isArabic=e)}addCategory(){this.menuService.addCategory(this.restaurantId,this.newCategory).then(()=>{alert(this.isArabic?"\u062A\u0645\u062A \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0641\u0626\u0629!":"Category added!"),this.newCategory={name:"",nameArabic:"",catPhrase:"",catArabicPhrase:"",icon:"",section:"kitchen"}})}addItem(){return j(this,null,function*(){if(!this.selectedCategoryId){alert(this.isArabic?"\u0627\u062E\u062A\u0631 \u0641\u0626\u0629 \u0623\u0648\u0644\u0627\u064B!":"Select a category first!");return}try{if(this.pendingFile){this.uploading=!0,this.uploadProgress=0;let e=yield this.uploadViaWorker(this.pendingFile);this.newItem.image=e}let t=ie(P({},this.newItem),{ingredients:this.newItem.ingredients.split(",").map(e=>e.trim()).filter(e=>e.length>0),ingredientsArabic:this.newItem.ingredientsArabic.split(",").map(e=>e.trim()).filter(e=>e.length>0),choices:this.choiceOptions.map(e=>e.en).filter(e=>e&&e.length>0),choicesArabic:this.choiceOptions.map(e=>e.ar).filter(e=>e&&e.length>0),choiceOptions:this.choiceOptions.map(e=>({en:e.en,ar:e.ar,add:Number(e.add)||0}))});yield this.menuService.addItem(this.restaurantId,this.selectedCategoryId,t),alert(this.isArabic?"\u062A\u0645\u062A \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0639\u0646\u0635\u0631!":"Item added!"),this.newItem={name:"",nameArabic:"",price:0,image:"",ingredients:"",ingredientsArabic:"",choices:"",choicesArabic:""},this.choiceOptions=[],this.choiceDraft={en:"",ar:"",add:0},this.choiceEditIndex=null,this.clearPendingFile()}catch(t){console.error("Error adding item:",t),alert(this.isArabic?"\u0641\u0634\u0644 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0639\u0646\u0635\u0631. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.":"Failed to add item. Please try again.")}finally{this.uploading=!1,this.uploadProgress=0}})}addOrUpdateChoice(){let t=(this.choiceDraft.en||"").trim(),e=(this.choiceDraft.ar||"").trim(),n=Number(this.choiceDraft.add)||0;if(!t||!e)return;let r={en:t,ar:e,add:n};this.choiceEditIndex!=null?this.choiceOptions[this.choiceEditIndex]=r:this.choiceOptions.push(r),this.resetChoiceDraft()}editChoiceAt(t){if(this.choiceEditIndex===t){this.resetChoiceDraft();return}let e=this.choiceOptions[t];e&&(this.choiceDraft={en:e.en,ar:e.ar,add:e.add},this.choiceEditIndex=t)}removeChoiceAt(t,e){e?.stopPropagation(),this.choiceEditIndex===t&&this.resetChoiceDraft(),this.choiceOptions.splice(t,1)}resetChoiceDraft(){this.choiceDraft={en:"",ar:"",add:0},this.choiceEditIndex=null}onFileSelected(t){let e=t.target.files?.[0]||null;if(e){if(!this.selectedCategoryId){alert(this.isArabic?"\u0627\u062E\u062A\u0631 \u0641\u0626\u0629 \u0623\u0648\u0644\u0627\u064B\u060C \u062B\u0645 \u0627\u062E\u062A\u0631 \u0635\u0648\u0631\u0629.":"Select a category first, then choose an image.");return}this.previewUrl&&URL.revokeObjectURL(this.previewUrl),this.previewUrl=URL.createObjectURL(e),this.pendingFile=e,this.selectedFileName=e.name}}uploadViaWorker(t){return j(this,null,function*(){let e=new FormData;e.append("file",t,t.name),e.append("pathPrefix",`restaurants/${this.restaurantId}/categories/${this.selectedCategoryId}/new`);let n=this.http.post(`${this.workerUrl}upload`,e,{reportProgress:!0,observe:"events"});return yield new Promise((r,o)=>{n.subscribe({next:s=>{if(s.type===kn.UploadProgress&&s.total)this.uploadProgress=Math.round(s.loaded/s.total*100);else if(s.type===kn.Response){let c=(s.body||{}).publicUrl;if(!c){o(new Error("Worker did not return publicUrl"));return}r(c)}},error:s=>o(s)})})})}clearPendingFile(){this.pendingFile=null,this.selectedFileName=null,this.previewUrl&&(URL.revokeObjectURL(this.previewUrl),this.previewUrl=null)}static \u0275fac=function(e){return new(e||i)(te(nn),te(Xo),te(qt),te(Be))};static \u0275cmp=ne({type:i,selectors:[["app-manage-menu"]],decls:128,vars:53,consts:[["addImageInput",""],[1,"container","py-4"],[1,"row","align-items-stretch"],[1,"col-md-6","mb-4"],[1,"card","h-100"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"card-body"],[1,"mb-3"],[1,"form-label"],["type","text","placeholder","Enter name in English",1,"form-control",3,"ngModelChange","ngModel"],["type","text","dir","rtl","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0639\u0631\u0628\u064A\u0629",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","Enter category phrase",1,"form-control",3,"ngModelChange","ngModel"],["type","text","dir","rtl","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0639\u0628\u0627\u0631\u0629 \u0628\u0627\u0644\u0639\u0631\u0628\u064A\u0629",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-select",3,"ngModelChange","ngModel"],["value","kitchen"],["value","bar"],["value","hookah"],["type","text","placeholder","Enter icon URL",1,"form-control",3,"ngModelChange","ngModel"],[1,"card-actions"],[1,"btn","btn-primary","bb-add-category",3,"click"],[1,"bi","bi-plus-circle","me-2"],[1,"card-header","bg-success","text-white"],[3,"value"],[1,"row"],[1,"col-md-6","mb-3"],["type","text","placeholder","Enter item name",1,"form-control",3,"ngModelChange","ngModel"],["type","text","dir","rtl","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0633\u0645 \u0627\u0644\u0639\u0646\u0635\u0631",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-6","mb-3","f-width"],[1,"input-group"],[1,"input-group-text"],["type","number","placeholder","0.00",1,"form-control",3,"ngModelChange","ngModel"],[1,"upload-area"],[1,"upload-horizontal"],[1,"upload-card"],["type","file","accept","image/*","hidden","",3,"change","disabled"],["type","button",1,"btn","btn-success",3,"click","disabled"],[1,"upload-meta"],[1,"file-name"],["type","btn btn-success",1,"clear-btn",3,"disabled"],[1,"preview-title"],[1,"preview"],[1,"upload-hint-inline"],[1,"upload-progress"],["type","text","placeholder","Enter ingredients, separated by commas",1,"form-control",3,"ngModelChange","ngModel"],["type","text","dir","rtl","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0645\u0643\u0648\u0646\u0627\u062A \u0645\u0641\u0635\u0648\u0644\u0629 \u0628\u0641\u0648\u0627\u0635\u0644",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","g-2","align-items-end"],[1,"col-md-4"],["type","text","dir","rtl","placeholder","\u0645\u062B\u0627\u0644: \u0635\u063A\u064A\u0631",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g., Small",1,"form-control",3,"ngModelChange","ngModel"],["type","number","placeholder","0",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-grid"],["type","button",1,"btn","btn-success",3,"click"],[1,"choice-group","mt-2"],[1,"choice-chip",3,"active"],[1,"btn","btn-success",3,"click","disabled"],["type","btn btn-success",1,"clear-btn",3,"click","disabled"],["alt","Image preview",3,"src"],[1,"progress"],[1,"progress-bar"],[1,"choice-chip",3,"click"],[1,"chip-text"],[1,"choice-add"],["type","button",1,"chip-close",3,"click"]],template:function(e,n){if(e&1){let r=fe();p(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h5",6),y(6),f()(),p(7,"div",7)(8,"div",8)(9,"label",9),y(10),f(),p(11,"input",10),le("ngModelChange",function(s){return L(r),ae(n.newCategory.name,s)||(n.newCategory.name=s),V(s)}),f()(),p(12,"div",8)(13,"label",9),y(14),f(),p(15,"input",11),le("ngModelChange",function(s){return L(r),ae(n.newCategory.nameArabic,s)||(n.newCategory.nameArabic=s),V(s)}),f()(),p(16,"div",8)(17,"label",9),y(18),f(),p(19,"input",12),le("ngModelChange",function(s){return L(r),ae(n.newCategory.catPhrase,s)||(n.newCategory.catPhrase=s),V(s)}),f()(),p(20,"div",8)(21,"label",9),y(22),f(),p(23,"input",13),le("ngModelChange",function(s){return L(r),ae(n.newCategory.catArabicPhrase,s)||(n.newCategory.catArabicPhrase=s),V(s)}),f()(),p(24,"div",8)(25,"label",9),y(26),f(),p(27,"select",14),le("ngModelChange",function(s){return L(r),ae(n.newCategory.section,s)||(n.newCategory.section=s),V(s)}),p(28,"option",15),y(29),f(),p(30,"option",16),y(31),f(),p(32,"option",17),y(33),f()()(),p(34,"div",8)(35,"label",9),y(36),f(),p(37,"input",18),le("ngModelChange",function(s){return L(r),ae(n.newCategory.icon,s)||(n.newCategory.icon=s),V(s)}),f()(),p(38,"div",19)(39,"button",20),$("click",function(){return L(r),V(n.addCategory())}),G(40,"i",21),y(41),f()()()()(),p(42,"div",3)(43,"div",4)(44,"div",22)(45,"h5",6),y(46),f()(),p(47,"div",7)(48,"div",8)(49,"label",9),y(50),f(),p(51,"select",14),le("ngModelChange",function(s){return L(r),ae(n.selectedCategoryId,s)||(n.selectedCategoryId=s),V(s)}),we(52,tT,2,2,"option",23,Ue),et(54,"keyvalue"),f()(),p(55,"div",24)(56,"div",25)(57,"label",9),y(58),f(),p(59,"input",26),le("ngModelChange",function(s){return L(r),ae(n.newItem.name,s)||(n.newItem.name=s),V(s)}),f()(),p(60,"div",25)(61,"label",9),y(62),f(),p(63,"input",27),le("ngModelChange",function(s){return L(r),ae(n.newItem.nameArabic,s)||(n.newItem.nameArabic=s),V(s)}),f()()(),p(64,"div",24)(65,"div",28)(66,"label",9),y(67),f(),p(68,"div",29)(69,"span",30),y(70,"\u20AA"),f(),p(71,"input",31),le("ngModelChange",function(s){return L(r),ae(n.newItem.price,s)||(n.newItem.price=s),V(s)}),f()()(),p(72,"div",28)(73,"div",32)(74,"label",9),y(75),f(),p(76,"div",33)(77,"div",34)(78,"input",35,0),$("change",function(s){return L(r),V(n.onFileSelected(s))}),f(),p(80,"button",36),$("click",function(){L(r);let s=Ct(79);return V(s.click())}),y(81),f(),p(82,"div",37),Y(83,nT,2,1,"span",38),Y(84,iT,2,2,"button",39),f()(),p(85,"p",40),y(86),f(),Y(87,rT,2,1,"div",41),p(88,"small",42),y(89),f()(),Y(90,oT,5,3,"div",43),f()()(),p(91,"div",8)(92,"label",9),y(93),f(),p(94,"input",44),le("ngModelChange",function(s){return L(r),ae(n.newItem.ingredients,s)||(n.newItem.ingredients=s),V(s)}),f()(),p(95,"div",8)(96,"label",9),y(97),f(),p(98,"input",45),le("ngModelChange",function(s){return L(r),ae(n.newItem.ingredientsArabic,s)||(n.newItem.ingredientsArabic=s),V(s)}),f()(),p(99,"div",8)(100,"label",9),y(101),f(),p(102,"div",46)(103,"div",47)(104,"label",9),y(105),f(),p(106,"input",48),le("ngModelChange",function(s){return L(r),ae(n.choiceDraft.ar,s)||(n.choiceDraft.ar=s),V(s)}),f()(),p(107,"div",47)(108,"label",9),y(109),f(),p(110,"input",49),le("ngModelChange",function(s){return L(r),ae(n.choiceDraft.en,s)||(n.choiceDraft.en=s),V(s)}),f()(),p(111,"div",47)(112,"label",9),y(113),f(),p(114,"div",29)(115,"span",30),y(116,"\u20AA"),f(),p(117,"input",50),le("ngModelChange",function(s){return L(r),ae(n.choiceDraft.add,s)||(n.choiceDraft.add=s),V(s)}),f()()(),p(118,"div",51)(119,"button",52),$("click",function(){return L(r),V(n.addOrUpdateChoice())}),y(120),f()()(),p(121,"div",53),we(122,aT,6,5,"span",54,Ue),f()(),p(124,"div",19)(125,"button",55),$("click",function(){return L(r),V(n.addItem())}),G(126,"i",21),y(127),f()()()()()()()}e&2&&(h(6),M(n.isArabic?"\u0625\u0636\u0627\u0641\u0629 \u0641\u0626\u0629 \u062C\u062F\u064A\u062F\u0629":"Add New Category"),h(4),M(n.isArabic?"\u0627\u0644\u0627\u0633\u0645 (\u0625\u0646\u062C\u0644\u064A\u0632\u064A)":"Name (EN)"),h(),se("ngModel",n.newCategory.name),h(3),M(n.isArabic?"\u0627\u0644\u0627\u0633\u0645 (\u0639\u0631\u0628\u064A)":"Name (AR)"),h(),se("ngModel",n.newCategory.nameArabic),h(3),M(n.isArabic?"\u0627\u0644\u0639\u0628\u0627\u0631\u0629 (\u0625\u0646\u062C\u0644\u064A\u0632\u064A)":"Phrase (EN)"),h(),se("ngModel",n.newCategory.catPhrase),h(3),M(n.isArabic?"\u0627\u0644\u0639\u0628\u0627\u0631\u0629 (\u0639\u0631\u0628\u064A)":"Phrase (AR)"),h(),se("ngModel",n.newCategory.catArabicPhrase),h(3),M(n.isArabic?"\u0627\u0644\u0642\u0633\u0645":"Section"),h(),se("ngModel",n.newCategory.section),h(2),M(n.isArabic?"\u0645\u0637\u0628\u062E":"Kitchen"),h(2),M(n.isArabic?"\u0628\u0627\u0631":"Bar"),h(2),M(n.isArabic?"\u0623\u0631\u062C\u064A\u0644\u0629":"Hookah"),h(3),M(n.isArabic?"\u0631\u0627\u0628\u0637 \u0627\u0644\u0623\u064A\u0642\u0648\u0646\u0629":"Icon URL"),h(),se("ngModel",n.newCategory.icon),h(4),z("",n.isArabic?"\u0625\u0636\u0627\u0641\u0629 \u0641\u0626\u0629":"Add Category"," "),h(5),M(n.isArabic?"\u0625\u0636\u0627\u0641\u0629 \u0639\u0646\u0635\u0631 \u0642\u0627\u0626\u0645\u0629 \u062C\u062F\u064A\u062F":"Add New Menu Item"),h(4),M(n.isArabic?"\u0627\u062E\u062A\u0631 \u0627\u0644\u0641\u0626\u0629":"Select Category"),h(),se("ngModel",n.selectedCategoryId),h(),Ce(ko(54,51,n.categories)),h(6),M(n.isArabic?"\u0627\u0633\u0645 \u0627\u0644\u0639\u0646\u0635\u0631 (\u0625\u0646\u062C\u0644\u064A\u0632\u064A)":"Item Name (EN)"),h(),se("ngModel",n.newItem.name),h(3),M(n.isArabic?"\u0627\u0633\u0645 \u0627\u0644\u0639\u0646\u0635\u0631 (\u0639\u0631\u0628\u064A)":"Item Name (AR)"),h(),se("ngModel",n.newItem.nameArabic),h(4),M(n.isArabic?"\u0627\u0644\u0633\u0639\u0631":"Price"),h(4),se("ngModel",n.newItem.price),h(4),M(n.isArabic?"\u0631\u0641\u0639 \u0635\u0648\u0631\u0629":"Upload Image"),h(3),q("disabled",n.uploading),h(2),q("disabled",n.uploading),h(),M(n.isArabic?"\u0627\u062E\u062A\u0631 \u0635\u0648\u0631\u0629":"Choose Image"),h(2),Q(n.selectedFileName?83:-1),h(),Q(n.previewUrl?84:-1),h(2),M(n.isArabic?"\u0627\u0644\u0645\u0639\u0627\u064A\u0646\u0629:":"Preview:"),h(),Q(n.previewUrl?87:-1),h(2),M(n.isArabic?"\u0633\u064A\u062A\u0645 \u0631\u0641\u0639 \u0627\u0644\u0635\u0648\u0631\u0629 \u0639\u0646\u062F \u0627\u0644\u0636\u063A\u0637 \u0639\u0644\u0649 \u0625\u0636\u0627\u0641\u0629 \u0639\u0646\u0635\u0631.":"The image will be uploaded when you click Add Item."),h(),Q(n.uploading?90:-1),h(3),M(n.isArabic?"\u0627\u0644\u0645\u0643\u0648\u0646\u0627\u062A (\u0625\u0646\u062C\u0644\u064A\u0632\u064A)":"Ingredients (EN)"),h(),se("ngModel",n.newItem.ingredients),h(3),M(n.isArabic?"\u0627\u0644\u0645\u0643\u0648\u0646\u0627\u062A (\u0639\u0631\u0628\u064A)":"Ingredients (AR)"),h(),se("ngModel",n.newItem.ingredientsArabic),h(3),M(n.isArabic?"\u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A":"Choices"),h(4),M(n.isArabic?"\u0627\u0644\u0627\u0633\u0645 (\u0639\u0631\u0628\u064A)":"Name (AR)"),h(),se("ngModel",n.choiceDraft.ar),h(3),M(n.isArabic?"\u0627\u0644\u0627\u0633\u0645 (\u0625\u0646\u062C\u0644\u064A\u0632\u064A)":"Name (EN)"),h(),se("ngModel",n.choiceDraft.en),h(3),M(n.isArabic?"\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0633\u0639\u0631":"Price Add"),h(4),se("ngModel",n.choiceDraft.add),h(3),z(" ",n.choiceEditIndex!==null?n.isArabic?"\u062A\u062D\u062F\u064A\u062B":"Update":"+"," "),h(2),Ce(n.choiceOptions),h(3),q("disabled",n.uploading),Oe("aria-busy",n.uploading?"true":null),h(2),z("",n.isArabic?"\u0625\u0636\u0627\u0641\u0629 \u0639\u0646\u0635\u0631":"Add Item"," "))},dependencies:[cn,At,mr,pr,Gt,gi,Sc,Yt,Qt,ka,No],styles:[".f-width[_ngcontent-%COMP%]{width:100%}h5[_ngcontent-%COMP%]{color:#fff}.no-items-message[_ngcontent-%COMP%]{text-align:center;padding:20px;background-color:#fff3cd;border:1px solid #ffeaa7;border-radius:6px;color:#856404;margin:20px 0}.upload-area[_ngcontent-%COMP%]{margin-top:4px}.upload-horizontal[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;align-items:stretch}.upload-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;width:100%;background-color:#f7f9fc;border:1px dashed #cbd5e1;padding:12px 16px;border-radius:8px;box-sizing:border-box}.upload-btn[_ngcontent-%COMP%]:hover{background-color:#0b5ed7;transform:translateY(-1px);box-shadow:0 6px 14px #0d6efd33}.upload-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none;box-shadow:none}.upload-meta[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;justify-content:space-between;flex-wrap:wrap}.clear-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid #dc3545;color:#dc3545;padding:8px 12px;border-radius:6px;font-weight:600;cursor:pointer;transition:all .2s ease}.clear-btn[_ngcontent-%COMP%]:hover{background:#dc3545;color:#fff}.clear-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.preview[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:8px;padding:10px;display:block;box-sizing:border-box}.preview-title[_ngcontent-%COMP%]{margin:4px 0 8px;font-weight:600;color:#475569;font-size:14px}.preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:160px;height:auto;border-radius:6px;display:block}.upload-progress[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:10px}.progress[_ngcontent-%COMP%]{width:180px;height:8px;background:#e5e7eb;border-radius:999px;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#22c55e,#16a34a);width:0%;transition:width .2s ease}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1 1 auto;padding:1.25rem}.card-actions[_ngcontent-%COMP%]{margin-top:auto;display:flex;gap:8px;align-items:center}.bb-add-category[_ngcontent-%COMP%]{background-color:#e94e1b;border-color:#e94e1b;color:#fff}.bb-add-category[_ngcontent-%COMP%]:hover{filter:brightness(.95);transform:translateY(-1px)}.preview[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:8px;padding:10px;display:inline-block;justify-items:center}.preview-title[_ngcontent-%COMP%]{margin:12px 0 8px;font-weight:600;color:#475569;font-size:14px}.preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:50%;border-radius:6px;display:block}@media(max-width:768px){.edit-item-container[_ngcontent-%COMP%]{margin:10px;padding:15px}.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:0}.button-group[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.btn[_ngcontent-%COMP%]{width:100%;max-width:200px}.card-actions[_ngcontent-%COMP%]{justify-content:center}.upload-horizontal[_ngcontent-%COMP%]{flex-wrap:nowrap}}.choice-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.choice-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:99px;border:1px solid #d1d5db;background:#f5f6f8;color:var(--text-color, #212529);font-weight:700;cursor:pointer;-webkit-user-select:none;user-select:none}.choice-chip.active[_ngcontent-%COMP%]{background:rgba(var(--primary-color-rgb, 255, 107, 107),.12);color:var(--primary-color, #ff6b6b);border-color:var(--primary-color, #ff6b6b)}.chip-text[_ngcontent-%COMP%]{display:inline-block}.chip-close[_ngcontent-%COMP%]{border:none;background:transparent;color:inherit;line-height:1;font-weight:900;cursor:pointer;padding:0 2px}.choice-add[_ngcontent-%COMP%]{color:var(--primary-color, #ff6b6b);font-weight:700;margin-inline-start:6px}"]})};function lT(i,t){if(i&1&&(p(0,"option",7),y(1),f()),i&2){let e=t.$implicit,n=D();q("value",e.key),h(),z(" ",n.isArabic?e.nameArabic:e.name," ")}}function cT(i,t){if(i&1&&(p(0,"option",7),y(1),f()),i&2){let e=t.$implicit,n=D(2);q("value",e.id),h(),z(" ",n.isArabic?e.nameArabic:e.name," ")}}function dT(i,t){if(i&1){let e=fe();p(0,"div",3)(1,"label",10),y(2),f(),p(3,"select",11),le("ngModelChange",function(r){L(e);let o=D();return ae(o.selectedItemId,r)||(o.selectedItemId=r),V(r)}),$("change",function(){L(e);let r=D();return V(r.onItemChange())}),p(4,"option",6),y(5),f(),we(6,cT,2,2,"option",7,Ue),f()()}if(i&2){let e=D();h(2),M(e.isArabic?"\u0627\u062E\u062A\u0631 \u0639\u0646\u0635\u0631:":"Select Item:"),h(),se("ngModel",e.selectedItemId),h(2),M(e.isArabic?"-- \u0627\u062E\u062A\u0631 \u0639\u0646\u0635\u0631 --":"-- Choose Item --"),h(),Ce(e.items)}}function uT(i,t){if(i&1&&(p(0,"div",8)(1,"p"),y(2),f()()),i&2){let e=D();h(2),M(e.isArabic?"\u0644\u0627 \u062A\u0648\u062C\u062F \u0639\u0646\u0627\u0635\u0631 \u0641\u064A \u0647\u0630\u0647 \u0627\u0644\u0641\u0626\u0629.":"No items found in this category.")}}function hT(i,t){if(i&1&&(p(0,"span",24),y(1),f()),i&2){let e=D(2);h(),M(e.selectedFileName)}}function mT(i,t){if(i&1){let e=fe();p(0,"button",49),$("click",function(){L(e);let r=D(2);return V(r.clearPendingFile())}),y(1),f()}if(i&2){let e=D(2);q("disabled",e.uploading),h(),z(" ",e.isArabic?"\u0625\u0632\u0627\u0644\u0629":"Clear"," ")}}function pT(i,t){if(i&1&&(p(0,"div",27),G(1,"img",50),f()),i&2){let e=D(2);h(),q("src",e.previewUrl||(e.selectedItem==null?null:e.selectedItem.image),$n)}}function fT(i,t){if(i&1&&(p(0,"div",29)(1,"div",51),G(2,"div",52),f(),p(3,"span"),y(4),f()()),i&2){let e=D(2);h(2),Ni("width",e.uploadProgress,"%"),h(2),z("",e.uploadProgress,"%")}}function gT(i,t){if(i&1&&(p(0,"span",55),y(1),f()),i&2){let e=D().$implicit;h(),z(" +\u20AA",e.add)}}function _T(i,t){if(i&1){let e=fe();p(0,"span",53),$("click",function(){let r=L(e).$index,o=D(2);return V(o.editChoiceAt(r))}),p(1,"span",54),y(2),Y(3,gT,2,1,"span",55),f(),p(4,"button",56),$("click",function(r){let o=L(e).$index,s=D(2);return V(s.removeChoiceAt(o,r))}),y(5,"\xD7"),f()()}if(i&2){let e=t.$implicit,n=t.$index,r=D(2);ge("active",r.choiceEditIndex===n),h(2),ti("",e.ar," / ",e.en),h(),Q(e.add?3:-1)}}function yT(i,t){if(i&1){let e=fe();p(0,"div",9)(1,"h3"),y(2),f(),p(3,"div",12)(4,"div",3)(5,"label",13),y(6),f(),p(7,"input",14),le("ngModelChange",function(r){L(e);let o=D();return ae(o.selectedItem.name,r)||(o.selectedItem.name=r),V(r)}),f()(),p(8,"div",3)(9,"label",15),y(10),f(),p(11,"input",16),le("ngModelChange",function(r){L(e);let o=D();return ae(o.selectedItem.nameArabic,r)||(o.selectedItem.nameArabic=r),V(r)}),f()()(),p(12,"div",12)(13,"div",3)(14,"label",17),y(15),f(),p(16,"input",18),le("ngModelChange",function(r){L(e);let o=D();return ae(o.selectedItem.price,r)||(o.selectedItem.price=r),V(r)}),f()()(),p(17,"div",12)(18,"div",19)(19,"label"),y(20),f(),p(21,"div",20)(22,"div",21)(23,"input",22,0),$("change",function(r){L(e);let o=D();return V(o.onFileSelected(r))}),f(),p(25,"button",23),$("click",function(){L(e);let r=Ct(24);return V(r.click())}),y(26),f(),Y(27,hT,2,1,"span",24),Y(28,mT,2,2,"button",25),f(),p(29,"p",26),y(30),f(),Y(31,pT,2,1,"div",27),G(32,"br"),p(33,"small",28),y(34),f()(),Y(35,fT,5,3,"div",29),f()(),p(36,"div",3)(37,"label",30),y(38),f(),p(39,"input",31),le("ngModelChange",function(r){L(e);let o=D();return ae(o.selectedItem.image,r)||(o.selectedItem.image=r),V(r)}),f()(),p(40,"div",3)(41,"label",32),y(42),f(),p(43,"textarea",33),le("ngModelChange",function(r){L(e);let o=D();return ae(o.selectedItem.ingredients,r)||(o.selectedItem.ingredients=r),V(r)}),f()(),p(44,"div",3)(45,"label",34),y(46),f(),p(47,"textarea",35),le("ngModelChange",function(r){L(e);let o=D();return ae(o.selectedItem.ingredientsArabic,r)||(o.selectedItem.ingredientsArabic=r),V(r)}),f()(),p(48,"div",3)(49,"label"),y(50),f(),p(51,"div",12)(52,"div",3)(53,"label"),y(54),f(),p(55,"input",36),le("ngModelChange",function(r){L(e);let o=D();return ae(o.choiceDraft.ar,r)||(o.choiceDraft.ar=r),V(r)}),f()(),p(56,"div",3)(57,"label"),y(58),f(),p(59,"input",37),le("ngModelChange",function(r){L(e);let o=D();return ae(o.choiceDraft.en,r)||(o.choiceDraft.en=r),V(r)}),f()(),p(60,"div",3)(61,"label"),y(62),f(),p(63,"div",38)(64,"span",39),y(65,"\u20AA"),f(),p(66,"input",40),le("ngModelChange",function(r){L(e);let o=D();return ae(o.choiceDraft.add,r)||(o.choiceDraft.add=r),V(r)}),f()()(),p(67,"div",41)(68,"button",42),$("click",function(){L(e);let r=D();return V(r.addOrUpdateChoice())}),y(69),f()()(),p(70,"div",43),we(71,_T,6,5,"span",44,Ue),f()(),p(73,"div",45)(74,"button",46),$("click",function(){L(e);let r=D();return V(r.saveChanges())}),y(75),f(),p(76,"button",47),$("click",function(){L(e);let r=D();return r.selectedItem=null,V(r.selectedItemId="")}),y(77),f(),p(78,"button",48),$("click",function(){L(e);let r=D();return V(r.deleteItem())}),y(79),f()()()}if(i&2){let e=D();h(2),M(e.isArabic?"\u062A\u0639\u062F\u064A\u0644 \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0639\u0646\u0635\u0631":"Edit Item Details"),h(4),M(e.isArabic?"\u0627\u0644\u0627\u0633\u0645 (\u0625\u0646\u062C\u0644\u064A\u0632\u064A):":"Name (English):"),h(),se("ngModel",e.selectedItem.name),h(3),M(e.isArabic?"\u0627\u0644\u0627\u0633\u0645 (\u0639\u0631\u0628\u064A):":"Name (Arabic):"),h(),se("ngModel",e.selectedItem.nameArabic),h(4),M(e.isArabic?"\u0627\u0644\u0633\u0639\u0631:":"Price:"),h(),se("ngModel",e.selectedItem.price),h(4),M(e.isArabic?"\u0631\u0641\u0639 \u0635\u0648\u0631\u0629:":"Upload Image:"),h(3),q("disabled",e.uploading),h(2),q("disabled",e.uploading),h(),z(" ",e.isArabic?"\u0627\u062E\u062A\u0631 \u0635\u0648\u0631\u0629":"Choose Image"," "),h(),Q(e.selectedFileName?27:-1),h(),Q(e.previewUrl?28:-1),h(2),M(e.isArabic?"\u0627\u0644\u0645\u0639\u0627\u064A\u0646\u0629:":"Preview:"),h(),Q(e.previewUrl||e.selectedItem!=null&&e.selectedItem.image?31:-1),h(3),z(" ",e.isArabic?"\u0633\u064A\u062A\u0645 \u0631\u0641\u0639 \u0627\u0644\u0635\u0648\u0631\u0629 \u0639\u0646\u062F \u0627\u0644\u0636\u063A\u0637 \u0639\u0644\u0649 \u062D\u0641\u0638 \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A.":"The image will be uploaded when you click Save Changes."," "),h(),Q(e.uploading?35:-1),h(3),M(e.isArabic?"\u0631\u0627\u0628\u0637 \u0627\u0644\u0635\u0648\u0631\u0629:":"Image URL:"),h(),se("ngModel",e.selectedItem.image),h(3),M(e.isArabic?"\u0627\u0644\u0645\u0643\u0648\u0646\u0627\u062A (\u0625\u0646\u062C\u0644\u064A\u0632\u064A):":"Ingredients (English):"),h(),se("ngModel",e.selectedItem.ingredients),h(3),M(e.isArabic?"\u0627\u0644\u0645\u0643\u0648\u0646\u0627\u062A (\u0639\u0631\u0628\u064A):":"Ingredients (Arabic):"),h(),se("ngModel",e.selectedItem.ingredientsArabic),h(3),M(e.isArabic?"\u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A":"Choices"),h(4),M(e.isArabic?"\u0627\u0644\u0627\u0633\u0645 (\u0639\u0631\u0628\u064A):":"Name (AR):"),h(),se("ngModel",e.choiceDraft.ar),h(3),M(e.isArabic?"\u0627\u0644\u0627\u0633\u0645 (\u0625\u0646\u062C\u0644\u064A\u0632\u064A):":"Name (EN):"),h(),se("ngModel",e.choiceDraft.en),h(3),M(e.isArabic?"\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0633\u0639\u0631:":"Price Add:"),h(4),se("ngModel",e.choiceDraft.add),h(3),z(" ",e.choiceEditIndex!==null?e.isArabic?"\u062A\u062D\u062F\u064A\u062B":"Update":"+"," "),h(2),Ce(e.choiceOptions),h(3),q("disabled",e.uploading),Oe("aria-busy",e.uploading?"true":null),h(),z(" ",e.isArabic?"\u062D\u0641\u0638 \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A":"Save Changes"," "),h(2),z(" ",e.isArabic?"\u0625\u0644\u063A\u0627\u0621":"Cancel"," "),h(2),z(" ",e.isArabic?"\u062D\u0630\u0641":"Delete"," ")}}var fd=class i{constructor(t,e,n,r){this.menuService=t;this.languageService=e;this.http=n;this.route=r}restaurantId="";categories={};categoryList=[];items=[];selectedCategoryId="";selectedItemId="";selectedItem=null;isArabic=!1;previewUrl=null;uploading=!1;uploadProgress=0;pendingFile=null;selectedFileName=null;choiceDraft={en:"",ar:"",add:0};choiceEditIndex=null;choiceOptions=[];workerUrl="https://presigned-url-worker.a2-menu-worker.workers.dev/";subs=[];itemsSub=null;ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t),this.loadCategories(),this.subs.push(this.languageService.isArabic$.subscribe(e=>this.isArabic=e))}ngOnDestroy(){this.subs.forEach(t=>t.unsubscribe()),this.subs=[],this.itemsSub&&(this.itemsSub.unsubscribe(),this.itemsSub=null)}addOrUpdateChoice(){let t=(this.choiceDraft.en||"").trim(),e=(this.choiceDraft.ar||"").trim(),n=Number(this.choiceDraft.add)||0;if(!t||!e)return;let r={en:t,ar:e,add:n};this.choiceEditIndex!=null?this.choiceOptions[this.choiceEditIndex]=r:this.choiceOptions.push(r),this.resetChoiceDraft()}editChoiceAt(t){if(this.choiceEditIndex===t){this.resetChoiceDraft();return}let e=this.choiceOptions[t];e&&(this.choiceDraft={en:e.en,ar:e.ar,add:e.add},this.choiceEditIndex=t)}removeChoiceAt(t,e){e?.stopPropagation(),this.choiceEditIndex===t&&this.resetChoiceDraft(),this.choiceOptions.splice(t,1)}resetChoiceDraft(){this.choiceDraft={en:"",ar:"",add:0},this.choiceEditIndex=null}clearPendingFile(){this.pendingFile=null,this.selectedFileName=null,this.previewUrl&&(URL.revokeObjectURL(this.previewUrl),this.previewUrl=null)}loadCategories(){this.menuService.getCategoriesOnce(this.restaurantId).then(t=>{t?(this.categories=t,this.categoryList=Object.keys(t).map(e=>P({key:e,name:t[e].name,nameArabic:t[e].nameArabic},t[e]))):(this.categories={},this.categoryList=[])}).catch(()=>{this.categories={},this.categoryList=[]})}onCategoryChange(){this.selectedCategoryId?(this.itemsSub&&(this.itemsSub.unsubscribe(),this.itemsSub=null),this.itemsSub=this.menuService.getItems(this.restaurantId,this.selectedCategoryId).subscribe(t=>{t?this.items=Object.keys(t).map(e=>P({id:e},t[e])):this.items=[],this.selectedItemId="",this.selectedItem=null})):(this.itemsSub&&(this.itemsSub.unsubscribe(),this.itemsSub=null),this.items=[],this.selectedItemId="",this.selectedItem=null)}onItemChange(){if(this.selectedItemId){let t=this.items.find(e=>e.id===this.selectedItemId);if(t){if(Array.isArray(t.choiceOptions)&&t.choiceOptions.length)this.choiceOptions=t.choiceOptions.map(e=>({en:String(e.en||""),ar:String(e.ar||""),add:Number(e.add)||0}));else{let e=Array.isArray(t.choices)?t.choices:[],n=Array.isArray(t.choicesArabic)?t.choicesArabic:[],r=Math.min(e.length,n.length);this.choiceOptions=Array.from({length:r},(o,s)=>({en:e[s]||"",ar:n[s]||"",add:0}))}this.choiceDraft={en:"",ar:"",add:0},this.choiceEditIndex=null,this.selectedItem=ie(P({},t),{ingredients:Array.isArray(t.ingredients)?t.ingredients.join(", "):t.ingredients||"",ingredientsArabic:Array.isArray(t.ingredientsArabic)?t.ingredientsArabic.join(", "):t.ingredientsArabic||"",choices:Array.isArray(t.choices)?t.choices.join(", "):t.choices||"",choicesArabic:Array.isArray(t.choicesArabic)?t.choicesArabic.join(", "):t.choicesArabic||""})}}else this.selectedItem=null}onFileSelected(t){let e=t.target.files?.[0]||null;if(e){if(!this.selectedCategoryId||!this.selectedItemId){alert(this.isArabic?"\u0627\u062E\u062A\u0631 \u0639\u0646\u0635\u0631 \u062B\u0645 \u0627\u062E\u062A\u0631 \u0635\u0648\u0631\u0629":"Select an item first and choose an image.");return}this.previewUrl&&URL.revokeObjectURL(this.previewUrl),this.previewUrl=URL.createObjectURL(e),this.pendingFile=e,this.selectedFileName=e.name}}uploadViaWorker(t){return j(this,null,function*(){let e=new FormData;e.append("file",t,t.name),e.append("pathPrefix",`restaurants/${this.restaurantId}/categories/${this.selectedCategoryId}/items/${this.selectedItemId}`);let n=this.http.post(`${this.workerUrl}upload`,e,{reportProgress:!0,observe:"events"});return yield new Promise((r,o)=>{n.subscribe({next:s=>{if(s.type===kn.UploadProgress&&s.total)this.uploadProgress=Math.round(s.loaded/s.total*100);else if(s.type===kn.Response){let c=(s.body||{}).publicUrl;if(!c){o(new Error("Worker did not return publicUrl"));return}r(c)}},error:s=>o(s)})})})}uploadFileWithProgress(t,e){return new Promise((n,r)=>{let o=new XMLHttpRequest;o.open("PUT",t,!0),o.setRequestHeader("Content-Type",e.type),o.upload.onprogress=s=>{s.lengthComputable&&(this.uploadProgress=Math.round(s.loaded/s.total*100))},o.onload=()=>{o.status>=200&&o.status<300?n():r(new Error(`Upload failed with status ${o.status}: ${o.statusText}`))},o.onerror=()=>r(new Error("Network error during upload")),o.send(e)})}saveChanges(){return j(this,null,function*(){if(this.selectedItem&&this.selectedCategoryId&&this.selectedItemId)try{if(this.pendingFile){this.uploading=!0,this.uploadProgress=0;let e=yield this.uploadViaWorker(this.pendingFile);this.selectedItem.image=e}let t={name:this.selectedItem.name,nameArabic:this.selectedItem.nameArabic,image:this.selectedItem.image,price:Number(this.selectedItem.price),ingredients:this.selectedItem.ingredients.split(",").map(e=>e.trim()).filter(e=>e.length>0),ingredientsArabic:this.selectedItem.ingredientsArabic.split(",").map(e=>e.trim()).filter(e=>e.length>0),choices:this.choiceOptions.map(e=>e.en).filter(e=>e&&e.length>0),choicesArabic:this.choiceOptions.map(e=>e.ar).filter(e=>e&&e.length>0),choiceOptions:this.choiceOptions.map(e=>({en:e.en,ar:e.ar,add:Number(e.add)||0}))};yield this.menuService.editItem(this.restaurantId,this.selectedCategoryId,this.selectedItemId,t),alert(this.isArabic?"\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0639\u0646\u0635\u0631 \u0628\u0646\u062C\u0627\u062D!":"Item updated successfully!"),this.onCategoryChange()}catch(t){console.error("Error updating item:",t),alert(this.isArabic?"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0639\u0646\u0635\u0631.":"Error updating item. Please try again.")}finally{this.uploading=!1,this.uploadProgress=0,this.pendingFile=null,this.selectedFileName=null,this.previewUrl&&(URL.revokeObjectURL(this.previewUrl),this.previewUrl=null)}})}deleteItem(){return j(this,null,function*(){if(this.selectedCategoryId&&this.selectedItemId){if(!confirm(this.isArabic?"\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0639\u0646\u0635\u0631\u061F":"Are you sure you want to delete this item?"))return;try{yield this.menuService.removeItem(this.restaurantId,this.selectedCategoryId,this.selectedItemId),alert(this.isArabic?"\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0639\u0646\u0635\u0631 \u0628\u0646\u062C\u0627\u062D!":"Item deleted successfully!"),this.onCategoryChange(),this.selectedItem=null,this.selectedItemId=""}catch(e){console.error("Error deleting item:",e),alert(this.isArabic?"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u0627\u0644\u0639\u0646\u0635\u0631.":"Error deleting item. Please try again.")}}})}static \u0275fac=function(e){return new(e||i)(te(nn),te(qt),te(Xo),te(Be))};static \u0275cmp=ne({type:i,selectors:[["app-edit-item"]],decls:14,vars:7,consts:[["imageInput",""],[1,"edit-item-container"],[1,"page-title"],[1,"form-group"],["for","categorySelect"],["id","categorySelect",1,"form-control",3,"ngModelChange","change","ngModel"],["value",""],[3,"value"],[1,"no-items-message"],[1,"edit-form"],["for","itemSelect"],["id","itemSelect",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"form-row"],["for","nameEn"],["id","nameEn","placeholder","Name (EN)",1,"form-control",3,"ngModelChange","ngModel"],["for","nameAr"],["id","nameAr","placeholder","Name (AR)",1,"form-control",3,"ngModelChange","ngModel"],["for","price"],["id","price","type","number","step","0.01",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","upload-area"],[1,"upload-horizontal"],[1,"upload-card"],["type","file","accept","image/*","hidden","",3,"change","disabled"],["type","button",1,"btn","btn-success",3,"click","disabled"],[1,"file-name"],["type","button",1,"clear-btn",3,"disabled"],[1,"preview-title"],[1,"preview"],[1,"upload-hint-inline"],[1,"upload-progress"],["for","image"],["id","image","placeholder","Image URL",1,"form-control",3,"ngModelChange","ngModel"],["for","ingredientsEn"],["id","ingredientsEn",1,"form-control","textarea",3,"ngModelChange","ngModel"],["for","ingredientsAr"],["id","ingredientsAr",1,"form-control","textarea",3,"ngModelChange","ngModel"],["dir","rtl","placeholder","\u0645\u062B\u0627\u0644: \u0635\u063A\u064A\u0631",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","e.g., Small",1,"form-control",3,"ngModelChange","ngModel"],[1,"input-group"],[1,"input-group-text"],["type","number","placeholder","0",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group",2,"align-self","end"],["type","button",1,"btn","btn-success",3,"click"],[1,"choice-group",2,"margin-top","8px"],[1,"choice-chip",3,"active"],[1,"button-group"],[1,"btn","btn-success",3,"click","disabled"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click"],["type","button",1,"clear-btn",3,"click","disabled"],["alt","Image preview",3,"src"],[1,"progress"],[1,"progress-bar"],[1,"choice-chip",3,"click"],[1,"chip-text"],[1,"choice-add"],["type","button",1,"chip-close",3,"click"]],template:function(e,n){e&1&&(p(0,"div",1)(1,"h2",2),y(2),f(),p(3,"div",3)(4,"label",4),y(5),f(),p(6,"select",5),le("ngModelChange",function(o){return ae(n.selectedCategoryId,o)||(n.selectedCategoryId=o),o}),$("change",function(){return n.onCategoryChange()}),p(7,"option",6),y(8),f(),we(9,lT,2,2,"option",7,Ue),f()(),Y(11,dT,8,3,"div",3),Y(12,uT,3,1,"div",8),Y(13,yT,80,36,"div",9),f()),e&2&&(h(2),z(" ",n.isArabic?"\u062A\u0639\u062F\u064A\u0644 \u0639\u0646\u0635\u0631 \u0627\u0644\u0642\u0627\u0626\u0645\u0629":"Edit Menu Item"," "),h(3),M(n.isArabic?"\u0627\u062E\u062A\u0631 \u0627\u0644\u0641\u0626\u0629:":"Select Category:"),h(),se("ngModel",n.selectedCategoryId),h(2),M(n.isArabic?"-- \u0627\u062E\u062A\u0631 \u0641\u0626\u0629 --":"-- Choose Category --"),h(),Ce(n.categoryList),h(2),Q(n.items.length>0?11:-1),h(),Q(n.selectedCategoryId&&n.items.length===0?12:-1),h(),Q(n.selectedItem?13:-1))},dependencies:[At,mr,pr,Gt,gi,Sc,Yt,Qt,ka],styles:['.edit-item-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 2px 10px #0000001a}.page-title[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:30px;font-size:28px;font-weight:700}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:600;color:#555;font-size:14px}.form-control[_ngcontent-%COMP%]{padding:12px;border:2px solid #ddd;border-radius:6px;font-size:16px;transition:border-color .3s ease;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 3px #007bff1a}.form-row[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:20px}.form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1;margin-bottom:0}.textarea[_ngcontent-%COMP%]{min-height:80px;resize:vertical}.no-items-message[_ngcontent-%COMP%]{text-align:center;padding:20px;background-color:#fff3cd;border:1px solid #ffeaa7;border-radius:6px;color:#856404;margin:20px 0}.edit-form[_ngcontent-%COMP%]{background-color:#fff;padding:25px;border-radius:8px;box-shadow:0 2px 8px #0000001a;margin-top:20px}.edit-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:25px;color:#333;font-size:22px;border-bottom:2px solid #5b8f6b;padding-bottom:10px}.button-group[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center;margin-top:30px}.btn[_ngcontent-%COMP%]{padding:12px 30px;border:none;border-radius:6px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;min-width:120px}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-2px);box-shadow:0 4px 12px #007bff4d}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#545b62;transform:translateY(-2px);box-shadow:0 4px 12px #6c757d4d}.upload-area[_ngcontent-%COMP%]{margin-top:4px}.upload-card[_ngcontent-%COMP%]{display:grid;align-items:center;gap:12px;background-color:#f7f9fc;border:1px dashed #cbd5e1;padding:12px 16px;border-radius:8px}.upload-btn[_ngcontent-%COMP%]{background-color:#0d6efd;color:#fff;border:none;padding:10px 16px;border-radius:6px;font-weight:600;cursor:pointer;transition:all .2s ease}.upload-btn[_ngcontent-%COMP%]:hover{background-color:#0b5ed7;transform:translateY(-1px);box-shadow:0 6px 14px #0d6efd33}.upload-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none;box-shadow:none}.clear-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid #dc3545;color:#dc3545;padding:8px 12px;border-radius:6px;font-weight:600;cursor:pointer;transition:all .2s ease}.clear-btn[_ngcontent-%COMP%]:hover{background:#dc3545;color:#fff}.clear-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.file-name[_ngcontent-%COMP%]{font-size:14px;color:#334155}.upload-hint[_ngcontent-%COMP%]{display:block;margin-top:6px;color:#64748b}.preview[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:8px;padding:10px;display:inline-block;justify-items:center}.preview-title[_ngcontent-%COMP%]{margin:12px 0 8px;font-weight:600;color:#475569;font-size:14px}.preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:50%;border-radius:6px;display:block}.upload-progress[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:10px}.progress[_ngcontent-%COMP%]{width:180px;height:8px;background:#e5e7eb;border-radius:999px;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#22c55e,#16a34a);width:0%;transition:width .2s ease}.btn[aria-busy=true][_ngcontent-%COMP%]{position:relative;pointer-events:none}.btn[aria-busy=true][_ngcontent-%COMP%]:after{content:"";position:absolute;right:12px;top:50%;width:16px;height:16px;margin-top:-8px;border-radius:50%;border:2px solid rgba(255,255,255,.6);border-top-color:#fff;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.choice-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.choice-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:99px;border:1px solid #d1d5db;background:#f5f6f8;color:var(--text-color, #212529);font-weight:700;cursor:pointer;-webkit-user-select:none;user-select:none}.choice-chip.active[_ngcontent-%COMP%]{background:rgba(var(--primary-color-rgb, 255, 107, 107),.12);color:var(--primary-color, #ff6b6b);border-color:var(--primary-color, #ff6b6b)}.chip-text[_ngcontent-%COMP%]{display:inline-block}.chip-close[_ngcontent-%COMP%]{border:none;background:transparent;color:inherit;line-height:1;font-weight:900;cursor:pointer;padding:0 2px}.choice-add[_ngcontent-%COMP%]{color:var(--primary-color, #ff6b6b);font-weight:700;margin-inline-start:6px}@media(max-width:768px){.edit-item-container[_ngcontent-%COMP%]{margin:10px;padding:15px}.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:0}.button-group[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.btn[_ngcontent-%COMP%]{width:100%;max-width:200px}.upload-horizontal[_ngcontent-%COMP%]{flex-wrap:wrap}}']})};function bT(i,t){i&1&&(Ee(0,"div",2)(1,"span",5),y(2,"Loading..."),ve()())}function vT(i,t){i&1&&(Ee(0,"h3",3),y(1,"Signing you in..."),ve())}function wT(i,t){if(i&1&&(Ee(0,"div",4),y(1),ve()),i&2){let e=D();h(),M(e.error)}}var gd=class i{constructor(t,e,n,r){this.route=t;this.router=e;this.tableSession=n;this.platformId=r}error=null;ngOnInit(){return j(this,null,function*(){if(!fi(this.platformId))return;let t=this.route.snapshot.paramMap.get("restId"),e=this.route.snapshot.paramMap.get("tableId");if(!t||!e){this.error="Invalid table link.";return}try{yield this.tableSession.signInForTable(t,e),this.router.navigateByUrl("/")}catch(n){console.error(n),this.error=n?.message||"Failed to sign in for this table."}})}static \u0275fac=function(e){return new(e||i)(te(Be),te(Dt),te(hr),te(mt))};static \u0275cmp=ne({type:i,selectors:[["app-table-signin"]],decls:5,vars:3,consts:[[1,"container","d-flex","flex-column","align-items-center","justify-content-center",2,"min-height","70vh"],[1,"text-center"],["role","status",1,"spinner-border","text-primary"],[1,"mt-3"],[1,"alert","alert-danger","mt-3"],[1,"visually-hidden"]],template:function(e,n){e&1&&(Ee(0,"div",0)(1,"div",1),Y(2,bT,3,0,"div",2),Y(3,vT,2,0,"h3",3),Y(4,wT,2,1,"div",4),ve()()),e&2&&(h(2),Q(n.error?-1:2),h(),Q(n.error?-1:3),h(),Q(n.error?4:-1))},dependencies:[Vi],encapsulation:2})};var CT=(i,t,e)=>({"bg-info":i,"bg-warning":t,"bg-success":e}),ET=()=>({background:"rgba(0,0,0,0.5)"});function ST(i,t){if(i&1){let e=fe();p(0,"li",20),$("click",function(){let r=L(e).$implicit,o=D();return V(o.selectTable(r))}),p(1,"div",21)(2,"span",22),y(3),f()(),p(4,"div",23)(5,"span",24),y(6),f(),p(7,"button",25),$("click",function(r){let o=L(e).$implicit,s=D();return r.stopPropagation(),V(s.toggleAvailability(o))}),y(8),f()()()}if(i&2){let e=t.$implicit,n=D();ge("active",(n.selectedTable==null?null:n.selectedTable.id)===e.id),h(3),M(e.name||"Table"),h(2),q("ngClass",e.availability?"bg-success":"bg-danger"),h(),z(" ",e.availability?n.isArabic?"\u0645\u062A\u0627\u062D":"Available":n.isArabic?"\u0645\u0634\u063A\u0648\u0644\u0629":"Occupied"," "),h(2),z(" ",n.isArabic?"\u062A\u0628\u062F\u064A\u0644":"Toggle"," ")}}function IT(i,t){if(i&1&&(p(0,"span",59),y(1),f()),i&2){let e=D().$implicit;h(),z(" +\u20AA",e.add)}}function xT(i,t){if(i&1){let e=fe();p(0,"span",58),$("click",function(){let r=L(e).$index,o=D(2).$implicit,s=D(2);return V(s.setChoiceDraft(o.key,o.value,r))}),y(1),Y(2,IT,2,1,"span",59),f()}if(i&2){let e=t.$implicit,n=t.$index,r=D(2).$implicit,o=D(2);ge("active",o.getDraftChoiceIndex(r.key,r.value)===n),h(),M(e.label),h(),Q(e.add?2:-1)}}function AT(i,t){if(i&1&&(p(0,"div",48),we(1,xT,3,4,"span",57,Ue),f()),i&2){let e=D().$implicit,n=D(2);h(),Ce(n.getChoiceDisplayStructured(e.value.name))}}function TT(i,t){if(i&1){let e=fe();p(0,"li",30)(1,"div",43)(2,"div",44)(3,"div",45)(4,"div",46),y(5),f(),p(6,"small")(7,"span",47),$("click",function(){let r=L(e).$implicit,o=D(2);return V(o.markAsDone({tableKey:o.selectedTable.id,orderKey:r.key,order:r.value}))}),y(8),f()()(),Y(9,AT,3,0,"div",48),p(10,"div",49)(11,"label",50),y(12),f(),p(13,"input",51),le("ngModelChange",function(r){let o=L(e).$implicit;return ae(o.value.details,r)||(o.value.details=r),V(r)}),f()()(),p(14,"div",52)(15,"input",53),le("ngModelChange",function(r){let o=L(e).$implicit;return ae(o.value.quantity,r)||(o.value.quantity=r),V(r)}),f(),p(16,"div",54)(17,"button",55),$("click",function(){let r=L(e).$implicit,o=D(2);return V(o.updateOrder(r.key,r.value.quantity,r.value.details||""))}),y(18),f(),p(19,"button",56),$("click",function(){let r=L(e).$implicit,o=D(2);return V(o.deleteOrder(r.key))}),y(20),f()()()()()}if(i&2){let e=t.$implicit,n=D(2);h(5),M(n.displayOrderName(e.value.name)),h(2),q("ngClass",gc(10,CT,e.value.state==="ordered",e.value.state==="ready",e.value.state==="done")),h(),z(" ",e.value.state||"unknown"," "),h(),Q(n.getChoiceDisplayList(e.value.name).length?9:-1),h(3),M(n.isArabic?"\u062A\u0641\u0627\u0635\u064A\u0644":"Details"),h(),se("ngModel",e.value.details),q("placeholder",n.isArabic?"\u0623\u062F\u062E\u0644 \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644":"Enter details"),h(2),se("ngModel",e.value.quantity),h(3),z(" ",n.isArabic?"\u062A\u062D\u062F\u064A\u062B":"Update"," "),h(2),z(" ",n.isArabic?"\u062D\u0630\u0641":"Remove"," ")}}function DT(i,t){if(i&1&&G(0,"option",35),i&2){let e=t.$implicit;q("value",e)}}function RT(i,t){if(i&1){let e=fe();p(0,"div",18)(1,"div",26)(2,"div",10)(3,"div"),y(4),p(5,"strong"),y(6),f()(),p(7,"button",27),$("click",function(){L(e);let r=D();return V(r.selectedTable=null)}),y(8),f()(),p(9,"div",28)(10,"ul",29),we(11,TT,21,14,"li",30,Ue),et(13,"keyvalue"),f(),p(14,"div",31)(15,"div",32),G(16,"input",33,0),p(18,"datalist",34),we(19,DT,1,1,"option",35,Ue),f(),G(21,"input",36,1)(23,"input",37,2),p(25,"button",38),$("click",function(){L(e);let r=Ct(17),o=Ct(22),s=Ct(24);return D().addOrder(r.value,+o.value,s.value),r.value="",o.value="",V(s.value="")}),y(26),f()(),p(27,"div",39)(28,"button",40),$("click",function(){L(e);let r=D();return V(r.checkoutSelectedTable())}),y(29),f()()(),p(30,"div",41)(31,"strong"),y(32),f(),p(33,"span",42),y(34),et(35,"number"),f()()()()()}if(i&2){let e=D();h(4),z(" ",e.isArabic?"\u0627\u0644\u0637\u0644\u0628\u0627\u062A \u0644\u0640":"Orders for"," "),h(2),M(e.selectedTable.name||(e.isArabic?"\u0637\u0627\u0648\u0644\u0629":"Table")),h(2),M(e.isArabic?"\u0631\u062C\u0648\u0639":"Back"),h(3),Ce(ko(13,11,e.selectedTable.order)),h(5),q("placeholder",e.isArabic?"\u0627\u0633\u0645 \u0627\u0644\u0635\u0646\u0641":"Item name"),h(3),Ce(e.menuItemNames),h(2),q("placeholder",e.isArabic?"\u0627\u0644\u0643\u0645\u064A\u0629":"Qty"),h(2),q("placeholder",e.isArabic?"\u062A\u0641\u0627\u0635\u064A\u0644 (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)":"Details (optional)"),h(3),z(" ",e.isArabic?"\u0625\u0636\u0627\u0641\u0629":"Add"," "),h(2),q("disabled",!e.hasOrders()),h(),z(" ",e.isArabic?"\u0625\u0646\u0647\u0627\u0621 \u0627\u0644\u062D\u0633\u0627\u0628":"Checkout"," "),h(3),M(e.isArabic?"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A:":"Total:"),h(2),z("",pt(35,13,e.getTotalPrice(),"1.2-2")," \u20AA")}}function MT(i,t){if(i&1&&(p(0,"li",67)(1,"div",73)(2,"div",22),y(3),f(),p(4,"small",74),y(5),et(6,"number"),f()(),p(7,"div",75)(8,"div",22),y(9),et(10,"number"),f()()()),i&2){let e=t.$implicit,n=D(2);h(3),M(n.displayOrderName(e.name)),h(2),W_(" ",n.isArabic?"\u0627\u0644\u0633\u0639\u0631:":"Price:"," ",pt(6,5,n.getOrderUnitPrice(e),"1.2-2")," \u20AA \xD7 ",e.quantity," "),h(4),z("",pt(10,8,n.getOrderUnitPrice(e)*e.quantity,"1.2-2")," \u20AA")}}function kT(i,t){if(i&1){let e=fe();p(0,"div",19)(1,"div",60)(2,"div",61)(3,"div",62)(4,"div")(5,"h5",63),y(6),f(),p(7,"small",64),y(8),f()(),p(9,"button",65),$("click",function(){L(e);let r=D();return V(r.processCheckout("cancel"))}),f()(),p(10,"div",66)(11,"ul",29),we(12,MT,11,11,"li",67,Ue),f(),p(14,"div",68)(15,"strong"),y(16),f(),p(17,"span",42),y(18),et(19,"number"),f()()(),p(20,"div",69)(21,"button",70),$("click",function(){L(e);let r=D();return V(r.processCheckout("cancel"))}),y(22),f(),p(23,"button",71),$("click",function(){L(e);let r=D();return V(r.processCheckout("print"))}),y(24),f(),p(25,"button",72),$("click",function(){L(e);let r=D();return V(r.processCheckout("done"))}),y(26),f()()()()()}if(i&2){let e=D();q("ngStyle",ar(12,ET)),h(6),M(e.restaurantDisplayName),h(2),ti("",e.isArabic?"\u0641\u0627\u062A\u0648\u0631\u0629 \u0627\u0644\u0637\u0627\u0648\u0644\u0629":"Table Receipt"," \u2014 ",e.selectedTable==null?null:e.selectedTable.name),h(4),Ce(e.receiptOrders),h(4),M(e.isArabic?"\u0627\u0644\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0643\u0644\u064A:":"Total:"),h(2),z("",pt(19,9,e.receiptTotal,"1.2-2")," \u20AA"),h(4),M(e.isArabic?"\u0625\u0644\u063A\u0627\u0621":"Cancel"),h(2),z("\u{1F5A8} ",e.isArabic?"\u0637\u0628\u0627\u0639\u0629":"Print"),h(2),M(e.isArabic?"\u062A\u0645":"Done")}}var _d=class i{constructor(t,e,n,r,o){this.db=t;this.menuService=e;this.languageService=n;this.ngZone=r;this.route=o}restaurantId="";restaurantName="";restaurant=null;tables=[];selectedTable=null;newTableName="";menuItemNames=[];categoriesCache=null;isArabic=!1;subs=[];tablesUnsub=null;choiceDraftIndex={};isCreatingHistory=!1;todayHistoryExists=!1;showReceiptModal=!1;receiptOrders=[];receiptTotal=0;ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t),Wn.getRestaurantById(this.restaurantId).then(n=>{this.restaurant=n,this.updateRestaurantDisplayName()}).catch(()=>{this.restaurant=null,this.updateRestaurantDisplayName()});let e=Ne(this.db,`restaurants/${this.restaurantId}/tables`);this.tablesUnsub=Sn(e,n=>{this.ngZone.run(()=>{let r=n.val()||{};if(this.tables=Object.keys(r).map(o=>{let s=P({id:o},r[o]);if(s.order){let l={};Object.keys(s.order).forEach(c=>{let u=s.order[c];u.state&&u.state!=="unordered"&&(l[c]=u)}),s.order=l}return s}).sort((o,s)=>(o.name||"").localeCompare(s.name||"",void 0,{numeric:!0,sensitivity:"base"})),this.selectedTable){let o=this.tables.find(s=>s.id===this.selectedTable.id)||null;this.selectedTable=o}})}),this.checkTodayRecord(),this.menuService.getCategoriesOnce(this.restaurantId).then(n=>{this.categoriesCache=n,this.menuItemNames=this.flattenMenuNames(n,this.isArabic)}).catch(()=>{this.categoriesCache={},this.menuItemNames=[]}),this.subs.push(this.languageService.isArabic$.subscribe(n=>{this.isArabic=n,this.menuItemNames=this.flattenMenuNames(this.categoriesCache,this.isArabic),this.updateRestaurantDisplayName()}))}ngOnDestroy(){this.tablesUnsub&&(this.tablesUnsub(),this.tablesUnsub=null),this.subs.forEach(t=>t.unsubscribe()),this.subs=[]}getChoiceAddByIndex(t,e){if(e==null)return 0;let r=this.getChoiceDisplayStructured(t)[e];return r&&Number(r.add)||0}getMenuItemPrice(t){let e=this.findMenuItemByName(t),n=Number(e?.price??0);return isNaN(n)?0:n}resolveNameFromMenu(t,e){if(!this.categoriesCache)return null;let n=t.toLocaleLowerCase(),r=null;return Object.keys(this.categoriesCache).some(o=>{let s=this.categoriesCache[o]?.items||{};return Object.keys(s).some(l=>{let c=s[l]||{},u=(c.name||"").toString(),g=(c.nameArabic||"").toString();return u.toLocaleLowerCase()===n||g.toLocaleLowerCase()===n?(r=c,!0):!1})}),r?e?r.nameArabic||r.name||null:r.name||r.nameArabic||null:null}selectTable(t){this.selectedTable=t}toggleAvailability(t){return j(this,null,function*(){let e=Ne(this.db,`restaurants/${this.restaurantId}/tables/${t.id}`);yield ft(e,{availability:!t.availability})})}addTable(){return j(this,null,function*(){let t=(this.newTableName||"").trim();if(!t)return;let e=Ne(this.db,`restaurants/${this.restaurantId}/tables`),n=xc(e);yield zr(n,{name:t,availability:!0}),this.newTableName=""})}updateOrder(t,e,n){return j(this,null,function*(){if(!this.selectedTable)return;let r=Ne(this.db,`restaurants/${this.restaurantId}/tables/${this.selectedTable.id}/order/${t}`);if(e<=0)yield Ur(r);else{let o=this.selectedTable.order?.[t],s=this.choiceDraftIndex[t],l={quantity:e,details:n};if(o&&s!==void 0&&s!==null){let c=this.getChoicePairs(o.name);l.choiceEn=c.en[s]??null,l.choiceAr=c.ar[s]??null;let u=this.getMenuItemPrice(o.name||""),g=this.getChoiceAddByIndex(o.name||"",s);l.unitPrice=u+g}yield ft(r,l),delete this.choiceDraftIndex[t]}})}addOrder(t,e,n){return j(this,null,function*(){if(!this.selectedTable||!t||e<=0)return;let r=this.resolveNameFromMenu(t.trim(),this.isArabic)||t.trim(),o=Ne(this.db,`restaurants/${this.restaurantId}/tables/${this.selectedTable.id}/order`),s=Date.now().toString(),l=this.getChoicePairs(r),c=l.en.length?l.en[0]:null,u=l.ar.length?l.ar[0]:null,g=Number(this.findMenuItemByName(r)?.price??0);yield ft(o,{[s]:{name:r,quantity:e,details:n||"",state:"ordered",choiceEn:c,choiceAr:u,unitPrice:g,ts:Date.now()}})})}deleteOrder(t){return j(this,null,function*(){if(!this.selectedTable)return;let e=Ne(this.db,`restaurants/${this.restaurantId}/tables/${this.selectedTable.id}/order/${t}`);try{yield Ur(e)}catch(n){console.error("Failed to delete order:",n)}})}flattenMenuNames(t,e){let n=new Set;return t?(Object.keys(t).forEach(r=>{let s=t[r]?.items||{};Object.keys(s).forEach(l=>{let c=s[l]||{},u=e?c.nameArabic||c.name:c.name||c.nameArabic;u&&n.add(String(u))})}),Array.from(n).sort((r,o)=>r.localeCompare(o,void 0,{numeric:!0,sensitivity:"base"}))):[]}displayOrderName(t){return this.resolveNameFromMenu(t||"",this.isArabic)||t}displayOrderChoice(t){let e=t?.choiceEn??null,n=t?.choiceAr??null;return(this.isArabic?n||e:e||n)||null}findMenuItemByName(t){let e=this.categoriesCache;if(!e||!t)return null;let n=String(t).toLocaleLowerCase(),r=null;return Object.keys(e).some(o=>{let s=e[o]?.items||{};return Object.keys(s).some(l=>{let c=s[l]||{},u=(c.name||"").toString(),g=(c.nameArabic||"").toString();return u.toLocaleLowerCase()===n||g.toLocaleLowerCase()===n?(r=c,!0):!1})}),r}getChoiceDisplayList(t){let e=this.findMenuItemByName(t),n=this.isArabic?e?.choicesArabic:e?.choices,r=Array.isArray(n)?n.filter(o=>!!o):[];if(!r.length){let o=this.isArabic?e?.choices:e?.choicesArabic;r=Array.isArray(o)?o.filter(s=>!!s):[]}return r}getChoiceDisplayStructured(t){let e=this.findMenuItemByName(t),n=Array.isArray(e?.choiceOptions)?e.choiceOptions:null;return n&&n.length?n.map(r=>({label:this.isArabic?String(r.ar||r.en||""):String(r.en||r.ar||""),add:Number(r.add)||0})):this.getChoiceDisplayList(t).map(r=>({label:r,add:0}))}getChoicePairs(t){let e=this.findMenuItemByName(t),n=Array.isArray(e?.choices)?e.choices:[],r=Array.isArray(e?.choicesArabic)?e.choicesArabic:[];return{en:n,ar:r}}getSelectedChoiceIndex(t){let{en:e,ar:n}=this.getChoicePairs(t?.name||""),r=t?.choiceEn||null,o=t?.choiceAr||null,s=r?e.findIndex(c=>c===r):-1;if(s>=0)return s;let l=o?n.findIndex(c=>c===o):-1;return l>=0?l:-1}getDraftChoiceIndex(t,e){let n=this.choiceDraftIndex[t];return n===0||n?n:this.getSelectedChoiceIndex(e)}setChoiceDraft(t,e,n){this.choiceDraftIndex[t]=n}hasOrders(){let t=this.selectedTable;return!!(t&&t.order&&Object.keys(t.order).length>0)}openReceiptModal(){this.selectedTable?.order&&(this.receiptOrders=Object.values(this.selectedTable.order),this.receiptTotal=this.getTotalPrice(),this.showReceiptModal=!0)}closeReceiptModal(){this.showReceiptModal=!1}processCheckout(t){return j(this,null,function*(){if(!this.selectedTable)return;if(t==="cancel"){this.closeReceiptModal();return}let e=new Date().toISOString().split("T")[0],n=Ne(this.db,`restaurants/${this.restaurantId}/history/${e}/categories`),o=(yield gr(n)).val()||{};for(let u of Object.values(this.selectedTable.order||{})){let g=u.name;Object.keys(o).forEach(v=>{let C=o[v];Object.keys(C.items||{}).forEach(A=>{let I=C.items[A];if(I.name===g||I.nameArabic===g){let R=Number(I.counter||0);C.items[A].counter=R+(Number(u.quantity)||0)}})})}yield ft(n,o);try{let u=e,g=Ne(this.db,`restaurants/${this.restaurantId}/meta/lastInvoiceNumber`),v=yield gr(g),C=v.exists()?Number(v.val()):0,A=isFinite(C)?C+1:1,I=this.selectedTable.order||{},R={};Object.keys(I).forEach(X=>{let Z=I[X],W=this.getOrderUnitPrice(Z);R[X]={name:Z.name,quantity:Number(Z.quantity)||0,unitPrice:W,choiceEn:Z.choiceEn??null,choiceAr:Z.choiceAr??null,state:Z.state||"done"}});let F={id:A,tableId:this.selectedTable.id,tableName:this.selectedTable.name||"",items:R,total:this.getTotalPrice(),createdAt:Date.now()},U=Ne(this.db,`restaurants/${this.restaurantId}/history/${u}/Order_List/${A}`);yield zr(U,F),yield zr(g,A)}catch(u){console.error("Failed to write invoice:",u)}let s=this.selectedTable.id,l=Ne(this.db,`restaurants/${this.restaurantId}/tables/${s}`),c=Ne(this.db,`restaurants/${this.restaurantId}/tables/${s}/order`);yield ft(l,{availability:!0}),yield Ur(c),this.selectedTable=ie(P({},this.selectedTable),{availability:!0,order:{}}),t==="print"&&alert(this.isArabic?"\u{1F5A8} \u062A\u0645 \u0627\u0644\u0637\u0628\u0627\u0639\u0629 \u0628\u0646\u062C\u0627\u062D!":"\u{1F5A8} Printed successfully!"),this.closeReceiptModal()})}checkoutSelectedTable(){return j(this,null,function*(){this.selectedTable&&this.openReceiptModal()})}getTotalPrice(){return this.selectedTable?.order?Object.values(this.selectedTable.order).filter(e=>["ordered","ready","done"].includes(e.state)).reduce((e,n)=>{let r=this.getOrderUnitPrice(n);return e+r*(Number(n.quantity)||0)},0):0}getOrderUnitPrice(t){let e=Number(t.unitPrice??NaN);if(!isNaN(e)&&e>0)return e;let n=this.getMenuItemPrice(t.name||""),r=this.getChoiceDisplayStructured(t.name||""),o=this.displayOrderChoice(t),s=r.find(c=>c.label===o),l=s&&Number(s.add)||0;return n+l}get restaurantDisplayName(){return this.restaurantName||this.restaurantId}updateRestaurantDisplayName(){let t=this.isArabic?this.restaurant?.restArabicName||this.restaurant?.restName||"":this.restaurant?.restName||this.restaurant?.restArabicName||"";this.restaurantName=String(t||"").trim()}markAsDone(t){let e=Ne(this.db,`restaurants/${this.restaurantId}/tables/${t.tableKey}/order/${t.orderKey}`);ft(e,{state:"done"})}checkTodayRecord(){return j(this,null,function*(){let t=new Date().toISOString().split("T")[0],e=Ne(this.db,`restaurants/${this.restaurantId}/history/${t}`),n=yield gr(e);this.todayHistoryExists=n.exists()&&!n.val().closed})}handleDailyRecord(){return j(this,null,function*(){let t=new Date,e=t.toISOString().split("T")[0],n=t.toISOString(),r=Ne(this.db,`restaurants/${this.restaurantId}/history/${e}`);if(this.todayHistoryExists){let o=this.isArabic?"\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F \u0625\u063A\u0644\u0627\u0642 \u0633\u062C\u0644 \u0647\u0630\u0627 \u0627\u0644\u064A\u0648\u0645\u061F":"Are you sure you want to close today\u2019s record?";if(!window.confirm(o))return;yield ft(r,{closed:!0}),this.todayHistoryExists=!1,alert(this.isArabic?"\u2705 \u062A\u0645 \u0625\u063A\u0644\u0627\u0642 \u0633\u062C\u0644 \u0627\u0644\u064A\u0648\u0645 \u0628\u0646\u062C\u0627\u062D.":"\u2705 Daily record closed successfully.")}else{if(this.isCreatingHistory)return;this.isCreatingHistory=!0;try{let o=Ne(this.db,`restaurants/${this.restaurantId}/menu/categories`),s=yield gr(o);if(!s.exists()){alert("\u26A0\uFE0F No menu found."),this.isCreatingHistory=!1;return}let l=s.val(),c={};Object.keys(l).forEach(g=>{let C=l[g].items||{},A={};Object.keys(C).forEach(I=>{let R=C[I];A[I]={counter:0,name:R.name||"",price:R.price||0}}),c[g]={items:A}}),yield zr(r,{categories:c,date:n,discounts:{type1:{value:0},type2:{value:0},type3:{value:0}},total:0,closed:!1}),this.todayHistoryExists=!0,alert(this.isArabic?"\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0633\u062C\u0644 \u0627\u0644\u064A\u0648\u0645 \u0627\u0644\u062C\u062F\u064A\u062F \u2705":"\u2705 Daily record created successfully!")}catch(o){console.error("Failed to create record:",o),alert("\u274C Failed to create record.")}finally{this.isCreatingHistory=!1}}})}static \u0275fac=function(e){return new(e||i)(te(En),te(nn),te(qt),te(ee),te(Be))};static \u0275cmp=ne({type:i,selectors:[["app-dashboard"]],decls:27,vars:19,consts:[["itemName",""],["itemQty",""],["itemDetails",""],[1,"container","py-4"],[1,"dashboard-header"],[1,"d-flex","justify-content-center","my-3"],[1,"btn",3,"click","disabled"],[1,"row","g-4"],[1,"col-lg-4"],[1,"card","sticky-col",2,"position","sticky","top","16px"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"badge","bg-primary"],[1,"p-3","border-bottom"],[1,"d-flex","gap-2"],["type","text",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"list-group","list-group-flush",2,"max-height","70vh","overflow-y","auto"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",3,"active"],[1,"col-lg-8"],["tabindex","-1","role","dialog","aria-modal","true",1,"modal","fade","show","d-block",3,"ngStyle"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",3,"click"],[1,"d-flex","flex-column"],[1,"fw-semibold"],[1,"d-flex","align-items-center","gap-2"],[1,"badge",3,"ngClass"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"card","orders-card"],[1,"btn","btn-sm","btn-outline-light",3,"click"],[1,"card-body"],[1,"list-group","mb-3"],[1,"list-group-item"],[1,"d-flex","flex-wrap","align-items-stretch","gap-2","mb-3"],[1,"d-flex","flex-wrap","gap-2","flex-grow-1"],["type","text","list","menuSuggestions",1,"form-control",2,"max-width","260px",3,"placeholder"],["id","menuSuggestions"],[3,"value"],["type","number","min","1",1,"form-control",2,"max-width","120px",3,"placeholder"],["type","text",1,"form-control",3,"placeholder"],[1,"btn","btn-success",3,"click"],[1,"ms-auto","d-flex","align-items-center"],[1,"btn","btn-outline-danger",3,"click","disabled"],[1,"text-end","mt-3","border-top","pt-2"],[1,"fs-5","fw-bold","text-primary"],[1,"d-flex","justify-content-between","align-items-start"],[1,"flex-grow-1","pe-3"],[1,"d-flex","align-items-center","gap-3"],[1,"order-title"],[1,"badge","clickable",3,"click","ngClass"],[1,"choice-group","mt-2"],[1,"mt-2"],[1,"small"],["type","text",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","placeholder"],[1,"text-end","ms-3",2,"min-width","180px"],["type","number","min","0",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],[1,"d-flex","gap-2","mt-2"],[1,"btn","btn-sm","btn-primary",2,"flex","1",3,"click"],[1,"btn","btn-sm","btn-warning",2,"flex","1",3,"click"],[1,"choice-chip",3,"active"],[1,"choice-chip",3,"click"],[1,"choice-add"],["role","document",1,"modal-dialog","modal-dialog-centered","modal-md"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","mb-0"],[1,"text-muted","d-block"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"d-flex","justify-content-between","border-top","pt-2"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-success",3,"click"],[1,"me-3"],[1,"text-muted"],[1,"text-end","text-nowrap"]],template:function(e,n){e&1&&(p(0,"div",3)(1,"div",4)(2,"h1"),y(3),f(),p(4,"p"),y(5),f()(),p(6,"div",5)(7,"button",6),$("click",function(){return n.handleDailyRecord()}),y(8),f()(),p(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"span"),y(14),f(),p(15,"span",11),y(16),f()(),p(17,"div",12)(18,"div",13)(19,"input",14),le("ngModelChange",function(o){return ae(n.newTableName,o)||(n.newTableName=o),o}),$("keyup.enter",function(){return n.addTable()}),f(),p(20,"button",15),$("click",function(){return n.addTable()}),y(21),f()()(),p(22,"ul",16),we(23,ST,9,6,"li",17,Ue),f()()(),Y(25,RT,36,16,"div",18),f(),Y(26,kT,27,13,"div",19),f()),e&2&&(Oe("dir",n.isArabic?"rtl":"ltr"),h(),ge("align-right",n.isArabic),h(2),M(n.isArabic?"\u0644\u0648\u062D\u0629 \u0627\u0644\u0645\u0637\u0639\u0645":"Restaurant Dashboard"),h(2),M(n.isArabic?"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0637\u0627\u0648\u0644\u0627\u062A \u0648\u0627\u0644\u0637\u0644\u0628\u0627\u062A \u0641\u064A \u0627\u0644\u0648\u0642\u062A \u0627\u0644\u062D\u0642\u064A\u0642\u064A":"Manage tables and orders in real time"),h(2),ge("btn-primary",!n.todayHistoryExists)("btn-danger",n.todayHistoryExists),q("disabled",n.isCreatingHistory),h(),z(" ",n.todayHistoryExists?n.isArabic?"\u{1F534} \u0625\u063A\u0644\u0627\u0642 \u0633\u062C\u0644 \u0627\u0644\u064A\u0648\u0645":"\u{1F534} Close Daily Record":n.isArabic?"\u{1F7E2} \u0625\u0646\u0634\u0627\u0621 \u0633\u062C\u0644 \u0627\u0644\u064A\u0648\u0645 \u0627\u0644\u062C\u062F\u064A\u062F":"\u{1F7E2} Create New Daily Record"," "),h(6),M(n.isArabic?"\u0627\u0644\u0637\u0627\u0648\u0644\u0627\u062A":"Tables"),h(2),M(n.tables.length||0),h(3),q("placeholder",n.isArabic?"\u0627\u0633\u0645 \u0637\u0627\u0648\u0644\u0629 \u062C\u062F\u064A\u062F\u0629":"New table name"),se("ngModel",n.newTableName),h(),q("disabled",!(n.newTableName&&n.newTableName.trim())),h(),z(" ",n.isArabic?"\u0625\u0636\u0627\u0641\u0629 \u0637\u0627\u0648\u0644\u0629":"Add Table"," "),h(2),Ce(n.tables),h(2),Q(n.selectedTable?25:-1),h(),Q(n.showReceiptModal?26:-1))},dependencies:[cn,Cn,Po,At,mr,pr,Gt,gi,Yt,Ic,Qt,yc,No],styles:["[_nghost-%COMP%]{display:block;background:#f8fafc;min-height:100vh}.dashboard-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1f2937;font-weight:700;margin:0 0 .25rem}.dashboard-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin:0}.btn-outline-secondary[_ngcontent-%COMP%]{color:#fff;background-color:#21a77a;--bs-btn-active-bg: #059669}.card[_ngcontent-%COMP%]{border:none;border-radius:14px;overflow:hidden;box-shadow:0 10px 24px #0000000f}.card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;font-weight:600}.list-group-item[_ngcontent-%COMP%]{border:0;border-bottom:1px solid #eef2f7;transition:transform .15s ease,background .15s ease}.list-group-item[_ngcontent-%COMP%]:hover{background:#10b981;transform:translate(4px);border-radius:5px;color:#fff}.list-group-item.active[_ngcontent-%COMP%]{background:#10b981;font-weight:600}.badge[_ngcontent-%COMP%]{border-radius:999px;padding:.4rem .65rem;font-weight:600}.bg-success[_ngcontent-%COMP%]{background:#21a77a!important}.bg-danger[_ngcontent-%COMP%]{background:#ef4444!important;border:#88190f 1px solid}.orders-card[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background:transparent}.orders-card[_ngcontent-%COMP%]   .order-title[_ngcontent-%COMP%]{font-weight:600;color:#111827}.orders-card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#6b7280;font-size:.85rem}.form-control[_ngcontent-%COMP%]{border-radius:10px;border:1px solid #e5e7eb}.form-control[_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f626}.btn[_ngcontent-%COMP%]{border-radius:10px;font-weight:600;transition:transform .15s ease,box-shadow .15s ease;border-color:#fff}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #020f0954}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);border:none}.btn-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);border:none}.btn-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#d40909);border:none;color:#e5e7eb}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}.orders-card[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .25s ease both}@media(max-width:991px){.sticky-col[_ngcontent-%COMP%]{position:static!important}}.dashboard-header.align-right[_ngcontent-%COMP%]{text-align:right}.choice-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-top:6px}.choice-chip[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;border-radius:99px;border:1px solid #d1d5db;background:#f5f6f8;color:var(--text-color, #212529);font-weight:700;cursor:pointer;-webkit-user-select:none;user-select:none}.choice-chip.active[_ngcontent-%COMP%]{background:rgba(var(--primary-color-rgb, 255, 107, 107),.12);color:var(--primary-color, #ff6b6b);border-color:var(--primary-color, #ff6b6b)}.choice-chip.readonly[_ngcontent-%COMP%]{pointer-events:none;opacity:.95}.choice-add[_ngcontent-%COMP%]{color:var(--primary-color, #ff6b6b);font-weight:700;margin-inline-start:6px}.badge.clickable[_ngcontent-%COMP%]{cursor:pointer;transition:transform .2s}.badge.clickable[_ngcontent-%COMP%]:hover{transform:scale(1.05)}"]})};function OT(i,t){i&1&&(Ee(0,"div",5),y(1," No hookah orders yet. "),ve())}function PT(i,t){if(i&1&&(Ee(0,"div",12),y(1),ve()),i&2){let e=D().$implicit;h(),z(" Details: ",e.order.details," ")}}function NT(i,t){if(i&1){let e=fe();Ee(0,"li",8),Pi("click",function(){let r=L(e).$implicit,o=D(2);return V(o.toggleReady(r))}),Ee(1,"div")(2,"h6",9)(3,"input",10),Pi("click",function(r){let o=L(e).$implicit,s=D(2);return r.stopPropagation(),V(s.toggleReady(o))}),ve(),y(4),ve(),Ee(5,"small",11),y(6),ve(),Y(7,PT,2,1,"div",12),ve(),Ee(8,"span",13),y(9),ve()()}if(i&2){let e=t.$implicit;h(3),vn("checked",e.order.state==="ready"),h(),z(" ",e.order.name," "),h(2),z("Table: ",e.tableName),h(),Q(e.order.details?7:-1),h(2),z("x",e.order.quantity)}}function FT(i,t){if(i&1&&(Ee(0,"ul",6),we(1,NT,10,5,"li",7,Ue),ve()),i&2){let e=D();h(),Ce(e.hookahOrders)}}var yd=class i{constructor(t,e,n,r){this.db=t;this.menuService=e;this.ngZone=n;this.route=r}restaurantId="";hookahOrders=[];itemSectionIndex=new Map;categoriesSub=null;tablesUnsub=null;ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t),this.categoriesSub=this.menuService.getCategories(this.restaurantId).subscribe(n=>{this.buildItemSectionIndex(n)});let e=Ne(this.db,`restaurants/${this.restaurantId}/tables`);this.tablesUnsub=Sn(e,n=>{let r=n.val()||{},o=[];Object.keys(r).forEach(s=>{let l=r[s],c=l.order||{};Object.keys(c).forEach(u=>{let g=c[u];this.findSectionForOrder(g)==="hookah"&&g.state!=="done"&&g.state!=="unordered"&&o.push({tableKey:s,tableName:l.name||s,orderKey:u,order:g})})}),this.ngZone.run(()=>this.hookahOrders=o)})}ngOnDestroy(){this.categoriesSub&&this.categoriesSub.unsubscribe(),this.tablesUnsub&&this.tablesUnsub()}buildItemSectionIndex(t){this.itemSectionIndex.clear(),t&&Object.keys(t).forEach(e=>{let n=t[e]||{},r=(n.section||"").toString().trim().toLowerCase(),o=n.items||{};Object.keys(o).forEach(s=>{let l=o[s]||{},c=(l.name||"").toString().trim().toLowerCase(),u=(l.nameArabic||"").toString().trim().toLowerCase();c&&this.itemSectionIndex.set(c,r),u&&this.itemSectionIndex.set(u,r)})})}findSectionForOrder(t){let e=(t.name||"").toString().trim().toLowerCase();if(!e)return t.category?t.category.toLowerCase():null;let n=this.itemSectionIndex.get(e);if(n)return n;for(let[r,o]of this.itemSectionIndex.entries())if(!(r.length<3)&&(e.includes(r)||r.includes(e)))return o;return t.category?t.category.toLowerCase():null}toggleReady(t){let e=t.order.state==="ready"?"ordered":"ready",n=Ne(this.db,`restaurants/${this.restaurantId}/tables/${t.tableKey}/order/${t.orderKey}`);ft(n,{state:e})}static \u0275fac=function(e){return new(e||i)(te(En),te(nn),te(ee),te(Be))};static \u0275cmp=ne({type:i,selectors:[["app-hookah-orders"]],decls:10,vars:3,consts:[[1,"container","py-4"],[1,"card","shadow"],[1,"card-header","bg-warning","text-dark","d-flex","align-items-center","justify-content-between"],[1,"badge","bg-dark","text-white"],[1,"card-body"],[1,"text-muted","text-center","py-3"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",2,"cursor","pointer","user-select","none"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",2,"cursor","pointer","user-select","none",3,"click"],[1,"fw-semibold","mb-1"],["type","checkbox",1,"form-check-input","me-2",3,"click","checked"],[1,"text-muted"],[1,"text-muted","small","mt-1"],[1,"badge","bg-secondary","fs-6"]],template:function(e,n){e&1&&(Ee(0,"div",0)(1,"div",1)(2,"div",2)(3,"span"),y(4,"\u{1F4A8} Hookah Orders"),ve(),Ee(5,"span",3),y(6),ve()(),Ee(7,"div",4),Y(8,OT,2,0,"div",5),Y(9,FT,3,0,"ul",6),ve()()()),e&2&&(h(6),z("",n.hookahOrders.length," active"),h(2),Q(n.hookahOrders.length===0?8:-1),h(),Q(n.hookahOrders.length>0?9:-1))},encapsulation:2})};function LT(i,t){i&1&&(Ee(0,"div",5),y(1," No bar orders yet. "),ve())}function VT(i,t){if(i&1&&(Ee(0,"div",12),y(1),ve()),i&2){let e=D().$implicit;h(),z(" Details: ",e.order.details," ")}}function BT(i,t){if(i&1){let e=fe();Ee(0,"li",8),Pi("click",function(){let r=L(e).$implicit,o=D(2);return V(o.toggleReady(r))}),Ee(1,"div")(2,"h6",9)(3,"input",10),Pi("click",function(r){let o=L(e).$implicit,s=D(2);return r.stopPropagation(),V(s.toggleReady(o))}),ve(),y(4),ve(),Ee(5,"small",11),y(6),ve(),Y(7,VT,2,1,"div",12),ve(),Ee(8,"span",13),y(9),ve()()}if(i&2){let e=t.$implicit;h(3),vn("checked",e.order.state==="ready"),h(),z(" ",e.order.name," "),h(2),z("Table: ",e.tableName),h(),Q(e.order.details?7:-1),h(2),z("x",e.order.quantity)}}function jT(i,t){if(i&1&&(Ee(0,"ul",6),we(1,BT,10,5,"li",7,Ue),ve()),i&2){let e=D();h(),Ce(e.barOrders)}}var bd=class i{constructor(t,e,n,r){this.db=t;this.menuService=e;this.ngZone=n;this.route=r}restaurantId="";barOrders=[];itemSectionIndex=new Map;categoriesSub=null;tablesUnsub=null;ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t),this.categoriesSub=this.menuService.getCategories(this.restaurantId).subscribe(n=>{this.buildItemSectionIndex(n)});let e=Ne(this.db,`restaurants/${this.restaurantId}/tables`);this.tablesUnsub=Sn(e,n=>{let r=n.val()||{},o=[];Object.keys(r).forEach(s=>{let l=r[s],c=l.order||{};Object.keys(c).forEach(u=>{let g=c[u];this.findSectionForOrder(g)==="bar"&&g.state!=="unordered"&&g.state!=="done"&&o.push({tableKey:s,tableName:l.name||s,orderKey:u,order:g})})}),this.ngZone.run(()=>this.barOrders=o)})}ngOnDestroy(){this.categoriesSub&&this.categoriesSub.unsubscribe(),this.tablesUnsub&&this.tablesUnsub()}buildItemSectionIndex(t){this.itemSectionIndex.clear(),t&&Object.keys(t).forEach(e=>{let n=t[e]||{},r=(n.section||"").toString().trim().toLowerCase(),o=n.items||{};Object.keys(o).forEach(s=>{let l=o[s]||{},c=(l.name||"").toString().trim().toLowerCase(),u=(l.nameArabic||"").toString().trim().toLowerCase();c&&this.itemSectionIndex.set(c,r),u&&this.itemSectionIndex.set(u,r)})})}findSectionForOrder(t){let e=(t.name||"").toString().trim().toLowerCase();if(!e)return t.category?t.category.toLowerCase():null;let n=this.itemSectionIndex.get(e);if(n)return n;for(let[r,o]of this.itemSectionIndex.entries())if(!(r.length<3)&&(e.includes(r)||r.includes(e)))return o;return t.category?t.category.toLowerCase():null}markAsReady(t){let e=Ne(this.db,`restaurants/${this.restaurantId}/tables/${t.tableKey}/order/${t.orderKey}`);ft(e,{state:"ready"})}toggleReady(t){let e=t.order.state==="ready"?"ordered":"ready",n=Ne(this.db,`restaurants/${this.restaurantId}/tables/${t.tableKey}/order/${t.orderKey}`);ft(n,{state:e})}static \u0275fac=function(e){return new(e||i)(te(En),te(nn),te(ee),te(Be))};static \u0275cmp=ne({type:i,selectors:[["app-bar-orders"]],decls:10,vars:3,consts:[[1,"container","py-4"],[1,"card","shadow"],[1,"card-header","bg-info","text-white","d-flex","align-items-center","justify-content-between"],[1,"badge","bg-light","text-dark"],[1,"card-body"],[1,"text-muted","text-center","py-3"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",2,"cursor","pointer","user-select","none"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",2,"cursor","pointer","user-select","none",3,"click"],[1,"fw-semibold","mb-1"],["type","checkbox",1,"form-check-input","me-2",3,"click","checked"],[1,"text-muted"],[1,"text-muted","small","mt-1"],[1,"badge","bg-secondary","fs-6"]],template:function(e,n){e&1&&(Ee(0,"div",0)(1,"div",1)(2,"div",2)(3,"span"),y(4,"\u{1F379} Bar Orders"),ve(),Ee(5,"span",3),y(6),ve()(),Ee(7,"div",4),Y(8,LT,2,0,"div",5),Y(9,jT,3,0,"ul",6),ve()()()),e&2&&(h(6),z("",n.barOrders.length," active"),h(2),Q(n.barOrders.length===0?8:-1),h(),Q(n.barOrders.length>0?9:-1))},encapsulation:2})};function UT(i,t){i&1&&(Ee(0,"div",5),y(1," No kitchen orders yet. "),ve())}function zT(i,t){if(i&1&&(Ee(0,"div",12),y(1),ve()),i&2){let e=D().$implicit;h(),z(" Details: ",e.order.details," ")}}function $T(i,t){if(i&1){let e=fe();Ee(0,"li",8),Pi("click",function(){let r=L(e).$implicit,o=D(2);return V(o.toggleReady(r))}),Ee(1,"div")(2,"h6",9)(3,"input",10),Pi("click",function(r){let o=L(e).$implicit,s=D(2);return r.stopPropagation(),V(s.toggleReady(o))}),ve(),y(4),ve(),Ee(5,"small",11),y(6),ve(),Y(7,zT,2,1,"div",12),ve(),Ee(8,"span",13),y(9),ve()()}if(i&2){let e=t.$implicit;h(3),vn("checked",e.order.state==="ready"),h(),z(" ",e.order.name," "),h(2),z("Table: ",e.tableName),h(),Q(e.order.details?7:-1),h(2),z("x",e.order.quantity)}}function qT(i,t){if(i&1&&(Ee(0,"ul",6),we(1,$T,10,5,"li",7,Ue),ve()),i&2){let e=D();h(),Ce(e.kitchenOrders)}}var vd=class i{constructor(t,e,n,r){this.db=t;this.menuService=e;this.ngZone=n;this.route=r}restaurantId="";kitchenOrders=[];itemSectionIndex=new Map;categoriesSub=null;tablesUnsub=null;ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t),this.categoriesSub=this.menuService.getCategories(this.restaurantId).subscribe(n=>{this.buildItemSectionIndex(n)});let e=Ne(this.db,`restaurants/${this.restaurantId}/tables`);this.tablesUnsub=Sn(e,n=>{let r=n.val()||{},o=[];Object.keys(r).forEach(s=>{let l=r[s],c=l.order||{};Object.keys(c).forEach(u=>{let g=c[u];this.findSectionForOrder(g)==="kitchen"&&g.state!=="done"&&g.state!=="unordered"&&o.push({tableKey:s,tableName:l.name||s,orderKey:u,order:g})})}),this.ngZone.run(()=>this.kitchenOrders=o)})}ngOnDestroy(){this.categoriesSub&&this.categoriesSub.unsubscribe(),this.tablesUnsub&&this.tablesUnsub()}buildItemSectionIndex(t){this.itemSectionIndex.clear(),t&&Object.keys(t).forEach(e=>{let n=t[e]||{},r=(n.section||"").toString().trim().toLowerCase(),o=n.items||{};Object.keys(o).forEach(s=>{let l=o[s]||{},c=(l.name||"").toString().trim().toLowerCase(),u=(l.nameArabic||"").toString().trim().toLowerCase();c&&this.itemSectionIndex.set(c,r),u&&this.itemSectionIndex.set(u,r)})})}findSectionForOrder(t){let e=(t.name||"").toString().trim().toLowerCase();if(!e)return t.category?t.category.toLowerCase():null;let n=this.itemSectionIndex.get(e);if(n)return n;for(let[r,o]of this.itemSectionIndex.entries())if(!(r.length<3)&&(e.includes(r)||r.includes(e)))return o;return t.category?t.category.toLowerCase():null}toggleReady(t){let e=t.order.state==="ready"?"ordered":"ready",n=Ne(this.db,`restaurants/${this.restaurantId}/tables/${t.tableKey}/order/${t.orderKey}`);ft(n,{state:e})}static \u0275fac=function(e){return new(e||i)(te(En),te(nn),te(ee),te(Be))};static \u0275cmp=ne({type:i,selectors:[["app-kitchen-orders"]],decls:10,vars:3,consts:[[1,"container","py-4"],[1,"card","shadow"],[1,"card-header","bg-danger","text-white","d-flex","align-items-center","justify-content-between"],[1,"badge","bg-light","text-dark"],[1,"card-body"],[1,"text-muted","text-center","py-3"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",2,"cursor","pointer","user-select","none"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",2,"cursor","pointer","user-select","none",3,"click"],[1,"fw-semibold","mb-1"],["type","checkbox",1,"form-check-input","me-2",3,"click","checked"],[1,"text-muted"],[1,"text-muted","small","mt-1"],[1,"badge","bg-secondary","fs-6"]],template:function(e,n){e&1&&(Ee(0,"div",0)(1,"div",1)(2,"div",2)(3,"span"),y(4,"\u{1F468}\u200D\u{1F373} Kitchen Orders"),ve(),Ee(5,"span",3),y(6),ve()(),Ee(7,"div",4),Y(8,UT,2,0,"div",5),Y(9,qT,3,0,"ul",6),ve()()()),e&2&&(h(6),z("",n.kitchenOrders.length," active"),h(2),Q(n.kitchenOrders.length===0?8:-1),h(),Q(n.kitchenOrders.length>0?9:-1))},encapsulation:2})};var Me=(function(i){return i[i.State=0]="State",i[i.Transition=1]="Transition",i[i.Sequence=2]="Sequence",i[i.Group=3]="Group",i[i.Animate=4]="Animate",i[i.Keyframes=5]="Keyframes",i[i.Style=6]="Style",i[i.Trigger=7]="Trigger",i[i.Reference=8]="Reference",i[i.AnimateChild=9]="AnimateChild",i[i.AnimateRef=10]="AnimateRef",i[i.Query=11]="Query",i[i.Stagger=12]="Stagger",i})(Me||{}),Kn="*";function Im(i,t){return{type:Me.Trigger,name:i,definitions:t,options:{}}}function wd(i,t=null){return{type:Me.Animate,styles:t,timings:i}}function o0(i,t=null){return{type:Me.Sequence,steps:i,options:t}}function Bi(i){return{type:Me.Style,styles:i,offset:null}}function Cd(i,t,e=null){return{type:Me.Transition,expr:i,animation:t,options:e}}var wi=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},to=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,n=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++n==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,l)=>Math.max(s,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(n=>{let r=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(r)})}getPosition(){let t=this.players.reduce((e,n)=>e===null||n.totalTime>e.totalTime?n:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},hs="!";function Xa(i){return i.buttons===0||i.detail===0}function Za(i){let t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var xm;function s0(){if(xm==null){let i=typeof document<"u"?document.head:null;xm=!!(i&&(i.createShadowRoot||i.attachShadow))}return xm}function Am(i){if(s0()){let t=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function ms(){let i=typeof document<"u"&&document?document.activeElement:null;for(;i&&i.shadowRoot;){let t=i.shadowRoot.activeElement;if(t===i)break;i=t}return i}function Nt(i){return i.composedPath?i.composedPath()[0]:i.target}var Tm;try{Tm=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Tm=!1}var We=(()=>{class i{_platformId=_(mt);isBrowser=this._platformId?fi(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Tm)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Ja;function a0(){if(Ja==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ja=!0}))}finally{Ja=Ja||!1}return Ja}function Cr(i){return a0()?i:!!i.capture}function ps(i,t=0){return l0(i)?Number(i):arguments.length===2?t:0}function l0(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function Fn(i){return i instanceof ke?i.nativeElement:i}var c0=new H("cdk-input-modality-detector-options"),d0={ignoreKeys:[18,17,224,91,16]},u0=650,Dm={passive:!0,capture:!0},h0=(()=>{class i{_platform=_(We);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new yn(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(n=>n===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Nt(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<u0||(this._modality.next(Xa(e)?"keyboard":"mouse"),this._mostRecentTarget=Nt(e))};_onTouchstart=e=>{if(Za(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Nt(e)};constructor(){let e=_(ee),n=_(De),r=_(c0,{optional:!0});if(this._options=P(P({},d0),r),this.modalityDetected=this._modality.pipe(lc(1)),this.modalityChanged=this.modalityDetected.pipe(da()),this._platform.isBrowser){let o=_(Ot).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[o.listen(n,"keydown",this._onKeydown,Dm),o.listen(n,"mousedown",this._onMousedown,Dm),o.listen(n,"touchstart",this._onTouchstart,Dm)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),el=(function(i){return i[i.IMMEDIATE=0]="IMMEDIATE",i[i.EVENTUAL=1]="EVENTUAL",i})(el||{}),m0=new H("cdk-focus-monitor-default-options"),Ed=Cr({passive:!0,capture:!0}),fs=(()=>{class i{_ngZone=_(ee);_platform=_(We);_inputModalityDetector=_(h0);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=_(De);_stopInputModalityDetector=new de;constructor(){let e=_(m0,{optional:!0});this._detectionMode=e?.detectionMode||el.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let n=Nt(e);for(let r=n;r;r=r.parentElement)e.type==="focus"?this._onFocus(e,r):this._onBlur(e,r)};monitor(e,n=!1){let r=Fn(e);if(!this._platform.isBrowser||r.nodeType!==1)return me();let o=Am(r)||this._document,s=this._elementInfo.get(r);if(s)return n&&(s.checkChildren=!0),s.subject;let l={checkChildren:n,subject:new de,rootNode:o};return this._elementInfo.set(r,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(e){let n=Fn(e),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(e,n,r){let o=Fn(e),s=this._document.activeElement;o===s?this._getClosestElementsInfo(o).forEach(([l,c])=>this._originChanged(l,n,c)):(this._setOrigin(n),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===el.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused",n==="touch"),e.classList.toggle("cdk-keyboard-focused",n==="keyboard"),e.classList.toggle("cdk-mouse-focused",n==="mouse"),e.classList.toggle("cdk-program-focused",n==="program")}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&n,this._detectionMode===el.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?u0:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,n){let r=this._elementInfo.get(n),o=Nt(e);!r||!r.checkChildren&&n!==o||this._originChanged(n,this._getFocusOrigin(o),r)}_onBlur(e,n){let r=this._elementInfo.get(n);!r||r.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let n=e.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ed),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ed)}),this._rootNodeFocusListenerCount.set(n,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Je(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){let n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){let r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ed),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ed),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,r){this._setClasses(e,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){let n=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&n.push([o,r])}),n}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!n||n===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let o=e.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(n))return!0}return!1}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Rm=(()=>{class i{_elementRef=_(ke);_focusMonitor=_(fs);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new ue;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,e.nodeType===1&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(n=>{this._focusOrigin=n,this.cdkFocusChange.emit(n)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return i})();var Sd=new WeakMap,gt=(()=>{class i{_appRef;_injector=_(be);_environmentInjector=_(zt);load(e){let n=this._appRef=this._appRef||this._injector.get(Br),r=Sd.get(n);r||(r={loaders:new Set,refs:[]},Sd.set(n,r),n.onDestroy(()=>{Sd.get(n)?.refs.forEach(o=>o.destroy()),Sd.delete(n)})),r.loaders.has(e)||(r.loaders.add(e),r.refs.push(_c(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var oi=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(n,r){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return i})();function gs(i){return Array.isArray(i)?i:[i]}var p0=new Set,no,_s=(()=>{class i{_platform=_(We);_nonce=_(ma,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):WT}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&HT(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function HT(i,t){if(!p0.has(i))try{no||(no=document.createElement("style"),t&&no.setAttribute("nonce",t),no.setAttribute("type","text/css"),document.head.appendChild(no)),no.sheet&&(no.sheet.insertRule(`@media ${i} {body{ }}`,0),p0.add(i))}catch(e){console.error(e)}}function WT(i){return{matches:i==="all"||i==="",media:i,addListener:()=>{},removeListener:()=>{}}}var Mm=(()=>{class i{_mediaMatcher=_(_s);_zone=_(ee);_queries=new Map;_destroySubject=new de;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return f0(gs(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=f0(gs(e)).map(s=>this._registerQuery(s).observable),o=la(r);return o=oc(o.pipe(zn(1)),o.pipe(lc(1),ac(0))),o.pipe($e(s=>{let l={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:u})=>{l.matches=l.matches||c,l.breakpoints[u]=c}),l}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let n=this._mediaMatcher.matchMedia(e),o={observable:new ui(s=>{let l=c=>this._zone.run(()=>s.next(c));return n.addListener(l),()=>{n.removeListener(l)}}).pipe(jt(n),$e(({matches:s})=>({query:e,matches:s})),Je(this._destroySubject)),mql:n};return this._queries.set(e,o),o}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function f0(i){return i.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var KT=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Id=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({providers:[KT]})}return i})();var GT=(()=>{class i{_platform=_(We);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return QT(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let n=YT(r1(e));if(n&&(g0(n)===-1||!this.isVisible(n)))return!1;let r=e.nodeName.toLowerCase(),o=g0(e);return e.hasAttribute("contenteditable")?o!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!n1(e)?!1:r==="audio"?e.hasAttribute("controls")?o!==-1:!1:r==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,n){return i1(e)&&!this.isDisabled(e)&&(n?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function YT(i){try{return i.frameElement}catch{return null}}function QT(i){return!!(i.offsetWidth||i.offsetHeight||typeof i.getClientRects=="function"&&i.getClientRects().length)}function XT(i){let t=i.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function ZT(i){return e1(i)&&i.type=="hidden"}function JT(i){return t1(i)&&i.hasAttribute("href")}function e1(i){return i.nodeName.toLowerCase()=="input"}function t1(i){return i.nodeName.toLowerCase()=="a"}function b0(i){if(!i.hasAttribute("tabindex")||i.tabIndex===void 0)return!1;let t=i.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function g0(i){if(!b0(i))return null;let t=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function n1(i){let t=i.nodeName.toLowerCase(),e=t==="input"&&i.type;return e==="text"||e==="password"||t==="select"||t==="textarea"}function i1(i){return ZT(i)?!1:XT(i)||JT(i)||i.hasAttribute("contenteditable")||b0(i)}function r1(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}var Om=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_enabled=!0;constructor(t,e,n,r,o=!1,s){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._injector=s,o||this.attachAnchors()}destroy(){let t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let n=this._getFirstTabbableElement(e);return n?.focus(t),!!n}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){let e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let n=0;n<e.length;n++){let r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let n=e.length-1;n>=0;n--){let r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?bn(t,{injector:this._injector}):setTimeout(t)}},v0=(()=>{class i{_checker=_(GT);_ngZone=_(ee);_document=_(De);_injector=_(be);constructor(){_(gt).load(oi)}create(e,n=!1){return new Om(e,this._checker,this._ngZone,this._document,n,this._injector)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Pm=(()=>{class i{_elementRef=_(ke);_focusTrapFactory=_(v0);focusTrap;_previouslyFocusedElement=null;get enabled(){return this.focusTrap?.enabled||!1}set enabled(e){this.focusTrap&&(this.focusTrap.enabled=e)}autoCapture;constructor(){_(We).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(e){let n=e.autoCapture;n&&!n.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=ms(),this.focusTrap?.focusInitialElementWhenReady()}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",Pe],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",Pe]},exportAs:["cdkTrapFocus"],features:[ht]})}return i})(),w0=new H("liveAnnouncerElement",{providedIn:"root",factory:()=>null}),C0=new H("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),o1=0,Nm=(()=>{class i{_ngZone=_(ee);_defaultOptions=_(C0,{optional:!0});_liveElement;_document=_(De);_previousTimeout;_currentPromise;_currentResolve;constructor(){let e=_(w0,{optional:!0});this._liveElement=e||this._createLiveElement()}announce(e,...n){let r=this._defaultOptions,o,s;return n.length===1&&typeof n[0]=="number"?s=n[0]:[o,s]=n,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),s==null&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",n=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<n.length;o++)n[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${o1++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){let n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){let o=n[r],s=o.getAttribute("aria-owns");s?s.indexOf(e)===-1&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Er=(function(i){return i[i.NONE=0]="NONE",i[i.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",i[i.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",i})(Er||{}),_0="cdk-high-contrast-black-on-white",y0="cdk-high-contrast-white-on-black",km="cdk-high-contrast-active",E0=(()=>{class i{_platform=_(We);_hasCheckedHighContrastMode;_document=_(De);_breakpointSubscription;constructor(){this._breakpointSubscription=_(Mm).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Er.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Er.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Er.BLACK_ON_WHITE}return Er.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(km,_0,y0),this._hasCheckedHighContrastMode=!0;let n=this.getHighContrastMode();n===Er.BLACK_ON_WHITE?e.add(km,_0):n===Er.WHITE_ON_BLACK&&e.add(km,y0)}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Fm=(()=>{class i{constructor(){_(E0)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({imports:[Id]})}return i})();var Lm={},Rt=class i{_appId=_(Fr);static _infix=`a${Math.floor(Math.random()*1e5).toString()}`;getId(t,e=!1){return this._appId!=="ng"&&(t+=this._appId),Lm.hasOwnProperty(t)||(Lm[t]=0),`${t}${e?i._infix+"-":""}${Lm[t]++}`}static \u0275fac=function(e){return new(e||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})};var s1=200,xd=class{_letterKeyStream=new de;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new de;selectedItem=this._selectedItem;constructor(t,e){let n=typeof e?.debounceInterval=="number"?e.debounceInterval:s1;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(t),this._setupKeyHandler(n)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){let e=t.keyCode;t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe(Ut(e=>this._pressedLetters.push(e)),ac(t),Ge(()=>this._pressedLetters.length>0),$e(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let n=1;n<this._items.length+1;n++){let r=(this._selectedItemIndex+n)%this._items.length,o=this._items[r];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};function It(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}var Ad=class{_items;_activeItemIndex=Ve(-1);_activeItem=Ve(null);_wrap=!1;_typeaheadSubscription=rt.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=t=>t.disabled;constructor(t,e){this._items=t,t instanceof Th?this._itemChangesSubscription=t.changes.subscribe(n=>this._itemsChanged(n.toArray())):Vr(t)&&(this._effectRef=or(()=>this._itemsChanged(t()),{injector:e}))}tabOut=new de;change=new de;skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new xd(e,{debounceInterval:typeof t=="number"?t:void 0,skipPredicate:n=>this._skipPredicateFn(n)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(n=>{this.setActiveItem(n)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){let e=this._activeItem();this.updateActiveItem(t),this._activeItem()!==e&&this.change.next(this._activeItemIndex())}onKeydown(t){let e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex()+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(r||It(t,"shiftKey"))&&this._typeahead?.handleKey(t);return}this._typeahead?.reset(),t.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){let e=this._getItemsArray(),n=typeof t=="number"?t:e.indexOf(t),r=e[n];this._activeItem.set(r??null),this._activeItemIndex.set(n),this._typeahead?.setCurrentSelectedItemIndex(n)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){let e=this._getItemsArray();for(let n=1;n<=e.length;n++){let r=(this._activeItemIndex()+t*n+e.length)%e.length,o=e[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex()+t,t)}_setActiveItemByIndex(t,e){let n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(t+=e,!n[t])return;this.setActiveItem(t)}}_getItemsArray(){return Vr(this._items)?this._items():this._items instanceof Th?this._items.toArray():this._items}_itemsChanged(t){this._typeahead?.setItems(t);let e=this._activeItem();if(e){let n=t.indexOf(e);n>-1&&n!==this._activeItemIndex()&&(this._activeItemIndex.set(n),this._typeahead?.setCurrentSelectedItemIndex(n))}}};var il=class extends Ad{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}};var x0=" ";function jm(i,t,e){let n=Md(i,t);e=e.trim(),!n.some(r=>r.trim()===e)&&(n.push(e),i.setAttribute(t,n.join(x0)))}function kd(i,t,e){let n=Md(i,t);e=e.trim();let r=n.filter(o=>o!==e);r.length?i.setAttribute(t,r.join(x0)):i.removeAttribute(t)}function Md(i,t){return i.getAttribute(t)?.match(/\S+/g)??[]}var A0="cdk-describedby-message",Rd="cdk-describedby-host",Bm=0,T0=(()=>{class i{_platform=_(We);_document=_(De);_messageRegistry=new Map;_messagesContainer=null;_id=`${Bm++}`;constructor(){_(gt).load(oi),this._id=_(Fr)+"-"+Bm++}describe(e,n,r){if(!this._canBeDescribed(e,n))return;let o=Vm(n,r);typeof n!="string"?(I0(n,this._id),this._messageRegistry.set(o,{messageElement:n,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(n,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,n,r){if(!n||!this._isElementNode(e))return;let o=Vm(n,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),typeof n=="string"){let s=this._messageRegistry.get(o);s&&s.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let e=this._document.querySelectorAll(`[${Rd}="${this._id}"]`);for(let n=0;n<e.length;n++)this._removeCdkDescribedByReferenceIds(e[n]),e[n].removeAttribute(Rd);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,n){let r=this._document.createElement("div");I0(r,this._id),r.textContent=e,n&&r.setAttribute("role",n),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(Vm(e,n),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;let e="cdk-describedby-message-container",n=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<n.length;o++)n[o].remove();let r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){let n=Md(e,"aria-describedby").filter(r=>r.indexOf(A0)!=0);e.setAttribute("aria-describedby",n.join(" "))}_addMessageReference(e,n){let r=this._messageRegistry.get(n);jm(e,"aria-describedby",r.messageElement.id),e.setAttribute(Rd,this._id),r.referenceCount++}_removeMessageReference(e,n){let r=this._messageRegistry.get(n);r.referenceCount--,kd(e,"aria-describedby",r.messageElement.id),e.removeAttribute(Rd)}_isElementDescribedByMessage(e,n){let r=Md(e,"aria-describedby"),o=this._messageRegistry.get(n),s=o&&o.messageElement.id;return!!s&&r.indexOf(s)!=-1}_canBeDescribed(e,n){if(!this._isElementNode(e))return!1;if(n&&typeof n=="object")return!0;let r=n==null?"":`${n}`.trim(),o=e.getAttribute("aria-label");return r?!o||o.trim()!==r:!1}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Vm(i,t){return typeof i=="string"?`${t||""}/${i}`:i}function I0(i,t){i.id||(i.id=`${A0}-${t}-${Bm++}`)}var a1=new H("cdk-dir-doc",{providedIn:"root",factory:()=>_(De)}),l1=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function D0(i){let t=i?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?l1.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var pn=(()=>{class i{get value(){return this.valueSignal()}valueSignal=Ve("ltr");change=new ue;constructor(){let e=_(a1,{optional:!0});if(e){let n=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.valueSignal.set(D0(n||r||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var st=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({})}return i})();function _t(i){return i==null?"":typeof i=="string"?i:`${i}px`}function zi(i){return i!=null&&`${i}`!="false"}function R0(i,t=/\s+/){let e=[];if(i!=null){let n=Array.isArray(i)?i:`${i}`.split(t);for(let r of n){let o=`${r}`.trim();o&&e.push(o)}}return e}var oo;function M0(){if(oo==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return oo=!1,oo;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)oo=!0;else{let i=Element.prototype.scrollTo;i?oo=!/\{\s*\[native code\]\s*\}/.test(i.toString()):oo=!1}}return oo}function Um(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var ys,k0=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function zm(){if(ys)return ys;if(typeof document!="object"||!document)return ys=new Set(k0),ys;let i=document.createElement("input");return ys=new Set(k0.filter(t=>(i.setAttribute("type",t),i.type===t))),ys}var $m=class{_box;_destroyed=new de;_resizeSubject=new de;_resizeObserver;_elementObservables=new Map;constructor(t){this._box=t,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new ui(e=>{let n=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),n.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Ge(e=>e.some(n=>n.target===t)),Ch({bufferSize:1,refCount:!0}),Je(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},O0=(()=>{class i{_cleanupErrorListener;_observers=new Map;_ngZone=_(ee);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(e,n){let r=n?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new $m(r)),this._observers.get(r).observe(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var c1=new H("MATERIAL_ANIMATIONS"),P0=null;function d1(){return _(c1,{optional:!0})?.animationsDisabled||_(Lr,{optional:!0})==="NoopAnimations"?"di-disabled":(P0??=_(_s).matchMedia("(prefers-reduced-motion)").matches,P0?"reduced-motion":"enabled")}function Mt(){return d1()!=="enabled"}var u1=["notch"],h1=["matFormFieldNotchedOutline",""],m1=["*"],N0=["iconPrefixContainer"],F0=["textPrefixContainer"],L0=["iconSuffixContainer"],V0=["textSuffixContainer"],p1=["textField"],f1=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],g1=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function _1(i,t){i&1&&G(0,"span",21)}function y1(i,t){if(i&1&&(p(0,"label",20),Xe(1,1),Y(2,_1,1,0,"span",21),f()),i&2){let e=D(2);q("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),Oe("for",e._control.disableAutomaticLabeling?null:e._control.id),h(2),Q(!e.hideRequiredMarker&&e._control.required?2:-1)}}function b1(i,t){if(i&1&&Y(0,y1,3,5,"label",20),i&2){let e=D();Q(e._hasFloatingLabel()?0:-1)}}function v1(i,t){i&1&&G(0,"div",7)}function w1(i,t){}function C1(i,t){if(i&1&&Oi(0,w1,0,0,"ng-template",13),i&2){D(2);let e=Ct(1);q("ngTemplateOutlet",e)}}function E1(i,t){if(i&1&&(p(0,"div",9),Y(1,C1,1,1,null,13),f()),i&2){let e=D();q("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),h(),Q(e._forceDisplayInfixLabel()?-1:1)}}function S1(i,t){i&1&&(p(0,"div",10,2),Xe(2,2),f())}function I1(i,t){i&1&&(p(0,"div",11,3),Xe(2,3),f())}function x1(i,t){}function A1(i,t){if(i&1&&Oi(0,x1,0,0,"ng-template",13),i&2){D();let e=Ct(1);q("ngTemplateOutlet",e)}}function T1(i,t){i&1&&(p(0,"div",14,4),Xe(2,4),f())}function D1(i,t){i&1&&(p(0,"div",15,5),Xe(2,5),f())}function R1(i,t){i&1&&G(0,"div",16)}function M1(i,t){i&1&&(p(0,"div",18),Xe(1,6),f())}function k1(i,t){if(i&1&&(p(0,"mat-hint",22),y(1),f()),i&2){let e=D(2);q("id",e._hintLabelId),h(),M(e.hintLabel)}}function O1(i,t){if(i&1&&(p(0,"div",19),Y(1,k1,2,2,"mat-hint",22),Xe(2,7),G(3,"div",23),Xe(4,8),f()),i&2){let e=D();h(),Q(e.hintLabel?1:-1)}}var rl=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["mat-label"]]})}return i})(),P1=new H("MatError");var qm=(()=>{class i{align="start";id=_(Rt).getId("mat-mdc-hint-");static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,r){n&2&&(vn("id",r.id),Oe("align",null),ge("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"}})}return i})(),N1=new H("MatPrefix");var H0=new H("MatSuffix"),Hm=(()=>{class i{set _isTextSelector(e){this._isText=!0}_isText=!1;static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},features:[wn([{provide:H0,useExisting:i}])]})}return i})(),W0=new H("FloatingLabelParent"),B0=(()=>{class i{_elementRef=_(ke);get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=_(O0);_ngZone=_(ee);_parent=_(W0);_resizeSubscription=new rt;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return F1(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,r){n&2&&ge("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return i})();function F1(i){let t=i;if(t.offsetParent!==null)return t.scrollWidth;let e=t.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);let n=e.scrollWidth;return e.remove(),n}var j0="mdc-line-ripple--active",Od="mdc-line-ripple--deactivating",U0=(()=>{class i{_elementRef=_(ke);_cleanupTransitionEnd;constructor(){let e=_(ee),n=_(xt);e.runOutsideAngular(()=>{this._cleanupTransitionEnd=n.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let e=this._elementRef.nativeElement.classList;e.remove(Od),e.add(j0)}deactivate(){this._elementRef.nativeElement.classList.add(Od)}_handleTransitionEnd=e=>{let n=this._elementRef.nativeElement.classList,r=n.contains(Od);e.propertyName==="opacity"&&r&&n.remove(j0,Od)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return i})(),z0=(()=>{class i{_elementRef=_(ke);_ngZone=_(ee);open=!1;_notch;ngAfterViewInit(){let e=this._elementRef.nativeElement,n=e.querySelector(".mdc-floating-label");n?(e.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(n.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>n.style.transitionDuration="")}))):e.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){let n=this._notch.nativeElement;!this.open||!e?n.style.width="":n.style.width=`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}_setMaxWidth(e){this._notch.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${e}px)`)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,r){if(n&1&&wt(u1,5),n&2){let o;Se(o=Ie())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,r){n&2&&ge("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:h1,ngContentSelectors:m1,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(n,r){n&1&&($t(),pi(0,"div",1),Ee(1,"div",2,0),Xe(3),ve(),pi(4,"div",3))},encapsulation:2,changeDetection:0})}return i})(),bs=(()=>{class i{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;describedByIds;static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i})}return i})();var so=new H("MatFormField"),L1=new H("MAT_FORM_FIELD_DEFAULT_OPTIONS"),$0="fill",V1="auto",q0="fixed",B1="translateY(-50%)",Pd=(()=>{class i{_elementRef=_(ke);_changeDetectorRef=_(dt);_platform=_(We);_idGenerator=_(Rt);_ngZone=_(ee);_defaults=_(L1,{optional:!0});_currentDirection;_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_iconPrefixContainerSignal=_a("iconPrefixContainer");_textPrefixContainerSignal=_a("textPrefixContainer");_iconSuffixContainerSignal=_a("iconSuffixContainer");_textSuffixContainerSignal=_a("textSuffixContainer");_prefixSuffixContainers=ga(()=>[this._iconPrefixContainerSignal(),this._textPrefixContainerSignal(),this._iconSuffixContainerSignal(),this._textSuffixContainerSignal()].map(e=>e?.nativeElement).filter(e=>e!==void 0));_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=J_(rl);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=zi(e)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||V1}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearanceSignal()}set appearance(e){let n=e||this._defaults?.appearance||$0;this._appearanceSignal.set(n)}_appearanceSignal=Ve($0);get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||q0}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||q0}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_describedByIds;get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}_destroyed=new de;_isFocused=null;_explicitFormFieldControl;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_outlineLabelOffsetResizeObserver=null;_animationsDisabled=Mt();constructor(){let e=this._defaults,n=_(pn);e&&(e.appearance&&(this.appearance=e.appearance),this._hideRequiredMarker=!!e?.hideRequiredMarker,e.color&&(this.color=e.color)),or(()=>this._currentDirection=n.valueSignal()),this._syncOutlineLabelOffset()}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._outlineLabelOffsetResizeObserver?.disconnect(),this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=ga(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(e){let n=this._control,r="mat-mdc-form-field-type-";e&&this._elementRef.nativeElement.classList.remove(r+e.controlType),n.controlType&&this._elementRef.nativeElement.classList.add(r+n.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=n.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=n.stateChanges.pipe(jt([void 0,void 0]),$e(()=>[n.errorState,n.userAriaDescribedBy]),ha(),Ge(([[o,s],[l,c]])=>o!==l||s!==c)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),n.ngControl&&n.ngControl.valueChanges&&(this._valueChanges=n.ngControl.valueChanges.pipe(Je(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),hi(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){let e=this._control.focused;e&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!e&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._elementRef.nativeElement.classList.toggle("mat-focused",e),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",e)}_syncOutlineLabelOffset(){ny({earlyRead:()=>{if(this._appearanceSignal()!=="outline")return this._outlineLabelOffsetResizeObserver?.disconnect(),null;if(globalThis.ResizeObserver){this._outlineLabelOffsetResizeObserver||=new globalThis.ResizeObserver(()=>{this._writeOutlinedLabelStyles(this._getOutlinedLabelOffset())});for(let e of this._prefixSuffixContainers())this._outlineLabelOffsetResizeObserver.observe(e,{box:"border-box"})}return this._getOutlinedLabelOffset()},write:e=>this._writeOutlinedLabelStyles(e())})}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=ga(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(e){let n=this._control?this._control.ngControl:null;return n&&n[e]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&e.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let o=this._hintChildren?this._hintChildren.find(l=>l.align==="start"):null,s=this._hintChildren?this._hintChildren.find(l=>l.align==="end"):null;o?e.push(o.id):this._hintLabel&&e.push(this._hintLabelId),s&&e.push(s.id)}else this._errorChildren&&e.push(...this._errorChildren.map(o=>o.id));let n=this._control.describedByIds,r;if(n){let o=this._describedByIds||e;r=e.concat(n.filter(s=>s&&!o.includes(s)))}else r=e;this._control.setDescribedByIds(r),this._describedByIds=e}}_getOutlinedLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return null;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return["",null];if(!this._isAttachedToDom())return null;let e=this._iconPrefixContainer?.nativeElement,n=this._textPrefixContainer?.nativeElement,r=this._iconSuffixContainer?.nativeElement,o=this._textSuffixContainer?.nativeElement,s=e?.getBoundingClientRect().width??0,l=n?.getBoundingClientRect().width??0,c=r?.getBoundingClientRect().width??0,u=o?.getBoundingClientRect().width??0,g=this._currentDirection==="rtl"?"-1":"1",v=`${s+l}px`,A=`calc(${g} * (${v} + var(--mat-mdc-form-field-label-offset-x, 0px)))`,I=`var(--mat-mdc-form-field-label-transform, ${B1} translateX(${A}))`,R=s+l+c+u;return[I,R]}_writeOutlinedLabelStyles(e){if(e!==null){let[n,r]=e;this._floatingLabel&&(this._floatingLabel.element.style.transform=n),r!==null&&this._notchedOutline?._setMaxWidth(r)}}_isAttachedToDom(){let e=this._elementRef.nativeElement;if(e.getRootNode){let n=e.getRootNode();return n&&n!==e}return document.documentElement.contains(e)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["mat-form-field"]],contentQueries:function(n,r,o){if(n&1&&(q_(o,r._labelChild,rl,5),sr(o,bs,5)(o,N1,5)(o,H0,5)(o,P1,5)(o,qm,5)),n&2){kh();let s;Se(s=Ie())&&(r._formFieldControl=s.first),Se(s=Ie())&&(r._prefixChildren=s),Se(s=Ie())&&(r._suffixChildren=s),Se(s=Ie())&&(r._errorChildren=s),Se(s=Ie())&&(r._hintChildren=s)}},viewQuery:function(n,r){if(n&1&&(H_(r._iconPrefixContainerSignal,N0,5)(r._textPrefixContainerSignal,F0,5)(r._iconSuffixContainerSignal,L0,5)(r._textSuffixContainerSignal,V0,5),wt(p1,5)(N0,5)(F0,5)(L0,5)(V0,5)(B0,5)(z0,5)(U0,5)),n&2){kh(4);let o;Se(o=Ie())&&(r._textField=o.first),Se(o=Ie())&&(r._iconPrefixContainer=o.first),Se(o=Ie())&&(r._textPrefixContainer=o.first),Se(o=Ie())&&(r._iconSuffixContainer=o.first),Se(o=Ie())&&(r._textSuffixContainer=o.first),Se(o=Ie())&&(r._floatingLabel=o.first),Se(o=Ie())&&(r._notchedOutline=o.first),Se(o=Ie())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:38,hostBindings:function(n,r){n&2&&ge("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[wn([{provide:so,useExisting:i},{provide:W0,useExisting:i}])],ngContentSelectors:g1,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],["aria-atomic","true","aria-live","polite",1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(n,r){if(n&1){let o=fe();$t(f1),Oi(0,b1,1,1,"ng-template",null,0,Y_),p(2,"div",6,1),$("click",function(l){return L(o),V(r._control.onContainerClick(l))}),Y(4,v1,1,0,"div",7),p(5,"div",8),Y(6,E1,2,2,"div",9),Y(7,S1,3,0,"div",10),Y(8,I1,3,0,"div",11),p(9,"div",12),Y(10,A1,1,1,null,13),Xe(11),f(),Y(12,T1,3,0,"div",14),Y(13,D1,3,0,"div",15),f(),Y(14,R1,1,0,"div",16),f(),p(15,"div",17),Y(16,M1,2,0,"div",18)(17,O1,5,1,"div",19),f()}if(n&2){let o;h(2),ge("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),h(2),Q(!r._hasOutline()&&!r._control.disabled?4:-1),h(2),Q(r._hasOutline()?6:-1),h(),Q(r._hasIconPrefix?7:-1),h(),Q(r._hasTextPrefix?8:-1),h(2),Q(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),h(2),Q(r._hasTextSuffix?12:-1),h(),Q(r._hasIconSuffix?13:-1),h(),Q(r._hasOutline()?-1:14),h(),ge("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic");let s=r._getSubscriptMessageType();h(),Q((o=s)==="error"?16:o==="hint"?17:-1)}},dependencies:[B0,z0,dy,U0,qm],styles:[`.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator,.mdc-text-field__input::-webkit-search-cancel-button{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-filled-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-filled-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-outlined-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-outlined-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-filled-error-caret-color, var(--mat-sys-error))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-outlined-error-caret-color, var(--mat-sys-error))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-filled-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-outlined-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mat-form-field-filled-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mat-form-field-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-filled-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-filled-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-filled-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-filled-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mat-form-field-filled-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-filled-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-filled-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-filled-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-outlined-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-outlined-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-outlined-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-outlined-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mat-form-field-outlined-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-outlined-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-outlined-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-outlined-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-outline-color, var(--mat-sys-outline));border-width:var(--mat-form-field-outlined-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mat-form-field-outlined-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{max-width:min(100%,calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mat-form-field-filled-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mat-form-field-filled-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}
`],encapsulation:2,changeDetection:0})}return i})();var ao=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({imports:[Id,Pd,st]})}return i})();var Gn=(function(i){return i[i.FADING_IN=0]="FADING_IN",i[i.VISIBLE=1]="VISIBLE",i[i.FADING_OUT=2]="FADING_OUT",i[i.HIDDEN=3]="HIDDEN",i})(Gn||{}),Wm=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Gn.HIDDEN;constructor(t,e,n,r=!1){this._renderer=t,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},K0=Cr({passive:!0,capture:!0}),Km=class{_events=new Map;addHandler(t,e,n,r){let o=this._events.get(e);if(o){let s=o.get(n);s?s.add(r):o.set(n,new Set([r]))}else this._events.set(e,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,K0)})}removeHandler(t,e,n){let r=this._events.get(t);if(!r)return;let o=r.get(e);o&&(o.delete(n),o.size===0&&r.delete(e),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,K0)))}_delegateEventHandler=t=>{let e=Nt(t);e&&this._events.get(t.type)?.forEach((n,r)=>{(r===e||r.contains(e))&&n.forEach(o=>o.handleEvent(t))})}},ol={enterDuration:225,exitDuration:150},U1=800,G0=Cr({passive:!0,capture:!0}),Y0=["mousedown","touchstart"],Q0=["mouseup","mouseleave","touchend","touchcancel"],z1=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return i})(),sl=class i{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new Km;constructor(t,e,n,r,o){this._target=t,this._ngZone=e,this._platform=r,r.isBrowser&&(this._containerElement=Fn(n)),o&&o.get(gt).load(z1)}fadeInRipple(t,e,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=P(P({},ol),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);let s=n.radius||$1(t,e,r),l=t-r.left,c=e-r.top,u=o.enterDuration,g=document.createElement("div");g.classList.add("mat-ripple-element"),g.style.left=`${l-s}px`,g.style.top=`${c-s}px`,g.style.height=`${s*2}px`,g.style.width=`${s*2}px`,n.color!=null&&(g.style.backgroundColor=n.color),g.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(g);let v=window.getComputedStyle(g),C=v.transitionProperty,A=v.transitionDuration,I=C==="none"||A==="0s"||A==="0s, 0s"||r.width===0&&r.height===0,R=new Wm(this,g,n,I);g.style.transform="scale3d(1, 1, 1)",R.state=Gn.FADING_IN,n.persistent||(this._mostRecentTransientRipple=R);let F=null;return!I&&(u||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let U=()=>{F&&(F.fallbackTimer=null),clearTimeout(Z),this._finishRippleTransition(R)},X=()=>this._destroyRipple(R),Z=setTimeout(X,u+100);g.addEventListener("transitionend",U),g.addEventListener("transitioncancel",X),F={onTransitionEnd:U,onTransitionCancel:X,fallbackTimer:Z}}),this._activeRipples.set(R,F),(I||!u)&&this._finishRippleTransition(R),R}fadeOutRipple(t){if(t.state===Gn.FADING_OUT||t.state===Gn.HIDDEN)return;let e=t.element,n=P(P({},ol),t.config.animation);e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",t.state=Gn.FADING_OUT,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=Fn(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,Y0.forEach(n=>{i._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Q0.forEach(e=>{this._triggerElement.addEventListener(e,this,G0)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===Gn.FADING_IN?this._startFadeOutTransition(t):t.state===Gn.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=Gn.VISIBLE,!n&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=Gn.HIDDEN,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){let e=Xa(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+U1;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Za(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===Gn.VISIBLE||t.config.terminateOnPointerUp&&t.state===Gn.FADING_IN;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(Y0.forEach(e=>i._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(Q0.forEach(e=>t.removeEventListener(e,this,G0)),this._pointerUpEventsRegistered=!1))}};function $1(i,t,e){let n=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(n*n+r*r)}var Gm=new H("mat-ripple-global-options"),X0=(()=>{class i{_elementRef=_(ke);_animationsDisabled=Mt();color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let e=_(ee),n=_(We),r=_(Gm,{optional:!0}),o=_(be);this._globalOptions=r||{},this._rippleRenderer=new sl(this,e,this._elementRef,n,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:P(P(P({},this._globalOptions.animation),this._animationsDisabled?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,n=0,r){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,n,P(P({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,P(P({},this.rippleConfig),e))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,r){n&2&&ge("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return i})();var Z0=(()=>{class i{_animationsDisabled=Mt();state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(n,r){n&2&&ge("mat-pseudo-checkbox-indeterminate",r.state==="indeterminate")("mat-pseudo-checkbox-checked",r.state==="checked")("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal",r.appearance==="minimal")("mat-pseudo-checkbox-full",r.appearance==="full")("_mat-animation-noopable",r._animationsDisabled)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(n,r){},styles:[`.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-minimal-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-minimal-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-pseudo-checkbox-full-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-pseudo-checkbox-full-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-pseudo-checkbox-full-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-full-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-pseudo-checkbox-full-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-full-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}
`],encapsulation:2,changeDetection:0})}return i})();var vs=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["structural-styles"]],decls:0,vars:0,template:function(n,r){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus-visible::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return i})();var q1=["text"],H1=[[["mat-icon"]],"*"],W1=["mat-icon","*"];function K1(i,t){if(i&1&&G(0,"mat-pseudo-checkbox",1),i&2){let e=D();q("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function G1(i,t){if(i&1&&G(0,"mat-pseudo-checkbox",3),i&2){let e=D();q("disabled",e.disabled)}}function Y1(i,t){if(i&1&&(p(0,"span",4),y(1),f()),i&2){let e=D();h(),z("(",e.group.label,")")}}var Qm=new H("MAT_OPTION_PARENT_COMPONENT"),Xm=new H("MatOptgroup");var Ym=class{source;isUserInput;constructor(t,e=!1){this.source=t,this.isUserInput=e}},ws=(()=>{class i{_element=_(ke);_changeDetectorRef=_(dt);_parent=_(Qm,{optional:!0});group=_(Xm,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=_(Rt).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled()}set disabled(e){this._disabled.set(e)}_disabled=Ve(!1);get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}onSelectionChange=new ue;_text;_stateChanges=new de;constructor(){let e=_(gt);e.load(vs),e.load(oi),this._signalDisableRipple=!!this._parent&&Vr(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,n){let r=this._getHostElement();typeof r.focus=="function"&&r.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!It(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new Ym(this,e))}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["mat-option"]],viewQuery:function(n,r){if(n&1&&wt(q1,7),n&2){let o;Se(o=Ie())&&(r._text=o.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(n,r){n&1&&$("click",function(){return r._selectViaInteraction()})("keydown",function(s){return r._handleKeydown(s)}),n&2&&(vn("id",r.id),Oe("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),ge("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",Pe]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:W1,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(n,r){n&1&&($t(H1),Y(0,K1,1,2,"mat-pseudo-checkbox",1),Xe(1),p(2,"span",2,0),Xe(4,1),f(),Y(5,G1,1,1,"mat-pseudo-checkbox",3),Y(6,Y1,2,1,"span",4),G(7,"div",5)),n&2&&(Q(r.multiple?0:-1),h(5),Q(!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator?5:-1),h(),Q(r.group&&r.group._inert?6:-1),h(),q("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[Z0,X0],styles:[`.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-active,.mat-mdc-option-multiple,:focus,:hover){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-active,.mat-mdc-option-multiple,:focus,:hover) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-pseudo-checkbox-minimal-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mat-list-list-item-selected-container-color: var(--mat-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return i})();function J0(i,t,e){if(e.length){let n=t.toArray(),r=e.toArray(),o=0;for(let s=0;s<i+1;s++)n[s].group&&n[s].group===r[o]&&o++;return o}return 0}function ev(i,t,e,n){return i<e?i:i+t>e+n?Math.max(0,i-n+t):e}var Q1=20,Cs=(()=>{class i{_ngZone=_(ee);_platform=_(We);_renderer=_(Ot).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new de;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=Q1){return this._platform.isBrowser?new ui(n=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=e>0?this._scrolled.pipe(vh(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):me()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){let r=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(Ge(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){let n=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&n.push(o)}),n}_scrollableContainsElement(e,n){let r=Fn(n),o=e.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var X1=20,Sr=(()=>{class i{_platform=_(We);_listeners;_viewportSize;_change=new de;_document=_(De);constructor(){let e=_(ee),n=_(Ot).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[n.listen("window","resize",r),n.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,n=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect(),s=-o.top||e.body.scrollTop||n.scrollY||r.scrollTop||0,l=-o.left||e.body.scrollLeft||n.scrollX||r.scrollLeft||0;return{top:s,left:l}}change(e=X1){return e>0?this._change.pipe(vh(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var lo=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({})}return i})(),Zm=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({imports:[st,lo,st,lo]})}return i})();var al=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Ir=class extends al{component;viewContainerRef;injector;projectableNodes;constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.projectableNodes=r}},Es=class extends al{templateRef;viewContainerRef;context;injector;constructor(t,e,n,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},Jm=class extends al{element;constructor(t){super(),this.element=t instanceof ke?t.nativeElement:t}},Nd=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof Ir)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Es)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof Jm)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},Fd=class extends Nd{outletElement;_appRef;_defaultInjector;constructor(t,e,n){super(),this.outletElement=t,this._appRef=e,this._defaultInjector=n}attachComponentPortal(t){let e;if(t.viewContainerRef){let n=t.injector||t.viewContainerRef.injector,r=n.get(Dh,null,{optional:!0})||void 0;e=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:n,ngModuleRef:r,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else{let n=this._appRef,r=t.injector||this._defaultInjector||be.NULL,o=r.get(zt,n.injector);e=_c(t.component,{elementInjector:r,environmentInjector:o,projectableNodes:t.projectableNodes||void 0}),n.attachView(e.hostView),this.setDisposeFn(()=>{n.viewCount>0&&n.detachView(e.hostView),e.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=t,e}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(n);r!==-1&&e.remove(r)}),this._attachedPortal=t,n}attachDomPortal=t=>{let e=t.element;e.parentNode;let n=this.outletElement.ownerDocument.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var ep=(()=>{class i extends Nd{_moduleRef=_(Dh,{optional:!0});_document=_(De);_viewContainerRef=_(ei);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new ue;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let n=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,r=n.createComponent(e.component,{index:n.length,injector:e.injector||n.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return n!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}attachDomPortal=e=>{let n=e.element;n.parentNode;let r=this._document.createComment("dom-portal");e.setAttachedHost(this),n.parentNode.insertBefore(r,n),this._getRootNode().appendChild(n),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(n,r)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[mi]})}return i})(),Ld=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({})}return i})();var tv=M0();function qd(i){return new Vd(i.get(Sr),i.get(De))}var Vd=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,e){this._viewportRuler=t,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=_t(-this._previousScrollPosition.left),t.style.top=_t(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,n=t.style,r=e.style,o=n.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),tv&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),tv&&(n.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.documentElement,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}};function lv(i,t){return new Bd(i.get(Cs),i.get(ee),i.get(Sr),t)}var Bd=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(Ge(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var ll=class{enable(){}disable(){}attach(){}};function tp(i,t){return t.some(e=>{let n=i.bottom<e.top,r=i.top>e.bottom,o=i.right<e.left,s=i.left>e.right;return n||r||o||s})}function nv(i,t){return t.some(e=>{let n=i.top<e.top,r=i.bottom>e.bottom,o=i.left<e.left,s=i.right>e.right;return n||r||o||s})}function $i(i,t){return new jd(i.get(Cs),i.get(Sr),i.get(ee),t)}var jd=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();tp(e,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},cv=(()=>{class i{_injector=_(be);constructor(){}noop=()=>new ll;close=e=>lv(this._injector,e);block=()=>qd(this._injector);reposition=e=>$i(this._injector,e);static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),uo=class{positionStrategy;scrollStrategy=new ll;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;usePopover;constructor(t){if(t){let e=Object.keys(t);for(let n of e)t[n]!==void 0&&(this[n]=t[n])}}};var Ud=class{connectionPair;scrollableViewProperties;constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var dv=(()=>{class i{_attachedOverlays=[];_document=_(De);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),uv=(()=>{class i extends dv{_ngZone=_(ee);_renderer=_(Ot).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let n=this._attachedOverlays;for(let r=n.length-1;r>-1;r--)if(n[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>n[r]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=ki(i)))(r||i)}})();static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),hv=(()=>{class i extends dv{_platform=_(We);_ngZone=_(ee);_renderer=_(Ot).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(e){if(super.add(e),!this._isAttached){let n=this._document.body,r={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(n,"pointerdown",this._pointerDownListener,r),o.listen(n,"click",this._clickListener,r),o.listen(n,"auxclick",this._clickListener,r),o.listen(n,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=Nt(e)};_clickListener=e=>{let n=Nt(e),r=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:n;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let l=o[s];if(l._outsidePointerEvents.observers.length<1||!l.hasAttached())continue;if(iv(l.overlayElement,n)||iv(l.overlayElement,r))break;let c=l._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>c.next(e)):c.next(e)}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=ki(i)))(r||i)}})();static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function iv(i,t){let e=typeof ShadowRoot<"u"&&ShadowRoot,n=t;for(;n;){if(n===i)return!0;n=e&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var mv=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-overlay-popover{background:none;border:none;padding:0;outline:0;overflow:visible;position:fixed;pointer-events:none;white-space:normal;color:inherit;text-decoration:none;width:100%;height:100%;inset:auto;top:0;left:0}.cdk-overlay-popover::backdrop{display:none}.cdk-overlay-popover .cdk-overlay-backdrop{position:fixed;z-index:auto}
`],encapsulation:2,changeDetection:0})}return i})(),pv=(()=>{class i{_platform=_(We);_containerElement;_document=_(De);_styleLoader=_(gt);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||Um()){let r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let n=this._document.createElement("div");n.classList.add(e),Um()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}_loadStyles(){this._styleLoader.load(mv)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),np=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(t,e,n,r){this._renderer=e,this._ngZone=n,this.element=t.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let t=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),t.style.pointerEvents="none",t.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}};function ip(i){return i&&i.nodeType===1}var zd=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new de;_attachments=new de;_detachments=new de;_positionStrategy;_scrollStrategy;_locationChanges=rt.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_disposed;_previousHostParent;_keydownEvents=new de;_outsidePointerEvents=new de;_afterNextRenderRef;constructor(t,e,n,r,o,s,l,c,u,g=!1,v,C){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=l,this._location=c,this._outsideClickDispatcher=u,this._animationsDisabled=g,this._injector=v,this._renderer=C,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(t){if(this._disposed)return null;this._attachHost();let e=this._portalOutlet.attach(t);return this._positionStrategy?.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=bn(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){if(this._disposed)return;let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,t&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent(),this._disposed=!0}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=P(P({},this._config),t),this._updateElementSize()}setDirection(t){this._config=ie(P({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=_t(this._config.width),t.height=_t(this._config.height),t.minWidth=_t(this._config.minWidth),t.minHeight=_t(this._config.minHeight),t.maxWidth=_t(this._config.maxWidth),t.maxHeight=_t(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachHost(){if(!this._host.parentElement){let t=this._config.usePopover?this._positionStrategy?.getPopoverInsertionPoint?.():null;ip(t)?t.after(this._host):t?.type==="parent"?t.element.appendChild(this._host):this._previousHostParent?.appendChild(this._host)}if(this._config.usePopover)try{this._host.showPopover()}catch{}}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new np(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._config.usePopover?this._host.prepend(this._backdropRef.element):this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(t))}):this._backdropRef.element.classList.add(t)}_updateStackingOrder(){!this._config.usePopover&&this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(t,e,n){let r=gs(e||[]).filter(o=>!!o);r.length&&(n?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){let t=!1;try{this._detachContentAfterRenderRef=bn(()=>{t=!0,this._detachContent()},{injector:this._injector})}catch(e){if(t)throw e;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let t=this._scrollStrategy;t?.disable(),t?.detach?.()}},rv="cdk-overlay-connected-position-bounding-box",Z1=/([A-Za-z%]+)$/;function mo(i,t){return new Ss(t,i.get(Sr),i.get(De),i.get(We),i.get(pv))}var Ss=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new de;_resizeSubscription=rt.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;_popoverLocation="global";positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(rv),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._getContainerRect();let t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[],s;for(let l of this._preferredPositions){let c=this._getOriginPoint(t,r,l),u=this._getOverlayPoint(c,e,l),g=this._getOverlayFit(u,e,n,l);if(g.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(l,c);return}if(this._canFitWithFlexibleDimensions(g,u,n)){o.push({position:l,origin:c,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(c,l)});continue}(!s||s.overlayFit.visibleArea<g.visibleArea)&&(s={overlayFit:g,overlayPoint:u,originPoint:c,position:l,overlayRect:e})}if(o.length){let l=null,c=-1;for(let u of o){let g=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);g>c&&(c=g,l=u)}this._isPushed=!1,this._applyPosition(l.position,l.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&co(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(rv),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;t?(this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._getContainerRect(),this._applyPosition(t,this._getOriginPoint(this._originRect,this._containerRect,t))):this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}withPopoverLocation(t){return this._popoverLocation=t,this}getPopoverInsertionPoint(){return this._popoverLocation==="global"?null:this._popoverLocation!=="inline"?this._popoverLocation:this._origin instanceof ke?this._origin.nativeElement:ip(this._origin)?this._origin:null}_getOriginPoint(t,e,n){let r;if(n.originX=="center")r=t.left+t.width/2;else{let s=this._isRtl()?t.right:t.left,l=this._isRtl()?t.left:t.right;r=n.originX=="start"?s:l}e.left<0&&(r-=e.left);let o;return n.originY=="center"?o=t.top+t.height/2:o=n.originY=="top"?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,n){let r;n.overlayX=="center"?r=-e.width/2:n.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let o;return n.overlayY=="center"?o=-e.height/2:o=n.overlayY=="top"?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,n,r){let o=sv(e),{x:s,y:l}=t,c=this._getOffset(r,"x"),u=this._getOffset(r,"y");c&&(s+=c),u&&(l+=u);let g=0-s,v=s+o.width-n.width,C=0-l,A=l+o.height-n.height,I=this._subtractOverflows(o.width,g,v),R=this._subtractOverflows(o.height,C,A),F=I*R;return{visibleArea:F,isCompletelyWithinViewport:o.width*o.height===F,fitsInViewportVertically:R===o.height,fitsInViewportHorizontally:I==o.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){let r=n.bottom-e.y,o=n.right-e.x,s=ov(this._overlayRef.getConfig().minHeight),l=ov(this._overlayRef.getConfig().minWidth),c=t.fitsInViewportVertically||s!=null&&s<=r,u=t.fitsInViewportHorizontally||l!=null&&l<=o;return c&&u}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=sv(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),l=Math.max(t.y+r.height-o.height,0),c=Math.max(o.top-n.top-t.y,0),u=Math.max(o.left-n.left-t.x,0),g=0,v=0;return r.width<=o.width?g=u||-s:g=t.x<this._getViewportMarginStart()?o.left-n.left-t.x:0,r.height<=o.height?v=c||-l:v=t.y<this._getViewportMarginTop()?o.top-n.top-t.y:0,this._previousPushAmount={x:g,y:v},{x:t.x+g,y:t.y+v}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!J1(this._lastScrollVisibility,n)){let r=new Ud(t,n);this._positionChanges.next(r)}this._lastScrollVisibility=n}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,r=t.overlayY;t.overlayX==="center"?n="center":this._isRtl()?n=t.overlayX==="start"?"right":"left":n=t.overlayX==="start"?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){let n=this._viewportRect,r=this._isRtl(),o,s,l;if(e.overlayY==="top")s=t.y,o=n.height-s+this._getViewportMarginBottom();else if(e.overlayY==="bottom")l=n.height-t.y+this._getViewportMarginTop()+this._getViewportMarginBottom(),o=n.height-l+this._getViewportMarginTop();else{let A=Math.min(n.bottom-t.y+n.top,t.y),I=this._lastBoundingBoxSize.height;o=A*2,s=t.y-A,o>I&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-I/2)}let c=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,u=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,g,v,C;if(u)C=n.width-t.x+this._getViewportMarginStart()+this._getViewportMarginEnd(),g=t.x-this._getViewportMarginStart();else if(c)v=t.x,g=n.right-t.x-this._getViewportMarginEnd();else{let A=Math.min(n.right-t.x+n.left,t.x),I=this._lastBoundingBoxSize.width;g=A*2,v=t.x-A,g>I&&!this._isInitialRender&&!this._growAfterOpen&&(v=t.x-I/2)}return{top:s,left:v,bottom:l,right:C,width:g,height:o}}_setBoundingBoxStyles(t,e){let n=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right="auto",r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.width=_t(n.width),r.height=_t(n.height),r.top=_t(n.top)||"auto",r.bottom=_t(n.bottom)||"auto",r.left=_t(n.left)||"auto",r.right=_t(n.right)||"auto",e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=_t(o)),s&&(r.maxWidth=_t(s))}this._lastBoundingBoxSize=n,co(this._boundingBox.style,r)}_resetBoundingBoxStyles(){co(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){co(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let g=this._viewportRuler.getViewportScrollPosition();co(n,this._getExactOverlayY(e,t,g)),co(n,this._getExactOverlayX(e,t,g))}else n.position="static";let l="",c=this._getOffset(e,"x"),u=this._getOffset(e,"y");c&&(l+=`translateX(${c}px) `),u&&(l+=`translateY(${u}px)`),n.transform=l.trim(),s.maxHeight&&(r?n.maxHeight=_t(s.maxHeight):o&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=_t(s.maxWidth):o&&(n.maxWidth="")),co(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),t.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=_t(o.y);return r}_getExactOverlayX(t,e,n){let r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));let s;if(this._isRtl()?s=t.overlayX==="end"?"left":"right":s=t.overlayX==="end"?"right":"left",s==="right"){let l=this._document.documentElement.clientWidth;r.right=`${l-(o.x+this._overlayRect.width)}px`}else r.left=_t(o.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:nv(t,n),isOriginOutsideView:tp(t,n),isOverlayClipped:nv(e,n),isOverlayOutsideView:tp(e,n)}}_subtractOverflows(t,...e){return e.reduce((n,r)=>n-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._getViewportMarginTop(),left:n.left+this._getViewportMarginStart(),right:n.left+t-this._getViewportMarginEnd(),bottom:n.top+e-this._getViewportMarginBottom(),width:t-this._getViewportMarginStart()-this._getViewportMarginEnd(),height:e-this._getViewportMarginTop()-this._getViewportMarginBottom()}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&gs(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getViewportMarginStart(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.start??0}_getViewportMarginEnd(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.end??0}_getViewportMarginTop(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.top??0}_getViewportMarginBottom(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.bottom??0}_getOriginRect(){let t=this._origin;if(t instanceof ke)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}_getContainerRect(){let t=this._overlayRef.getConfig().usePopover&&this._popoverLocation!=="global",e=this._overlayContainer.getContainerElement();t&&(e.style.display="block");let n=e.getBoundingClientRect();return t&&(e.style.display=""),n}};function co(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function ov(i){if(typeof i!="number"&&i!=null){let[t,e]=i.split(Z1);return!e||e==="px"?parseFloat(t):null}return i||null}function sv(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}function J1(i,t){return i===t?!0:i.isOriginClipped===t.isOriginClipped&&i.isOriginOutsideView===t.isOriginOutsideView&&i.isOverlayClipped===t.isOverlayClipped&&i.isOverlayOutsideView===t.isOverlayOutsideView}var av="cdk-global-overlay-wrapper";function Hd(i){return new $d}var $d=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(av),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:l}=n,c=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),u=(o==="100%"||o==="100vh")&&(!l||l==="100%"||l==="100vh"),g=this._xPosition,v=this._xOffset,C=this._overlayRef.getConfig().direction==="rtl",A="",I="",R="";c?R="flex-start":g==="center"?(R="center",C?I=v:A=v):C?g==="left"||g==="end"?(R="flex-end",A=v):(g==="right"||g==="start")&&(R="flex-start",I=v):g==="left"||g==="start"?(R="flex-start",A=v):(g==="right"||g==="end")&&(R="flex-end",I=v),t.position=this._cssPosition,t.marginLeft=c?"0":A,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=c?"0":I,e.justifyContent=R,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(av),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},fv=(()=>{class i{_injector=_(be);constructor(){}global(){return Hd()}flexibleConnectedTo(e){return mo(this._injector,e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),cl=new H("OVERLAY_DEFAULT_CONFIG");function po(i,t){i.get(gt).load(mv);let e=i.get(pv),n=i.get(De),r=i.get(Rt),o=i.get(Br),s=i.get(pn),l=i.get(xt,null,{optional:!0})||i.get(Ot).createRenderer(null,null),c=new uo(t),u=i.get(cl,null,{optional:!0})?.usePopover??!0;c.direction=c.direction||s.value,"showPopover"in n.body?c.usePopover=t?.usePopover??u:c.usePopover=!1;let g=n.createElement("div"),v=n.createElement("div");g.id=r.getId("cdk-overlay-"),g.classList.add("cdk-overlay-pane"),v.appendChild(g),c.usePopover&&(v.setAttribute("popover","manual"),v.classList.add("cdk-overlay-popover"));let C=c.usePopover?c.positionStrategy?.getPopoverInsertionPoint?.():null;return e.getContainerElement().appendChild(v),ip(C)?C.after(v):C?.type==="parent"&&C.element.appendChild(v),new zd(new Fd(g,o,i),v,g,c,i.get(ee),i.get(uv),n,i.get(lr),i.get(hv),t?.disableAnimations??i.get(Lr,null,{optional:!0})==="NoopAnimations",i.get(zt),l)}var gv=(()=>{class i{scrollStrategies=_(cv);_positionBuilder=_(fv);_injector=_(be);constructor(){}create(e){return po(this._injector,e)}position(){return this._positionBuilder}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),eD=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],tD=new H("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let i=_(be);return()=>$i(i)}}),Is=(()=>{class i{elementRef=_(ke);constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return i})(),_v=new H("cdk-connected-overlay-default-config"),Wd=(()=>{class i{_dir=_(pn,{optional:!0});_injector=_(be);_overlayRef;_templatePortal;_backdropSubscription=rt.EMPTY;_attachSubscription=rt.EMPTY;_detachSubscription=rt.EMPTY;_positionSubscription=rt.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=_(tD);_ngZone=_(ee);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;disposeOnNavigation=!1;usePopover;matchWidth=!1;set _config(e){typeof e!="string"&&this._assignConfig(e)}backdropClick=new ue;positionChange=new ue;attach=new ue;detach=new ue;overlayKeydown=new ue;overlayOutsideClick=new ue;constructor(){let e=_(fa),n=_(ei),r=_(_v,{optional:!0}),o=_(cl,{optional:!0});this.usePopover=o?.usePopover===!1?null:"global",this._templatePortal=new Es(e,n),this.scrollStrategy=this._scrollStrategyFactory(),r&&this._assignConfig(r)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this._getWidth(),minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=eD);let e=this._overlayRef=po(this._injector,this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),n.keyCode===27&&!this.disableClose&&!It(n)&&(n.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{let r=this._getOriginElement(),o=Nt(n);(!r||r!==o&&!r.contains(o))&&this.overlayOutsideClick.next(n)})}_buildConfig(){let e=this._position=this.positionStrategy||this._createPositionStrategy(),n=new uo({direction:this._dir||"ltr",positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation,usePopover:!!this.usePopover});return(this.height||this.height===0)&&(n.height=this.height),(this.minWidth||this.minWidth===0)&&(n.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(e){let n=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector).withPopoverLocation(this.usePopover===null?"global":this.usePopover)}_createPositionStrategy(){let e=mo(this._injector,this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof Is?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Is?this.origin.elementRef.nativeElement:this.origin instanceof ke?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_getWidth(){return this.width?this.width:this.matchWidth?this._getOriginElement()?.getBoundingClientRect?.().width:void 0}attachOverlay(){this._overlayRef||this._createOverlay();let e=this._overlayRef;e.getConfig().hasBackdrop=this.hasBackdrop,e.updateSize({width:this._getWidth()}),e.hasAttached()||e.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=e.backdropClick().subscribe(n=>this.backdropClick.emit(n)):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(T_(()=>this.positionChange.observers.length>0)).subscribe(n=>{this._ngZone.run(()=>this.positionChange.emit(n)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}_assignConfig(e){this.origin=e.origin??this.origin,this.positions=e.positions??this.positions,this.positionStrategy=e.positionStrategy??this.positionStrategy,this.offsetX=e.offsetX??this.offsetX,this.offsetY=e.offsetY??this.offsetY,this.width=e.width??this.width,this.height=e.height??this.height,this.minWidth=e.minWidth??this.minWidth,this.minHeight=e.minHeight??this.minHeight,this.backdropClass=e.backdropClass??this.backdropClass,this.panelClass=e.panelClass??this.panelClass,this.viewportMargin=e.viewportMargin??this.viewportMargin,this.scrollStrategy=e.scrollStrategy??this.scrollStrategy,this.disableClose=e.disableClose??this.disableClose,this.transformOriginSelector=e.transformOriginSelector??this.transformOriginSelector,this.hasBackdrop=e.hasBackdrop??this.hasBackdrop,this.lockPosition=e.lockPosition??this.lockPosition,this.flexibleDimensions=e.flexibleDimensions??this.flexibleDimensions,this.growAfterOpen=e.growAfterOpen??this.growAfterOpen,this.push=e.push??this.push,this.disposeOnNavigation=e.disposeOnNavigation??this.disposeOnNavigation,this.usePopover=e.usePopover??this.usePopover,this.matchWidth=e.matchWidth??this.matchWidth}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",Pe],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",Pe],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Pe],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Pe],push:[2,"cdkConnectedOverlayPush","push",Pe],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Pe],usePopover:[0,"cdkConnectedOverlayUsePopover","usePopover"],matchWidth:[2,"cdkConnectedOverlayMatchWidth","matchWidth",Pe],_config:[0,"cdkConnectedOverlay","_config"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[ht]})}return i})(),dl=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({providers:[gv],imports:[st,Ld,Zm,Zm]})}return i})();var ul=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new de;constructor(t=!1,e,n=!0,r){this._multiple=t,this._emitChanges=n,this.compareWith=r,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(n=>this._markSelected(n));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(n=>this._unmarkSelected(n));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);let e=this.selected,n=new Set(t.map(o=>this._getConcreteValue(o)));t.forEach(o=>this._markSelected(o)),e.filter(o=>!n.has(this._getConcreteValue(o,n))).forEach(o=>this._unmarkSelected(o));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();let e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){t.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(t,e){if(this.compareWith){e=e??this._selection;for(let n of e)if(this.compareWith(t,n))return n;return t}else return t}};var Kd=(()=>{class i{isErrorState(e,n){return!!(e&&e.invalid&&(e.touched||n&&n.submitted))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var xs=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(t,e,n,r,o){this._defaultMatcher=t,this.ngControl=e,this._parentFormGroup=n,this._parentForm=r,this._stateChanges=o}updateErrorState(){let t=this.errorState,e=this._parentFormGroup||this._parentForm,n=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=n?.isErrorState(r,e)??!1;o!==t&&(this.errorState=o,this._stateChanges.next())}};var Gd=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({imports:[st]})}return i})();var yv=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({imports:[st]})}return i})();var As=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({imports:[Gd,yv,ws,st]})}return i})();var nD=["trigger"],iD=["panel"],rD=[[["mat-select-trigger"]],"*"],oD=["mat-select-trigger","*"];function sD(i,t){if(i&1&&(p(0,"span",4),y(1),f()),i&2){let e=D();h(),M(e.placeholder)}}function aD(i,t){i&1&&Xe(0)}function lD(i,t){if(i&1&&(p(0,"span",11),y(1),f()),i&2){let e=D(2);h(),M(e.triggerValue)}}function cD(i,t){if(i&1&&(p(0,"span",5),Y(1,aD,1,0)(2,lD,2,1,"span",11),f()),i&2){let e=D();h(),Q(e.customTrigger?1:2)}}function dD(i,t){if(i&1){let e=fe();p(0,"div",12,1),$("keydown",function(r){L(e);let o=D();return V(o._handleKeydown(r))}),Xe(2,1),f()}if(i&2){let e=D();Mn(G_("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme())),ge("mat-select-panel-animations-enabled",!e._animationsDisabled),q("ngClass",e.panelClass),Oe("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var uD=new H("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let i=_(be);return()=>$i(i)}}),hD=new H("MAT_SELECT_CONFIG"),mD=new H("MatSelectTrigger"),rp=class{source;value;constructor(t,e){this.source=t,this.value=e}},bv=(()=>{class i{_viewportRuler=_(Sr);_changeDetectorRef=_(dt);_elementRef=_(ke);_dir=_(pn,{optional:!0});_idGenerator=_(Rt);_renderer=_(xt);_parentFormField=_(so,{optional:!0});ngControl=_(Ea,{self:!0,optional:!0});_liveAnnouncer=_(Nm);_defaultOptions=_(hD,{optional:!0});_animationsDisabled=Mt();_popoverLocation;_initialized=new de;_cleanupDetach;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(e){let n=this.options.toArray()[e];if(n){let r=this.panel.nativeElement,o=J0(e,this.options,this.optionGroups),s=n._getHostElement();e===0&&o===1?r.scrollTop=0:r.scrollTop=ev(s.offsetTop,s.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new rp(this,e)}_scrollStrategyFactory=_(uD);_panelOpen=!1;_compareWith=(e,n)=>e===n;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new de;_errorStateTracker;stateChanges=new de;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;get disableRipple(){return this._disableRipple()}set disableRipple(e){this._disableRipple.set(e)}_disableRipple=Ve(!1);tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(Wo.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=Do(()=>{let e=this.options;return e?e.changes.pipe(jt(e),vt(()=>hi(...e.map(n=>n.onSelectionChange)))):this._initialized.pipe(vt(()=>this.optionSelectionChanges))});openedChange=new ue;_openedStream=this.openedChange.pipe(Ge(e=>e),$e(()=>{}));_closedStream=this.openedChange.pipe(Ge(e=>!e),$e(()=>{}));selectionChange=new ue;valueChange=new ue;constructor(){let e=_(Kd),n=_(Sa,{optional:!0}),r=_(Ia,{optional:!0}),o=_(new Oo("tabindex"),{optional:!0}),s=_(cl,{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new xs(e,this.ngControl,r,n,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=o==null?0:parseInt(o)||0,this._popoverLocation=s?.usePopover===!1?null:"inline",this.id=this.id}ngOnInit(){this._selectionModel=new ul(this.multiple),this.stateChanges.next(),this._viewportRuler.change().pipe(Je(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Je(this._destroy)).subscribe(e=>{e.added.forEach(n=>n.select()),e.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(jt(null),Je(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),n=this.ngControl;if(e!==this._triggerAriaLabelledBy){let r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(this._previousControl!==void 0&&n.disabled!==null&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._cleanupDetach?.(),this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._cleanupDetach?.(),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._overlayDir.positionChange.pipe(zn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()}),this._overlayDir.attachOverlay(),this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!0)))}_trackedModal=null;_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let n=`${this.id}-panel`;this._trackedModal&&kd(this._trackedModal,"aria-owns",n),jm(e,"aria-owns",n),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;kd(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._exitAndDetach(),this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!1)))}_exitAndDetach(){if(this._animationsDisabled||!this.panel){this._detachOverlay();return}this._cleanupDetach?.(),this._cleanupDetach=()=>{n(),clearTimeout(r),this._cleanupDetach=void 0};let e=this.panel.nativeElement,n=this._renderer.listen(e,"animationend",o=>{o.animationName==="_mat-select-exit"&&(this._cleanupDetach?.(),this._detachOverlay())}),r=setTimeout(()=>{this._cleanupDetach?.(),this._detachOverlay()},200);e.classList.add("mat-select-panel-exit")}_detachOverlay(){this._overlayDir.detachOverlay(),this._changeDetectorRef.markForCheck()}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let n=e.keyCode,r=n===40||n===38||n===37||n===39,o=n===13||n===32,s=this._keyManager;if(!s.isTyping()&&o&&!It(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){let l=this.selected;s.onKeydown(e);let c=this.selected;c&&l!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(e){let n=this._keyManager,r=e.keyCode,o=r===40||r===38,s=n.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(!s&&(r===13||r===32)&&n.activeItem&&!It(e))e.preventDefault(),n.activeItem._selectViaInteraction();else if(!s&&this._multiple&&r===65&&e.ctrlKey){e.preventDefault();let l=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(l?c.select():c.deselect())})}else{let l=n.activeItemIndex;n.onKeydown(e),this._multiple&&o&&e.shiftKey&&n.activeItem&&n.activeItemIndex!==l&&n.activeItem._selectViaInteraction()}}_handleOverlayKeydown(e){e.keyCode===27&&!It(e)&&(e.preventDefault(),this.close())}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{let n=this._selectOptionByValue(e);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let n=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return(r.value!=null||this.canSelectNullableOptions)&&this._compareWith(r.value,e)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_skipPredicate=e=>this.panelOpen?!1:e.disabled;_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof Is?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new il(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=hi(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Je(e)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),hi(...this.options.map(n=>n._stateChanges)).pipe(Je(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,n){let r=this._selectionModel.isSelected(e);!this.canSelectNullableOptions&&e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),n&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),n&&this.focus())),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((n,r)=>this.sortComparator?this.sortComparator(n,r,e):e.indexOf(n)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let n;this.multiple?n=this.selected.map(r=>r.value):n=this.selected?this.selected.value:e,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let n=0;n<this.options.length;n++)if(!this.options.get(n).disabled){e=n;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0&&!!this._overlayDir}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||null,n=e?e+" ":"";return this.ariaLabelledby?n+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||"";return this.ariaLabelledby&&(e+=" "+this.ariaLabelledby),e||(e=this._valueId),e}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(e){let n=this._elementRef.nativeElement;e.length?n.setAttribute("aria-describedby",e.join(" ")):n.removeAttribute("aria-describedby")}onContainerClick(e){let n=Nt(e);n&&(n.tagName==="MAT-OPTION"||n.classList.contains("cdk-overlay-backdrop")||n.closest(".mat-mdc-select-panel"))||(this.focus(),this.open())}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["mat-select"]],contentQueries:function(n,r,o){if(n&1&&sr(o,mD,5)(o,ws,5)(o,Xm,5),n&2){let s;Se(s=Ie())&&(r.customTrigger=s.first),Se(s=Ie())&&(r.options=s),Se(s=Ie())&&(r.optionGroups=s)}},viewQuery:function(n,r){if(n&1&&wt(nD,5)(iD,5)(Wd,5),n&2){let o;Se(o=Ie())&&(r.trigger=o.first),Se(o=Ie())&&(r.panel=o.first),Se(o=Ie())&&(r._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:21,hostBindings:function(n,r){n&1&&$("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),n&2&&(Oe("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),ge("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple)("mat-select-open",r.panelOpen))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",Pe],disableRipple:[2,"disableRipple","disableRipple",Pe],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:ya(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Pe],placeholder:"placeholder",required:[2,"required","required",Pe],multiple:[2,"multiple","multiple",Pe],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",Pe],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",ya],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",Pe]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[wn([{provide:bs,useExisting:i},{provide:Qm,useExisting:i}]),ht],ngContentSelectors:oD,decls:11,vars:10,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"detach","backdropClick","overlayKeydown","cdkConnectedOverlayDisableClose","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","cdkConnectedOverlayFlexibleDimensions","cdkConnectedOverlayUsePopover"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(n,r){if(n&1){let o=fe();$t(rD),p(0,"div",2,0),$("click",function(){return L(o),V(r.open())}),p(3,"div",3),Y(4,sD,2,1,"span",4)(5,cD,3,1,"span",5),f(),p(6,"div",6)(7,"div",7),Ri(),p(8,"svg",8),G(9,"path",9),f()()()(),Oi(10,dD,3,10,"ng-template",10),$("detach",function(){return L(o),V(r.close())})("backdropClick",function(){return L(o),V(r.close())})("overlayKeydown",function(l){return L(o),V(r._handleOverlayKeydown(l))})}if(n&2){let o=Ct(1);h(3),Oe("id",r._valueId),h(),Q(r.empty?4:5),h(6),q("cdkConnectedOverlayDisableClose",!0)("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)("cdkConnectedOverlayFlexibleDimensions",!0)("cdkConnectedOverlayUsePopover",r._popoverLocation)}},dependencies:[Is,Wd,Cn],styles:[`@keyframes _mat-select-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-select-exit{from{opacity:1}to{opacity:0}}.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-select-open .mat-mdc-select-arrow{transform:rotate(180deg)}.mat-form-field-animations-enabled .mat-mdc-select-arrow{transition:transform 80ms linear}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:relative;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-select-panel-animations-enabled{animation:_mat-select-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-select-panel-animations-enabled.mat-select-panel-exit{animation:_mat-select-exit 100ms linear}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field:not(.mat-form-field-animations-enabled) .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}
`],encapsulation:2,changeDetection:0})}return i})();var vv=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({imports:[dl,As,st,lo,ao,As]})}return i})();var fD=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[`textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}
`],encapsulation:2,changeDetection:0})}return i})(),gD={passive:!0},wv=(()=>{class i{_platform=_(We);_ngZone=_(ee);_renderer=_(Ot).createRenderer(null,null);_styleLoader=_(gt);_monitoredElements=new Map;constructor(){}monitor(e){if(!this._platform.isBrowser)return Jn;this._styleLoader.load(fD);let n=Fn(e),r=this._monitoredElements.get(n);if(r)return r.subject;let o=new de,s="cdk-text-field-autofilled",l=u=>{u.animationName==="cdk-text-field-autofill-start"&&!n.classList.contains(s)?(n.classList.add(s),this._ngZone.run(()=>o.next({target:u.target,isAutofilled:!0}))):u.animationName==="cdk-text-field-autofill-end"&&n.classList.contains(s)&&(n.classList.remove(s),this._ngZone.run(()=>o.next({target:u.target,isAutofilled:!1})))},c=this._ngZone.runOutsideAngular(()=>(n.classList.add("cdk-text-field-autofill-monitored"),this._renderer.listen(n,"animationstart",l,gD)));return this._monitoredElements.set(n,{subject:o,unlisten:c}),o}stopMonitoring(e){let n=Fn(e),r=this._monitoredElements.get(n);r&&(r.unlisten(),r.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((e,n)=>this.stopMonitoring(n))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Cv=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({})}return i})();var Yd=new H("MAT_INPUT_VALUE_ACCESSOR");var _D=["button","checkbox","file","hidden","image","radio","range","reset","submit"],yD=new H("MAT_INPUT_CONFIG"),Ev=(()=>{class i{_elementRef=_(ke);_platform=_(We);ngControl=_(Ea,{optional:!0,self:!0});_autofillMonitor=_(wv);_ngZone=_(ee);_formField=_(so,{optional:!0});_renderer=_(xt);_uid=_(Rt).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=_(yD,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new de;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=zi(e),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(e){this._id=e||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(Wo.required)??!1}set required(e){this._required=zi(e)}_required;get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&zm().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(e){e!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(e):this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=zi(e)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>zm().has(e));constructor(){let e=_(Sa,{optional:!0}),n=_(Ia,{optional:!0}),r=_(Kd),o=_(Yd,{optional:!0,self:!0}),s=this._elementRef.nativeElement,l=s.nodeName.toLowerCase();o?Vr(o.value)?this._signalBasedValueAccessor=o:this._inputValueAccessor=o:this._inputValueAccessor=s,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(s,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new xs(r,this.ngControl,n,e,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=l==="select",this._isTextarea=l==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=s.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&or(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){if(e!==this.focused){if(!this._isNativeSelect&&e&&this.disabled&&this.disabledInteractive){let n=this._elementRef.nativeElement;n.type==="number"?(n.type="text",n.setSelectionRange(0,0),n.type="number"):n.setSelectionRange(0,0)}this.focused=e,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let n=this._elementRef.nativeElement;this._previousPlaceholder=e,e?n.setAttribute("placeholder",e):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){_D.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,n=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&n&&n.label)}else return this.focused&&!this.disabled||!this.empty}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(e){let n=this._elementRef.nativeElement;e.length?n.setAttribute("aria-describedby",e.join(" ")):n.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_iOSKeyupListener=e=>{let n=e.target;!n.value&&n.selectionStart===0&&n.selectionEnd===0&&(n.setSelectionRange(1,1),n.setSelectionRange(0,0))};_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(n,r){n&1&&$("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),n&2&&(vn("id",r.id)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),Oe("name",r.name||null)("readonly",r._getReadonlyAttribute())("aria-disabled",r.disabled&&r.disabledInteractive?"true":null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),ge("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mat-mdc-input-disabled-interactive",r.disabledInteractive)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Pe]},exportAs:["matInput"],features:[wn([{provide:bs,useExisting:i}]),ht]})}return i})(),Sv=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({imports:[ao,ao,Cv,st]})}return i})();var op=new H("MAT_DATE_LOCALE",{providedIn:"root",factory:()=>_(X_)}),Ts="Method not implemented",rn=class{locale;_localeChanges=new de;localeChanges=this._localeChanges;setTime(t,e,n,r){throw new Error(Ts)}getHours(t){throw new Error(Ts)}getMinutes(t){throw new Error(Ts)}getSeconds(t){throw new Error(Ts)}parseTime(t,e){throw new Error(Ts)}addSeconds(t,e){throw new Error(Ts)}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return t==null||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}compareTime(t,e){return this.getHours(t)-this.getHours(e)||this.getMinutes(t)-this.getMinutes(e)||this.getSeconds(t)-this.getSeconds(e)}sameDate(t,e){if(t&&e){let n=this.isValid(t),r=this.isValid(e);return n&&r?!this.compareDate(t,e):n==r}return t==e}sameTime(t,e){if(t&&e){let n=this.isValid(t),r=this.isValid(e);return n&&r?!this.compareTime(t,e):n==r}return t==e}clampDate(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t}},xr=new H("mat-date-formats");var vD={capture:!0},wD=["focus","mousedown","mouseenter","touchstart"],sp="mat-ripple-loader-uninitialized",ap="mat-ripple-loader-class-name",Iv="mat-ripple-loader-centered",Qd="mat-ripple-loader-disabled",xv=(()=>{class i{_document=_(De);_animationsDisabled=Mt();_globalRippleOptions=_(Gm,{optional:!0});_platform=_(We);_ngZone=_(ee);_injector=_(be);_eventCleanups;_hosts=new Map;constructor(){let e=_(Ot).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>wD.map(n=>e.listen(this._document,n,this._onInteraction,vD)))}ngOnDestroy(){let e=this._hosts.keys();for(let n of e)this.destroyRipple(n);this._eventCleanups.forEach(n=>n())}configureRipple(e,n){e.setAttribute(sp,this._globalRippleOptions?.namespace??""),(n.className||!e.hasAttribute(ap))&&e.setAttribute(ap,n.className||""),n.centered&&e.setAttribute(Iv,""),n.disabled&&e.setAttribute(Qd,"")}setDisabled(e,n){let r=this._hosts.get(e);r?(r.target.rippleDisabled=n,!n&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(e))):n?e.setAttribute(Qd,""):e.removeAttribute(Qd)}_onInteraction=e=>{let n=Nt(e);if(n instanceof HTMLElement){let r=n.closest(`[${sp}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(e){if(!this._document||this._hosts.has(e))return;e.querySelector(".mat-ripple")?.remove();let n=this._document.createElement("span");n.classList.add("mat-ripple",e.getAttribute(ap)),e.append(n);let r=this._globalRippleOptions,o=this._animationsDisabled?0:r?.animation?.enterDuration??ol.enterDuration,s=this._animationsDisabled?0:r?.animation?.exitDuration??ol.exitDuration,l={rippleDisabled:this._animationsDisabled||r?.disabled||e.hasAttribute(Qd),rippleConfig:{centered:e.hasAttribute(Iv),terminateOnPointerUp:r?.terminateOnPointerUp,animation:{enterDuration:o,exitDuration:s}}},c=new sl(l,this._ngZone,n,this._platform,this._injector),u=!l.rippleDisabled;u&&c.setupTriggerEvents(e),this._hosts.set(e,{target:l,renderer:c,hasSetUpEvents:u}),e.removeAttribute(sp)}destroyRipple(e){let n=this._hosts.get(e);n&&(n.renderer._removeTriggerEvents(),this._hosts.delete(e))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var CD=["mat-icon-button",""],ED=["*"],SD=new H("MAT_BUTTON_CONFIG");function Av(i){return i==null?void 0:ya(i)}var lp=(()=>{class i{_elementRef=_(ke);_ngZone=_(ee);_animationsDisabled=Mt();_config=_(SD,{optional:!0});_focusMonitor=_(fs);_cleanupClick;_renderer=_(xt);_rippleLoader=_(xv);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(e){this.tabIndex=e}constructor(){_(gt).load(vs);let e=this._elementRef.nativeElement;this._isAnchor=e.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(e,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",n){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",e=>{this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(n,r){n&2&&(Oe("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled())("tabindex",r._getTabIndex()),Mn(r.color?"mat-"+r.color:""),ge("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("mat-unthemed",!r.color)("_mat-animation-noopable",r._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Pe],disabled:[2,"disabled","disabled",Pe],ariaDisabled:[2,"aria-disabled","ariaDisabled",Pe],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Pe],tabIndex:[2,"tabIndex","tabIndex",Av],_tabindex:[2,"tabindex","_tabindex",Av]}})}return i})(),Xd=(()=>{class i extends lp{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["button","mat-icon-button",""],["a","mat-icon-button",""],["button","matIconButton",""],["a","matIconButton",""]],hostAttrs:[1,"mdc-icon-button","mat-mdc-icon-button"],exportAs:["matButton","matAnchor"],features:[mi],attrs:CD,ngContentSelectors:ED,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){n&1&&($t(),pi(0,"span",0),Xe(1),pi(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%));flex-shrink:0;text-align:center;width:var(--mat-icon-button-state-layer-size, 40px);height:var(--mat-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mat-icon-button-state-layer-size, 40px) - var(--mat-icon-button-icon-size, 24px)) / 2);font-size:var(--mat-icon-button-icon-size, 24px);color:var(--mat-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus-visible>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-icon-button-touch-target-size, 48px);display:var(--mat-icon-button-touch-target-display, block);left:50%;width:var(--mat-icon-button-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mat-icon-button-icon-size, 24px);height:var(--mat-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%))}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return i})();var ID=["matButton",""],xD=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],AD=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var Tv=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]),cp=(()=>{class i extends lp{get appearance(){return this._appearance}set appearance(e){this.setAppearance(e||this._config?.defaultAppearance||"text")}_appearance=null;constructor(){super();let e=TD(this._elementRef.nativeElement);e&&this.setAppearance(e)}setAppearance(e){if(e===this._appearance)return;let n=this._elementRef.nativeElement.classList,r=this._appearance?Tv.get(this._appearance):null,o=Tv.get(e);r&&n.remove(...r),n.add(...o),this._appearance=e}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[mi],attrs:ID,ngContentSelectors:AD,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){n&1&&($t(xD),pi(0,"span",0),Xe(1),Ee(2,"span",1),Xe(3,1),ve(),Xe(4,2),pi(5,"span",2)(6,"span",3)),n&2&&ge("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mat-mdc-button-base .mat-icon{min-height:fit-content;flex-shrink:0}@media(hover: none){.mat-mdc-button-base:hover>span.mat-mdc-button-persistent-ripple::before{opacity:0}}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-text-touch-target-size, 48px);display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-filled-touch-target-size, 48px);display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-protected-touch-target-size, 48px);display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}@media(hover: hover){.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-outlined-touch-target-size, 48px);display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-tonal-touch-target-size, 48px);display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-raised-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus-visible>.mat-focus-indicator::before,.mat-tonal-button:focus-visible>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return i})();function TD(i){return i.hasAttribute("mat-raised-button")?"elevated":i.hasAttribute("mat-stroked-button")?"outlined":i.hasAttribute("mat-flat-button")?"filled":i.hasAttribute("mat-button")?"text":null}var Dv=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({imports:[Gd,st]})}return i})();var DD=["tooltip"],RD=20;var MD=new H("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let i=_(be);return()=>$i(i,{scrollThrottle:RD})}}),kD=new H("mat-tooltip-default-options",{providedIn:"root",factory:()=>({showDelay:0,hideDelay:0,touchendHideDelay:1500})});var Rv="tooltip-panel",Mv=Cr({passive:!0}),OD=8,PD=8,ND=24,FD=200,kv=(()=>{class i{_elementRef=_(ke);_ngZone=_(ee);_platform=_(We);_ariaDescriber=_(T0);_focusMonitor=_(fs);_dir=_(pn);_injector=_(be);_viewContainerRef=_(ei);_mediaMatcher=_(_s);_animationsDisabled=Mt();_defaultOptions=_(kD,{optional:!0});_overlayRef;_tooltipInstance;_overlayPanelClass;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=LD;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=zi(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let n=zi(e);this._disabled!==n&&(this._disabled=n,n?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=ps(e)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=ps(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(e){let n=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(n)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new de;_isDestroyed=!1;constructor(){let e=this._defaultOptions;e&&(this._showDelay=e.showDelay,this._hideDelay=e.hideDelay,e.position&&(this.position=e.position),e.positionAtOrigin&&(this.positionAtOrigin=e.positionAtOrigin),e.touchGestures&&(this.touchGestures=e.touchGestures),e.tooltipClass&&(this.tooltipClass=e.tooltipClass)),this._viewportMargin=OD}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Je(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,r])=>{e.removeEventListener(n,r,Mv)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,n){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let r=this._createOverlay(n);this._detach(),this._portal=this._portal||new Ir(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Je(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){let n=this._tooltipInstance;n&&(n.isVisible()?n.hide(e):(n._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&s._origin instanceof ke)return this._overlayRef;this._detach()}let n=this._injector.get(Cs).getAncestorScrollContainers(this._elementRef),r=`${this._cssClassPrefix}-${Rv}`,o=mo(this._injector,this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n).withPopoverLocation("global");return o.positionChanges.pipe(Je(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=po(this._injector,{direction:this._dir,positionStrategy:o,panelClass:this._overlayPanelClass?[...this._overlayPanelClass,r]:r,scrollStrategy:this._injector.get(MD)(),disableAnimations:this._animationsDisabled}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Je(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Je(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Je(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&s.keyCode===27&&!It(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(Je(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let n=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();n.withPositions([this._addOffset(P(P({},r.main),o.main)),this._addOffset(P(P({},r.fallback),o.fallback))])}_addOffset(e){let n=PD,r=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-n:e.originY==="bottom"?e.offsetY=n:e.originX==="start"?e.offsetX=r?-n:n:e.originX==="end"&&(e.offsetX=r?n:-n),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",n=this.position,r;n=="above"||n=="below"?r={originX:"center",originY:n=="above"?"top":"bottom"}:n=="before"||n=="left"&&e||n=="right"&&!e?r={originX:"start",originY:"center"}:(n=="after"||n=="right"&&e||n=="left"&&!e)&&(r={originX:"end",originY:"center"});let{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",n=this.position,r;n=="above"?r={overlayX:"center",overlayY:"bottom"}:n=="below"?r={overlayX:"center",overlayY:"top"}:n=="before"||n=="left"&&e||n=="right"&&!e?r={overlayX:"end",overlayY:"center"}:(n=="after"||n=="right"&&e||n=="left"&&!e)&&(r={overlayX:"start",overlayY:"center"});let{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),bn(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,n){return this.position==="above"||this.position==="below"?n==="top"?n="bottom":n==="bottom"&&(n="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:n}}_updateCurrentPositionClass(e){let{overlayY:n,originX:r,originY:o}=e,s;if(n==="center"?this._dir&&this._dir.value==="rtl"?s=r==="end"?"left":"right":s=r==="start"?"left":"right":s=n==="bottom"&&o==="top"?"above":"below",s!==this._currentPosition){let l=this._overlayRef;if(l){let c=`${this._cssClassPrefix}-${Rv}-`;l.removePanelClass(c+this._currentPosition),l.addPanelClass(c+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._isTouchPlatform()?this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let n=e.targetTouches?.[0],r=n?{x:n.clientX,y:n.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions?.touchLongPressShowDelay??o)}])):this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let n;e.x!==void 0&&e.y!==void 0&&(n=e),this.show(void 0,n)}]),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(!this._isTouchPlatform())e.push(["mouseleave",n=>{let r=n.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let n=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};e.push(["touchend",n],["touchcancel",n])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([n,r])=>{this._elementRef.nativeElement.addEventListener(n,r,Mv)})}_isTouchPlatform(){return this._platform.IOS||this._platform.ANDROID?!0:this._platform.isBrowser?!!this._defaultOptions?.detectHoverCapability&&this._mediaMatcher.matchMedia("(any-hover: none)").matches:!1}_wheelListener(e){if(this._isTooltipVisible()){let n=this._injector.get(De).elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;n!==r&&!r.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let n=this._elementRef.nativeElement,r=n.style;(e==="on"||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA")&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),(e==="on"||!n.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._isDestroyed||bn({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(n,r){n&2&&ge("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return i})(),LD=(()=>{class i{_changeDetectorRef=_(dt);_elementRef=_(ke);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled=Mt();_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new de;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>ND&&e.width>=FD}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let n=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(n.classList.remove(e?o:r),n.classList.add(e?r:o),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(n);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["mat-tooltip-component"]],viewQuery:function(n,r){if(n&1&&wt(DD,7),n&2){let o;Se(o=Ie())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(n,r){n&1&&$("mouseleave",function(s){return r._handleMouseLeave(s)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(n,r){if(n&1){let o=fe();p(0,"div",1,0),$("animationend",function(l){return L(o),V(r._handleAnimationEnd(l))}),p(2,"div",2),y(3),f()()}n&2&&(ge("mdc-tooltip--multiline",r._isMultiline),q("ngClass",r.tooltipClass),h(3),M(r.message))},dependencies:[Cn],styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mat-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mat-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mat-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mat-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mat-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mat-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return i})();var VD=["mat-calendar-body",""];function BD(i,t){return this._trackRow(t)}var Bv=(i,t)=>t.id;function jD(i,t){if(i&1&&(p(0,"tr",0)(1,"td",3),y(2),f()()),i&2){let e=D();h(),Ni("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Oe("colspan",e.numCols),h(),z(" ",e.label," ")}}function UD(i,t){if(i&1&&(p(0,"td",3),y(1),f()),i&2){let e=D(2);Ni("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Oe("colspan",e._firstRowOffset),h(),z(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function zD(i,t){if(i&1){let e=fe();p(0,"td",6)(1,"button",7),$("click",function(r){let o=L(e).$implicit,s=D(2);return V(s._cellClicked(o,r))})("focus",function(r){let o=L(e).$implicit,s=D(2);return V(s._emitActiveDateChange(o,r))}),p(2,"span",8),y(3),f(),G(4,"span",9),f()()}if(i&2){let e=t.$implicit,n=t.$index,r=D().$index,o=D();Ni("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),Oe("data-mat-row",r)("data-mat-col",n),h(),ge("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",o._isActiveCell(r,n))("mat-calendar-body-range-start",o._isRangeStart(e.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",o._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(e.compareValue,r,n))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(e.compareValue,r,n))("mat-calendar-body-comparison-start",o._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",o._isInPreview(e.compareValue)),q("ngClass",e.cssClasses)("tabindex",o._isActiveCell(r,n)?0:-1),Oe("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",o._isSelected(e.compareValue))("aria-current",o.todayValue===e.compareValue?"date":null)("aria-describedby",o._getDescribedby(e.compareValue)),h(),ge("mat-calendar-body-selected",o._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",o.todayValue===e.compareValue),h(),z(" ",e.displayValue," ")}}function $D(i,t){if(i&1&&(p(0,"tr",1),Y(1,UD,2,6,"td",4),we(2,zD,5,48,"td",5,Bv),f()),i&2){let e=t.$implicit,n=t.$index,r=D();h(),Q(n===0&&r._firstRowOffset?1:-1),h(),Ce(e)}}function qD(i,t){if(i&1&&(p(0,"th",2)(1,"span",6),y(2),f(),p(3,"span",3),y(4),f()()),i&2){let e=t.$implicit;h(2),M(e.long),h(2),M(e.narrow)}}var HD=["*"];function WD(i,t){}function KD(i,t){if(i&1){let e=fe();p(0,"mat-month-view",4),le("activeDateChange",function(r){L(e);let o=D();return ae(o.activeDate,r)||(o.activeDate=r),V(r)}),$("_userSelection",function(r){L(e);let o=D();return V(o._dateSelected(r))})("dragStarted",function(r){L(e);let o=D();return V(o._dragStarted(r))})("dragEnded",function(r){L(e);let o=D();return V(o._dragEnded(r))}),f()}if(i&2){let e=D();se("activeDate",e.activeDate),q("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function GD(i,t){if(i&1){let e=fe();p(0,"mat-year-view",5),le("activeDateChange",function(r){L(e);let o=D();return ae(o.activeDate,r)||(o.activeDate=r),V(r)}),$("monthSelected",function(r){L(e);let o=D();return V(o._monthSelectedInYearView(r))})("selectedChange",function(r){L(e);let o=D();return V(o._goToDateInView(r,"month"))}),f()}if(i&2){let e=D();se("activeDate",e.activeDate),q("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function YD(i,t){if(i&1){let e=fe();p(0,"mat-multi-year-view",6),le("activeDateChange",function(r){L(e);let o=D();return ae(o.activeDate,r)||(o.activeDate=r),V(r)}),$("yearSelected",function(r){L(e);let o=D();return V(o._yearSelectedInMultiYearView(r))})("selectedChange",function(r){L(e);let o=D();return V(o._goToDateInView(r,"year"))}),f()}if(i&2){let e=D();se("activeDate",e.activeDate),q("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function QD(i,t){}var XD=["button"],ZD=[[["","matDatepickerToggleIcon",""]]],JD=["[matDatepickerToggleIcon]"];function eR(i,t){i&1&&(Ri(),p(0,"svg",2),G(1,"path",3),f())}var Ms=(()=>{class i{changes=new de;calendarLabel="Calendar";openCalendarLabel="Open calendar";closeCalendarLabel="Close calendar";prevMonthLabel="Previous month";nextMonthLabel="Next month";prevYearLabel="Previous year";nextYearLabel="Next year";prevMultiYearLabel="Previous 24 years";nextMultiYearLabel="Next 24 years";switchToMonthViewLabel="Choose date";switchToMultiYearViewLabel="Choose month and year";startDateLabel="Start date";endDateLabel="End date";comparisonDateLabel="Comparison range";formatYearRange(e,n){return`${e} \u2013 ${n}`}formatYearRangeLabel(e,n){return`${e} to ${n}`}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),tR=0,ml=class{value;displayValue;ariaLabel;enabled;cssClasses;compareValue;rawValue;id=tR++;constructor(t,e,n,r,o={},s=t,l){this.value=t,this.displayValue=e,this.ariaLabel=n,this.enabled=r,this.cssClasses=o,this.compareValue=s,this.rawValue=l}},nR={passive:!1,capture:!0},Zd={passive:!0,capture:!0},Ov={passive:!0},Rs=(()=>{class i{_elementRef=_(ke);_ngZone=_(ee);_platform=_(We);_intl=_(Ms);_eventCleanups;_skipNextFocus;_focusActiveCellAfterViewChecked=!1;label;rows;todayValue;startValue;endValue;labelMinRequiredCells;numCols=7;activeCell=0;ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}isRange=!1;cellAspectRatio=1;comparisonStart;comparisonEnd;previewStart=null;previewEnd=null;startDateAccessibleName;endDateAccessibleName;selectedValueChange=new ue;previewChange=new ue;activeDateChange=new ue;dragStarted=new ue;dragEnded=new ue;_firstRowOffset;_cellPadding;_cellWidth;_startDateLabelId;_endDateLabelId;_comparisonStartDateLabelId;_comparisonEndDateLabelId;_didDragSinceMouseDown=!1;_injector=_(be);comparisonDateAccessibleName=this._intl.comparisonDateLabel;_trackRow=e=>e;constructor(){let e=_(xt),n=_(Rt);this._startDateLabelId=n.getId("mat-calendar-body-start-"),this._endDateLabelId=n.getId("mat-calendar-body-end-"),this._comparisonStartDateLabelId=n.getId("mat-calendar-body-comparison-start-"),this._comparisonEndDateLabelId=n.getId("mat-calendar-body-comparison-end-"),_(gt).load(vs),this._ngZone.runOutsideAngular(()=>{let r=this._elementRef.nativeElement,o=[e.listen(r,"touchmove",this._touchmoveHandler,nR),e.listen(r,"mouseenter",this._enterHandler,Zd),e.listen(r,"focus",this._enterHandler,Zd),e.listen(r,"mouseleave",this._leaveHandler,Zd),e.listen(r,"blur",this._leaveHandler,Zd),e.listen(r,"mousedown",this._mousedownHandler,Ov),e.listen(r,"touchstart",this._mousedownHandler,Ov)];this._platform.isBrowser&&o.push(e.listen("window","mouseup",this._mouseupHandler),e.listen("window","touchend",this._touchendHandler)),this._eventCleanups=o})}_cellClicked(e,n){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:n})}_emitActiveDateChange(e,n){e.enabled&&this.activeDateChange.emit({value:e.value,event:n})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){let n=e.numCols,{rows:r,numCols:o}=this;(e.rows||n)&&(this._firstRowOffset=r&&r.length&&r[0].length?o-r[0].length:0),(e.cellAspectRatio||n||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/o}%`),(n||!this._cellWidth)&&(this._cellWidth=`${100/o}%`)}ngOnDestroy(){this._eventCleanups.forEach(e=>e())}_isActiveCell(e,n){let r=e*this.numCols+n;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){bn(()=>{setTimeout(()=>{let n=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");n&&(e||(this._skipNextFocus=!0),n.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return hp(e,this.startValue,this.endValue)}_isRangeEnd(e){return mp(e,this.startValue,this.endValue)}_isInRange(e){return pp(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return hp(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,n,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let o=this.rows[n][r-1];if(!o){let s=this.rows[n-1];o=s&&s[s.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(e,n,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let o=this.rows[n][r+1];if(!o){let s=this.rows[n+1];o=s&&s[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(e){return mp(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return pp(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return hp(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return mp(e,this.previewStart,this.previewEnd)}_isInPreview(e){return pp(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){if(!this.isRange)return null;if(this.startValue===e&&this.endValue===e)return`${this._startDateLabelId} ${this._endDateLabelId}`;if(this.startValue===e)return this._startDateLabelId;if(this.endValue===e)return this._endDateLabelId;if(this.comparisonStart!==null&&this.comparisonEnd!==null){if(e===this.comparisonStart&&e===this.comparisonEnd)return`${this._comparisonStartDateLabelId} ${this._comparisonEndDateLabelId}`;if(e===this.comparisonStart)return this._comparisonStartDateLabelId;if(e===this.comparisonEnd)return this._comparisonEndDateLabelId}return null}_enterHandler=e=>{if(this._skipNextFocus&&e.type==="focus"){this._skipNextFocus=!1;return}if(e.target&&this.isRange){let n=this._getCellFromElement(e.target);n&&this._ngZone.run(()=>this.previewChange.emit({value:n.enabled?n:null,event:e}))}};_touchmoveHandler=e=>{if(!this.isRange)return;let n=Pv(e),r=n?this._getCellFromElement(n):null;n!==e.target&&(this._didDragSinceMouseDown=!0),up(e.target)&&e.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:r?.enabled?r:null,event:e}))};_leaveHandler=e=>{this.previewEnd!==null&&this.isRange&&(e.type!=="blur"&&(this._didDragSinceMouseDown=!0),e.target&&this._getCellFromElement(e.target)&&!(e.relatedTarget&&this._getCellFromElement(e.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:e})))};_mousedownHandler=e=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let n=e.target&&this._getCellFromElement(e.target);!n||!this._isInRange(n.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:n.rawValue,event:e})})};_mouseupHandler=e=>{if(!this.isRange)return;let n=up(e.target);if(!n){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:e})});return}n.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let r=this._getCellFromElement(n);this.dragEnded.emit({value:r?.rawValue??null,event:e})})};_touchendHandler=e=>{let n=Pv(e);n&&this._mouseupHandler({target:n})};_getCellFromElement(e){let n=up(e);if(n){let r=n.getAttribute("data-mat-row"),o=n.getAttribute("data-mat-col");if(r&&o)return this.rows[parseInt(r)]?.[parseInt(o)]||null}return null}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[ht],attrs:VD,decls:11,vars:11,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(n,r){n&1&&(Y(0,jD,3,6,"tr",0),we(1,$D,4,1,"tr",1,BD,!0),p(3,"span",2),y(4),f(),p(5,"span",2),y(6),f(),p(7,"span",2),y(8),f(),p(9,"span",2),y(10),f()),n&2&&(Q(r._firstRowOffset<r.labelMinRequiredCells?0:-1),h(),Ce(r.rows),h(2),q("id",r._startDateLabelId),h(),z(" ",r.startDateAccessibleName,`
`),h(),q("id",r._endDateLabelId),h(),z(" ",r.endDateAccessibleName,`
`),h(),q("id",r._comparisonStartDateLabelId),h(),ti(" ",r.comparisonDateAccessibleName," ",r.startDateAccessibleName,`
`),h(),q("id",r._comparisonEndDateLabelId),h(),ti(" ",r.comparisonDateAccessibleName," ",r.endDateAccessibleName,`
`))},dependencies:[Cn],styles:[`.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-sys-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-sys-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size));-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-calendar-body-disabled{opacity:.5}}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-sys-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color, transparent)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}@media(forced-colors: active){.mat-calendar-body-cell-content{border:none}}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-sys-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-sys-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-sys-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-sys-secondary))}@media(forced-colors: active){.mat-datepicker-popup:not(:empty),.mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-selected{background:none}.mat-calendar-body-in-range::before,.mat-calendar-body-comparison-bridge-start::before,.mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}}
`],encapsulation:2,changeDetection:0})}return i})();function dp(i){return i?.nodeName==="TD"}function up(i){let t;return dp(i)?t=i:dp(i.parentNode)?t=i.parentNode:dp(i.parentNode?.parentNode)&&(t=i.parentNode.parentNode),t?.getAttribute("data-mat-row")!=null?t:null}function hp(i,t,e){return e!==null&&t!==e&&i<e&&i===t}function mp(i,t,e){return t!==null&&t!==e&&i>=t&&i===e}function pp(i,t,e,n){return n&&t!==null&&e!==null&&t!==e&&i>=t&&i<=e}function Pv(i){let t=i.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}var Yn=class{start;end;_disableStructuralEquivalency;constructor(t,e){this.start=t,this.end=e}},pl=(()=>{class i{selection;_adapter;_selectionChanged=new de;selectionChanged=this._selectionChanged;constructor(e,n){this.selection=e,this._adapter=n,this.selection=e}updateSelection(e,n){let r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:n,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static \u0275fac=function(n){pc()};static \u0275prov=K({token:i,factory:i.\u0275fac})}return i})(),iR=(()=>{class i extends pl{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let e=new i(this._adapter);return e.updateSelection(this.selection,this),e}static \u0275fac=function(n){return new(n||i)(_e(rn))};static \u0275prov=K({token:i,factory:i.\u0275fac})}return i})();var jv={provide:pl,useFactory:()=>_(pl,{optional:!0,skipSelf:!0})||new iR(_(rn))};var Uv=new H("MAT_DATE_RANGE_SELECTION_STRATEGY");var fp=7,rR=0,Nv=(()=>{class i{_changeDetectorRef=_(dt);_dateFormats=_(xr,{optional:!0});_dateAdapter=_(rn,{optional:!0});_dir=_(pn,{optional:!0});_rangeStrategy=_(Uv,{optional:!0});_rerenderSubscription=rt.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let n=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(n,this._activeDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof Yn?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;activeDrag=null;selectedChange=new ue;_userSelection=new ue;dragStarted=new ue;dragEnded=new ue;activeDateChange=new ue;_matCalendarBody;_monthLabel=Ve("");_weeks=Ve([]);_firstWeekOffset=Ve(0);_rangeStart=Ve(null);_rangeEnd=Ve(null);_comparisonRangeStart=Ve(null);_comparisonRangeEnd=Ve(null);_previewStart=Ve(null);_previewEnd=Ve(null);_isRange=Ve(!1);_todayDate=Ve(null);_weekdays=Ve([]);constructor(){_(gt).load(oi),this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(jt(null)).subscribe(()=>this._init())}ngOnChanges(e){let n=e.comparisonStart||e.comparisonEnd;n&&!n.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){let n=e.value,r=this._getDateFromDayOfMonth(n),o,s;this._selected instanceof Yn?(o=this._getDateInCurrentMonth(this._selected.start),s=this._getDateInCurrentMonth(this._selected.end)):o=s=this._getDateInCurrentMonth(this._selected),(o!==n||s!==n)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){let n=e.value,r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(n),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){let n=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&e.preventDefault();return;case 27:this._previewEnd()!=null&&!It(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation());return;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate.set(this._getCellCompareValue(this._dateAdapter.today())),this._monthLabel.set(this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase());let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset.set((fp+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%fp),this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:n}){if(this._rangeStrategy){let r=n?n.rawValue:null,o=this._rangeStrategy.createPreview(r,this.selected,e);if(this._previewStart.set(this._getCellCompareValue(o.start)),this._previewEnd.set(this._getCellCompareValue(o.end)),this.activeDrag&&r){let s=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,r,e);s&&(this._previewStart.set(this._getCellCompareValue(s.start)),this._previewEnd.set(this._getCellCompareValue(s.end)))}}}_dragEnded(e){if(this.activeDrag)if(e.value){let n=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:n??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){let e=this._dateAdapter.getFirstDayOfWeek(),n=this._dateAdapter.getDayOfWeekNames("narrow"),o=this._dateAdapter.getDayOfWeekNames("long").map((s,l)=>({long:s,narrow:n[l],id:rR++}));this._weekdays.set(o.slice(e).concat(o.slice(0,e)))}_createWeekCells(){let e=this._dateAdapter.getNumDaysInMonth(this.activeDate),n=this._dateAdapter.getDateNames(),r=[[]];for(let o=0,s=this._firstWeekOffset();o<e;o++,s++){s==fp&&(r.push([]),s=0);let l=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),o+1),c=this._shouldEnableDate(l),u=this._dateAdapter.format(l,this._dateFormats.display.dateA11yLabel),g=this.dateClass?this.dateClass(l,"month"):void 0;r[r.length-1].push(new ml(o+1,n[o],u,c,g,this._getCellCompareValue(l),l))}this._weeks.set(r)}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,n){return!!(e&&n&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(n)&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(n))}_getCellCompareValue(e){if(e){let n=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),o=this._dateAdapter.getDate(e);return new Date(n,r,o).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(e){e instanceof Yn?(this._rangeStart.set(this._getCellCompareValue(e.start)),this._rangeEnd.set(this._getCellCompareValue(e.end)),this._isRange.set(!0)):(this._rangeStart.set(this._getCellCompareValue(e)),this._rangeEnd.set(this._rangeStart()),this._isRange.set(!1)),this._comparisonRangeStart.set(this._getCellCompareValue(this.comparisonStart)),this._comparisonRangeEnd.set(this._getCellCompareValue(this.comparisonEnd))}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart.set(null),this._previewEnd.set(null)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["mat-month-view"]],viewQuery:function(n,r){if(n&1&&wt(Rs,5),n&2){let o;Se(o=Ie())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[ht],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(n,r){n&1&&(p(0,"table",0)(1,"thead",1)(2,"tr"),we(3,qD,5,2,"th",2,Bv),f(),p(5,"tr",3),G(6,"th",4),f()(),p(7,"tbody",5),$("selectedValueChange",function(s){return r._dateSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("previewChange",function(s){return r._previewChanged(s)})("dragStarted",function(s){return r.dragStarted.emit(s)})("dragEnded",function(s){return r._dragEnded(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),f()()),n&2&&(h(3),Ce(r._weekdays()),h(4),q("label",r._monthLabel())("rows",r._weeks())("todayValue",r._todayDate())("startValue",r._rangeStart())("endValue",r._rangeEnd())("comparisonStart",r._comparisonRangeStart())("comparisonEnd",r._comparisonRangeEnd())("previewStart",r._previewStart())("previewEnd",r._previewEnd())("isRange",r._isRange())("labelMinRequiredCells",3)("activeCell",r._dateAdapter.getDate(r.activeDate)-1)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName))},dependencies:[Rs],encapsulation:2,changeDetection:0})}return i})(),Ln=24,gp=4,Fv=(()=>{class i{_changeDetectorRef=_(dt);_dateAdapter=_(rn,{optional:!0});_dir=_(pn,{optional:!0});_rerenderSubscription=rt.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let n=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),zv(this._dateAdapter,n,this._activeDate,this.minDate,this.maxDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof Yn?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;selectedChange=new ue;yearSelected=new ue;activeDateChange=new ue;_matCalendarBody;_years=Ve([]);_todayYear=Ve(0);_selectedYear=Ve(null);constructor(){this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(jt(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear.set(this._dateAdapter.getYear(this._dateAdapter.today()));let n=this._dateAdapter.getYear(this._activeDate)-hl(this._dateAdapter,this.activeDate,this.minDate,this.maxDate),r=[];for(let o=0,s=[];o<Ln;o++)s.push(n+o),s.length==gp&&(r.push(s.map(l=>this._createCellForYear(l))),s=[]);this._years.set(r),this._changeDetectorRef.markForCheck()}_yearSelected(e){let n=e.value,r=this._dateAdapter.createDate(n,0,1),o=this._getDateFromYear(n);this.yearSelected.emit(r),this.selectedChange.emit(o)}_updateActiveDate(e){let n=e.value,r=this._activeDate;this.activeDate=this._getDateFromYear(n),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let n=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-gp);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,gp);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-hl(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Ln-hl(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-Ln*10:-Ln);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?Ln*10:Ln);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return hl(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){let n=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,n,1));return this._dateAdapter.createDate(e,n,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){let n=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(n),o=this.dateClass?this.dateClass(n,"multi-year"):void 0;return new ml(e,r,r,this._shouldEnableYear(e),o)}_shouldEnableYear(e){if(e==null||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let n=this._dateAdapter.createDate(e,0,1);for(let r=n;this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(e){if(this._selectedYear.set(null),e instanceof Yn){let n=e.start||e.end;n&&this._selectedYear.set(this._dateAdapter.getYear(n))}else e&&this._selectedYear.set(this._dateAdapter.getYear(e))}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["mat-multi-year-view"]],viewQuery:function(n,r){if(n&1&&wt(Rs,5),n&2){let o;Se(o=Ie())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(n,r){n&1&&(p(0,"table",0)(1,"thead",1)(2,"tr"),G(3,"th",2),f()(),p(4,"tbody",3),$("selectedValueChange",function(s){return r._yearSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),f()()),n&2&&(h(4),q("rows",r._years())("todayValue",r._todayYear())("startValue",r._selectedYear())("endValue",r._selectedYear())("numCols",4)("cellAspectRatio",4/7)("activeCell",r._getActiveCell()))},dependencies:[Rs],encapsulation:2,changeDetection:0})}return i})();function zv(i,t,e,n,r){let o=i.getYear(t),s=i.getYear(e),l=$v(i,n,r);return Math.floor((o-l)/Ln)===Math.floor((s-l)/Ln)}function hl(i,t,e,n){let r=i.getYear(t);return oR(r-$v(i,e,n),Ln)}function $v(i,t,e){let n=0;return e?n=i.getYear(e)-Ln+1:t&&(n=i.getYear(t)),n}function oR(i,t){return(i%t+t)%t}var Lv=(()=>{class i{_changeDetectorRef=_(dt);_dateFormats=_(xr,{optional:!0});_dateAdapter=_(rn,{optional:!0});_dir=_(pn,{optional:!0});_rerenderSubscription=rt.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let n=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(n)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof Yn?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;selectedChange=new ue;monthSelected=new ue;activeDateChange=new ue;_matCalendarBody;_months=Ve([]);_yearLabel=Ve("");_todayMonth=Ve(null);_selectedMonth=Ve(null);constructor(){this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(jt(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){let n=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,1);this.monthSelected.emit(r);let o=this._getDateFromMonth(n);this.selectedChange.emit(o)}_updateActiveDate(e){let n=e.value,r=this._activeDate;this.activeDate=this._getDateFromMonth(n),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let n=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth.set(this._getMonthInCurrentYear(this._dateAdapter.today())),this._yearLabel.set(this._dateAdapter.getYearName(this.activeDate));let e=this._dateAdapter.getMonthNames("short");this._months.set([[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(n=>n.map(r=>this._createCellForMonth(r,e[r])))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){let n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(n);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,n){let r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),s=this.dateClass?this.dateClass(r,"year"):void 0;return new ml(e,n.toLocaleUpperCase(),o,this._shouldEnableMonth(e),s)}_shouldEnableMonth(e){let n=this._dateAdapter.getYear(this.activeDate);if(e==null||this._isYearAndMonthAfterMaxDate(n,e)||this._isYearAndMonthBeforeMinDate(n,e))return!1;if(!this.dateFilter)return!0;let r=this._dateAdapter.createDate(n,e,1);for(let o=r;this._dateAdapter.getMonth(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(e,n){if(this.maxDate){let r=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&n>o}return!1}_isYearAndMonthBeforeMinDate(e,n){if(this.minDate){let r=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&n<o}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(e){e instanceof Yn?this._selectedMonth.set(this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end)):this._selectedMonth.set(this._getMonthInCurrentYear(e))}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["mat-year-view"]],viewQuery:function(n,r){if(n&1&&wt(Rs,5),n&2){let o;Se(o=Ie())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(n,r){n&1&&(p(0,"table",0)(1,"thead",1)(2,"tr"),G(3,"th",2),f()(),p(4,"tbody",3),$("selectedValueChange",function(s){return r._monthSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),f()()),n&2&&(h(4),q("label",r._yearLabel())("rows",r._months())("todayValue",r._todayMonth())("startValue",r._selectedMonth())("endValue",r._selectedMonth())("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._dateAdapter.getMonth(r.activeDate)))},dependencies:[Rs],encapsulation:2,changeDetection:0})}return i})(),qv=(()=>{class i{_intl=_(Ms);calendar=_(_p);_dateAdapter=_(rn,{optional:!0});_dateFormats=_(xr,{optional:!0});_periodButtonText;_periodButtonDescription;_periodButtonLabel;_prevButtonLabel;_nextButtonLabel;constructor(){_(gt).load(oi);let e=_(dt);this._updateLabels(),this.calendar.stateChanges.subscribe(()=>{this._updateLabels(),e.markForCheck()})}get periodButtonText(){return this._periodButtonText}get periodButtonDescription(){return this._periodButtonDescription}get periodButtonLabel(){return this._periodButtonLabel}get prevButtonLabel(){return this._prevButtonLabel}get nextButtonLabel(){return this._nextButtonLabel}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.previousEnabled()&&(this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-Ln))}nextClicked(){this.nextEnabled()&&(this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:Ln))}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_updateLabels(){let e=this.calendar,n=this._intl,r=this._dateAdapter;e.currentView==="month"?(this._periodButtonText=r.format(e.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase(),this._periodButtonDescription=r.format(e.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase(),this._periodButtonLabel=n.switchToMultiYearViewLabel,this._prevButtonLabel=n.prevMonthLabel,this._nextButtonLabel=n.nextMonthLabel):e.currentView==="year"?(this._periodButtonText=r.getYearName(e.activeDate),this._periodButtonDescription=r.getYearName(e.activeDate),this._periodButtonLabel=n.switchToMonthViewLabel,this._prevButtonLabel=n.prevYearLabel,this._nextButtonLabel=n.nextYearLabel):(this._periodButtonText=n.formatYearRange(...this._formatMinAndMaxYearLabels()),this._periodButtonDescription=n.formatYearRangeLabel(...this._formatMinAndMaxYearLabels()),this._periodButtonLabel=n.switchToMonthViewLabel,this._prevButtonLabel=n.prevMultiYearLabel,this._nextButtonLabel=n.nextMultiYearLabel)}_isSameView(e,n){return this.calendar.currentView=="month"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(n)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(n):this.calendar.currentView=="year"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(n):zv(this._dateAdapter,e,n,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let n=this._dateAdapter.getYear(this.calendar.activeDate)-hl(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=n+Ln-1,o=this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1)),s=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return[o,s]}_periodButtonLabelId=_(Rt).getId("mat-calendar-period-label-");static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:HD,decls:17,vars:13,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["matButton","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["matIconButton","","type","button","disabledInteractive","",1,"mat-calendar-previous-button",3,"click","disabled","matTooltip"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["matIconButton","","type","button","disabledInteractive","",1,"mat-calendar-next-button",3,"click","disabled","matTooltip"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(n,r){n&1&&($t(),p(0,"div",0)(1,"div",1)(2,"span",2),y(3),f(),p(4,"button",3),$("click",function(){return r.currentPeriodClicked()}),p(5,"span",4),y(6),f(),Ri(),p(7,"svg",5),G(8,"polygon",6),f()(),Ih(),G(9,"div",7),Xe(10),p(11,"button",8),$("click",function(){return r.previousClicked()}),Ri(),p(12,"svg",9),G(13,"path",10),f()(),Ih(),p(14,"button",11),$("click",function(){return r.nextClicked()}),Ri(),p(15,"svg",9),G(16,"path",12),f()()()()),n&2&&(h(2),q("id",r._periodButtonLabelId),h(),M(r.periodButtonDescription),h(),Oe("aria-label",r.periodButtonLabel)("aria-describedby",r._periodButtonLabelId),h(2),M(r.periodButtonText),h(),ge("mat-calendar-invert",r.calendar.currentView!=="month"),h(4),q("disabled",!r.previousEnabled())("matTooltip",r.prevButtonLabel),Oe("aria-label",r.prevButtonLabel),h(3),q("disabled",!r.nextEnabled())("matTooltip",r.nextButtonLabel),Oe("aria-label",r.nextButtonLabel))},dependencies:[cp,Xd,kv],encapsulation:2,changeDetection:0})}return i})(),_p=(()=>{class i{_dateAdapter=_(rn,{optional:!0});_dateFormats=_(xr,{optional:!0});_changeDetectorRef=_(dt);_elementRef=_(ke);headerComponent;_calendarHeaderPortal;_intlChanges;_moveFocusOnNextTick=!1;get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt;startView="month";get selected(){return this._selected}set selected(e){e instanceof Yn?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;selectedChange=new ue;yearSelected=new ue;monthSelected=new ue;viewChanged=new ue(!0);_userSelection=new ue;_userDragDrop=new ue;monthView;yearView;multiYearView;get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}_clampedActiveDate;get currentView(){return this._currentView}set currentView(e){let n=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),n&&(this.stateChanges.next(),this.viewChanged.emit(n))}_currentView;_activeDrag=null;stateChanges=new de;constructor(){this._intlChanges=_(Ms).changes.subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new Ir(this.headerComponent||qv),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){let n=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,o=n||r||e.dateFilter;if(o&&!o.firstChange){let s=this._getCurrentViewComponent();s&&(this._elementRef.nativeElement.contains(ms())&&(this._moveFocusOnNextTick=!0),this._changeDetectorRef.detectChanges(),s._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){let n=e.value;(this.selected instanceof Yn||n&&!this._dateAdapter.sameDate(n,this.selected))&&this.selectedChange.emit(n),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,n){this.activeDate=e,this.currentView=n}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["mat-calendar"]],viewQuery:function(n,r){if(n&1&&wt(Nv,5)(Lv,5)(Fv,5),n&2){let o;Se(o=Ie())&&(r.monthView=o.first),Se(o=Ie())&&(r.yearView=o.first),Se(o=Ie())&&(r.multiYearView=o.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[wn([jv]),ht],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(n,r){if(n&1&&(Oi(0,WD,0,0,"ng-template",0),p(1,"div",1),Y(2,KD,1,11,"mat-month-view",2)(3,GD,1,6,"mat-year-view",3)(4,YD,1,6,"mat-multi-year-view",3),f()),n&2){let o;q("cdkPortalOutlet",r._calendarHeaderPortal),h(2),Q((o=r.currentView)==="month"?2:o==="year"?3:o==="multi-year"?4:-1)}},dependencies:[ep,Rm,Nv,Lv,Fv],styles:[`.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-sys-title-small-weight));--mat-button-text-label-text-color: var(--mat-datepicker-calendar-period-button-text-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}@media(forced-colors: active){.mat-calendar-arrow{fill:CanvasText}}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-sys-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-sys-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color, transparent)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus-visible .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return i})(),sR=new H("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let i=_(be);return()=>$i(i)}}),Hv=(()=>{class i{_elementRef=_(ke);_animationsDisabled=Mt();_changeDetectorRef=_(dt);_globalModel=_(pl);_dateAdapter=_(rn);_ngZone=_(ee);_rangeSelectionStrategy=_(Uv,{optional:!0});_stateChanges;_model;_eventCleanups;_animationFallback;_calendar;color;datepicker;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;_isAbove;_animationDone=new de;_isAnimating=!1;_closeButtonText;_closeButtonFocused;_actionsPortal=null;_dialogLabelId;constructor(){if(_(gt).load(oi),this._closeButtonText=_(Ms).closeCalendarLabel,!this._animationsDisabled){let e=this._elementRef.nativeElement,n=_(xt);this._eventCleanups=this._ngZone.runOutsideAngular(()=>[n.listen(e,"animationstart",this._handleAnimationEvent),n.listen(e,"animationend",this._handleAnimationEvent),n.listen(e,"animationcancel",this._handleAnimationEvent)])}}ngAfterViewInit(){this._stateChanges=this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._calendar.focusActiveCell()}ngOnDestroy(){clearTimeout(this._animationFallback),this._eventCleanups?.forEach(e=>e()),this._stateChanges?.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){let n=this._model.selection,r=e.value,o=n instanceof Yn;if(o&&this._rangeSelectionStrategy){let s=this._rangeSelectionStrategy.selectionFinished(r,n,e.event);this._model.updateSelection(s,this)}else r&&(o||!this._dateAdapter.sameDate(r,n))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._elementRef.nativeElement.classList.add("mat-datepicker-content-exit"),this._animationsDisabled?this._animationDone.next():(clearTimeout(this._animationFallback),this._animationFallback=setTimeout(()=>{this._isAnimating||this._animationDone.next()},200))}_handleAnimationEvent=e=>{let n=this._elementRef.nativeElement;e.target!==n||!e.animationName.startsWith("_mat-datepicker-content")||(clearTimeout(this._animationFallback),this._isAnimating=e.type==="animationstart",n.classList.toggle("mat-datepicker-content-animating",this._isAnimating),this._isAnimating||this._animationDone.next())};_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,n){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,n&&this._changeDetectorRef.detectChanges()}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["mat-datepicker-content"]],viewQuery:function(n,r){if(n&1&&wt(_p,5),n&2){let o;Se(o=Ie())&&(r._calendar=o.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:6,hostBindings:function(n,r){n&2&&(Mn(r.color?"mat-"+r.color:""),ge("mat-datepicker-content-touch",r.datepicker.touchUi)("mat-datepicker-content-animations-enabled",!r._animationsDisabled))},inputs:{color:"color"},exportAs:["matDatepickerContent"],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","matButton","elevated",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(n,r){n&1&&(p(0,"div",0)(1,"mat-calendar",1),$("yearSelected",function(s){return r.datepicker._selectYear(s)})("monthSelected",function(s){return r.datepicker._selectMonth(s)})("viewChanged",function(s){return r.datepicker._viewChanged(s)})("_userSelection",function(s){return r._handleUserSelection(s)})("_userDragDrop",function(s){return r._handleUserDragDrop(s)}),f(),Oi(2,QD,0,0,"ng-template",2),p(3,"button",3),$("focus",function(){return r._closeButtonFocused=!0})("blur",function(){return r._closeButtonFocused=!1})("click",function(){return r.datepicker.close()}),y(4),f()()),n&2&&(ge("mat-datepicker-content-container-with-custom-header",r.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",r._actionsPortal),Oe("aria-modal",!0)("aria-labelledby",r._dialogLabelId??void 0),h(),Mn(r.datepicker.panelClass),q("id",r.datepicker.id)("startAt",r.datepicker.startAt)("startView",r.datepicker.startView)("minDate",r.datepicker._getMinDate())("maxDate",r.datepicker._getMaxDate())("dateFilter",r.datepicker._getDateFilter())("headerComponent",r.datepicker.calendarHeaderComponent)("selected",r._getSelected())("dateClass",r.datepicker.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName),h(),q("cdkPortalOutlet",r._actionsPortal),h(),ge("cdk-visually-hidden",!r._closeButtonFocused),q("color",r.color||"primary"),h(),M(r._closeButtonText))},dependencies:[Pm,_p,ep,cp],styles:[`@keyframes _mat-datepicker-content-dropdown-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-dialog-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-exit{from{opacity:1}to{opacity:0}}.mat-datepicker-content{display:block;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-sys-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-sys-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-sys-corner-large))}.mat-datepicker-content.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dropdown-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.mat-datepicker-content-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-sys-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dialog-enter 150ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}.mat-datepicker-content-exit.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-exit 100ms linear}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}
`],encapsulation:2,changeDetection:0})}return i})(),Vv=(()=>{class i{_injector=_(be);_viewContainerRef=_(ei);_dateAdapter=_(rn,{optional:!0});_dir=_(pn,{optional:!0});_model=_(pl);_animationsDisabled=Mt();_scrollStrategy=_(sR);_inputStateChanges=rt.EMPTY;_document=_(De);calendarHeaderComponent;get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt;startView="month";get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}_color;touchUi=!1;get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){e!==this._disabled&&(this._disabled=e,this.stateChanges.next(void 0))}_disabled;xPosition="start";yPosition="below";restoreFocus=!0;yearSelected=new ue;monthSelected=new ue;viewChanged=new ue(!0);dateClass;openedStream=new ue;closedStream=new ue;get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=R0(e)}_panelClass;get opened(){return this._opened}set opened(e){e?this.open():this.close()}_opened=!1;id=_(Rt).getId("mat-datepicker-");_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}_overlayRef;_componentRef;_focusedElementBeforeOpen=null;_backdropHarnessClass=`${this.id}-backdrop`;_actionsPortal;datepickerInput;stateChanges=new de;_changeDetectorRef=_(dt);constructor(){this._dateAdapter,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(e){let n=e.xPosition||e.yPosition;if(n&&!n.firstChange&&this._overlayRef){let r=this._overlayRef.getConfig().positionStrategy;r instanceof Ss&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal,this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=ms(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;let e=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",n=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:r,location:o}=this._componentRef;r._animationDone.pipe(zn(1)).subscribe(()=>{let s=this._document.activeElement;e&&(!s||s===this._document.activeElement||o.nativeElement.contains(s))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()}),r._startExitAnimation()}e?setTimeout(n):n()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let e=this.touchUi,n=new Ir(Hv,this._viewContainerRef),r=this._overlayRef=po(this._injector,new uo({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir||"ltr",scrollStrategy:e?qd(this._injector):this._scrollStrategy(),panelClass:`mat-datepicker-${e?"dialog":"popup"}`,disableAnimations:this._animationsDisabled}));this._getCloseStream(r).subscribe(o=>{o&&o.preventDefault(),this.close()}),r.keydownEvents().subscribe(o=>{let s=o.keyCode;(s===38||s===40||s===37||s===39||s===33||s===34)&&o.preventDefault()}),this._componentRef=r.attach(n),this._forwardContentValues(this._componentRef.instance),e||bn(()=>{r.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return Hd(this._injector).centerHorizontally().centerVertically()}_getDropdownStrategy(){let e=mo(this._injector,this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){let n=this.xPosition==="end"?"end":"start",r=n==="start"?"end":"start",o=this.yPosition==="above"?"bottom":"top",s=o==="top"?"bottom":"top";return e.withPositions([{originX:n,originY:s,overlayX:n,overlayY:o},{originX:n,originY:o,overlayX:n,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:s}])}_getCloseStream(e){let n=["ctrlKey","shiftKey","metaKey"];return hi(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Ge(r=>r.keyCode===27&&!It(r)||this.datepickerInput&&It(r,"altKey")&&r.keyCode===38&&n.every(o=>!It(r,o)))))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",Pe],disabled:[2,"disabled","disabled",Pe],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",Pe],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",Pe]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[ht]})}return i})(),Wv=(()=>{class i extends Vv{static \u0275fac=(()=>{let e;return function(r){return(e||(e=ki(i)))(r||i)}})();static \u0275cmp=ne({type:i,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[wn([jv,{provide:Vv,useExisting:i}]),mi],decls:0,vars:0,template:function(n,r){},encapsulation:2,changeDetection:0})}return i})(),Ds=class{target;targetElement;value;constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}},aR=(()=>{class i{_elementRef=_(ke);_dateAdapter=_(rn,{optional:!0});_dateFormats=_(xr,{optional:!0});_isInitialized;get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e,!0)}_model;get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){let n=e,r=this._elementRef.nativeElement;this._disabled!==n&&(this._disabled=n,this.stateChanges.next(void 0)),n&&this._isInitialized&&r.blur&&r.blur()}_disabled;dateChange=new ue;dateInput=new ue;stateChanges=new de;_onTouched=()=>{};_validatorOnChange=()=>{};_cvaOnChange=()=>{};_valueChangesSubscription=rt.EMPTY;_localeSubscription=rt.EMPTY;_pendingValue;_parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}};_filterValidator=e=>{let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value));return!n||this._matchesFilter(n)?null:{matDatepickerFilter:!0}};_minValidator=e=>{let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),r=this._getMinDate();return!r||!n||this._dateAdapter.compareDate(r,n)<=0?null:{matDatepickerMin:{min:r,actual:n}}};_maxValidator=e=>{let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),r=this._getMaxDate();return!r||!n||this._dateAdapter.compareDate(r,n)>=0?null:{matDatepickerMax:{max:r,actual:n}}};_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(n=>{if(this._shouldHandleChangeEvent(n)){let r=this._getValueFromModel(n.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new Ds(this,this._elementRef.nativeElement)),this.dateChange.emit(new Ds(this,this._elementRef.nativeElement))}})}_lastValueValid=!1;constructor(){this._localeSubscription=this._dateAdapter.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value,!0)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){lR(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e,e!==this.value)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){let n=["ctrlKey","shiftKey","metaKey"];It(e,"altKey")&&e.keyCode===40&&n.every(o=>!It(e,o))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){let n=e.target.value,r=this._lastValueValid,o=this._dateAdapter.parse(n,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(o),o=this._dateAdapter.getValidDateOrNull(o);let s=!this._dateAdapter.sameDate(o,this.value);!o||s?this._cvaOnChange(o):(n&&!this.value&&this._cvaOnChange(o),r!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(o),this.dateInput.emit(new Ds(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Ds(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e!=null?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e,n){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),n&&this._formatValue(e)}_matchesFilter(e){let n=this._getDateFilter();return!n||n(e)}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,inputs:{value:"value",disabled:[2,"disabled","disabled",Pe]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[ht]})}return i})();function lR(i,t){let e=Object.keys(i);for(let n of e){let{previousValue:r,currentValue:o}=i[n];if(t.isDateInstance(r)&&t.isDateInstance(o)){if(!t.sameDate(r,o))return!0}else return!0}return!1}var cR={provide:_y,useExisting:cc(()=>Jd),multi:!0},dR={provide:yy,useExisting:cc(()=>Jd),multi:!0},Jd=(()=>{class i extends aR{_formField=_(so,{optional:!0});_closedSubscription=rt.EMPTY;_openedSubscription=rt.EMPTY;set matDatepicker(e){e&&(this._datepicker=e,this._ariaOwns.set(e.opened?e.id:null),this._closedSubscription=e.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=e.openedStream.subscribe(()=>{this._ariaOwns.set(e.id)}),this._registerModel(e.registerInput(this)))}_datepicker;_ariaOwns=Ve(null);get min(){return this._min}set min(e){let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(n,this._min)||(this._min=n,this._validatorOnChange())}_min;get max(){return this._max}set max(e){let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(n,this._max)||(this._max=n,this._validatorOnChange())}_max;get dateFilter(){return this._dateFilter}set dateFilter(e){let n=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==n&&this._validatorOnChange()}_dateFilter;_validator;constructor(){super(),this._validator=Wo.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(n,r){n&1&&$("input",function(s){return r._onInput(s)})("change",function(){return r._onChange()})("blur",function(){return r._onBlur()})("keydown",function(s){return r._onKeydown(s)}),n&2&&(vn("disabled",r.disabled),Oe("aria-haspopup",r._datepicker?"dialog":null)("aria-owns",r._ariaOwns())("min",r.min?r._dateAdapter.toIso8601(r.min):null)("max",r.max?r._dateAdapter.toIso8601(r.max):null)("data-mat-calendar",r._datepicker?r._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[wn([cR,dR,{provide:Yd,useExisting:i}]),mi]})}return i})(),uR=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=Fe({type:i,selectors:[["","matDatepickerToggleIcon",""]]})}return i})(),yp=(()=>{class i{_intl=_(Ms);_changeDetectorRef=_(dt);_stateChanges=rt.EMPTY;datepicker;tabIndex;ariaLabel;get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=e}_disabled;disableRipple;_customIcon;_button;constructor(){let e=_(new Oo("tabindex"),{optional:!0}),n=Number(e);this.tabIndex=n||n===0?n:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){let e=this.datepicker?this.datepicker.stateChanges:me(),n=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:me(),r=this.datepicker?hi(this.datepicker.openedStream,this.datepicker.closedStream):me();this._stateChanges.unsubscribe(),this._stateChanges=hi(this._intl.changes,e,n,r).subscribe(()=>this._changeDetectorRef.markForCheck())}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ne({type:i,selectors:[["mat-datepicker-toggle"]],contentQueries:function(n,r,o){if(n&1&&sr(o,uR,5),n&2){let s;Se(s=Ie())&&(r._customIcon=s.first)}},viewQuery:function(n,r){if(n&1&&wt(XD,5),n&2){let o;Se(o=Ie())&&(r._button=o.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(n,r){n&1&&$("click",function(s){return r._open(s)}),n&2&&(Oe("tabindex",null)("data-mat-calendar",r.datepicker?r.datepicker.id:null),ge("mat-datepicker-toggle-active",r.datepicker&&r.datepicker.opened)("mat-accent",r.datepicker&&r.datepicker.color==="accent")("mat-warn",r.datepicker&&r.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",Pe],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[ht],ngContentSelectors:JD,decls:4,vars:7,consts:[["button",""],["matIconButton","","type","button",3,"tabIndex","disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(n,r){n&1&&($t(ZD),p(0,"button",1,0),Y(2,eR,2,0,":svg:svg",2),Xe(3),f()),n&2&&(q("tabIndex",r.disabled?-1:r.tabIndex)("disabled",r.disabled)("disableRipple",r.disableRipple),Oe("aria-haspopup",r.datepicker?"dialog":null)("aria-label",r.ariaLabel||r._intl.openCalendarLabel)("aria-expanded",r.datepicker?r.datepicker.opened:null),h(2),Q(r._customIcon?-1:2))},dependencies:[Xd],styles:[`.mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-sys-on-surface-variant))}.mat-datepicker-toggle button{color:inherit}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-datepicker-toggle-default-icon{color:CanvasText}}
`],encapsulation:2,changeDetection:0})}return i})();var Kv=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({providers:[Ms],imports:[Dv,dl,Fm,Ld,Hv,yp,qv,st,lo]})}return i})();var mR=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/,pR=/^(\d?\d)[:.](\d?\d)(?:[:.](\d?\d))?\s*(AM|PM)?$/i;function bp(i,t){let e=Array(i);for(let n=0;n<i;n++)e[n]=t(n);return e}var fR=(()=>{class i extends rn{_matDateLocale=_(op,{optional:!0});constructor(){super();let e=_(op,{optional:!0});e!==void 0&&(this._matDateLocale=e),super.setLocale(this._matDateLocale)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){let n=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return bp(12,r=>this._format(n,new Date(2017,r,1)))}getDateNames(){let e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return bp(31,n=>this._format(e,new Date(2017,0,n+1)))}getDayOfWeekNames(e){let n=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return bp(7,r=>this._format(n,new Date(2017,0,r+1)))}getYearName(e){let n=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(n,e)}getFirstDayOfWeek(){if(typeof Intl<"u"&&Intl.Locale){let e=new Intl.Locale(this.locale),n=(e.getWeekInfo?.()||e.weekInfo)?.firstDay??0;return n===7?0:n}return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,n,r){let o=this._createDateWithOverflow(e,n,r);return o.getMonth()!=n,o}today(){return new Date}parse(e,n){return typeof e=="number"?new Date(e):e?new Date(Date.parse(e)):null}format(e,n){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");let r=new Intl.DateTimeFormat(this.locale,ie(P({},n),{timeZone:"utc"}));return this._format(r,e)}addCalendarYears(e,n){return this.addCalendarMonths(e,n*12)}addCalendarMonths(e,n){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+n,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+n)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,n){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+n)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if(typeof e=="string"){if(!e)return null;if(mR.test(e)){let n=new Date(e);if(this.isValid(n))return n}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}setTime(e,n,r,o){let s=this.clone(e);return s.setHours(n,r,o,0),s}getHours(e){return e.getHours()}getMinutes(e){return e.getMinutes()}getSeconds(e){return e.getSeconds()}parseTime(e,n){if(typeof e!="string")return e instanceof Date?new Date(e.getTime()):null;let r=e.trim();if(r.length===0)return null;let o=this._parseTimeString(r);if(o===null){let s=r.replace(/[^0-9:(AM|PM)]/gi,"").trim();s.length>0&&(o=this._parseTimeString(s))}return o||this.invalid()}addSeconds(e,n){return new Date(e.getTime()+n*1e3)}_createDateWithOverflow(e,n,r){let o=new Date;return o.setFullYear(e,n,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,n){let r=new Date;return r.setUTCFullYear(n.getFullYear(),n.getMonth(),n.getDate()),r.setUTCHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e.format(r)}_parseTimeString(e){let n=e.toUpperCase().match(pR);if(n){let r=parseInt(n[1]),o=parseInt(n[2]),s=n[3]==null?void 0:parseInt(n[3]),l=n[4];if(r===12?r=l==="AM"?0:r:l==="PM"&&(r+=12),vp(r,0,23)&&vp(o,0,59)&&(s==null||vp(s,0,59)))return this.setTime(this.today(),r,o,s||0)}return null}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac})}return i})();function vp(i,t,e){return!isNaN(i)&&i>=t&&i<=e}var gR={parse:{dateInput:null,timeInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},timeInput:{hour:"numeric",minute:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"},timeOptionLabel:{hour:"numeric",minute:"numeric"}}};var Gv=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({providers:[_R()]})}return i})();function _R(i=gR){return[{provide:rn,useClass:fR},{provide:xr,useValue:i}]}var Yv=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=Te({imports:[st]})}return i})();var yR=["revenueChartCanvas"],bR=["categoryChartCanvas"],vR=["typeChartCanvas"],wR=["discountChartCanvas"],CR=["itemsChartCanvas"];function ER(i,t){if(i&1&&(p(0,"mat-option",63),y(1),f()),i&2){let e=t.$implicit;q("value",e.key),h(),M(e.label)}}function SR(i,t){if(i&1&&(p(0,"small",8),y(1),f()),i&2){let e=D().$implicit,n=D(3);h(),M(n.isArabic?e.choiceAr||e.choiceEn:e.choiceEn||e.choiceAr)}}function IR(i,t){if(i&1&&(p(0,"div",95)(1,"div",96)(2,"div")(3,"div",10),y(4),f(),Y(5,SR,2,1,"small",8),f(),p(6,"div",88)(7,"div"),y(8),f(),p(9,"small",8),y(10),et(11,"number"),f()()()()),i&2){let e=t.$implicit,n=D(3);h(4),M(n.getItemDisplayName(e)),h(),Q(e.choiceEn||e.choiceAr?5:-1),h(3),z("\xD7 ",e.quantity||1),h(2),z("\u20AA ",pt(11,4,e.unitPrice||e.price||0,"1.2-2"))}}function xR(i,t){if(i&1&&(p(0,"tr")(1,"td",91)(2,"div",92)(3,"div",93),y(4),f(),p(5,"div",94),we(6,IR,12,7,"div",95,$_().trackByKey,!0),f()()()()),i&2){let e=D().$implicit,n=D();h(2),q("@expandCollapse",void 0),h(2),M(n.isArabic?"\u0627\u0644\u0639\u0646\u0627\u0635\u0631":"Items"),h(2),Ce(n.orderItemsArray(e))}}function AR(i,t){if(i&1){let e=fe();p(0,"tr",87)(1,"td",8),y(2),f(),p(3,"td"),y(4),f(),p(5,"td"),y(6),et(7,"date"),f(),p(8,"td",10),y(9),et(10,"number"),f(),p(11,"td",88)(12,"button",89),$("click",function(){let r=L(e).$implicit,o=D();return V(o.toggleExpand(r.id))}),G(13,"i",90),f()()(),Y(14,xR,8,2,"tr")}if(i&2){let e=t.$implicit,n=D();h(2),z("#",e.id),h(2),M(e.tableName||e.tableId||"-"),h(2),M(pt(7,9,e.createdAt||e.ts,"HH:mm")),h(3),z("\u20AA ",pt(10,12,e.total||0,"1.2-2")),h(4),ge("bi-chevron-down",!n.isExpanded(e.id))("bi-chevron-up",n.isExpanded(e.id)),h(),Q(n.isExpanded(e.id)?14:-1)}}function TR(i,t){if(i&1){let e=fe();p(0,"div",73)(1,"button",97),$("click",function(){L(e);let r=D();return V(r.loadMoreOrders())}),y(2),f()()}if(i&2){let e=D();h(2),M(e.isArabic?"\u062D\u0645\u0651\u0644 \u0627\u0644\u0645\u0632\u064A\u062F":"Load older")}}function DR(i,t){if(i&1&&(p(0,"div",86)(1,"div"),y(2),f(),p(3,"div",8),y(4),f()()),i&2){let e=t.$implicit;h(2),M(e.label),h(2),z("\xD7 ",e.count)}}var eu=class i{constructor(t,e,n){this.route=t;this.lang=e;this.menu=n}restaurantId="";restaurant=null;restaurantName="";isArabic=!1;now=new Date;clockInterval;overview={employeesBalance:0,suppliersBalance:0,customersBalance:0,bankBalances:0,checksBalance:0,cashOnHand:0,totalExpenses:0,totalPurchases:0,totalDiscounts:0,salesRevenue:0};counts={invoicesToDate:0,tableCount:0,customerCount:0,itemCount:0,employeeCount:0,categoryCount:0};timeScale="day";revenueScale="day";categoryScale="day";typeScale="day";itemsScale="day";categories={};categoryList=[];selectedCategoryKey="all";categorySearch="";itemCatMap={};selectedType="all";typeSearch="";typeOptions=[{value:"all",labelEn:"All",labelAr:"\u0627\u0644\u0643\u0644"},{value:"kitchen",labelEn:"Kitchen",labelAr:"\u0627\u0644\u0645\u0637\u0628\u062E"},{value:"bar",labelEn:"Bar",labelAr:"\u0627\u0644\u0628\u0627\u0631"},{value:"hookah",labelEn:"Hookah",labelAr:"\u0627\u0644\u0623\u0631\u062C\u064A\u0644\u0629"},{value:"other",labelEn:"Other",labelAr:"\u0623\u062E\u0631\u0649"}];history={};revenueChartCanvas;categoryChartCanvas;typeChartCanvas;discountChartCanvas;itemsChartCanvas;revenueChart;categoryChart;typeChart;discountChart;itemsChart;selectedOrdersDate=this.formatDateKey(new Date);orders=[];orderSearch="";orderPageSize=10;expandedOrders={};ordersDate=null;selectedItemsCategoryKey="";ordersUnsub=null;historyUnsub=null;tablesUnsub=null;liveTablesSnapshot={};ordersByKey={};ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t),this.lang.isArabic$.subscribe(e=>{this.isArabic=e,this.updateRestaurantDisplayName(),this.updateCategoryListLabels(),this.refreshAllCharts()}),Wn.getRestaurantById(this.restaurantId).then(e=>{this.restaurant=e,this.updateRestaurantDisplayName()}).catch(()=>{this.restaurant=null,this.updateRestaurantDisplayName()}),this.menu.getCategoriesOnce(this.restaurantId).then(e=>{this.categories=e||{},this.categoryList=Object.keys(this.categories).map(n=>({key:n,label:this.isArabic?this.categories[n]?.nameArabic||this.categories[n]?.name||n:this.categories[n]?.name||this.categories[n]?.nameArabic||n,section:this.categories[n]?.section||"kitchen"})),this.countItems(),this.buildItemCatMap(),!this.selectedItemsCategoryKey&&this.categoryList.length&&(this.selectedItemsCategoryKey=this.categoryList[0].key),this.itemsChartCanvas?.nativeElement&&setTimeout(()=>this.refreshAllCharts(),0)}),this.loadCounts(),this.observeHistory(),this.clockInterval=setInterval(()=>{this.now=new Date},1e3),this.observeOrdersForDate(this.selectedOrdersDate),this.observeLiveTables()}getItemsInCategoryDataset(t,e){let n=this.bucketize(t),r={},o={},s=(C,A,I)=>{r[C]=(r[C]||0)+A,o[C]=(o[C]||0)+I};n.forEach(C=>{C.keys.forEach(A=>{let I=this.history[A];if(!I)return;let R=I?.categories?.[e];if(R&&R.items){let F=R.items||{},U=0;Object.keys(F).forEach(X=>{let Z=F[X]||{},W=Number(Z.counter||0),Ae=Number(Z.price||0);s(X,W,Ae*W),U+=W}),U===0&&this.getOrdersForKey(I,A).forEach(Z=>{let W=Z?.items??Z?.orders??{};Object.keys(W).forEach(Ae=>{let ye=W[Ae]||{};if(this.getCategoryKeyByItemName(ye?.name||"")!==e)return;let w=Number(ye.quantity??ye.counter??0)||0,E=Number(ye.unitPrice??ye.price??0),T=this.normalizeName(ye?.name||ye?.nameArabic||Ae);s(T,w,E*w)})})}else this.getOrdersForKey(I,A).forEach(U=>{let X=U?.items??U?.orders??{};Object.keys(X).forEach(Z=>{let W=X[Z]||{};if(this.getCategoryKeyByItemName(W?.name||"")!==e)return;let ye=Number(W.quantity??W.counter??0)||0,x=Number(W.unitPrice??W.price??0),w=this.normalizeName(W?.name||W?.nameArabic||Z);s(w,ye,x*ye)})})})});let l={},c={};Object.keys(r).forEach(C=>{let A;if(this.idToItem[C]){let I=this.idToItem[C];A=this.isArabic?I.nameArabic||I.name||C:I.name||I.nameArabic||C}else if(this.nameToItem[C]){let I=this.nameToItem[C];A=this.isArabic?I.nameArabic||I.name||C:I.name||I.nameArabic||C}else A=C;l[A]=(l[A]||0)+(r[C]||0),c[A]=(c[A]||0)+(o[C]||0)});let u=Object.keys(l),g=u.map(C=>l[C]),v=u.map(C=>this.colorForLabel(C));return{labels:u,values:g,colors:v,revenueByLabel:c}}buildItemCatMap(){let t={},e={},n={};Object.keys(this.categories||{}).forEach(r=>{let o=this.categories?.[r]?.items||{};Object.keys(o).forEach(s=>{t[s]=r;let l=o[s]||{},c=this.normalizeName(l.name||""),u=this.normalizeName(l.nameArabic||"");c&&(e[c]=r),u&&(e[u]=r),c&&(n[c]={name:l.name||"",nameArabic:l.nameArabic||""}),u&&(n[u]={name:l.name||"",nameArabic:l.nameArabic||""}),this.idToItem[s]={name:l.name||"",nameArabic:l.nameArabic||""}})}),this.itemCatMap=t,this.nameToCatMap=e,this.nameToItem=n}getCategoryKeyByItemName(t){return this.nameToCatMap[this.normalizeName(t||"")]}aggregateLiveTableOrdersByItem(){let t={},e=this.liveTablesSnapshot||{};Object.keys(e).forEach(r=>{let o=e[r]?.order||{};Object.keys(o).forEach(s=>{let l=o[s]||{};if(l.state==="unordered")return;let c=String(l.name||""),u=this.normalizeName(c),g=Number(l.unitPrice??0)||0,v=Number(l.quantity??0)||0;if(!t[u]){let C=this.nameToItem[u];t[u]={name:c,nameArabic:C?.nameArabic||void 0,unitPrice:g,quantity:0}}t[u].quantity+=v})});let n={};return Object.keys(t).forEach(r=>{let o=t[r];n[r]={name:o.name,nameArabic:o.nameArabic,unitPrice:o.unitPrice,quantity:o.quantity}}),n}getOrdersForKey(t,e){let n=this.getDayInvoices(t),r=this.formatDateKey(new Date);if(e&&e===r){let o=this.aggregateLiveTableOrdersByItem();Object.keys(o).length&&n.push({id:"live",items:o})}return n}getDayInvoices(t){let e=t?.Order_List||{};return Object.keys(e).map(n=>P({id:n},e[n]||{}))}observeLiveTables(){let t=qn(Hn,`restaurants/${this.restaurantId}/tables`);this.tablesUnsub=Ec(t,e=>{this.liveTablesSnapshot=e.exists()?e.val():{},this.refreshAllCharts()})}normalizeName(t){return String(t||"").trim().toLocaleLowerCase()}nameToCatMap={};nameToItem={};idToItem={};itemLabel(t,e){let n=String(t?.name||"").trim(),r=String(t?.nameArabic||"").trim(),o=this.isArabic?r||n:n||r;if(o)return o;let s=this.nameToItem[this.normalizeName(n||r)];return s?this.isArabic?s.nameArabic||s.name||e:s.name||s.nameArabic||e:e}updateCategoryListLabels(){this.categoryList=Object.keys(this.categories||{}).map(t=>({key:t,label:this.isArabic?this.categories[t]?.nameArabic||this.categories[t]?.name||t:this.categories[t]?.name||this.categories[t]?.nameArabic||t,section:this.categories[t]?.section||"kitchen"}))}ngAfterViewInit(){setTimeout(()=>this.refreshAllCharts(),0)}ngOnDestroy(){this.clockInterval&&clearInterval(this.clockInterval),this.ordersUnsub&&this.ordersUnsub(),this.historyUnsub&&this.historyUnsub(),this.tablesUnsub&&this.tablesUnsub(),this.destroyCharts()}updateRestaurantDisplayName(){let t=this.isArabic?this.restaurant?.restArabicName||this.restaurant?.restName||"":this.restaurant?.restName||this.restaurant?.restArabicName||"";this.restaurantName=String(t||"").trim()}loadCounts(){return j(this,null,function*(){let t=yield ur(qn(Hn,`restaurants/${this.restaurantId}/tables`)),e=t.exists()?t.val():{};this.counts.tableCount=Object.keys(e).length;let n=yield ur(qn(Hn,`restaurants/${this.restaurantId}/employees`)),r=n.exists()?n.val():{};this.counts.employeeCount=Object.keys(r).length;let o=yield ur(qn(Hn,`restaurants/${this.restaurantId}/customers`)),s=o.exists()?o.val():{};this.counts.customerCount=Object.keys(s).length;let l=yield ur(qn(Hn,`restaurants/${this.restaurantId}/meta/lastInvoiceNumber`)),c=l.exists()?Number(l.val()):0;this.counts.invoicesToDate=isFinite(c)?c:0;let u=yield ur(qn(Hn,`restaurants/${this.restaurantId}/finance`)),g=u.exists()?u.val():{};this.overview.employeesBalance=Number(g.employeesBalance??0)||0,this.overview.suppliersBalance=Number(g.suppliersBalance??0)||0,this.overview.customersBalance=Number(g.customersBalance??0)||0,this.overview.bankBalances=Number(g.bankBalances??0)||0,this.overview.checksBalance=Number(g.checksBalance??0)||0,this.overview.cashOnHand=Number(g.cashOnHand??0)||0,this.overview.totalExpenses=Number(g.totalExpenses??0)||0,this.overview.totalPurchases=Number(g.totalPurchases??0)||0})}countItems(){let t=0;Object.keys(this.categories||{}).forEach(e=>{let n=this.categories[e]?.items||{};t+=Object.keys(n).length}),this.counts.itemCount=t,this.counts.categoryCount=Object.keys(this.categories||{}).length}observeHistory(){this.historyUnsub&&(this.historyUnsub(),this.historyUnsub=null);let t=qn(Hn,`restaurants/${this.restaurantId}/history`);this.historyUnsub=Ec(t,e=>{this.history=e.exists()?e.val():{};let n=this.formatDateKey(new Date);this.history[n]||(this.history[n]={Order_List:{}});let r=this.computeTotalsForRange("day");this.overview.totalDiscounts=r.totalDiscounts,this.overview.salesRevenue=r.revenue,this.refreshAllCharts()})}destroyCharts(){this.revenueChart&&(this.revenueChart.destroy(),this.revenueChart=null),this.categoryChart&&(this.categoryChart.destroy(),this.categoryChart=null),this.typeChart&&(this.typeChart.destroy(),this.typeChart=null),this.discountChart&&(this.discountChart.destroy(),this.discountChart=null),this.itemsChart&&(this.itemsChart.destroy(),this.itemsChart=null)}onTimeScaleChange(){this.refreshAllCharts()}onCategorySearch(t){this.categorySearch=t?.target?.value||""}onTypeSearch(t){this.typeSearch=t?.target?.value||""}refreshAllCharts(){if(!this.history)return;this.destroyCharts();let t=this.getRevenueSeries(this.revenueScale),e=this.revenueChartCanvas.nativeElement.getContext("2d"),n={id:"valueLabels",afterDatasetsDraw:u=>{let{ctx:g}=u,v=u.data.datasets?.[0],C=u.getDatasetMeta(0);!v||!C||(g.save(),g.fillStyle="#111827",g.textAlign="center",g.textBaseline="bottom",g.font="12px system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial",C.data.forEach((A,I)=>{let R=Number(v.data?.[I]??0)||0,F="\u20AA "+new Intl.NumberFormat(this.isArabic?"ar":"en-US",{maximumFractionDigits:0}).format(R),U=A?.x??0,X=A?.y??0;g.fillText(F,U,X-6)}),g.restore())}},r=this.chartOptions(!0),o=Math.max(0,...t.values||[0]),s=ie(P({},r),{layout:ie(P({},r.layout),{padding:ie(P({},r.layout?.padding||{}),{top:48})}),scales:ie(P({},r.scales),{y:ie(P({},r.scales?.y||{}),{suggestedMax:Math.ceil(o*1.3)})})});this.revenueChart=new Chart(e,{type:"bar",data:{labels:t.labels,datasets:[{label:this.isArabic?"\u0627\u0644\u0625\u064A\u0631\u0627\u062F\u0627\u062A":"Revenue",data:t.values,backgroundColor:"#6366f1",borderRadius:6,maxBarThickness:32}]},options:s,plugins:[n]});let l=this.getCategoryDataset(this.categoryScale,this.selectedCategoryKey);this.categoryChart=new Chart(this.categoryChartCanvas.nativeElement.getContext("2d"),{type:"doughnut",data:{labels:l.labels,datasets:[{label:this.isArabic?"\u0627\u0644\u0643\u0645\u064A\u0629":"Quantity",data:l.values,backgroundColor:l.colors,revenueByLabel:l.revenueByLabel||{}}]},options:ie(P({},this.pieOptions()),{plugins:ie(P({},this.pieOptions().plugins),{tooltip:ie(P({},this.pieOptions().plugins.tooltip),{callbacks:{label:u=>{let g=this.isArabic,v=Number(u.parsed||0)||0,C=String(u.label||""),A=u.dataset.revenueByLabel||{},I=Number(A[C]||0)||0,R=g?"\u0627\u0644\u0643\u0645\u064A\u0629":"Quantity",F=g?"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A":"Total",U="\u20AA "+new Intl.NumberFormat(g?"ar":"en-US",{maximumFractionDigits:0}).format(I);return`${R}: ${v} \u2022 ${F}: ${U}`}}})})})});let c=this.getTypeDataset(this.typeScale,this.selectedType);if(this.typeChart=new Chart(this.typeChartCanvas.nativeElement.getContext("2d"),{type:"doughnut",data:{labels:c.labels,datasets:[{label:this.isArabic?"\u0627\u0644\u0643\u0645\u064A\u0629":"Quantity",data:c.values,backgroundColor:c.colors,revenueByLabel:c.revenueByLabel||{}}]},options:ie(P({},this.pieOptions()),{plugins:ie(P({},this.pieOptions().plugins),{tooltip:ie(P({},this.pieOptions().plugins.tooltip),{callbacks:{label:u=>{let g=this.isArabic,v=Number(u.parsed||0)||0,C=String(u.label||""),A=u.dataset.revenueByLabel||{},I=Number(A[C]||0)||0,R=g?"\u0627\u0644\u0643\u0645\u064A\u0629":"Qty",F=g?"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A":"Total",U="\u20AA "+new Intl.NumberFormat(g?"ar":"en-US",{maximumFractionDigits:0}).format(I);return`${R}: ${v} \u2022 ${F}: ${U}`}}})})})}),this.discountChartCanvas?.nativeElement){let u=this.getDiscountsDataset(this.timeScale);this.discountChart=new Chart(this.discountChartCanvas.nativeElement.getContext("2d"),{type:"bar",data:{labels:u.labels,datasets:u.datasets},options:ie(P({},this.chartOptions(!0)),{plugins:{legend:{position:"bottom",labels:{boxWidth:10,boxHeight:10}}},scales:{x:{stacked:!0,grid:{display:!1}},y:{stacked:!0,ticks:{callback:g=>String(g)}}}})})}if(this.itemsChartCanvas?.nativeElement&&this.selectedItemsCategoryKey){let u=this.getItemsInCategoryDataset(this.itemsScale,this.selectedItemsCategoryKey);this.itemsChart=new Chart(this.itemsChartCanvas.nativeElement.getContext("2d"),{type:"doughnut",data:{labels:u.labels,datasets:[{label:this.isArabic?"\u0627\u0644\u0643\u0645\u064A\u0629":"Quantity",data:u.values,backgroundColor:u.colors,revenueByLabel:u.revenueByLabel||{}}]},options:ie(P({},this.pieOptions()),{plugins:ie(P({},this.pieOptions().plugins),{tooltip:ie(P({},this.pieOptions().plugins.tooltip),{callbacks:{label:g=>{let v=this.isArabic,C=Number(g.parsed||0)||0,A=String(g.label||""),I=g.dataset.revenueByLabel||{},R=Number(I[A]||0)||0,F=v?"\u0627\u0644\u0643\u0645\u064A\u0629":"Qty",U=v?"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A":"Total",X="\u20AA "+new Intl.NumberFormat(v?"ar":"en-US",{maximumFractionDigits:0}).format(R);return`${F}: ${C} \u2022 ${U}: ${X}`}}})})})})}}chartOptions(t=!1){return{responsive:!0,maintainAspectRatio:!1,animation:{duration:600,easing:"easeOutQuart"},layout:t?{padding:{top:20}}:void 0,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,padding:10,backgroundColor:"rgba(17,24,39,.9)"}},scales:{x:{grid:{display:!1},ticks:{maxRotation:0}},y:{grid:{color:"rgba(0,0,0,.06)",drawBorder:!1},ticks:{callback:e=>String(e)}}},elements:t?{bar:{borderSkipped:!1}}:{line:{borderWidth:2}}}}pieOptions(){return{responsive:!0,maintainAspectRatio:!1,animation:{duration:600,easing:"easeOutQuart"},plugins:{legend:{position:"bottom"},tooltip:{padding:10,backgroundColor:"rgba(17,24,39,.9)"}},cutout:"55%"}}makeGradient(t,e){let{height:n}=t.canvas,r=t.createLinearGradient(0,0,0,n);return r.addColorStop(0,this.alpha(e,.35)),r.addColorStop(1,this.alpha(e,0)),r}alpha(t,e){let n=parseInt(t.slice(1,3),16),r=parseInt(t.slice(3,5),16),o=parseInt(t.slice(5,7),16);return`rgba(${n},${r},${o},${e})`}computeTotalsForRange(t){let e=this.bucketize(t),n=0,r=0;return e.forEach(o=>{o.keys.forEach(s=>{let l=this.history[s];if(!l)return;let c=this.computeDayRevenue(l,s);n+=c;let u=this.sumDiscounts(l?.discounts||{});r+=u})}),{revenue:n,totalDiscounts:r}}getRevenueSeries(t){let e=this.bucketize(t),n=[],r=[];return e.forEach(o=>{let s=0;o.keys.forEach(l=>{let c=this.history[l];c&&(s+=this.computeDayRevenue(c,l))}),n.push(o.label),r.push(s)}),{labels:n,values:r}}getCategoryDataset(t,e){let n={},r={},o=this.bucketize(t);if(e&&e!=="all"){let s=this.getCategoryLabel(e),l=0,c=0;return o.forEach(u=>{u.keys.forEach(g=>{let v=this.history[g];v&&(l+=this.sumCategory(v,e,g),c+=this.sumCategoryRevenue(v,e,g))})}),r[s]=c,{labels:[s],values:[l],colors:[this.colorForLabel(s)],revenueByLabel:r}}else{Object.keys(this.categories||{}).forEach(v=>n[v]=0);let s={};Object.keys(this.categories||{}).forEach(v=>s[v]=0),o.forEach(v=>{v.keys.forEach(C=>{let A=this.history[C];A&&Object.keys(n).forEach(I=>{n[I]+=this.sumCategory(A,I,C),s[I]+=this.sumCategoryRevenue(A,I,C)})})});let l=Object.keys(n),c=l.map(v=>this.getCategoryLabel(v)),u=l.map(v=>n[v]);c.forEach((v,C)=>{r[v]=s[l[C]]||0});let g=c.map(v=>this.colorForLabel(v));return{labels:c,values:u,colors:g,revenueByLabel:r}}}getTypeDataset(t,e){let n={},r={},o=this.bucketize(t),s=["kitchen","bar","hookah","other"];if(s.forEach(v=>{n[v]=0,r[v]=0}),o.forEach(v=>{v.keys.forEach(C=>{let A=this.history[C];if(!A)return;let I=A?.categories||{};Object.keys(I).length&&Object.keys(I).forEach(F=>{let U=this.categories?.[F]?.section||"kitchen",X=I[F]?.items||{};Object.keys(X).forEach(Z=>{let W=X[Z]||{},Ae=Number(W.counter||0),ye=Number(W.price||0);n[U]=(n[U]||0)+Ae,r[U]=(r[U]||0)+ye*Ae})});let R=this.getOrdersForKey(A,C);R.length&&R.forEach(F=>{let U=F?.items??F?.orders??{};Object.keys(U).forEach(X=>{let Z=U[X]||{},W=Number(Z.quantity??Z.counter??0)||0,Ae=this.itemCatMap[X]??this.getCategoryKeyByItemName(Z?.name||""),ye=this.categories?.[Ae]?.section||"kitchen",x=Number(Z.unitPrice??Z.price??0);n[ye]=(n[ye]||0)+W,r[ye]=(r[ye]||0)+x*W})})})}),e&&e!=="all"){let v=this.isArabic?this.typeLabelAr(e):this.typeLabelEn(e),C=[this.colorForLabel(v)],A={[v]:r[e]||0};return{labels:[v],values:[n[e]||0],colors:C,revenueByLabel:A}}let l=s.map(v=>this.isArabic?this.typeLabelAr(v):this.typeLabelEn(v)),c=s.map(v=>n[v]||0),u={};l.forEach((v,C)=>{let A=s[C];u[v]=r[A]||0});let g=l.map(v=>this.colorForLabel(v));return{labels:l,values:c,colors:g,revenueByLabel:u}}getDiscountsDataset(t){let e=this.bucketize(t),n=new Set;Object.keys(this.history||{}).forEach(u=>{let v=this.history[u]?.discounts||{};Object.keys(v).forEach(C=>n.add(C))});let r=Array.from(n.values()),o=[],s={};r.forEach(u=>s[u]=[]),e.forEach(u=>{o.push(u.label);let g={};r.forEach(v=>g[v]=0),u.keys.forEach(v=>{let C=this.history[v];if(!C)return;let A=C?.discounts||{};r.forEach(I=>g[I]+=Number(A?.[I]?.value??A?.[I]??0)||0)}),r.forEach(v=>s[v].push(g[v]))});let l=["#f97316","#22c55e","#0ea5e9","#8b5cf6","#ef4444","#06b6d4"],c=r.map((u,g)=>({label:this.discountLabel(u),data:s[u],backgroundColor:l[g%l.length]}));return{labels:o,datasets:c}}discountLabel(t){return t?t==="type1"?this.isArabic?"\u062E\u0635\u0645 1":"Type 1":t==="type2"?this.isArabic?"\u062E\u0635\u0645 2":"Type 2":t==="type3"?this.isArabic?"\u062E\u0635\u0645 3":"Type 3":t:this.isArabic?"\u062E\u0635\u0645":"Discount"}typeLabelAr(t){return t==="kitchen"?"\u0627\u0644\u0645\u0637\u0628\u062E":t==="bar"?"\u0627\u0644\u0628\u0627\u0631":t==="hookah"?"\u0627\u0644\u0623\u0631\u062C\u064A\u0644\u0629":"\u0623\u062E\u0631\u0649"}typeLabelEn(t){return t==="kitchen"?"Kitchen":t==="bar"?"Bar":t==="hookah"?"Hookah":"Other"}sumDiscounts(t){let e=0;return Object.keys(t||{}).forEach(n=>{let r=t[n];e+=Number(r?.value??r??0)||0}),e}sumCategory(t,e,n){let o=(t?.categories?.[e]||{})?.items||{},s=0;return Object.keys(o).forEach(l=>{let c=o[l]||{},u=Number(c.counter||0);s+=u}),s===0&&this.getOrdersForKey(t,n).forEach(c=>{let u=c?.items??c?.orders??{};Object.keys(u).forEach(g=>{let v=u[g]||{};if((this.itemCatMap[g]??this.getCategoryKeyByItemName(v?.name||""))!==e)return;let A=Number(v.quantity??v.counter??0)||0;s+=A})}),s}sumCategoryRevenue(t,e,n){let o=(t?.categories?.[e]||{})?.items||{},s=0;return Object.keys(o).forEach(l=>{let c=o[l]||{},u=Number(c.price||0),g=Number(c.counter||0);s+=u*g}),s===0&&this.getOrdersForKey(t,n).forEach(c=>{let u=c?.items??c?.orders??{};Object.keys(u).forEach(g=>{let v=u[g]||{};if((this.itemCatMap[g]??this.getCategoryKeyByItemName(v?.name||""))!==e)return;let A=Number(v.unitPrice??v.price??0),I=Number(v.quantity??v.counter??0)||0;s+=A*I})}),Math.max(0,s)}computeDayRevenue(t,e){let n=0,r=t?.categories||{};Object.keys(r).forEach(s=>{let l=r[s]?.items||{};Object.keys(l).forEach(c=>{let u=l[c]||{},g=Number(u.price||0),v=Number(u.counter||0);n+=g*v})});let o=this.sumDiscounts(t?.discounts||{});if(n-=o,n<=0){let s=this.getOrdersForKey(t,e),l=0;s.forEach(c=>{let u=c?.items??c?.orders??{};Object.keys(u).forEach(g=>{let v=u[g]||{},C=Number(v.unitPrice??v.price??0),A=Number(v.quantity??v.counter??0)||0;l+=C*A})}),n=l}return n<0?0:n}getCategoryLabel(t){let e=this.categories?.[t]||{};return this.isArabic?e.nameArabic||t:e.name||t}pickColor(t){let e=["#0ea5e9","#22c55e","#f97316","#8b5cf6","#ef4444","#06b6d4","#84cc16","#a855f7","#14b8a6","#eab308"];return e[t%e.length]}colorForLabel(t){let e=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf","#003f5c","#58508d","#bc5090","#ff6361","#ffa600","#2f4b7c","#665191","#a05195","#d45087","#f95d6a","#ff7c43","#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#86bc99","#5f9ea0","#ff6f61","#6b5b95","#88b04b","#92a8d1","#f7cac9","#955251","#b565a7","#009688","#795548","#607d8b","#9e9d24","#c2185b"],n=this.hashString(t);return e[Math.abs(n)%e.length]}hashString(t){let e=5381;for(let n=0;n<t.length;n++)e=(e<<5)+e+t.charCodeAt(n);return e|0}bucketize(t){let e=Object.keys(this.history||{}).sort();if(!e.length)return[];let n=e;if(t==="day")return n.map(s=>({label:s,keys:[s]}));let r=s=>{let[l,c,u]=(s||"").split("-").map(g=>Number(g));return new Date(l||0,(c||1)-1,u||1)};if(t==="week"){let s={};return n.forEach(l=>{let c=r(l),u=c.getFullYear(),g=String(c.getMonth()+1).padStart(2,"0"),v=c.getDate(),C=Math.min(4,Math.floor((v-1)/7)+1),A=`${u}-${g} W${C}`;s[A]||(s[A]=[]),s[A].push(l)}),Object.keys(s).sort().map(l=>({label:l,keys:s[l].sort()}))}if(t==="month"){let s={};return n.forEach(l=>{let c=r(l),u=`${c.getFullYear()}/${String(c.getMonth()+1).padStart(2,"0")}`;s[u]||(s[u]=[]),s[u].push(l)}),Object.keys(s).sort().map(l=>({label:l,keys:s[l].sort()}))}let o={};return n.forEach(s=>{let c=`${r(s).getFullYear()}`;o[c]||(o[c]=[]),o[c].push(s)}),Object.keys(o).sort().map(s=>({label:s,keys:o[s].sort()}))}getYearWeek(t){let e=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())),n=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-n);let r=new Date(Date.UTC(e.getUTCFullYear(),0,1)),o=Math.ceil(((+e-+r)/864e5+1)/7);return{y:e.getUTCFullYear(),w:String(o).padStart(2,"0")}}formatDateKey(t){let e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`}onOrdersDateChange(){this.observeOrdersForDate(this.selectedOrdersDate)}observeOrdersForDate(t){this.ordersUnsub&&(this.ordersUnsub(),this.ordersUnsub=null),this.ordersByKey={};let[e,n,r]=t.split("-").map(C=>Number(C)),o=new Date(e,(n||1)-1,r||1,0,0,0,0).getTime(),s=new Date(e,(n||1)-1,r||1,23,59,59,999).getTime(),l=new Date(o).toISOString().split("T")[0],c=new Date(s).toISOString().split("T")[0],u=Array.from(new Set([l,c])),g=[],v=()=>{let C={};u.forEach(A=>{(this.ordersByKey[A]||[]).forEach(R=>{C[R.id]=R})}),this.orders=Object.values(C).sort((A,I)=>{let R=Number(A.createdAt??0)||0,F=Number(I.createdAt??0)||0;return F!==R?F-R:Number(I.id)-Number(A.id)})};u.forEach(C=>{let A=qn(Hn,`restaurants/${this.restaurantId}/history/${C}/Order_List`),I=Ec(A,R=>{let F=R.exists()?R.val():{},X=Object.keys(F).map(Z=>P({id:Z},F[Z]||{})).filter(Z=>{let W=Number(Z.createdAt??0)||0;return W?W>=o&&W<=s:!1});this.ordersByKey[C]=X,v()});g.push(I)}),this.ordersUnsub=()=>g.forEach(C=>{try{C()}catch{}})}localKeyToIsoDateKey(t){let[e,n,r]=t.split("-").map(s=>Number(s));return new Date(e,(n||1)-1,r||1).toISOString().split("T")[0]}get filteredOrders(){let t=(this.orderSearch||"").trim().toLowerCase(),e=this.orders;return t&&(e=e.filter(n=>String(n.id).toLowerCase().includes(t))),e.slice(0,this.orderPageSize)}loadMoreOrders(){this.orderPageSize+=10}onMatDateChange(t){let e=t.value||new Date;this.ordersDate=e,this.selectedOrdersDate=this.formatDateKey(e),this.onOrdersDateChange()}toggleExpand(t){this.expandedOrders[t]=!this.expandedOrders[t]}isExpanded(t){return!!this.expandedOrders[t]}orderItemsArray(t){let e=t?.items??t?.orders??{};return Array.isArray(e)?e:Object.keys(e||{}).map(n=>P({key:n},e[n]||{}))}getItemDisplayName(t){let e=String(t?.name||""),n=String(t?.name||"");return this.isArabic?t?.nameArabic||e:e||t?.nameArabic}getTopSelling(t=8){let e=this.bucketize(this.timeScale),n={},r=(l,c)=>{n[l]=(n[l]||0)+c};e.forEach(l=>{l.keys.forEach(c=>{let u=this.history[c];if(!u)return;let g=u?.categories||{};Object.keys(g).forEach(C=>{let A=g[C]?.items||{};Object.keys(A).forEach(I=>{let R=A[I]||{},F=Number(R.counter||0);r(I,F)})}),this.getOrdersForKey(u,c).forEach(C=>{let A=C?.items??C?.orders??{};Object.keys(A).forEach(I=>{let R=A[I]||{},F=Number(R.quantity??R.counter??0)||0,U=this.normalizeName(R?.name||R?.nameArabic||I);r(U,F)})})})});let o={};Object.keys(n).forEach(l=>{let c;if(this.idToItem[l]){let u=this.idToItem[l];c=this.isArabic?u.nameArabic||u.name||l:u.name||u.nameArabic||l}else if(this.nameToItem[l]){let u=this.nameToItem[l];c=this.isArabic?u.nameArabic||u.name||l:u.name||u.nameArabic||l}else c=l;o[c]=(o[c]||0)+(n[l]||0)});let s=Object.keys(o).map(l=>({label:l,count:o[l]}));return s.sort((l,c)=>c.count-l.count),s.slice(0,t)}getRestaurantDisplayName(){return this.restaurantName||this.restaurantId}trackById(t,e){return e?.id??e?.key??t}trackByKey(t,e){return e?.key??t}static \u0275fac=function(e){return new(e||i)(te(Be),te(qt),te(nn))};static \u0275cmp=ne({type:i,selectors:[["app-stats"]],viewQuery:function(e,n){if(e&1&&wt(yR,5)(bR,5)(vR,5)(wR,5)(CR,5),e&2){let r;Se(r=Ie())&&(n.revenueChartCanvas=r.first),Se(r=Ie())&&(n.categoryChartCanvas=r.first),Se(r=Ie())&&(n.typeChartCanvas=r.first),Se(r=Ie())&&(n.discountChartCanvas=r.first),Se(r=Ie())&&(n.itemsChartCanvas=r.first)}},decls:292,vars:117,consts:[["revenueChartCanvas",""],["categoryChartCanvas",""],["typeChartCanvas",""],["itemsChartCanvas",""],["picker",""],[1,"container","py-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"mb-0"],[1,"text-muted"],[1,"clock","text-end"],[1,"fw-semibold"],[1,"text-primary"],[1,"card","shadow-sm","mb-3","fade-in"],[1,"card-header","d-flex","align-items-center","gap-2"],[1,"bi","bi-speedometer2"],[1,"card-body"],[1,"overview-grid"],[1,"tile","tile-blue"],[1,"bi","bi-people"],[1,"meta"],[1,"label"],[1,"value"],[1,"tile","tile-cyan"],[1,"bi","bi-truck"],[1,"tile","tile-lime"],[1,"bi","bi-person-vcard"],[1,"tile","tile-purple"],[1,"bi","bi-bank"],[1,"tile","tile-rose"],[1,"bi","bi-ui-checks-grid"],[1,"tile","tile-amber"],[1,"bi","bi-cash-coin"],[1,"tile","tile-red"],[1,"bi","bi-credit-card"],[1,"tile","tile-teal"],[1,"bi","bi-bag-check"],[1,"tile","tile-yellow"],[1,"bi","bi-ticket-detailed"],[1,"tile","tile-green"],[1,"bi","bi-currency-dollar"],[1,"row","g-3"],[1,"col-lg-8","order-2","order-lg-1"],[1,"card","h-100","shadow-sm","fade-in",2,"height","500px!important"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center","gap-2"],[1,"bi","bi-graph-up"],["appearance","outline",2,"width","160px"],["panelClass","menu-select-panel",3,"ngModelChange","selectionChange","ngModel"],["value","day"],["value","week"],["value","month"],["value","year"],[1,"card-body","chart-md"],[1,"row","g-3","mt-1"],[1,"col-md-6"],[1,"card","shadow-sm","fade-in"],[1,"bi","bi-ui-checks"],["appearance","outline",2,"width","150px"],[1,"card-body","chart-lg"],[1,"bi","bi-columns-gap"],[1,"col-12"],[1,"bi","bi-grid-3x3-gap"],["appearance","outline",2,"width","220px"],[3,"value"],[1,"card","shadow-sm","mt-3","fade-in",2,"padding-bottom","10em"],[1,"bi","bi-receipt"],["appearance","outline",2,"width","200px"],["matInput","",3,"dateChange","matDatepicker"],["matIconSuffix","",3,"for"],["appearance","outline",2,"width","240px"],["matInput","",3,"ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","align-middle","mb-0"],[1,"card-footer","text-center"],[1,"col-lg-4","order-1","order-lg-2"],[1,"card","shadow-sm","mt-3","fade-in"],[1,"card-header"],[1,"counts-grid"],[1,"count-item"],[1,"bi","bi-hash"],[1,"bi","bi-grid"],[1,"bi","bi-basket"],[1,"bi","bi-tags"],[1,"bi","bi-person"],[1,"bi","bi-stars"],[1,"list-group","list-group-flush"],[1,"list-group-item","d-flex","justify-content-between"],[1,"order-row"],[1,"text-end"],[1,"btn","btn-sm","btn-link",3,"click"],[1,"bi"],["colspan","5",1,"bg-body-tertiary"],[1,"p-2"],[1,"small","text-muted","mb-2"],[1,"row","row-cols-1","row-cols-md-2","g-2"],[1,"col"],[1,"d-flex","justify-content-between","border","rounded","p-2"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"]],template:function(e,n){if(e&1){let r=fe();p(0,"div",5)(1,"div",6)(2,"div")(3,"h2",7),y(4),f(),p(5,"small",8),y(6),f()(),p(7,"div",9)(8,"div",10),y(9),et(10,"date"),f(),p(11,"small",11),y(12),et(13,"date"),f()()(),p(14,"div",12)(15,"div",13),G(16,"i",14),p(17,"span"),y(18),f()(),p(19,"div",15)(20,"div",16)(21,"div",17),G(22,"i",18),p(23,"div",19)(24,"div",20),y(25),f(),p(26,"div",21),y(27),et(28,"number"),f()()(),p(29,"div",22),G(30,"i",23),p(31,"div",19)(32,"div",20),y(33),f(),p(34,"div",21),y(35),et(36,"number"),f()()(),p(37,"div",24),G(38,"i",25),p(39,"div",19)(40,"div",20),y(41),f(),p(42,"div",21),y(43),et(44,"number"),f()()(),p(45,"div",26),G(46,"i",27),p(47,"div",19)(48,"div",20),y(49),f(),p(50,"div",21),y(51),et(52,"number"),f()()(),p(53,"div",28),G(54,"i",29),p(55,"div",19)(56,"div",20),y(57),f(),p(58,"div",21),y(59),et(60,"number"),f()()(),p(61,"div",30),G(62,"i",31),p(63,"div",19)(64,"div",20),y(65),f(),p(66,"div",21),y(67),et(68,"number"),f()()(),p(69,"div",32),G(70,"i",33),p(71,"div",19)(72,"div",20),y(73),f(),p(74,"div",21),y(75),et(76,"number"),f()()(),p(77,"div",34),G(78,"i",35),p(79,"div",19)(80,"div",20),y(81),f(),p(82,"div",21),y(83),et(84,"number"),f()()(),p(85,"div",36),G(86,"i",37),p(87,"div",19)(88,"div",20),y(89),f(),p(90,"div",21),y(91),et(92,"number"),f()()(),p(93,"div",38),G(94,"i",39),p(95,"div",19)(96,"div",20),y(97),f(),p(98,"div",21),y(99),et(100,"number"),f()()()()()(),p(101,"div",40)(102,"div",41)(103,"div",42)(104,"div",43)(105,"div",44),G(106,"i",45),p(107,"span"),y(108),f()(),p(109,"div",44)(110,"mat-form-field",46)(111,"mat-label"),y(112),f(),p(113,"mat-select",47),le("ngModelChange",function(s){return L(r),ae(n.revenueScale,s)||(n.revenueScale=s),V(s)}),$("selectionChange",function(){return L(r),V(n.refreshAllCharts())}),p(114,"mat-option",48),y(115),f(),p(116,"mat-option",49),y(117),f(),p(118,"mat-option",50),y(119),f(),p(120,"mat-option",51),y(121),f()()()()(),p(122,"div",52),G(123,"canvas",null,0),f()(),p(125,"div",53)(126,"div",54)(127,"div",55)(128,"div",43)(129,"div",44),G(130,"i",56),p(131,"span"),y(132),f()(),p(133,"div",44)(134,"mat-form-field",57)(135,"mat-label"),y(136),f(),p(137,"mat-select",47),le("ngModelChange",function(s){return L(r),ae(n.categoryScale,s)||(n.categoryScale=s),V(s)}),$("selectionChange",function(){return L(r),V(n.refreshAllCharts())}),p(138,"mat-option",48),y(139),f(),p(140,"mat-option",49),y(141),f(),p(142,"mat-option",50),y(143),f(),p(144,"mat-option",51),y(145),f()()()()(),p(146,"div",58),G(147,"canvas",null,1),f()()(),p(149,"div",54)(150,"div",55)(151,"div",43)(152,"div",44),G(153,"i",59),p(154,"span"),y(155),f()(),p(156,"div",44)(157,"mat-form-field",57)(158,"mat-label"),y(159),f(),p(160,"mat-select",47),le("ngModelChange",function(s){return L(r),ae(n.typeScale,s)||(n.typeScale=s),V(s)}),$("selectionChange",function(){return L(r),V(n.refreshAllCharts())}),p(161,"mat-option",48),y(162),f(),p(163,"mat-option",49),y(164),f(),p(165,"mat-option",50),y(166),f(),p(167,"mat-option",51),y(168),f()()()()(),p(169,"div",58),G(170,"canvas",null,2),f()()(),p(172,"div",60)(173,"div",55)(174,"div",43)(175,"div",44),G(176,"i",61),p(177,"span"),y(178),f()(),p(179,"div",44)(180,"mat-form-field",62)(181,"mat-label"),y(182),f(),p(183,"mat-select",47),le("ngModelChange",function(s){return L(r),ae(n.selectedItemsCategoryKey,s)||(n.selectedItemsCategoryKey=s),V(s)}),$("selectionChange",function(){return L(r),V(n.refreshAllCharts())}),we(184,ER,2,2,"mat-option",63,n.trackByKey,!0),f()(),p(186,"mat-form-field",57)(187,"mat-label"),y(188),f(),p(189,"mat-select",47),le("ngModelChange",function(s){return L(r),ae(n.itemsScale,s)||(n.itemsScale=s),V(s)}),$("selectionChange",function(){return L(r),V(n.refreshAllCharts())}),p(190,"mat-option",48),y(191),f(),p(192,"mat-option",49),y(193),f(),p(194,"mat-option",50),y(195),f(),p(196,"mat-option",51),y(197),f()()()()(),p(198,"div",58),G(199,"canvas",null,3),f()()()(),p(201,"div",64)(202,"div",43)(203,"div",44),G(204,"i",65),p(205,"span"),y(206),f()(),p(207,"div",44)(208,"mat-form-field",66)(209,"mat-label"),y(210),f(),p(211,"input",67),$("dateChange",function(s){return L(r),V(n.onMatDateChange(s))}),f(),G(212,"mat-datepicker-toggle",68)(213,"mat-datepicker",null,4),f(),p(215,"mat-form-field",69)(216,"mat-label"),y(217),f(),p(218,"input",70),le("ngModelChange",function(s){return L(r),ae(n.orderSearch,s)||(n.orderSearch=s),V(s)}),f()()()(),p(219,"div",71)(220,"table",72)(221,"thead")(222,"tr")(223,"th"),y(224,"#"),f(),p(225,"th"),y(226),f(),p(227,"th"),y(228),f(),p(229,"th"),y(230),f(),G(231,"th"),f()(),p(232,"tbody"),we(233,AR,15,15,null,null,n.trackById,!0),f()()(),Y(235,TR,3,1,"div",73),f()(),p(236,"div",74)(237,"div",75)(238,"div",76),y(239),f(),p(240,"div",15)(241,"div",77)(242,"div",78),G(243,"i",79),p(244,"div")(245,"div",20),y(246),f(),p(247,"div",21),y(248),f()()(),p(249,"div",78),G(250,"i",80),p(251,"div")(252,"div",20),y(253),f(),p(254,"div",21),y(255),f()()(),p(256,"div",78),G(257,"i",18),p(258,"div")(259,"div",20),y(260),f(),p(261,"div",21),y(262),f()()(),p(263,"div",78),G(264,"i",81),p(265,"div")(266,"div",20),y(267),f(),p(268,"div",21),y(269),f()()(),p(270,"div",78),G(271,"i",82),p(272,"div")(273,"div",20),y(274),f(),p(275,"div",21),y(276),f()()(),p(277,"div",78),G(278,"i",83),p(279,"div")(280,"div",20),y(281),f(),p(282,"div",21),y(283),f()()()()()(),p(284,"div",75)(285,"div",13),G(286,"i",84),p(287,"span"),y(288),f()(),p(289,"div",85),we(290,DR,5,2,"div",86,n.trackByKey,!0),f()()()()()}if(e&2){let r=Ct(214);Oe("dir",n.isArabic?"rtl":"ltr"),h(4),ti("",n.isArabic?"\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A":"Statistics"," \u2014 ",n.getRestaurantDisplayName()),h(2),M(n.isArabic?"\u0639\u0631\u0636 \u0627\u0644\u0623\u062F\u0627\u0621 \u0648\u0627\u0644\u0645\u0642\u0627\u064A\u064A\u0633":"Performance and metrics"),h(3),M(pt(10,81,n.now,n.isArabic?"EEEE\u060C d MMMM y":"EEE, MMM d, y")),h(3),M(pt(13,84,n.now,"HH:mm:ss")),h(6),M(n.isArabic?"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629":"Overview"),h(7),M(n.isArabic?"\u0631\u0635\u064A\u062F \u0627\u0644\u0645\u0648\u0638\u0641\u064A\u0646":"Employees Balance"),h(2),z("\u20AA ",pt(28,87,n.overview.employeesBalance,"1.0-0")),h(6),M(n.isArabic?"\u0631\u0635\u064A\u062F \u0627\u0644\u0645\u0648\u0631\u0651\u062F\u064A\u0646":"Suppliers Balance"),h(2),z("\u20AA ",pt(36,90,n.overview.suppliersBalance,"1.0-0")),h(6),M(n.isArabic?"\u0631\u0635\u064A\u062F \u0627\u0644\u0632\u0628\u0627\u0626\u0646":"Customers Balance"),h(2),z("\u20AA ",pt(44,93,n.overview.customersBalance,"1.0-0")),h(6),M(n.isArabic?"\u0623\u0631\u0635\u062F\u0629 \u0627\u0644\u0628\u0646\u0648\u0643":"Bank Balances"),h(2),z("\u20AA ",pt(52,96,n.overview.bankBalances,"1.0-0")),h(6),M(n.isArabic?"\u0631\u0635\u064A\u062F \u0627\u0644\u0634\u064A\u0643\u0627\u062A":"Checks Balance"),h(2),z("\u20AA ",pt(60,99,n.overview.checksBalance,"1.0-0")),h(6),M(n.isArabic?"\u0646\u0642\u062F \u0628\u0627\u0644\u0635\u0646\u062F\u0648\u0642":"Cash on Hand"),h(2),z("\u20AA ",pt(68,102,n.overview.cashOnHand,"1.0-0")),h(6),M(n.isArabic?"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A":"Total Expenses"),h(2),z("\u20AA ",pt(76,105,n.overview.totalExpenses,"1.0-0")),h(6),M(n.isArabic?"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A":"Total Purchases"),h(2),z("\u20AA ",pt(84,108,n.overview.totalPurchases,"1.0-0")),h(6),M(n.isArabic?"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A":"Total Discounts"),h(2),z("\u20AA ",pt(92,111,n.overview.totalDiscounts,"1.0-0")),h(6),M(n.isArabic?"\u0625\u064A\u0631\u0627\u062F\u0627\u062A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A":"Sales Revenue"),h(2),z("\u20AA ",pt(100,114,n.overview.salesRevenue,"1.0-0")),h(9),M(n.isArabic?"\u0627\u0644\u0625\u064A\u0631\u0627\u062F\u0627\u062A":"Revenue"),h(4),M(n.isArabic?"\u0627\u0644\u0645\u062F\u0629":"Range"),h(),se("ngModel",n.revenueScale),h(2),M(n.isArabic?"\u064A\u0648\u0645\u064A":"Daily"),h(2),M(n.isArabic?"\u0623\u0633\u0628\u0648\u0639\u064A":"Weekly"),h(2),M(n.isArabic?"\u0634\u0647\u0631\u064A":"Monthly"),h(2),M(n.isArabic?"\u0633\u0646\u0648\u064A":"Yearly"),h(11),M(n.isArabic?"\u0645\u0628\u064A\u0639\u0627\u062A \u062D\u0633\u0628 \u0627\u0644\u0641\u0626\u0627\u062A":"Sales by Categories"),h(4),M(n.isArabic?"\u0627\u0644\u0645\u062F\u0629":"Range"),h(),se("ngModel",n.categoryScale),h(2),M(n.isArabic?"\u064A\u0648\u0645\u064A":"Daily"),h(2),M(n.isArabic?"\u0623\u0633\u0628\u0648\u0639\u064A":"Weekly"),h(2),M(n.isArabic?"\u0634\u0647\u0631\u064A":"Monthly"),h(2),M(n.isArabic?"\u0633\u0646\u0648\u064A":"Yearly"),h(10),M(n.isArabic?"\u0645\u0628\u064A\u0639\u0627\u062A \u062D\u0633\u0628 \u0627\u0644\u0646\u0648\u0639":"Sales by Type"),h(4),M(n.isArabic?"\u0627\u0644\u0645\u062F\u0629":"Range"),h(),se("ngModel",n.typeScale),h(2),M(n.isArabic?"\u064A\u0648\u0645\u064A":"Daily"),h(2),M(n.isArabic?"\u0623\u0633\u0628\u0648\u0639\u064A":"Weekly"),h(2),M(n.isArabic?"\u0634\u0647\u0631\u064A":"Monthly"),h(2),M(n.isArabic?"\u0633\u0646\u0648\u064A":"Yearly"),h(10),M(n.isArabic?"\u0627\u0644\u0639\u0646\u0627\u0635\u0631 \u062D\u0633\u0628 \u0627\u0644\u0641\u0626\u0629":"Items by Category"),h(4),M(n.isArabic?"\u0627\u0644\u0641\u0626\u0629":"Category"),h(),se("ngModel",n.selectedItemsCategoryKey),h(),Ce(n.categoryList),h(4),M(n.isArabic?"\u0627\u0644\u0645\u062F\u0629":"Range"),h(),se("ngModel",n.itemsScale),h(2),M(n.isArabic?"\u064A\u0648\u0645\u064A":"Daily"),h(2),M(n.isArabic?"\u0623\u0633\u0628\u0648\u0639\u064A":"Weekly"),h(2),M(n.isArabic?"\u0634\u0647\u0631\u064A":"Monthly"),h(2),M(n.isArabic?"\u0633\u0646\u0648\u064A":"Yearly"),h(9),M(n.isArabic?"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0637\u0644\u0628\u0627\u062A":"Order List"),h(4),M(n.isArabic?"\u0627\u0644\u064A\u0648\u0645":"Day"),h(),q("matDatepicker",r),h(),q("for",r),h(5),M(n.isArabic?"\u0627\u0628\u062D\u062B \u0628\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629":"Search by invoice id"),h(),se("ngModel",n.orderSearch),h(8),M(n.isArabic?"\u0627\u0644\u0637\u0627\u0648\u0644\u0629":"Table"),h(2),M(n.isArabic?"\u0627\u0644\u0648\u0642\u062A":"Time"),h(2),M(n.isArabic?"\u0627\u0644\u0642\u064A\u0645\u0629":"Amount"),h(3),Ce(n.filteredOrders),h(2),Q(n.orders.length>n.orderPageSize?235:-1),h(4),z(" ",n.isArabic?"\u0627\u0644\u0625\u062D\u0635\u0627\u0621\u0627\u062A":"Counts"," "),h(7),M(n.isArabic?"\u0639\u062F\u062F \u0627\u0644\u0641\u0648\u0627\u062A\u064A\u0631":"Invoices to date"),h(2),M(n.counts.invoicesToDate),h(5),M(n.isArabic?"\u0639\u062F\u062F \u0627\u0644\u0637\u0627\u0648\u0644\u0627\u062A":"Tables"),h(2),M(n.counts.tableCount),h(5),M(n.isArabic?"\u0639\u062F\u062F \u0627\u0644\u0632\u0628\u0627\u0626\u0646":"Customers"),h(2),M(n.counts.customerCount),h(5),M(n.isArabic?"\u0639\u062F\u062F \u0627\u0644\u0623\u0635\u0646\u0627\u0641":"Items"),h(2),M(n.counts.itemCount),h(5),M(n.isArabic?"\u0639\u062F\u062F \u0627\u0644\u0641\u0626\u0627\u062A":"Categories"),h(2),M(n.counts.categoryCount),h(5),M(n.isArabic?"\u0639\u062F\u062F \u0627\u0644\u0645\u0648\u0638\u0641\u064A\u0646":"Employees"),h(2),M(n.counts.employeeCount),h(5),M(n.isArabic?"\u0627\u0644\u0639\u0646\u0627\u0635\u0631 \u0627\u0644\u0623\u0643\u062B\u0631 \u0645\u0628\u064A\u0639\u064B\u0627":"Best Selling Items"),h(2),Ce(n.getTopSelling(8))}},dependencies:[cn,At,Gt,Yt,Qt,ao,Pd,rl,Hm,vv,bv,ws,Sv,Ev,Kv,Wv,Jd,yp,Gv,Yv,As,yc,uy],styles:[`.metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:12px}@media(min-width:576px){.metrics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@media(min-width:992px){.metrics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.metric[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;border:1px solid var(--bs-border-color);border-radius:12px;padding:12px;background:var(--bs-body-bg);transition:transform .2s ease,box-shadow .2s ease}.metric[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px #0000000d}.metric[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.85rem;color:var(--bs-secondary-color)}.metric[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade .3s ease}@keyframes _ngcontent-%COMP%_fade{0%{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}.counts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:12px}.count-item[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;border:1px dashed var(--bs-border-color);border-radius:12px;padding:10px}.count-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.8rem;color:var(--bs-secondary-color)}.order-row[_ngcontent-%COMP%]{cursor:pointer}.overview-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}.tile[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:14px;border-radius:14px;color:#0f172a;background:linear-gradient(180deg,#fffc,#fff9);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);box-shadow:0 1px #0000000d inset,0 8px 24px #0000000d;transition:transform .25s ease,box-shadow .25s ease}.tile[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 10px 30px #00000014}.tile[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px}.tile[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.8rem;color:#64748b}.tile[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700}.tile-blue[_ngcontent-%COMP%]{border-left:4px solid #3b82f6}.tile-cyan[_ngcontent-%COMP%]{border-left:4px solid #06b6d4}.tile-lime[_ngcontent-%COMP%]{border-left:4px solid #84cc16}.tile-purple[_ngcontent-%COMP%]{border-left:4px solid #8b5cf6}.tile-rose[_ngcontent-%COMP%]{border-left:4px solid #f43f5e}.tile-amber[_ngcontent-%COMP%]{border-left:4px solid #f59e0b}.tile-red[_ngcontent-%COMP%]{border-left:4px solid #ef4444}.tile-teal[_ngcontent-%COMP%]{border-left:4px solid #14b8a6}.tile-yellow[_ngcontent-%COMP%]{border-left:4px solid #eab308}.tile-green[_ngcontent-%COMP%]{border-left:4px solid #22c55e}.chart-sm[_ngcontent-%COMP%]{height:110px}.chart-md[_ngcontent-%COMP%]{height:160px}.chart-lg[_ngcontent-%COMP%]{height:220px}.card-header[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:999px;background:#fff;padding:.25rem .9rem;box-shadow:0 1px 2px #0000000a;transition:border-color .2s ease,box-shadow .2s ease,transform .12s ease}.card-header[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:hover, .card-header[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #00000014}.card-header[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus, .card-header[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#6366f1;box-shadow:0 0 0 4px #6366f126;outline:0}.card-header[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{padding-right:2rem;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23677689' viewBox='0 0 16 16'%3E%3Cpath d='M3.204 5h9.592L8 10.481 3.204 5z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right .6rem center;background-size:12px}.card-header[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{min-width:auto;margin:0}.card-header[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{height:auto;min-height:38px}.card-header[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:.2rem;padding-bottom:.2rem;min-height:38px}.card-header[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]   .mdc-floating-label[_ngcontent-%COMP%]{font-size:.75rem}.card-header[_ngcontent-%COMP%]   .mat-mdc-select-value-text[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]   .mat-mdc-input-element[_ngcontent-%COMP%]{font-size:.8rem}.card-header[_ngcontent-%COMP%]   .mdc-notched-outline__leading[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]   .mdc-notched-outline__trailing[_ngcontent-%COMP%]{border-color:#e5e7eb}`],data:{animation:[Im("expandCollapse",[Cd(":enter",[Bi({height:0,opacity:0}),wd("220ms ease-out",Bi({height:"*",opacity:1}))]),Cd(":leave",[Bi({height:"*",opacity:1}),wd("180ms ease-in",Bi({height:0,opacity:0}))])])]}})};function RR(i,t){if(i&1){let e=fe();p(0,"li",13),$("click",function(){let r=L(e).$implicit,o=D();return V(o.selectTable(r))}),p(1,"div",14)(2,"span",15),y(3),f()(),p(4,"span",16),y(5),f()()}if(i&2){let e=t.$implicit,n=D();ge("active",(n.selectedTable==null?null:n.selectedTable.id)===e.id),h(3),M(e.name),h(),q("ngClass",e.availability?"bg-success":"bg-danger"),h(),z(" ",e.availability?n.isArabic?"\u0645\u062A\u0627\u062D":"Available":n.isArabic?"\u0645\u0634\u063A\u0648\u0644\u0629":"Occupied"," ")}}function MR(i,t){if(i&1){let e=fe();p(0,"li",21)(1,"div",29)(2,"div",30)(3,"div",31),y(4),f(),p(5,"div",32)(6,"input",33),le("ngModelChange",function(r){let o=L(e).$implicit;return ae(o.value.details,r)||(o.value.details=r),V(r)}),f()()(),p(7,"div",34)(8,"input",35),le("ngModelChange",function(r){let o=L(e).$implicit;return ae(o.value.quantity,r)||(o.value.quantity=r),V(r)}),f(),p(9,"div",36)(10,"button",37),$("click",function(){let r=L(e).$implicit,o=D(2);return V(o.updateOrder(r.key,r.value.quantity,r.value.details||""))}),y(11),f(),p(12,"button",38),$("click",function(){let r=L(e).$implicit,o=D(2);return V(o.deleteOrder(r.key))}),y(13),f()()()()()}if(i&2){let e=t.$implicit,n=D(2);h(4),M(e.value.name),h(2),se("ngModel",e.value.details),q("placeholder",n.isArabic?"\u062A\u0641\u0627\u0635\u064A\u0644":"Details"),h(2),se("ngModel",e.value.quantity),h(3),z(" ",n.isArabic?"\u062A\u062D\u062F\u064A\u062B":"Update"," "),h(2),z(" ",n.isArabic?"\u062D\u0630\u0641":"Remove"," ")}}function kR(i,t){if(i&1&&G(0,"option",25),i&2){let e=t.$implicit;q("value",e)}}function OR(i,t){if(i&1){let e=fe();p(0,"div",12)(1,"div",17)(2,"div",8)(3,"div"),y(4),p(5,"strong"),y(6),f()(),p(7,"button",18),$("click",function(){L(e);let r=D();return V(r.selectedTable=null)}),y(8),f()(),p(9,"div",19)(10,"ul",20),we(11,MR,14,6,"li",21,Ue),et(13,"keyvalue"),f(),p(14,"div",22),G(15,"input",23,0),p(17,"datalist",24),we(18,kR,1,1,"option",25,Ue),f(),G(20,"input",26,1)(22,"input",27,2),p(24,"button",28),$("click",function(){L(e);let r=Ct(16),o=Ct(21),s=Ct(23);return D().addOrder(r.value,+o.value,s.value),r.value="",o.value="",V(s.value="")}),y(25),f()()()()()}if(i&2){let e=D();h(4),z(" ",e.isArabic?"\u0627\u0644\u0637\u0644\u0628\u0627\u062A \u0644\u0640":"Orders for"," "),h(2),M(e.selectedTable.name),h(2),M(e.isArabic?"\u0631\u062C\u0648\u0639":"Back"),h(3),Ce(ko(13,7,e.selectedTable.order)),h(4),q("placeholder",e.isArabic?"\u0627\u0633\u0645 \u0627\u0644\u0635\u0646\u0641":"Item name"),h(3),Ce(e.menuItemNames),h(2),q("placeholder",e.isArabic?"\u0627\u0644\u0643\u0645\u064A\u0629":"Qty"),h(2),q("placeholder",e.isArabic?"\u062A\u0641\u0627\u0635\u064A\u0644 (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)":"Details (optional)"),h(3),z(" ",e.isArabic?"\u0625\u0636\u0627\u0641\u0629":"Add"," ")}}var tu=class i{constructor(t,e,n,r,o){this.db=t;this.menuService=e;this.languageService=n;this.ngZone=r;this.route=o}restaurantId="";restaurantName="";restaurant=null;tables=[];selectedTable=null;menuItemNames=[];categoriesCache=null;isArabic=!1;subs=[];tablesUnsub=null;choiceDraftIndex={};ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t),Wn.getRestaurantById(this.restaurantId).then(n=>{this.restaurant=n,this.updateRestaurantDisplayName()}).catch(()=>{this.restaurant=null,this.updateRestaurantDisplayName()});let e=Ne(this.db,`restaurants/${this.restaurantId}/tables`);this.tablesUnsub=Sn(e,n=>{this.ngZone.run(()=>{let r=n.val()||{};if(this.tables=Object.keys(r).map(o=>{let s=P({id:o},r[o]);if(s.order){let l={};Object.keys(s.order).forEach(c=>{let u=s.order[c];u.state&&u.state!=="unordered"&&(l[c]=u)}),s.order=l}return s}).sort((o,s)=>(o.name||"").localeCompare(s.name||"",void 0,{numeric:!0})),this.selectedTable){let o=this.tables.find(s=>s.id===this.selectedTable.id)||null;this.selectedTable=o}})}),this.menuService.getCategoriesOnce(this.restaurantId).then(n=>{this.categoriesCache=n,this.menuItemNames=this.flattenMenuNames(n,this.isArabic)}),this.subs.push(this.languageService.isArabic$.subscribe(n=>{this.isArabic=n,this.menuItemNames=this.flattenMenuNames(this.categoriesCache,this.isArabic),this.updateRestaurantDisplayName()}))}ngOnDestroy(){this.tablesUnsub&&this.tablesUnsub(),this.subs.forEach(t=>t.unsubscribe())}selectTable(t){this.selectedTable=t}updateOrder(t,e,n){return j(this,null,function*(){if(!this.selectedTable)return;let r=Ne(this.db,`restaurants/${this.restaurantId}/tables/${this.selectedTable.id}/order/${t}`);if(e<=0)yield Ur(r);else{let o=this.selectedTable.order?.[t],s=this.choiceDraftIndex[t],l={quantity:e,details:n};if(o&&s!==void 0&&s!==null){let c=this.getChoicePairs(o.name);l.choiceEn=c.en[s]??null,l.choiceAr=c.ar[s]??null;let u=this.getMenuItemPrice(o.name||""),g=this.getChoiceAddByIndex(o.name||"",s);l.unitPrice=u+g}yield ft(r,l),delete this.choiceDraftIndex[t]}})}addOrder(t,e,n){return j(this,null,function*(){if(!this.selectedTable||!t||e<=0)return;let r=this.resolveNameFromMenu(t.trim(),this.isArabic)||t.trim(),o=Ne(this.db,`restaurants/${this.restaurantId}/tables/${this.selectedTable.id}/order`),s=Date.now().toString(),l=this.getChoicePairs(r),c=l.en.length?l.en[0]:null,u=l.ar.length?l.ar[0]:null,g=Number(this.findMenuItemByName(r)?.price??0);yield ft(o,{[s]:{name:r,quantity:e,details:n||"",state:"ordered",choiceEn:c,choiceAr:u,unitPrice:g,ts:Date.now()}})})}deleteOrder(t){return j(this,null,function*(){if(!this.selectedTable)return;let e=Ne(this.db,`restaurants/${this.restaurantId}/tables/${this.selectedTable.id}/order/${t}`);yield Ur(e)})}getMenuItemPrice(t){let e=this.findMenuItemByName(t);return Number(e?.price||0)}getChoiceAddByIndex(t,e){return e===null?0:this.getChoiceDisplayStructured(t)[e]?.add||0}resolveNameFromMenu(t,e){if(!this.categoriesCache)return null;let n=t.toLowerCase();for(let r of Object.keys(this.categoriesCache)){let o=this.categoriesCache[r]?.items||{};for(let s of Object.keys(o)){let l=o[s];if(l.name?.toLowerCase()===n||l.nameArabic?.toLowerCase()===n)return e?l.nameArabic||l.name:l.name||l.nameArabic}}return null}findMenuItemByName(t){if(!this.categoriesCache)return null;let e=t.toLowerCase();for(let n of Object.keys(this.categoriesCache)){let r=this.categoriesCache[n]?.items||{};for(let o of Object.keys(r)){let s=r[o];if(s.name?.toLowerCase()===e||s.nameArabic?.toLowerCase()===e)return s}}return null}getChoiceDisplayStructured(t){let e=this.findMenuItemByName(t),n=Array.isArray(e?.choiceOptions)?e.choiceOptions:[];return n.length?n.map(r=>({label:this.isArabic?r.ar||r.en||"":r.en||r.ar||"",add:Number(r.add)||0})):[]}getChoicePairs(t){let e=this.findMenuItemByName(t);return{en:Array.isArray(e?.choices)?e.choices:[],ar:Array.isArray(e?.choicesArabic)?e.choicesArabic:[]}}flattenMenuNames(t,e){let n=new Set;return t?(Object.keys(t).forEach(r=>{let o=t[r];Object.keys(o.items||{}).forEach(s=>{let l=o.items[s],c=e?l.nameArabic||l.name:l.name||l.nameArabic;c&&n.add(c)})}),Array.from(n)):[]}updateRestaurantDisplayName(){this.restaurantName=this.isArabic?this.restaurant?.restArabicName||this.restaurant?.restName:this.restaurant?.restName||this.restaurant?.restArabicName}get restaurantDisplayName(){return this.restaurantName||this.restaurantId}static \u0275fac=function(e){return new(e||i)(te(En),te(nn),te(qt),te(ee),te(Be))};static \u0275cmp=ne({type:i,selectors:[["app-ordering-dashboard"]],decls:18,vars:8,consts:[["itemName",""],["itemQty",""],["itemDetails",""],[1,"container","py-4"],[1,"dashboard-header"],[1,"row","g-4"],[1,"col-lg-4"],[1,"card","sticky-col"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"badge","bg-primary"],[1,"list-group","list-group-flush",2,"max-height","70vh","overflow-y","auto"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",3,"active"],[1,"col-lg-8"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",3,"click"],[1,"d-flex","flex-column"],[1,"fw-semibold"],[1,"badge",3,"ngClass"],[1,"card"],[1,"btn","btn-sm","btn-outline-light",3,"click"],[1,"card-body"],[1,"list-group","mb-3"],[1,"list-group-item"],[1,"d-flex","flex-wrap","gap-2"],["type","text","list","menuSuggestions",1,"form-control",2,"max-width","260px",3,"placeholder"],["id","menuSuggestions"],[3,"value"],["type","number","min","1",1,"form-control",2,"max-width","100px",3,"placeholder"],["type","text",1,"form-control",3,"placeholder"],[1,"btn","btn-success",3,"click"],[1,"d-flex","justify-content-between","align-items-start"],[1,"flex-grow-1","pe-3"],[1,"fw-bold"],[1,"mt-2"],["type","text",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","placeholder"],[2,"min-width","160px"],["type","number","min","0",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],[1,"d-flex","gap-2","mt-2"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"btn","btn-sm","btn-warning",3,"click"]],template:function(e,n){e&1&&(p(0,"div",3)(1,"div",4)(2,"h1"),y(3),f(),p(4,"p"),y(5),f()(),p(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"span"),y(11),f(),p(12,"span",9),y(13),f()(),p(14,"ul",10),we(15,RR,6,5,"li",11,Ue),f()()(),Y(17,OR,26,9,"div",12),f()()),e&2&&(Oe("dir",n.isArabic?"rtl":"ltr"),h(),ge("align-right",n.isArabic),h(2),M(n.restaurantDisplayName),h(2),M(n.isArabic?"\u0644\u0648\u062D\u0629 \u0627\u0644\u0637\u0644\u0628\u0627\u062A":"Ordering Dashboard"),h(6),M(n.isArabic?"\u0627\u0644\u0637\u0627\u0648\u0644\u0627\u062A":"Tables"),h(2),M(n.tables.length||0),h(2),Ce(n.tables),h(2),Q(n.selectedTable?17:-1))},dependencies:[cn,Cn,At,mr,pr,Gt,gi,Yt,Ic,Qt,No],styles:["[_nghost-%COMP%]{display:block;background:#f8fafc;min-height:100vh}.dashboard-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1f2937;font-weight:700;margin:0 0 .25rem}.dashboard-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin:0}.btn-outline-secondary[_ngcontent-%COMP%]{color:#fff;background-color:#21a77a;--bs-btn-active-bg: #059669}.card[_ngcontent-%COMP%]{border:none;border-radius:14px;overflow:hidden;box-shadow:0 10px 24px #0000000f}.card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;font-weight:600}.list-group-item[_ngcontent-%COMP%]{border:0;border-bottom:1px solid #eef2f7;transition:transform .15s ease,background .15s ease}.list-group-item[_ngcontent-%COMP%]:hover{background:#10b981;transform:translate(4px);border-radius:5px}.list-group-item.active[_ngcontent-%COMP%]{background:#10b981;font-weight:600}.badge[_ngcontent-%COMP%]{border-radius:999px;padding:.4rem .65rem;font-weight:600}.bg-success[_ngcontent-%COMP%]{background:#21a77a!important}.bg-danger[_ngcontent-%COMP%]{background:#ef4444!important;border:#88190f 1px solid}.orders-card[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background:transparent}.orders-card[_ngcontent-%COMP%]   .order-title[_ngcontent-%COMP%]{font-weight:600;color:#111827}.orders-card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#6b7280;font-size:.85rem}.form-control[_ngcontent-%COMP%]{border-radius:10px;border:1px solid #e5e7eb}.form-control[_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f626}.btn[_ngcontent-%COMP%]{border-radius:10px;font-weight:600;transition:transform .15s ease,box-shadow .15s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #020f0954}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);border:none}.btn-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);border:none}.btn-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#d40909);border:none;color:#e5e7eb}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}.orders-card[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .25s ease both}@media(max-width:991px){.sticky-col[_ngcontent-%COMP%]{position:static!important}}.dashboard-header.align-right[_ngcontent-%COMP%]{text-align:right}.choice-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-top:6px}.choice-chip[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;border-radius:99px;border:1px solid #d1d5db;background:#f5f6f8;color:var(--text-color, #212529);font-weight:700;cursor:pointer;-webkit-user-select:none;user-select:none}.choice-chip.active[_ngcontent-%COMP%]{background:rgba(var(--primary-color-rgb, 255, 107, 107),.12);color:var(--primary-color, #ff6b6b);border-color:var(--primary-color, #ff6b6b)}.choice-chip.readonly[_ngcontent-%COMP%]{pointer-events:none;opacity:.95}.choice-add[_ngcontent-%COMP%]{color:var(--primary-color, #ff6b6b);font-weight:700;margin-inline-start:6px}.badge.clickable[_ngcontent-%COMP%]{cursor:pointer;transition:transform .2s}.badge.clickable[_ngcontent-%COMP%]:hover{transform:scale(1.05)}"]})};var PR=()=>({background:"rgba(0,0,0,0.4)"});function NR(i,t){if(i&1&&(p(0,"div",20),y(1),f()),i&2){let e=D().$implicit,n=D();h(),z(" In: ",n.getTodayTime(e)," ")}}function FR(i,t){i&1&&(p(0,"div",21),y(1,"Not signed in"),f())}function LR(i,t){if(i&1){let e=fe();p(0,"button",23),$("click",function(){L(e);let r=D().$implicit,o=D();return V(o.openSignOutModal(r.id,r.name))}),y(1," Sign Out "),f()}}function VR(i,t){if(i&1&&(p(0,"div",12)(1,"div",14),G(2,"img",15),p(3,"div")(4,"div",16),y(5),p(6,"span",17),y(7),f()(),p(8,"div",18),y(9),f()()(),p(10,"div",19),Y(11,NR,2,1,"div",20),Y(12,FR,2,0,"div",21),Y(13,LR,2,0,"button",22),f()()),i&2){let e=t.$implicit,n=D();h(2),q("src",e.imageUrl||"https://via.placeholder.com/50",$n),h(3),z(" ",e.name," "),h(),q("ngClass",n.isHere(e)?"text-success":"text-secondary"),h(),z(" \u25CF ",n.isHere(e)?"Here":"Away"," "),h(2),M(e.role||"Employee"),h(2),Q(n.isHere(e)?11:-1),h(),Q(n.isHere(e)?-1:12),h(),Q(n.isHere(e)?13:-1)}}function BR(i,t){if(i&1){let e=fe();p(0,"div",13)(1,"div",24)(2,"div",25)(3,"div",26)(4,"h5",27),y(5),f(),p(6,"button",28),$("click",function(){L(e);let r=D();return V(r.closeSignOutModal())}),f()(),p(7,"div",29)(8,"div",30)(9,"label",31),y(10,"Name"),f(),p(11,"input",32),le("ngModelChange",function(r){L(e);let o=D();return ae(o.signOutName,r)||(o.signOutName=r),V(r)}),f()(),p(12,"div",30)(13,"label",31),y(14,"Password"),f(),p(15,"input",33),le("ngModelChange",function(r){L(e);let o=D();return ae(o.signOutPassword,r)||(o.signOutPassword=r),V(r)}),f()()(),p(16,"div",34)(17,"button",35),$("click",function(){L(e);let r=D();return V(r.closeSignOutModal())}),y(18,"Cancel"),f(),p(19,"button",36),$("click",function(){L(e);let r=D();return V(r.confirmSignOut())}),y(20,"Sign Out"),f()()()()()}if(i&2){let e=D();q("ngStyle",ar(4,PR)),h(5),z("Sign Out \u2013 ",e.signOutName),h(6),se("ngModel",e.signOutName),h(4),se("ngModel",e.signOutPassword)}}var nu=class i{constructor(t,e,n){this.db=t;this.route=e;this.ngZone=n}restaurantId="";employees=[];name="";password="";message="";loading=!1;showSignOutModal=!1;signOutName="";signOutPassword="";signOutEmpId="";ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t),this.loadEmployees()}loadEmployees(){let t=Ne(this.db,`restaurants/${this.restaurantId}/employees`);Sn(t,e=>{this.ngZone.run(()=>{let n=e.val()||{};this.employees=Object.keys(n).map(r=>P({id:r},n[r]))})})}signIn(){return j(this,null,function*(){if(this.message="",!this.name.trim()||!this.password.trim()){this.message="\u26A0\uFE0F Please enter name and password.";return}this.loading=!0;try{let t=Ne(this.db,`restaurants/${this.restaurantId}/employees`),n=(yield gr(t)).val()||{},r=null;if(Object.keys(n).forEach(u=>{let g=n[u];g.name===this.name.trim()&&g.password===this.password.trim()&&(r=u)}),!r){this.message="\u274C Invalid name or password.",this.loading=!1;return}let o=new Date,s=o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),l=o.toISOString().split("T")[0],c=Ne(this.db,`restaurants/${this.restaurantId}/employees/${r}/attendance/${l}`);yield ft(c,{datein:s}),this.message=`\u2705 ${this.name} signed in at ${s}`,this.clearFields()}catch(t){console.error(t),this.message="\u274C Failed to sign in."}finally{this.loading=!1}})}openSignOutModal(t,e){this.signOutEmpId=t,this.signOutName=e,this.signOutPassword="",this.showSignOutModal=!0}closeSignOutModal(){this.showSignOutModal=!1,this.signOutEmpId="",this.signOutName="",this.signOutPassword=""}confirmSignOut(){return j(this,null,function*(){if(!this.signOutName.trim()||!this.signOutPassword.trim()){alert("\u26A0\uFE0F Please enter name and password.");return}let t=Ne(this.db,`restaurants/${this.restaurantId}/employees`),n=(yield gr(t)).val()||{},r=null;if(Object.keys(n).forEach(u=>{let g=n[u];g.name===this.signOutName.trim()&&g.password===this.signOutPassword.trim()&&(r=u)}),!r||r!==this.signOutEmpId){alert("\u274C Invalid credentials or employee mismatch.");return}let o=new Date,s=o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),l=o.toISOString().split("T")[0],c=Ne(this.db,`restaurants/${this.restaurantId}/employees/${this.signOutEmpId}/attendance/${l}`);yield ft(c,{dateout:s}),alert(`\u2705 Signed out successfully at ${s}`),this.closeSignOutModal()})}clearFields(){this.name="",this.password=""}isHere(t){let e=new Date().toISOString().split("T")[0];return!!t.attendance?.[e]?.datein&&!t.attendance?.[e]?.dateout}getTodayTime(t){let e=new Date().toISOString().split("T")[0];return t.attendance?.[e]?.datein||"-"}static \u0275fac=function(e){return new(e||i)(te(En),te(Be),te(ee))};static \u0275cmp=ne({type:i,selectors:[["app-attendance-page"]],decls:21,vars:10,consts:[[1,"container","py-4"],[1,"text-center","mb-4"],[1,"row","justify-content-center","g-4"],[1,"col-lg-4","col-md-5"],[1,"card","p-3","shadow-sm",2,"border-radius","12px"],[1,"mb-3","text-center"],["type","text","placeholder","Employee name",1,"form-control","mb-2",3,"ngModelChange","ngModel"],["type","password","placeholder","Password",1,"form-control","mb-3",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","w-100","mb-2",3,"click","disabled"],[1,"text-center","small"],[1,"col-lg-6","col-md-7"],[1,"employee-list","mx-auto"],[1,"employee-card","d-flex","align-items-center","justify-content-between","p-2","mb-2","rounded","shadow-sm",2,"background","#fff","max-width","450px","margin","0 auto"],["tabindex","-1",1,"modal","fade","show","d-block",3,"ngStyle"],[1,"d-flex","align-items-center","gap-2"],["alt","avatar","width","45","height","45",1,"rounded-circle",2,"object-fit","cover",3,"src"],[1,"fw-semibold","small"],[1,"ms-2","small",3,"ngClass"],[1,"text-muted","small"],[1,"text-end","small"],[1,"text-success","fw-bold"],[1,"text-muted"],[1,"btn","btn-outline-danger","btn-sm","mt-1","py-0","px-2",2,"font-size","0.8rem"],[1,"btn","btn-outline-danger","btn-sm","mt-1","py-0","px-2",2,"font-size","0.8rem",3,"click"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"form-label"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],["type","password",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(e,n){e&1&&(p(0,"div",0)(1,"h2",1),y(2,"Employee Attendance"),f(),p(3,"div",2)(4,"div",3)(5,"div",4)(6,"h5",5),y(7,"Sign In"),f(),p(8,"input",6),le("ngModelChange",function(o){return ae(n.name,o)||(n.name=o),o}),f(),p(9,"input",7),le("ngModelChange",function(o){return ae(n.password,o)||(n.password=o),o}),f(),p(10,"button",8),$("click",function(){return n.signIn()}),y(11),f(),p(12,"div",9),y(13),f()()(),p(14,"div",10)(15,"div",11)(16,"h5",5),y(17,"Today\u2019s Attendance"),f(),we(18,VR,14,8,"div",12,Ue),f()()(),Y(20,BR,21,5,"div",13),f()),e&2&&(h(8),se("ngModel",n.name),h(),se("ngModel",n.password),h(),q("disabled",n.loading),h(),z(" ",n.loading?"Signing in...":"Sign In"," "),h(),ge("text-success",n.message.startsWith("\u2705"))("text-danger",n.message.startsWith("\u274C")),h(),z(" ",n.message," "),h(5),Ce(n.employees),h(2),Q(n.showSignOutModal?20:-1))},dependencies:[cn,Cn,Po,At,Gt,Yt,Qt],styles:[".employee-list[_ngcontent-%COMP%]{max-height:75vh;overflow-y:auto;padding-right:4px}.employee-card[_ngcontent-%COMP%]{border:1px solid #e8e8e8;transition:transform .15s ease,box-shadow .15s ease}.employee-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 2px 6px #0000000d}.employee-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid #eee}h5[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}@media(max-width:768px){.employee-list[_ngcontent-%COMP%]{margin-top:1.5rem}.employee-card[_ngcontent-%COMP%]{max-width:100%}}"]})};var jR=()=>({background:"rgba(0,0,0,0.5)"});function UR(i,t){if(i&1){let e=fe();p(0,"div",21),$("click",function(){let r=L(e).$implicit,o=D();return V(o.openEmployeeDetails(r))}),p(1,"div",22),G(2,"img",23),p(3,"div")(4,"div",24),y(5),f(),p(6,"div",25),y(7),f()()(),p(8,"div",26),y(9),f()()}if(i&2){let e=t.$implicit;h(2),q("src",e.imageUrl||"https://via.placeholder.com/60",$n),h(3),M(e.name),h(2),M(e.role||"Employee"),h(2),z(" ",e.age?e.age+" yrs":""," ")}}function zR(i,t){if(i&1){let e=fe();p(0,"div",20)(1,"div",27)(2,"div",28)(3,"div",29)(4,"h5",30),y(5),f(),p(6,"button",31),$("click",function(){L(e);let r=D();return V(r.closeModal())}),f()(),p(7,"div",32),G(8,"img",33),p(9,"p")(10,"strong"),y(11,"Role:"),f(),y(12),f(),p(13,"p")(14,"strong"),y(15,"Age:"),f(),y(16),f(),p(17,"p")(18,"strong"),y(19,"Salary:"),f(),y(20),f()(),p(21,"div",34)(22,"button",35),$("click",function(){L(e);let r=D();return V(r.closeModal())}),y(23,"Close"),f()()()()()}if(i&2){let e=D();q("ngStyle",ar(6,jR)),h(5),M(e.selectedEmployee.name),h(3),q("src",e.selectedEmployee.imageUrl||"https://via.placeholder.com/120",$n),h(4),z(" ",e.selectedEmployee.role||"Employee"),h(4),z(" ",e.selectedEmployee.age||"N/A"),h(4),z(" ",e.selectedEmployee.salary?e.selectedEmployee.salary+" \u20AA":"N/A")}}var iu=class i{constructor(t,e){this.db=t;this.route=e}restaurantId="";name="";password="";role="";imageUrl="";age=null;salary=null;message="";loading=!1;employees=[];selectedEmployee=null;ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t);let e=Ne(this.db,`restaurants/${this.restaurantId}/employees`);Sn(e,n=>{let r=n.val()||{};this.employees=Object.keys(r).map(o=>P({id:o},r[o]))})}addEmployee(){return j(this,null,function*(){if(this.message="",!this.name.trim()||!this.password.trim()){this.message="\u26A0\uFE0F Please fill all required fields.";return}this.loading=!0;try{let t=Ne(this.db,`restaurants/${this.restaurantId}/employees`),e=xc(t);yield zr(e,{name:this.name.trim(),password:this.password.trim(),role:this.role.trim()||"Employee",imageUrl:this.imageUrl.trim()||"",age:this.age||null,salary:this.salary||null}),this.message=`\u2705 Employee "${this.name}" added successfully.`,this.name="",this.password="",this.role="",this.imageUrl="",this.age=null,this.salary=null}catch(t){console.error(t),this.message="\u274C Failed to add employee."}finally{this.loading=!1}})}openEmployeeDetails(t){this.selectedEmployee=t}closeModal(){this.selectedEmployee=null}static \u0275fac=function(e){return new(e||i)(te(En),te(Be))};static \u0275cmp=ne({type:i,selectors:[["app-add-employee-page"]],decls:42,vars:14,consts:[[1,"container","py-4"],[1,"row","g-4"],[1,"col-lg-7"],[1,"card","shadow","p-4","h-100"],[1,"mb-3"],[1,"text-center","mb-4"],[1,"form-label"],["type","text","placeholder","Employee name",1,"form-control",3,"ngModelChange","ngModel"],["type","password","placeholder","Password",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g. Manager, Waiter, Cashier",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","https://...",1,"form-control",3,"ngModelChange","ngModel"],[1,"row"],[1,"col-md-6","mb-3"],["type","number","placeholder","Age",1,"form-control",3,"ngModelChange","ngModel"],["type","number","placeholder","Salary",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","w-100",3,"click","disabled"],[1,"text-center","mt-3"],[1,"col-lg-4"],[1,"employee-list","mx-auto"],[1,"employee-card","d-flex","align-items-center","justify-content-between","p-3","mb-3","rounded","shadow-sm","bg-white",2,"cursor","pointer"],["tabindex","-1",1,"modal","fade","show","d-block",3,"ngStyle"],[1,"employee-card","d-flex","align-items-center","justify-content-between","p-3","mb-3","rounded","shadow-sm","bg-white",2,"cursor","pointer",3,"click"],[1,"d-flex","align-items-center","gap-3"],["alt","avatar","width","55","height","55",1,"rounded-circle",2,"object-fit","cover",3,"src"],[1,"fw-semibold"],[1,"text-muted","small"],[1,"text-end","text-muted","small"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","text-center"],["width","120","height","120",1,"rounded-circle","mb-3",2,"object-fit","cover",3,"src"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"]],template:function(e,n){e&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),y(6,"Add Employee"),f(),p(7,"label",6),y(8,"Name"),f(),p(9,"input",7),le("ngModelChange",function(o){return ae(n.name,o)||(n.name=o),o}),f()(),p(10,"div",4)(11,"label",6),y(12,"Password"),f(),p(13,"input",8),le("ngModelChange",function(o){return ae(n.password,o)||(n.password=o),o}),f()(),p(14,"div",4)(15,"label",6),y(16,"Role"),f(),p(17,"input",9),le("ngModelChange",function(o){return ae(n.role,o)||(n.role=o),o}),f()(),p(18,"div",4)(19,"label",6),y(20,"Image URL"),f(),p(21,"input",10),le("ngModelChange",function(o){return ae(n.imageUrl,o)||(n.imageUrl=o),o}),f()(),p(22,"div",11)(23,"div",12)(24,"label",6),y(25,"Age"),f(),p(26,"input",13),le("ngModelChange",function(o){return ae(n.age,o)||(n.age=o),o}),f()(),p(27,"div",12)(28,"label",6),y(29,"Salary (\u20AA)"),f(),p(30,"input",14),le("ngModelChange",function(o){return ae(n.salary,o)||(n.salary=o),o}),f()()(),p(31,"button",15),$("click",function(){return n.addEmployee()}),y(32),f(),p(33,"div",16),y(34),f()()(),p(35,"div",17)(36,"div",18)(37,"h4",4),y(38,"All Employees"),f(),we(39,UR,10,4,"div",19,Ue),f()()(),Y(41,zR,24,7,"div",20),f()),e&2&&(h(9),se("ngModel",n.name),h(4),se("ngModel",n.password),h(4),se("ngModel",n.role),h(4),se("ngModel",n.imageUrl),h(5),se("ngModel",n.age),h(4),se("ngModel",n.salary),h(),q("disabled",n.loading),h(),z(" ",n.loading?"Adding...":"Add Employee"," "),h(),ge("text-success",n.message.startsWith("\u2705"))("text-danger",n.message.startsWith("\u274C")),h(),z(" ",n.message," "),h(5),Ce(n.employees),h(2),Q(n.selectedEmployee?41:-1))},dependencies:[cn,Po,At,Gt,gi,Yt,Qt],styles:[".employee-card[_ngcontent-%COMP%]{border:1px solid #e5e5e5;transition:all .2s ease}.employee-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 4px 12px #0000001a}.employee-list[_ngcontent-%COMP%]{max-height:75vh;overflow-y:auto}@media(max-width:992px){.employee-list[_ngcontent-%COMP%]{margin-top:2rem}}"]})};var Qv=[{path:"",component:Qa,pathMatch:"full"},{path:"cart",loadComponent:()=>import("./chunk-KOLMX6WK.js").then(i=>i.CartComponent)},{path:":restId",component:Qa},{path:":restId/category/:categoryKey",component:md},{path:":restId/t/:tableId",component:gd},{path:":restId/dashboard",component:_d},{path:":restId/stats",component:eu},{path:":restId/ManageMenuComponent",component:pd},{path:":restId/EditItemComponent",component:fd},{path:":restId/kitchen-orders",component:vd},{path:":restId/bar-orders",component:bd},{path:":restId/hookah-orders",component:yd},{path:":restId/ordering-dashboard",component:tu},{path:":restId/attendance",component:nu},{path:":restId/add-employee",component:iu},{path:"**",redirectTo:""}];var ru="analytics",$R="firebase_id",qR="origin",HR=60*1e3,WR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ap="https://www.googletagmanager.com/gtag/js";var fn=new dr("@firebase/analytics");var KR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Vn=new zo("analytics","Analytics",KR);function GR(i){if(!i.startsWith(Ap)){let t=Vn.create("invalid-gtag-resource",{gtagURL:i});return fn.warn(t.message),""}return i}function iw(i){return Promise.all(i.map(t=>t.catch(e=>e)))}function YR(i,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(i,t)),e}function QR(i,t){let e=YR("firebase-js-sdk-policy",{createScriptURL:GR}),n=document.createElement("script"),r=`${Ap}?l=${i}&id=${t}`;n.src=e?e?.createScriptURL(r):r,n.async=!0,document.head.appendChild(n)}function XR(i){let t=[];return Array.isArray(window[i])?t=window[i]:window[i]=t,t}function ZR(i,t,e,n,r,o){return j(this,null,function*(){let s=n[r];try{if(s)yield t[s];else{let c=(yield iw(e)).find(u=>u.measurementId===r);c&&(yield t[c.appId])}}catch(l){fn.error(l)}i("config",r,o)})}function JR(i,t,e,n,r){return j(this,null,function*(){try{let o=[];if(r&&r.send_to){let s=r.send_to;Array.isArray(s)||(s=[s]);let l=yield iw(e);for(let c of s){let u=l.find(v=>v.measurementId===c),g=u&&t[u.appId];if(g)o.push(g);else{o=[];break}}}o.length===0&&(o=Object.values(t)),yield Promise.all(o),i("event",n,r||{})}catch(o){fn.error(o)}})}function eM(i,t,e,n){function r(o,...s){return j(this,null,function*(){try{if(o==="event"){let[l,c]=s;yield JR(i,t,e,l,c)}else if(o==="config"){let[l,c]=s;yield ZR(i,t,e,n,l,c)}else if(o==="consent"){let[l,c]=s;i("consent",l,c)}else if(o==="get"){let[l,c,u]=s;i("get",l,c,u)}else if(o==="set"){let[l]=s;i("set",l)}else i(o,...s)}catch(l){fn.error(l)}})}return r}function tM(i,t,e,n,r){let o=function(...s){window[n].push(arguments)};return window[r]&&typeof window[r]=="function"&&(o=window[r]),window[r]=eM(o,i,t,e),{gtagCore:o,wrappedGtag:window[r]}}function nM(i){let t=window.document.getElementsByTagName("script");for(let e of Object.values(t))if(e.src&&e.src.includes(Ap)&&e.src.includes(i))return e;return null}var iM=30,rM=1e3,Cp=class{constructor(t={},e=rM){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}},rw=new Cp;function oM(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}function sM(i){return j(this,null,function*(){var t;let{appId:e,apiKey:n}=i,r={method:"GET",headers:oM(n)},o=WR.replace("{app-id}",e),s=yield fetch(o,r);if(s.status!==200&&s.status!==304){let l="";try{let c=yield s.json();!((t=c.error)===null||t===void 0)&&t.message&&(l=c.error.message)}catch{}throw Vn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:l})}return s.json()})}function aM(n){return j(this,arguments,function*(i,t=rw,e){let{appId:r,apiKey:o,measurementId:s}=i.options;if(!r)throw Vn.create("no-app-id");if(!o){if(s)return{measurementId:s,appId:r};throw Vn.create("no-api-key")}let l=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Ep;return setTimeout(()=>j(null,null,function*(){c.abort()}),e!==void 0?e:HR),ow({appId:r,apiKey:o,measurementId:s},l,c,t)})}function ow(o,s,l){return j(this,arguments,function*(i,{throttleEndTimeMillis:t,backoffCount:e},n,r=rw){var c;let{appId:u,measurementId:g}=i;try{yield lM(n,t)}catch(v){if(g)return fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:u,measurementId:g};throw v}try{let v=yield sM(i);return r.deleteThrottleMetadata(u),v}catch(v){let C=v;if(!cM(C)){if(r.deleteThrottleMetadata(u),g)return fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${C?.message}]`),{appId:u,measurementId:g};throw v}let A=Number((c=C?.customData)===null||c===void 0?void 0:c.httpStatus)===503?Ca(e,r.intervalMillis,iM):Ca(e,r.intervalMillis),I={throttleEndTimeMillis:Date.now()+A,backoffCount:e+1};return r.setThrottleMetadata(u,I),fn.debug(`Calling attemptFetch again in ${A} millis`),ow(i,I,n,r)}})}function lM(i,t){return new Promise((e,n)=>{let r=Math.max(t-Date.now(),0),o=setTimeout(e,r);i.addEventListener(()=>{clearTimeout(o),n(Vn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function cM(i){if(!(i instanceof ni)||!i.customData)return!1;let t=Number(i.customData.httpStatus);return t===429||t===500||t===503||t===504}var Ep=class{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}};var Sp;function dM(i,t,e,n,r){return j(this,null,function*(){if(r&&r.global){i("event",e,n);return}else{let o=yield t,s=Object.assign(Object.assign({},n),{send_to:o});i("event",e,s)}})}function uM(i,t,e,n){return j(this,null,function*(){if(n&&n.global)return i("set",{user_id:e}),Promise.resolve();{let r=yield t;i("config",r,{update:!0,user_id:e})}})}var Ip;function hM(i){Ip=i}function mM(i){Sp=i}function pM(){return j(this,null,function*(){if(cr())try{yield Uo()}catch(i){return fn.warn(Vn.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return fn.warn(Vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function fM(i,t,e,n,r,o,s){return j(this,null,function*(){var l;let c=aM(i);c.then(A=>{e[A.measurementId]=A.appId,i.options.measurementId&&A.measurementId!==i.options.measurementId&&fn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${A.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(A=>fn.error(A)),t.push(c);let u=pM().then(A=>{if(A)return n.getId()}),[g,v]=yield Promise.all([c,u]);nM(o)||QR(o,g.measurementId),Ip&&(r("consent","default",Ip),hM(void 0)),r("js",new Date);let C=(l=s?.config)!==null&&l!==void 0?l:{};return C[qR]="firebase",C.update=!0,v!=null&&(C[$R]=v),r("config",g.measurementId,C),Sp&&(r("set",Sp),mM(void 0)),g.measurementId})}var xp=class{constructor(t){this.app=t}_delete(){return delete ks[this.app.options.appId],Promise.resolve()}},ks={},Xv=[],Zv={},wp="dataLayer",gM="gtag",Jv,Tp,ew=!1;function _M(){let i=[];if(Ph()&&i.push("This is a browser extension environment."),wa()||i.push("Cookies are not available."),i.length>0){let t=i.map((n,r)=>`(${r+1}) ${n}`).join(" "),e=Vn.create("invalid-analytics-context",{errorInfo:t});fn.warn(e.message)}}function yM(i,t,e){_M();let n=i.options.appId;if(!n)throw Vn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Vn.create("no-api-key");if(ks[n]!=null)throw Vn.create("already-exists",{id:n});if(!ew){XR(wp);let{wrappedGtag:o,gtagCore:s}=tM(ks,Xv,Zv,wp,gM);Tp=o,Jv=s,ew=!0}return ks[n]=fM(i,Xv,Zv,t,Jv,wp,e),new xp(i)}function sw(i=Kt()){i=Pt(i);let t=dn(i,ru);return t.isInitialized()?t.getImmediate():aw(i)}function aw(i,t={}){let e=dn(i,ru);if(e.isInitialized()){let r=e.getImmediate();if($o(t,e.getOptions()))return r;throw Vn.create("already-initialized")}return e.initialize({options:t})}function lw(){return j(this,null,function*(){if(Ph()||!wa()||!cr())return!1;try{return yield Uo()}catch{return!1}})}function cw(i,t,e){i=Pt(i),uM(Tp,ks[i.app.options.appId],t,e).catch(n=>fn.error(n))}function Dp(i,t,e,n){i=Pt(i),dM(Tp,ks[i.app.options.appId],t,e,n).catch(r=>fn.error(r))}var tw="@firebase/analytics",nw="0.10.17";function bM(){Wt(new Ht(ru,(t,{options:e})=>{let n=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();return yM(n,r,e)},"PUBLIC")),Wt(new Ht("analytics-internal",i,"PRIVATE")),Le(tw,nw),Le(tw,nw,"esm2017");function i(t){try{let e=t.getProvider(ru).getImmediate();return{logEvent:(n,r,o)=>Dp(e,n,r,o)}}catch(e){throw Vn.create("interop-component-reg-failed",{reason:e})}}}bM();var fo=class{constructor(t){return t}},hw="analytics",Mp=class{constructor(){return Zt(hw)}};var mw=Et(sw,!0);var pw=Et(lw,!1),vM=Et(Dp,!1,2);var wM=Et(cw,!0,2);var Op=(()=>{class i{initialized;disposables=[];constructor(e,n,r){Le("angularfire",Tt.full,"user-tracking");let o;this.initialized=n.runOutsideAngular(()=>new Promise(s=>{o=s})),pw().then(()=>{let s=r.get(fo);s?this.disposables=[Ey(e).subscribe(l=>{wM(s,l?.uid),o()})]:o()})}ngOnDestroy(){this.disposables.forEach(e=>e.unsubscribe())}static \u0275fac=function(n){return new(n||i)(_e(wy),_e(ee),_e(be))};static \u0275prov=K({token:i,factory:i.\u0275fac})}return i})(),CM="firebase_event_origin",EM="firebase_previous_class",SM="firebase_previous_id",IM="firebase_previous_screen",xM="firebase_screen_class",dw="firebase_screen_id",AM="firebase_screen",kp="outlet",TM="page_path",DM="page_title",fl="screen_class",uw="screen_name",RM="screen_view",MM="auto",kM="#",OM=Math.floor(Math.random()*(2**32-1))-2**31,Rp={},PM=i=>{let t=[i[fl],i[kp]].join(kM);if(Rp.hasOwnProperty(t))return Rp[t];{let e=OM++;return Rp[t]=e,e}},NM=(i,t,e)=>i.events.pipe(Ge(r=>r instanceof rs)).pipe(vt(r=>{let s=i.parseUrl(i.url.replace(/(?:\().+(?:\))/g,C=>C.replace("://",":///"))).root.children[r.snapshot.outlet]?.toString()||"",l=i.routerState.root.children.map(C=>C).find(C=>C.outlet===r.snapshot.outlet);if(!l)return me(null);let c=l;for(;c.firstChild;)c=c.firstChild;let u=c.pathFromRoot.map(C=>C.routeConfig?.path).filter(C=>C).join("/")||"/",g={[uw]:u,[TM]:`/${s}`,[CM]:MM,[AM]:u,[kp]:r.snapshot.outlet};t&&(g[DM]=t.getTitle());let v=l.component;if(v){if(v===Wa){let C=r.snapshot;for(;C.firstChild;)C=C.firstChild;v=C.component}}else v=r.snapshot.component;if(typeof v=="string")return me(ie(P({},g),{[fl]:v}));if(v){let C=e.resolveComponentFactory(v);return me(ie(P({},g),{[fl]:C.selector}))}return me(null)}),Ge(r=>!!r),$e(r=>P({[xM]:r[fl],[dw]:PM(r)},r)),A_(r=>r[kp]),Un(r=>r.pipe(da((o,s)=>JSON.stringify(o)===JSON.stringify(s)),jt(void 0),ha(),$e(([o,s])=>o?P({[EM]:o[fl],[IM]:o[uw],[SM]:o[dw]},s):s)))),fw=(()=>{class i{disposable;constructor(e,n,r,o,s,l){Le("angularfire",Tt.full,"screen-tracking"),pw().then(()=>{let c=l.get(fo);!e||!c||o.runOutsideAngular(()=>{this.disposable=NM(e,n,r).pipe(vt(u=>j(this,null,function*(){return s&&(yield s.initialized),vM(c,RM,u)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}static \u0275fac=function(n){return new(n||i)(_e(Dt,8),_e(Lc,8),_e(B_),_e(ee),_e(Op,8),_e(be))};static \u0275prov=K({token:i,factory:i.\u0275fac})}return i})(),Pp=new H("angularfire2.analytics-instances");function FM(i,t,e){if(!fi(e))return null;let n=Xt(hw,i,t);return n&&new fo(n)}function LM(i){return(t,e,n)=>{if(!fi(n))return null;let r=t.runOutsideAngular(()=>i(e));return new fo(r)}}var VM={provide:Mp,deps:[[new Ye,Pp]]},BM={provide:fo,useFactory:FM,deps:[[new Ye,Pp],en,mt]};function gw(i,...t){return Le("angularfire",Tt.full,"analytics"),ot([BM,VM,{provide:Pp,useFactory:LM(i),multi:!0,deps:[ee,be,mt,Jt,tn,...t]}])}var _w=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yw={};var ou,bw;(function(){var i;function t(x,w){function E(){}E.prototype=w.prototype,x.D=w.prototype,x.prototype=new E,x.prototype.constructor=x,x.C=function(T,k,N){for(var S=Array(arguments.length-2),Bn=2;Bn<arguments.length;Bn++)S[Bn-2]=arguments[Bn];return w.prototype[k].apply(T,S)}}function e(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,e),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(x,w,E){E||(E=0);var T=Array(16);if(typeof w=="string")for(var k=0;16>k;++k)T[k]=w.charCodeAt(E++)|w.charCodeAt(E++)<<8|w.charCodeAt(E++)<<16|w.charCodeAt(E++)<<24;else for(k=0;16>k;++k)T[k]=w[E++]|w[E++]<<8|w[E++]<<16|w[E++]<<24;w=x.g[0],E=x.g[1],k=x.g[2];var N=x.g[3],S=w+(N^E&(k^N))+T[0]+3614090360&4294967295;w=E+(S<<7&4294967295|S>>>25),S=N+(k^w&(E^k))+T[1]+3905402710&4294967295,N=w+(S<<12&4294967295|S>>>20),S=k+(E^N&(w^E))+T[2]+606105819&4294967295,k=N+(S<<17&4294967295|S>>>15),S=E+(w^k&(N^w))+T[3]+3250441966&4294967295,E=k+(S<<22&4294967295|S>>>10),S=w+(N^E&(k^N))+T[4]+4118548399&4294967295,w=E+(S<<7&4294967295|S>>>25),S=N+(k^w&(E^k))+T[5]+1200080426&4294967295,N=w+(S<<12&4294967295|S>>>20),S=k+(E^N&(w^E))+T[6]+2821735955&4294967295,k=N+(S<<17&4294967295|S>>>15),S=E+(w^k&(N^w))+T[7]+4249261313&4294967295,E=k+(S<<22&4294967295|S>>>10),S=w+(N^E&(k^N))+T[8]+1770035416&4294967295,w=E+(S<<7&4294967295|S>>>25),S=N+(k^w&(E^k))+T[9]+2336552879&4294967295,N=w+(S<<12&4294967295|S>>>20),S=k+(E^N&(w^E))+T[10]+4294925233&4294967295,k=N+(S<<17&4294967295|S>>>15),S=E+(w^k&(N^w))+T[11]+2304563134&4294967295,E=k+(S<<22&4294967295|S>>>10),S=w+(N^E&(k^N))+T[12]+1804603682&4294967295,w=E+(S<<7&4294967295|S>>>25),S=N+(k^w&(E^k))+T[13]+4254626195&4294967295,N=w+(S<<12&4294967295|S>>>20),S=k+(E^N&(w^E))+T[14]+2792965006&4294967295,k=N+(S<<17&4294967295|S>>>15),S=E+(w^k&(N^w))+T[15]+1236535329&4294967295,E=k+(S<<22&4294967295|S>>>10),S=w+(k^N&(E^k))+T[1]+4129170786&4294967295,w=E+(S<<5&4294967295|S>>>27),S=N+(E^k&(w^E))+T[6]+3225465664&4294967295,N=w+(S<<9&4294967295|S>>>23),S=k+(w^E&(N^w))+T[11]+643717713&4294967295,k=N+(S<<14&4294967295|S>>>18),S=E+(N^w&(k^N))+T[0]+3921069994&4294967295,E=k+(S<<20&4294967295|S>>>12),S=w+(k^N&(E^k))+T[5]+3593408605&4294967295,w=E+(S<<5&4294967295|S>>>27),S=N+(E^k&(w^E))+T[10]+38016083&4294967295,N=w+(S<<9&4294967295|S>>>23),S=k+(w^E&(N^w))+T[15]+3634488961&4294967295,k=N+(S<<14&4294967295|S>>>18),S=E+(N^w&(k^N))+T[4]+3889429448&4294967295,E=k+(S<<20&4294967295|S>>>12),S=w+(k^N&(E^k))+T[9]+568446438&4294967295,w=E+(S<<5&4294967295|S>>>27),S=N+(E^k&(w^E))+T[14]+3275163606&4294967295,N=w+(S<<9&4294967295|S>>>23),S=k+(w^E&(N^w))+T[3]+4107603335&4294967295,k=N+(S<<14&4294967295|S>>>18),S=E+(N^w&(k^N))+T[8]+1163531501&4294967295,E=k+(S<<20&4294967295|S>>>12),S=w+(k^N&(E^k))+T[13]+2850285829&4294967295,w=E+(S<<5&4294967295|S>>>27),S=N+(E^k&(w^E))+T[2]+4243563512&4294967295,N=w+(S<<9&4294967295|S>>>23),S=k+(w^E&(N^w))+T[7]+1735328473&4294967295,k=N+(S<<14&4294967295|S>>>18),S=E+(N^w&(k^N))+T[12]+2368359562&4294967295,E=k+(S<<20&4294967295|S>>>12),S=w+(E^k^N)+T[5]+4294588738&4294967295,w=E+(S<<4&4294967295|S>>>28),S=N+(w^E^k)+T[8]+2272392833&4294967295,N=w+(S<<11&4294967295|S>>>21),S=k+(N^w^E)+T[11]+1839030562&4294967295,k=N+(S<<16&4294967295|S>>>16),S=E+(k^N^w)+T[14]+4259657740&4294967295,E=k+(S<<23&4294967295|S>>>9),S=w+(E^k^N)+T[1]+2763975236&4294967295,w=E+(S<<4&4294967295|S>>>28),S=N+(w^E^k)+T[4]+1272893353&4294967295,N=w+(S<<11&4294967295|S>>>21),S=k+(N^w^E)+T[7]+4139469664&4294967295,k=N+(S<<16&4294967295|S>>>16),S=E+(k^N^w)+T[10]+3200236656&4294967295,E=k+(S<<23&4294967295|S>>>9),S=w+(E^k^N)+T[13]+681279174&4294967295,w=E+(S<<4&4294967295|S>>>28),S=N+(w^E^k)+T[0]+3936430074&4294967295,N=w+(S<<11&4294967295|S>>>21),S=k+(N^w^E)+T[3]+3572445317&4294967295,k=N+(S<<16&4294967295|S>>>16),S=E+(k^N^w)+T[6]+76029189&4294967295,E=k+(S<<23&4294967295|S>>>9),S=w+(E^k^N)+T[9]+3654602809&4294967295,w=E+(S<<4&4294967295|S>>>28),S=N+(w^E^k)+T[12]+3873151461&4294967295,N=w+(S<<11&4294967295|S>>>21),S=k+(N^w^E)+T[15]+530742520&4294967295,k=N+(S<<16&4294967295|S>>>16),S=E+(k^N^w)+T[2]+3299628645&4294967295,E=k+(S<<23&4294967295|S>>>9),S=w+(k^(E|~N))+T[0]+4096336452&4294967295,w=E+(S<<6&4294967295|S>>>26),S=N+(E^(w|~k))+T[7]+1126891415&4294967295,N=w+(S<<10&4294967295|S>>>22),S=k+(w^(N|~E))+T[14]+2878612391&4294967295,k=N+(S<<15&4294967295|S>>>17),S=E+(N^(k|~w))+T[5]+4237533241&4294967295,E=k+(S<<21&4294967295|S>>>11),S=w+(k^(E|~N))+T[12]+1700485571&4294967295,w=E+(S<<6&4294967295|S>>>26),S=N+(E^(w|~k))+T[3]+2399980690&4294967295,N=w+(S<<10&4294967295|S>>>22),S=k+(w^(N|~E))+T[10]+4293915773&4294967295,k=N+(S<<15&4294967295|S>>>17),S=E+(N^(k|~w))+T[1]+2240044497&4294967295,E=k+(S<<21&4294967295|S>>>11),S=w+(k^(E|~N))+T[8]+1873313359&4294967295,w=E+(S<<6&4294967295|S>>>26),S=N+(E^(w|~k))+T[15]+4264355552&4294967295,N=w+(S<<10&4294967295|S>>>22),S=k+(w^(N|~E))+T[6]+2734768916&4294967295,k=N+(S<<15&4294967295|S>>>17),S=E+(N^(k|~w))+T[13]+1309151649&4294967295,E=k+(S<<21&4294967295|S>>>11),S=w+(k^(E|~N))+T[4]+4149444226&4294967295,w=E+(S<<6&4294967295|S>>>26),S=N+(E^(w|~k))+T[11]+3174756917&4294967295,N=w+(S<<10&4294967295|S>>>22),S=k+(w^(N|~E))+T[2]+718787259&4294967295,k=N+(S<<15&4294967295|S>>>17),S=E+(N^(k|~w))+T[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(k+(S<<21&4294967295|S>>>11))&4294967295,x.g[2]=x.g[2]+k&4294967295,x.g[3]=x.g[3]+N&4294967295}n.prototype.u=function(x,w){w===void 0&&(w=x.length);for(var E=w-this.blockSize,T=this.B,k=this.h,N=0;N<w;){if(k==0)for(;N<=E;)r(this,x,N),N+=this.blockSize;if(typeof x=="string"){for(;N<w;)if(T[k++]=x.charCodeAt(N++),k==this.blockSize){r(this,T),k=0;break}}else for(;N<w;)if(T[k++]=x[N++],k==this.blockSize){r(this,T),k=0;break}}this.h=k,this.o+=w},n.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;var E=8*this.o;for(w=x.length-8;w<x.length;++w)x[w]=E&255,E/=256;for(this.u(x),x=Array(16),w=E=0;4>w;++w)for(var T=0;32>T;T+=8)x[E++]=this.g[w]>>>T&255;return x};function o(x,w){var E=l;return Object.prototype.hasOwnProperty.call(E,x)?E[x]:E[x]=w(x)}function s(x,w){this.h=w;for(var E=[],T=!0,k=x.length-1;0<=k;k--){var N=x[k]|0;T&&N==w||(E[k]=N,T=!1)}this.g=E}var l={};function c(x){return-128<=x&&128>x?o(x,function(w){return new s([w|0],0>w?-1:0)}):new s([x|0],0>x?-1:0)}function u(x){if(isNaN(x)||!isFinite(x))return v;if(0>x)return F(u(-x));for(var w=[],E=1,T=0;x>=E;T++)w[T]=x/E|0,E*=4294967296;return new s(w,0)}function g(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return F(g(x.substring(1),w));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=u(Math.pow(w,8)),T=v,k=0;k<x.length;k+=8){var N=Math.min(8,x.length-k),S=parseInt(x.substring(k,k+N),w);8>N?(N=u(Math.pow(w,N)),T=T.j(N).add(u(S))):(T=T.j(E),T=T.add(u(S)))}return T}var v=c(0),C=c(1),A=c(16777216);i=s.prototype,i.m=function(){if(R(this))return-F(this).m();for(var x=0,w=1,E=0;E<this.g.length;E++){var T=this.i(E);x+=(0<=T?T:4294967296+T)*w,w*=4294967296}return x},i.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(I(this))return"0";if(R(this))return"-"+F(this).toString(x);for(var w=u(Math.pow(x,6)),E=this,T="";;){var k=W(E,w).g;E=U(E,k.j(w));var N=((0<E.g.length?E.g[0]:E.h)>>>0).toString(x);if(E=k,I(E))return N+T;for(;6>N.length;)N="0"+N;T=N+T}},i.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function I(x){if(x.h!=0)return!1;for(var w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function R(x){return x.h==-1}i.l=function(x){return x=U(this,x),R(x)?-1:I(x)?0:1};function F(x){for(var w=x.g.length,E=[],T=0;T<w;T++)E[T]=~x.g[T];return new s(E,~x.h).add(C)}i.abs=function(){return R(this)?F(this):this},i.add=function(x){for(var w=Math.max(this.g.length,x.g.length),E=[],T=0,k=0;k<=w;k++){var N=T+(this.i(k)&65535)+(x.i(k)&65535),S=(N>>>16)+(this.i(k)>>>16)+(x.i(k)>>>16);T=S>>>16,N&=65535,S&=65535,E[k]=S<<16|N}return new s(E,E[E.length-1]&-2147483648?-1:0)};function U(x,w){return x.add(F(w))}i.j=function(x){if(I(this)||I(x))return v;if(R(this))return R(x)?F(this).j(F(x)):F(F(this).j(x));if(R(x))return F(this.j(F(x)));if(0>this.l(A)&&0>x.l(A))return u(this.m()*x.m());for(var w=this.g.length+x.g.length,E=[],T=0;T<2*w;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(var k=0;k<x.g.length;k++){var N=this.i(T)>>>16,S=this.i(T)&65535,Bn=x.i(k)>>>16,Xi=x.i(k)&65535;E[2*T+2*k]+=S*Xi,X(E,2*T+2*k),E[2*T+2*k+1]+=N*Xi,X(E,2*T+2*k+1),E[2*T+2*k+1]+=S*Bn,X(E,2*T+2*k+1),E[2*T+2*k+2]+=N*Bn,X(E,2*T+2*k+2)}for(T=0;T<w;T++)E[T]=E[2*T+1]<<16|E[2*T];for(T=w;T<2*w;T++)E[T]=0;return new s(E,0)};function X(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function Z(x,w){this.g=x,this.h=w}function W(x,w){if(I(w))throw Error("division by zero");if(I(x))return new Z(v,v);if(R(x))return w=W(F(x),w),new Z(F(w.g),F(w.h));if(R(w))return w=W(x,F(w)),new Z(F(w.g),w.h);if(30<x.g.length){if(R(x)||R(w))throw Error("slowDivide_ only works with positive integers.");for(var E=C,T=w;0>=T.l(x);)E=Ae(E),T=Ae(T);var k=ye(E,1),N=ye(T,1);for(T=ye(T,2),E=ye(E,2);!I(T);){var S=N.add(T);0>=S.l(x)&&(k=k.add(E),N=S),T=ye(T,1),E=ye(E,1)}return w=U(x,k.j(w)),new Z(k,w)}for(k=v;0<=x.l(w);){for(E=Math.max(1,Math.floor(x.m()/w.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),N=u(E),S=N.j(w);R(S)||0<S.l(x);)E-=T,N=u(E),S=N.j(w);I(N)&&(N=C),k=k.add(N),x=U(x,S)}return new Z(k,x)}i.A=function(x){return W(this,x).h},i.and=function(x){for(var w=Math.max(this.g.length,x.g.length),E=[],T=0;T<w;T++)E[T]=this.i(T)&x.i(T);return new s(E,this.h&x.h)},i.or=function(x){for(var w=Math.max(this.g.length,x.g.length),E=[],T=0;T<w;T++)E[T]=this.i(T)|x.i(T);return new s(E,this.h|x.h)},i.xor=function(x){for(var w=Math.max(this.g.length,x.g.length),E=[],T=0;T<w;T++)E[T]=this.i(T)^x.i(T);return new s(E,this.h^x.h)};function Ae(x){for(var w=x.g.length+1,E=[],T=0;T<w;T++)E[T]=x.i(T)<<1|x.i(T-1)>>>31;return new s(E,x.h)}function ye(x,w){var E=w>>5;w%=32;for(var T=x.g.length-E,k=[],N=0;N<T;N++)k[N]=0<w?x.i(N+E)>>>w|x.i(N+E+1)<<32-w:x.i(N+E);return new s(k,x.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,bw=yw.Md5=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=g,ou=yw.Integer=s}).apply(typeof _w<"u"?_w:typeof self<"u"?self:typeof window<"u"?window:{});var su=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qi={};var vw,jM,ww,Cw,Ew,Sw,Iw,xw,Aw;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,m){return a==Array.prototype||a==Object.prototype||(a[d]=m.value),a};function e(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof su=="object"&&su];for(var d=0;d<a.length;++d){var m=a[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var n=e(this);function r(a,d){if(d)e:{var m=n;a=a.split(".");for(var b=0;b<a.length-1;b++){var O=a[b];if(!(O in m))break e;m=m[O]}a=a[a.length-1],b=m[a],d=d(b),d!=b&&d!=null&&t(m,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var m=0,b=!1,O={next:function(){if(!b&&m<a.length){var B=m++;return{value:d(B,a[B]),done:!1}}return b=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}r("Array.prototype.values",function(a){return a||function(){return o(this,function(d,m){return m})}});var s=s||{},l=this||self;function c(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function u(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function g(a,d,m){return a.call.apply(a.bind,arguments)}function v(a,d,m){if(!a)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,b),a.apply(d,O)}}return function(){return a.apply(d,arguments)}}function C(a,d,m){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,C.apply(null,arguments)}function A(a,d){var m=Array.prototype.slice.call(arguments,1);return function(){var b=m.slice();return b.push.apply(b,arguments),a.apply(this,b)}}function I(a,d){function m(){}m.prototype=d.prototype,a.aa=d.prototype,a.prototype=new m,a.prototype.constructor=a,a.Qb=function(b,O,B){for(var J=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)J[Ze-2]=arguments[Ze];return d.prototype[O].apply(b,J)}}function R(a){let d=a.length;if(0<d){let m=Array(d);for(let b=0;b<d;b++)m[b]=a[b];return m}return[]}function F(a,d){for(let m=1;m<arguments.length;m++){let b=arguments[m];if(c(b)){let O=a.length||0,B=b.length||0;a.length=O+B;for(let J=0;J<B;J++)a[O+J]=b[J]}else a.push(b)}}class U{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function X(a){return/^[\s\xa0]*$/.test(a)}function Z(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function W(a){return W[" "](a),a}W[" "]=function(){};var Ae=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function ye(a,d,m){for(let b in a)d.call(m,a[b],b,a)}function x(a,d){for(let m in a)d.call(void 0,a[m],m,a)}function w(a){let d={};for(let m in a)d[m]=a[m];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(a,d){let m,b;for(let O=1;O<arguments.length;O++){b=arguments[O];for(m in b)a[m]=b[m];for(let B=0;B<E.length;B++)m=E[B],Object.prototype.hasOwnProperty.call(b,m)&&(a[m]=b[m])}}function k(a){var d=1;a=a.split(":");let m=[];for(;0<d&&a.length;)m.push(a.shift()),d--;return a.length&&m.push(a.join(":")),m}function N(a){l.setTimeout(()=>{throw a},0)}function S(){var a=je;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Bn{constructor(){this.h=this.g=null}add(d,m){let b=Xi.get();b.set(d,m),this.h?this.h.next=b:this.g=b,this.h=b}}var Xi=new U(()=>new re,a=>a.reset());class re{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,pe=!1,je=new Bn,ut=()=>{let a=l.Promise.resolve(void 0);ce=()=>{a.then(jn)}};var jn=()=>{for(var a;a=S();){try{a.h.call(a.g)}catch(m){N(m)}var d=Xi;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}pe=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var nt=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let m=()=>{};l.addEventListener("test",m,d),l.removeEventListener("test",m,d)}catch{}return a})();function Zi(a,d){if(tt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var m=this.type=a.type,b=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Ae){e:{try{W(d.nodeName);var O=!0;break e}catch{}O=!1}O||(d=null)}}else m=="mouseover"?d=a.fromElement:m=="mouseout"&&(d=a.toElement);this.relatedTarget=d,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Yu[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Zi.aa.h.call(this)}}I(Zi,tt);var Yu={2:"touch",3:"pen",4:"mouse"};Zi.prototype.h=function(){Zi.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var lt="closure_listenable_"+(1e6*Math.random()|0),xi=0;function _n(a,d,m,b,O){this.listener=a,this.proxy=null,this.src=d,this.type=m,this.capture=!!b,this.ha=O,this.key=++xi,this.da=this.fa=!1}function Ai(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ji(a){this.src=a,this.g={},this.h=0}Ji.prototype.add=function(a,d,m,b,O){var B=a.toString();a=this.g[B],a||(a=this.g[B]=[],this.h++);var J=Xu(a,d,b,O);return-1<J?(d=a[J],m||(d.fa=!1)):(d=new _n(d,this.src,B,!!b,O),d.fa=m,a.push(d)),d};function Qu(a,d){var m=d.type;if(m in a.g){var b=a.g[m],O=Array.prototype.indexOf.call(b,d,void 0),B;(B=0<=O)&&Array.prototype.splice.call(b,O,1),B&&(Ai(d),a.g[m].length==0&&(delete a.g[m],a.h--))}}function Xu(a,d,m,b){for(var O=0;O<a.length;++O){var B=a[O];if(!B.da&&B.listener==d&&B.capture==!!m&&B.ha==b)return O}return-1}var Zu="closure_lm_"+(1e6*Math.random()|0),Ju={};function Sg(a,d,m,b,O){if(b&&b.once)return xg(a,d,m,b,O);if(Array.isArray(d)){for(var B=0;B<d.length;B++)Sg(a,d[B],m,b,O);return null}return m=ih(m),a&&a[lt]?a.K(d,m,u(b)?!!b.capture:!!b,O):Ig(a,d,m,!1,b,O)}function Ig(a,d,m,b,O,B){if(!d)throw Error("Invalid event type");var J=u(O)?!!O.capture:!!O,Ze=th(a);if(Ze||(a[Zu]=Ze=new Ji(a)),m=Ze.add(d,m,b,J,B),m.proxy)return m;if(b=OS(),m.proxy=b,b.src=a,b.listener=m,a.addEventListener)nt||(O=J),O===void 0&&(O=!1),a.addEventListener(d.toString(),b,O);else if(a.attachEvent)a.attachEvent(Tg(d.toString()),b);else if(a.addListener&&a.removeListener)a.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return m}function OS(){function a(m){return d.call(a.src,a.listener,m)}let d=PS;return a}function xg(a,d,m,b,O){if(Array.isArray(d)){for(var B=0;B<d.length;B++)xg(a,d[B],m,b,O);return null}return m=ih(m),a&&a[lt]?a.L(d,m,u(b)?!!b.capture:!!b,O):Ig(a,d,m,!0,b,O)}function Ag(a,d,m,b,O){if(Array.isArray(d))for(var B=0;B<d.length;B++)Ag(a,d[B],m,b,O);else b=u(b)?!!b.capture:!!b,m=ih(m),a&&a[lt]?(a=a.i,d=String(d).toString(),d in a.g&&(B=a.g[d],m=Xu(B,m,b,O),-1<m&&(Ai(B[m]),Array.prototype.splice.call(B,m,1),B.length==0&&(delete a.g[d],a.h--)))):a&&(a=th(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Xu(d,m,b,O)),(m=-1<a?d[a]:null)&&eh(m))}function eh(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[lt])Qu(d.i,a);else{var m=a.type,b=a.proxy;d.removeEventListener?d.removeEventListener(m,b,a.capture):d.detachEvent?d.detachEvent(Tg(m),b):d.addListener&&d.removeListener&&d.removeListener(b),(m=th(d))?(Qu(m,a),m.h==0&&(m.src=null,d[Zu]=null)):Ai(a)}}}function Tg(a){return a in Ju?Ju[a]:Ju[a]="on"+a}function PS(a,d){if(a.da)a=!0;else{d=new Zi(d,this);var m=a.listener,b=a.ha||a.src;a.fa&&eh(a),a=m.call(b,d)}return a}function th(a){return a=a[Zu],a instanceof Ji?a:null}var nh="__closure_events_fn_"+(1e9*Math.random()>>>0);function ih(a){return typeof a=="function"?a:(a[nh]||(a[nh]=function(d){return a.handleEvent(d)}),a[nh])}function Lt(){at.call(this),this.i=new Ji(this),this.M=this,this.F=null}I(Lt,at),Lt.prototype[lt]=!0,Lt.prototype.removeEventListener=function(a,d,m,b){Ag(this,a,d,m,b)};function on(a,d){var m,b=a.F;if(b)for(m=[];b;b=b.F)m.push(b);if(a=a.M,b=d.type||d,typeof d=="string")d=new tt(d,a);else if(d instanceof tt)d.target=d.target||a;else{var O=d;d=new tt(b,a),T(d,O)}if(O=!0,m)for(var B=m.length-1;0<=B;B--){var J=d.g=m[B];O=zl(J,b,!0,d)&&O}if(J=d.g=a,O=zl(J,b,!0,d)&&O,O=zl(J,b,!1,d)&&O,m)for(B=0;B<m.length;B++)J=d.g=m[B],O=zl(J,b,!1,d)&&O}Lt.prototype.N=function(){if(Lt.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var m=a.g[d],b=0;b<m.length;b++)Ai(m[b]);delete a.g[d],a.h--}}this.F=null},Lt.prototype.K=function(a,d,m,b){return this.i.add(String(a),d,!1,m,b)},Lt.prototype.L=function(a,d,m,b){return this.i.add(String(a),d,!0,m,b)};function zl(a,d,m,b){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var O=!0,B=0;B<d.length;++B){var J=d[B];if(J&&!J.da&&J.capture==m){var Ze=J.listener,kt=J.ha||J.src;J.fa&&Qu(a.i,J),O=Ze.call(kt,b)!==!1&&O}}return O&&!b.defaultPrevented}function Dg(a,d,m){if(typeof a=="function")m&&(a=C(a,m));else if(a&&typeof a.handleEvent=="function")a=C(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(a,d||0)}function Rg(a){a.g=Dg(()=>{a.g=null,a.i&&(a.i=!1,Rg(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class NS extends at{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Rg(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gs(a){at.call(this),this.h=a,this.g={}}I(Gs,at);var Mg=[];function kg(a){ye(a.g,function(d,m){this.g.hasOwnProperty(m)&&eh(d)},a),a.g={}}Gs.prototype.N=function(){Gs.aa.N.call(this),kg(this)},Gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rh=l.JSON.stringify,FS=l.JSON.parse,LS=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function oh(){}oh.prototype.h=null;function Og(a){return a.h||(a.h=a.i())}function Pg(){}var Ys={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sh(){tt.call(this,"d")}I(sh,tt);function ah(){tt.call(this,"c")}I(ah,tt);var kr={},Ng=null;function $l(){return Ng=Ng||new Lt}kr.La="serverreachability";function Fg(a){tt.call(this,kr.La,a)}I(Fg,tt);function Qs(a){let d=$l();on(d,new Fg(d))}kr.STAT_EVENT="statevent";function Lg(a,d){tt.call(this,kr.STAT_EVENT,a),this.stat=d}I(Lg,tt);function sn(a){let d=$l();on(d,new Lg(d,a))}kr.Ma="timingevent";function Vg(a,d){tt.call(this,kr.Ma,a),this.size=d}I(Vg,tt);function Xs(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},d)}function Zs(){this.g=!0}Zs.prototype.xa=function(){this.g=!1};function VS(a,d,m,b,O,B){a.info(function(){if(a.g)if(B)for(var J="",Ze=B.split("&"),kt=0;kt<Ze.length;kt++){var Ke=Ze[kt].split("=");if(1<Ke.length){var Vt=Ke[0];Ke=Ke[1];var Bt=Vt.split("_");J=2<=Bt.length&&Bt[1]=="type"?J+(Vt+"="+Ke+"&"):J+(Vt+"=redacted&")}}else J=null;else J=B;return"XMLHTTP REQ ("+b+") [attempt "+O+"]: "+d+`
`+m+`
`+J})}function BS(a,d,m,b,O,B,J){a.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+O+"]: "+d+`
`+m+`
`+B+" "+J})}function Io(a,d,m,b){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+US(a,m)+(b?" "+b:"")})}function jS(a,d){a.info(function(){return"TIMEOUT: "+d})}Zs.prototype.info=function(){};function US(a,d){if(!a.g)return d;if(!d)return null;try{var m=JSON.parse(d);if(m){for(a=0;a<m.length;a++)if(Array.isArray(m[a])){var b=m[a];if(!(2>b.length)){var O=b[1];if(Array.isArray(O)&&!(1>O.length)){var B=O[0];if(B!="noop"&&B!="stop"&&B!="close")for(var J=1;J<O.length;J++)O[J]=""}}}}return rh(m)}catch{return d}}var ql={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},lh;function Hl(){}I(Hl,oh),Hl.prototype.g=function(){return new XMLHttpRequest},Hl.prototype.i=function(){return{}},lh=new Hl;function er(a,d,m,b){this.j=a,this.i=d,this.l=m,this.R=b||1,this.U=new Gs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jg}function jg(){this.i=null,this.g="",this.h=!1}var Ug={},ch={};function dh(a,d,m){a.L=1,a.v=Yl(Ti(d)),a.m=m,a.P=!0,zg(a,null)}function zg(a,d){a.F=Date.now(),Wl(a),a.A=Ti(a.v);var m=a.A,b=a.R;Array.isArray(b)||(b=[String(b)]),n_(m.i,"t",b),a.C=0,m=a.j.J,a.h=new jg,a.g=v_(a.j,m?d:null,!a.m),0<a.O&&(a.M=new NS(C(a.Y,a,a.g),a.O)),d=a.U,m=a.g,b=a.ca;var O="readystatechange";Array.isArray(O)||(O&&(Mg[0]=O.toString()),O=Mg);for(var B=0;B<O.length;B++){var J=Sg(m,O[B],b||d.handleEvent,!1,d.h||d);if(!J)break;d.g[J.key]=J}d=a.H?w(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Qs(),VS(a.i,a.u,a.A,a.l,a.R,a.m)}er.prototype.ca=function(a){a=a.target;let d=this.M;d&&Di(a)==3?d.j():this.Y(a)},er.prototype.Y=function(a){try{if(a==this.g)e:{let Bt=Di(this.g);var d=this.g.Ba();let To=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||c_(this.g)))){this.J||Bt!=4||d==7||(d==8||0>=To?Qs(3):Qs(2)),uh(this);var m=this.g.Z();this.X=m;t:if($g(this)){var b=c_(this.g);a="";var O=b.length,B=Di(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Or(this),Js(this);var J="";break t}this.h.i=new l.TextDecoder}for(d=0;d<O;d++)this.h.h=!0,a+=this.h.i.decode(b[d],{stream:!(B&&d==O-1)});b.length=0,this.h.g+=a,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=m==200,BS(this.i,this.u,this.A,this.l,this.R,Bt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,kt=this.g;if((Ze=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Ze)){var Ke=Ze;break t}}Ke=null}if(m=Ke)Io(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hh(this,m);else{this.o=!1,this.s=3,sn(12),Or(this),Js(this);break e}}if(this.P){m=!0;let Zn;for(;!this.J&&this.C<J.length;)if(Zn=zS(this,J),Zn==ch){Bt==4&&(this.s=4,sn(14),m=!1),Io(this.i,this.l,null,"[Incomplete Response]");break}else if(Zn==Ug){this.s=4,sn(15),Io(this.i,this.l,J,"[Invalid Chunk]"),m=!1;break}else Io(this.i,this.l,Zn,null),hh(this,Zn);if($g(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||J.length!=0||this.h.h||(this.s=1,sn(16),m=!1),this.o=this.o&&m,!m)Io(this.i,this.l,J,"[Invalid Chunked Response]"),Or(this),Js(this);else if(0<J.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),yh(Vt),Vt.M=!0,sn(11))}}else Io(this.i,this.l,J,null),hh(this,J);Bt==4&&Or(this),this.o&&!this.J&&(Bt==4?g_(this.j,this):(this.o=!1,Wl(this)))}else oI(this.g),m==400&&0<J.indexOf("Unknown SID")?(this.s=3,sn(12)):(this.s=0,sn(13)),Or(this),Js(this)}}}catch{}finally{}};function $g(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function zS(a,d){var m=a.C,b=d.indexOf(`
`,m);return b==-1?ch:(m=Number(d.substring(m,b)),isNaN(m)?Ug:(b+=1,b+m>d.length?ch:(d=d.slice(b,b+m),a.C=b+m,d)))}er.prototype.cancel=function(){this.J=!0,Or(this)};function Wl(a){a.S=Date.now()+a.I,qg(a,a.I)}function qg(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Xs(C(a.ba,a),d)}function uh(a){a.B&&(l.clearTimeout(a.B),a.B=null)}er.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(jS(this.i,this.A),this.L!=2&&(Qs(),sn(17)),Or(this),this.s=2,Js(this)):qg(this,this.S-a)};function Js(a){a.j.G==0||a.J||g_(a.j,a)}function Or(a){uh(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,kg(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function hh(a,d){try{var m=a.j;if(m.G!=0&&(m.g==a||mh(m.h,a))){if(!a.K&&mh(m.h,a)&&m.G==3){try{var b=m.Da.g.parse(d)}catch{b=null}if(Array.isArray(b)&&b.length==3){var O=b;if(O[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<a.F)ec(m),Zl(m);else break e;_h(m),sn(18)}}else m.za=O[1],0<m.za-m.T&&37500>O[2]&&m.F&&m.v==0&&!m.C&&(m.C=Xs(C(m.Za,m),6e3));if(1>=Kg(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Nr(m,11)}else if((a.K||m.g==a)&&ec(m),!X(d))for(O=m.Da.g.parse(d),d=0;d<O.length;d++){let Ke=O[d];if(m.T=Ke[0],Ke=Ke[1],m.G==2)if(Ke[0]=="c"){m.K=Ke[1],m.ia=Ke[2];let Vt=Ke[3];Vt!=null&&(m.la=Vt,m.j.info("VER="+m.la));let Bt=Ke[4];Bt!=null&&(m.Aa=Bt,m.j.info("SVER="+m.Aa));let To=Ke[5];To!=null&&typeof To=="number"&&0<To&&(b=1.5*To,m.L=b,m.j.info("backChannelRequestTimeoutMs_="+b)),b=m;let Zn=a.g;if(Zn){let nc=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nc){var B=b.h;B.g||nc.indexOf("spdy")==-1&&nc.indexOf("quic")==-1&&nc.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(ph(B,B.h),B.h=null))}if(b.D){let bh=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;bh&&(b.ya=bh,it(b.I,b.D,bh))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-a.F,m.j.info("Handshake RTT: "+m.R+"ms")),b=m;var J=a;if(b.qa=b_(b,b.J?b.ia:null,b.W),J.K){Gg(b.h,J);var Ze=J,kt=b.L;kt&&(Ze.I=kt),Ze.B&&(uh(Ze),Wl(Ze)),b.g=J}else p_(b);0<m.i.length&&Jl(m)}else Ke[0]!="stop"&&Ke[0]!="close"||Nr(m,7);else m.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Nr(m,7):gh(m):Ke[0]!="noop"&&m.l&&m.l.ta(Ke),m.v=0)}}Qs(4)}catch{}}var $S=class{constructor(a,d){this.g=a,this.map=d}};function Hg(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wg(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Kg(a){return a.h?1:a.g?a.g.size:0}function mh(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function ph(a,d){a.g?a.g.add(d):a.h=d}function Gg(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Hg.prototype.cancel=function(){if(this.i=Yg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function Yg(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let m of a.g.values())d=d.concat(m.D);return d}return R(a.i)}function qS(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var d=[],m=a.length,b=0;b<m;b++)d.push(a[b]);return d}d=[],m=0;for(b in a)d[m++]=a[b];return d}function HS(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var d=[];a=a.length;for(var m=0;m<a;m++)d.push(m);return d}d=[],m=0;for(let b in a)d[m++]=b;return d}}}function Qg(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var m=HS(a),b=qS(a),O=b.length,B=0;B<O;B++)d.call(void 0,b[B],m&&m[B],a)}var Xg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function WS(a,d){if(a){a=a.split("&");for(var m=0;m<a.length;m++){var b=a[m].indexOf("="),O=null;if(0<=b){var B=a[m].substring(0,b);O=a[m].substring(b+1)}else B=a[m];d(B,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Pr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Pr){this.h=a.h,Kl(this,a.j),this.o=a.o,this.g=a.g,Gl(this,a.s),this.l=a.l;var d=a.i,m=new na;m.i=d.i,d.g&&(m.g=new Map(d.g),m.h=d.h),Zg(this,m),this.m=a.m}else a&&(d=String(a).match(Xg))?(this.h=!1,Kl(this,d[1]||"",!0),this.o=ea(d[2]||""),this.g=ea(d[3]||"",!0),Gl(this,d[4]),this.l=ea(d[5]||"",!0),Zg(this,d[6]||"",!0),this.m=ea(d[7]||"")):(this.h=!1,this.i=new na(null,this.h))}Pr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(ta(d,Jg,!0),":");var m=this.g;return(m||d=="file")&&(a.push("//"),(d=this.o)&&a.push(ta(d,Jg,!0),"@"),a.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&a.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&a.push("/"),a.push(ta(m,m.charAt(0)=="/"?YS:GS,!0))),(m=this.i.toString())&&a.push("?",m),(m=this.m)&&a.push("#",ta(m,XS)),a.join("")};function Ti(a){return new Pr(a)}function Kl(a,d,m){a.j=m?ea(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Gl(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function Zg(a,d,m){d instanceof na?(a.i=d,ZS(a.i,a.h)):(m||(d=ta(d,QS)),a.i=new na(d,a.h))}function it(a,d,m){a.i.set(d,m)}function Yl(a){return it(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function ea(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ta(a,d,m){return typeof a=="string"?(a=encodeURI(a).replace(d,KS),m&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function KS(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Jg=/[#\/\?@]/g,GS=/[#\?:]/g,YS=/[#\?]/g,QS=/[#\?@]/g,XS=/#/g;function na(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function tr(a){a.g||(a.g=new Map,a.h=0,a.i&&WS(a.i,function(d,m){a.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}i=na.prototype,i.add=function(a,d){tr(this),this.i=null,a=xo(this,a);var m=this.g.get(a);return m||this.g.set(a,m=[]),m.push(d),this.h+=1,this};function e_(a,d){tr(a),d=xo(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function t_(a,d){return tr(a),d=xo(a,d),a.g.has(d)}i.forEach=function(a,d){tr(this),this.g.forEach(function(m,b){m.forEach(function(O){a.call(d,O,b,this)},this)},this)},i.na=function(){tr(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),m=[];for(let b=0;b<d.length;b++){let O=a[b];for(let B=0;B<O.length;B++)m.push(d[b])}return m},i.V=function(a){tr(this);let d=[];if(typeof a=="string")t_(this,a)&&(d=d.concat(this.g.get(xo(this,a))));else{a=Array.from(this.g.values());for(let m=0;m<a.length;m++)d=d.concat(a[m])}return d},i.set=function(a,d){return tr(this),this.i=null,a=xo(this,a),t_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},i.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function n_(a,d,m){e_(a,d),0<m.length&&(a.i=null,a.g.set(xo(a,d),R(m)),a.h+=m.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var m=0;m<d.length;m++){var b=d[m];let B=encodeURIComponent(String(b)),J=this.V(b);for(b=0;b<J.length;b++){var O=B;J[b]!==""&&(O+="="+encodeURIComponent(String(J[b]))),a.push(O)}}return this.i=a.join("&")};function xo(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function ZS(a,d){d&&!a.j&&(tr(a),a.i=null,a.g.forEach(function(m,b){var O=b.toLowerCase();b!=O&&(e_(this,b),n_(this,O,m))},a)),a.j=d}function JS(a,d){let m=new Zs;if(l.Image){let b=new Image;b.onload=A(nr,m,"TestLoadImage: loaded",!0,d,b),b.onerror=A(nr,m,"TestLoadImage: error",!1,d,b),b.onabort=A(nr,m,"TestLoadImage: abort",!1,d,b),b.ontimeout=A(nr,m,"TestLoadImage: timeout",!1,d,b),l.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=a}else d(!1)}function eI(a,d){let m=new Zs,b=new AbortController,O=setTimeout(()=>{b.abort(),nr(m,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:b.signal}).then(B=>{clearTimeout(O),B.ok?nr(m,"TestPingServer: ok",!0,d):nr(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(O),nr(m,"TestPingServer: error",!1,d)})}function nr(a,d,m,b,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),b(m)}catch{}}function tI(){this.g=new LS}function nI(a,d,m){let b=m||"";try{Qg(a,function(O,B){let J=O;u(O)&&(J=rh(O)),d.push(b+B+"="+encodeURIComponent(J))})}catch(O){throw d.push(b+"type="+encodeURIComponent("_badmap")),O}}function ia(a){this.l=a.Ub||null,this.j=a.eb||!1}I(ia,oh),ia.prototype.g=function(){return new Ql(this.l,this.j)},ia.prototype.i=(function(a){return function(){return a}})({});function Ql(a,d){Lt.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Ql,Lt),i=Ql.prototype,i.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,oa(this)},i.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ra(this)),this.readyState=0},i.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,oa(this)),this.g&&(this.readyState=3,oa(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;i_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function i_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}i.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?ra(this):oa(this),this.readyState==3&&i_(this)}},i.Ra=function(a){this.g&&(this.response=this.responseText=a,ra(this))},i.Qa=function(a){this.g&&(this.response=a,ra(this))},i.ga=function(){this.g&&ra(this)};function ra(a){a.readyState=4,a.l=null,a.j=null,a.v=null,oa(a)}i.setRequestHeader=function(a,d){this.u.append(a,d)},i.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,a.push(m[0]+": "+m[1]),m=d.next();return a.join(`\r
`)};function oa(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ql.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function r_(a){let d="";return ye(a,function(m,b){d+=b,d+=":",d+=m,d+=`\r
`}),d}function fh(a,d,m){e:{for(b in m){var b=!1;break e}b=!0}b||(m=r_(m),typeof a=="string"?m!=null&&encodeURIComponent(String(m)):it(a,d,m))}function ct(a){Lt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(ct,Lt);var iI=/^https?$/i,rI=["POST","PUT"];i=ct.prototype,i.Ha=function(a){this.J=a},i.ea=function(a,d,m,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lh.g(),this.v=this.o?Og(this.o):Og(lh),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(B){o_(this,B);return}if(a=m||"",m=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var O in b)m.set(O,b[O]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(let B of b.keys())m.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(m.keys()).find(B=>B.toLowerCase()=="content-type"),O=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(rI,d,void 0))||b||O||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[B,J]of m)this.g.setRequestHeader(B,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{l_(this),this.u=!0,this.g.send(a),this.u=!1}catch(B){o_(this,B)}};function o_(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,s_(a),Xl(a)}function s_(a){a.A||(a.A=!0,on(a,"complete"),on(a,"error"))}i.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,on(this,"complete"),on(this,"abort"),Xl(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xl(this,!0)),ct.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?a_(this):this.bb())},i.bb=function(){a_(this)};function a_(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Di(a)!=4||a.Z()!=2)){if(a.u&&Di(a)==4)Dg(a.Ea,0,a);else if(on(a,"readystatechange"),Di(a)==4){a.h=!1;try{let J=a.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var b;if(b=J===0){var O=String(a.D).match(Xg)[1]||null;!O&&l.self&&l.self.location&&(O=l.self.location.protocol.slice(0,-1)),b=!iI.test(O?O.toLowerCase():"")}m=b}if(m)on(a,"complete"),on(a,"success");else{a.m=6;try{var B=2<Di(a)?a.g.statusText:""}catch{B=""}a.l=B+" ["+a.Z()+"]",s_(a)}}finally{Xl(a)}}}}function Xl(a,d){if(a.g){l_(a);let m=a.g,b=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||on(a,"ready");try{m.onreadystatechange=b}catch{}}}function l_(a){a.I&&(l.clearTimeout(a.I),a.I=null)}i.isActive=function(){return!!this.g};function Di(a){return a.g?a.g.readyState:0}i.Z=function(){try{return 2<Di(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),FS(d)}};function c_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function oI(a){let d={};a=(a.g&&2<=Di(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<a.length;b++){if(X(a[b]))continue;var m=k(a[b]);let O=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let B=d[O]||[];d[O]=B,B.push(m)}x(d,function(b){return b.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sa(a,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[a]||d}function d_(a){this.Aa=0,this.i=[],this.j=new Zs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sa("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sa("baseRetryDelayMs",5e3,a),this.cb=sa("retryDelaySeedMs",1e4,a),this.Wa=sa("forwardChannelMaxRetries",2,a),this.wa=sa("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Hg(a&&a.concurrentRequestLimit),this.Da=new tI,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=d_.prototype,i.la=8,i.G=1,i.connect=function(a,d,m,b){sn(0),this.W=a,this.H=d||{},m&&b!==void 0&&(this.H.OSID=m,this.H.OAID=b),this.F=this.X,this.I=b_(this,null,this.W),Jl(this)};function gh(a){if(u_(a),a.G==3){var d=a.U++,m=Ti(a.I);if(it(m,"SID",a.K),it(m,"RID",d),it(m,"TYPE","terminate"),aa(a,m),d=new er(a,a.j,d),d.L=2,d.v=Yl(Ti(m)),m=!1,l.navigator&&l.navigator.sendBeacon)try{m=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!m&&l.Image&&(new Image().src=d.v,m=!0),m||(d.g=v_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Wl(d)}y_(a)}function Zl(a){a.g&&(yh(a),a.g.cancel(),a.g=null)}function u_(a){Zl(a),a.u&&(l.clearTimeout(a.u),a.u=null),ec(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Jl(a){if(!Wg(a.h)&&!a.s){a.s=!0;var d=a.Ga;ce||ut(),pe||(ce(),pe=!0),je.add(d,a),a.B=0}}function sI(a,d){return Kg(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Xs(C(a.Ga,a,d),__(a,a.B)),a.B++,!0)}i.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let O=new er(this,this.j,a),B=this.o;if(this.S&&(B?(B=w(B),T(B,this.S)):B=this.S),this.m!==null||this.O||(O.H=B,B=null),this.P)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var b=this.i[m];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(d+=b,4096<d){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=m_(this,O,d),m=Ti(this.I),it(m,"RID",a),it(m,"CVER",22),this.D&&it(m,"X-HTTP-Session-Id",this.D),aa(this,m),B&&(this.O?d="headers="+encodeURIComponent(String(r_(B)))+"&"+d:this.m&&fh(m,this.m,B)),ph(this.h,O),this.Ua&&it(m,"TYPE","init"),this.P?(it(m,"$req",d),it(m,"SID","null"),O.T=!0,dh(O,m,null)):dh(O,m,d),this.G=2}}else this.G==3&&(a?h_(this,a):this.i.length==0||Wg(this.h)||h_(this))};function h_(a,d){var m;d?m=d.l:m=a.U++;let b=Ti(a.I);it(b,"SID",a.K),it(b,"RID",m),it(b,"AID",a.T),aa(a,b),a.m&&a.o&&fh(b,a.m,a.o),m=new er(a,a.j,m,a.B+1),a.m===null&&(m.H=a.o),d&&(a.i=d.D.concat(a.i)),d=m_(a,m,1e3),m.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),ph(a.h,m),dh(m,b,d)}function aa(a,d){a.H&&ye(a.H,function(m,b){it(d,b,m)}),a.l&&Qg({},function(m,b){it(d,b,m)})}function m_(a,d,m){m=Math.min(a.i.length,m);var b=a.l?C(a.l.Na,a.l,a):null;e:{var O=a.i;let B=-1;for(;;){let J=["count="+m];B==-1?0<m?(B=O[0].g,J.push("ofs="+B)):B=0:J.push("ofs="+B);let Ze=!0;for(let kt=0;kt<m;kt++){let Ke=O[kt].g,Vt=O[kt].map;if(Ke-=B,0>Ke)B=Math.max(0,O[kt].g-100),Ze=!1;else try{nI(Vt,J,"req"+Ke+"_")}catch{b&&b(Vt)}}if(Ze){b=J.join("&");break e}}}return a=a.i.splice(0,m),d.D=a,b}function p_(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;ce||ut(),pe||(ce(),pe=!0),je.add(d,a),a.v=0}}function _h(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Xs(C(a.Fa,a),__(a,a.v)),a.v++,!0)}i.Fa=function(){if(this.u=null,f_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Xs(C(this.ab,this),a)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,sn(10),Zl(this),f_(this))};function yh(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function f_(a){a.g=new er(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Ti(a.qa);it(d,"RID","rpc"),it(d,"SID",a.K),it(d,"AID",a.T),it(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&it(d,"TO",a.ja),it(d,"TYPE","xmlhttp"),aa(a,d),a.m&&a.o&&fh(d,a.m,a.o),a.L&&(a.g.I=a.L);var m=a.g;a=a.ia,m.L=1,m.v=Yl(Ti(d)),m.m=null,m.P=!0,zg(m,a)}i.Za=function(){this.C!=null&&(this.C=null,Zl(this),_h(this),sn(19))};function ec(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function g_(a,d){var m=null;if(a.g==d){ec(a),yh(a),a.g=null;var b=2}else if(mh(a.h,d))m=d.D,Gg(a.h,d),b=1;else return;if(a.G!=0){if(d.o)if(b==1){m=d.m?d.m.length:0,d=Date.now()-d.F;var O=a.B;b=$l(),on(b,new Vg(b,m)),Jl(a)}else p_(a);else if(O=d.s,O==3||O==0&&0<d.X||!(b==1&&sI(a,d)||b==2&&_h(a)))switch(m&&0<m.length&&(d=a.h,d.i=d.i.concat(m)),O){case 1:Nr(a,5);break;case 4:Nr(a,10);break;case 3:Nr(a,6);break;default:Nr(a,2)}}}function __(a,d){let m=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(m*=2),m*d}function Nr(a,d){if(a.j.info("Error code "+d),d==2){var m=C(a.fb,a),b=a.Xa;let O=!b;b=new Pr(b||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Kl(b,"https"),Yl(b),O?JS(b.toString(),m):eI(b.toString(),m)}else sn(2);a.G=0,a.l&&a.l.sa(d),y_(a),u_(a)}i.fb=function(a){a?(this.j.info("Successfully pinged google.com"),sn(2)):(this.j.info("Failed to ping google.com"),sn(1))};function y_(a){if(a.G=0,a.ka=[],a.l){let d=Yg(a.h);(d.length!=0||a.i.length!=0)&&(F(a.ka,d),F(a.ka,a.i),a.h.i.length=0,R(a.i),a.i.length=0),a.l.ra()}}function b_(a,d,m){var b=m instanceof Pr?Ti(m):new Pr(m);if(b.g!="")d&&(b.g=d+"."+b.g),Gl(b,b.s);else{var O=l.location;b=O.protocol,d=d?d+"."+O.hostname:O.hostname,O=+O.port;var B=new Pr(null);b&&Kl(B,b),d&&(B.g=d),O&&Gl(B,O),m&&(B.l=m),b=B}return m=a.D,d=a.ya,m&&d&&it(b,m,d),it(b,"VER",a.la),aa(a,b),b}function v_(a,d,m){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new ct(new ia({eb:m})):new ct(a.pa),d.Ha(a.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function w_(){}i=w_.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function tc(){}tc.prototype.g=function(a,d){return new Rn(a,d)};function Rn(a,d){Lt.call(this),this.g=new d_(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!X(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!X(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Ao(this)}I(Rn,Lt),Rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){gh(this.g)},Rn.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var m={};m.__data__=a,a=m}else this.u&&(m={},m.__data__=rh(a),a=m);d.i.push(new $S(d.Ya++,a)),d.G==3&&Jl(d)},Rn.prototype.N=function(){this.g.l=null,delete this.j,gh(this.g),delete this.g,Rn.aa.N.call(this)};function C_(a){sh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let m in d){a=m;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}I(C_,sh);function E_(){ah.call(this),this.status=1}I(E_,ah);function Ao(a){this.g=a}I(Ao,w_),Ao.prototype.ua=function(){on(this.g,"a")},Ao.prototype.ta=function(a){on(this.g,new C_(a))},Ao.prototype.sa=function(a){on(this.g,new E_)},Ao.prototype.ra=function(){on(this.g,"b")},tc.prototype.createWebChannel=tc.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,Aw=qi.createWebChannelTransport=function(){return new tc},xw=qi.getStatEventTarget=function(){return $l()},Iw=qi.Event=kr,Sw=qi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ql.NO_ERROR=0,ql.TIMEOUT=8,ql.HTTP_ERROR=6,Ew=qi.ErrorCode=ql,Bg.COMPLETE="complete",Cw=qi.EventType=Bg,Pg.EventType=Ys,Ys.OPEN="a",Ys.CLOSE="b",Ys.ERROR="c",Ys.MESSAGE="d",Lt.prototype.listen=Lt.prototype.K,ww=qi.WebChannel=Pg,jM=qi.FetchXmlHttpFactory=ia,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,vw=qi.XhrIo=ct}).apply(typeof su<"u"?su:typeof self<"u"?self:typeof window<"u"?window:{});var Tw="@firebase/firestore",Dw="4.8.0";var Ft=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");var Cl="11.10.0";var Ls=new dr("@firebase/firestore");function li(i,...t){if(Ls.logLevel<=qo.DEBUG){let e=t.map(tf);Ls.debug(`Firestore (${Cl}): ${i}`,...e)}}function zw(i,...t){if(Ls.logLevel<=qo.ERROR){let e=t.map(tf);Ls.error(`Firestore (${Cl}): ${i}`,...e)}}function UM(i,...t){if(Ls.logLevel<=qo.WARN){let e=t.map(tf);Ls.warn(`Firestore (${Cl}): ${i}`,...e)}}function tf(i){if(typeof i=="string")return i;try{return(function(e){return JSON.stringify(e)})(i)}catch{return i}}function In(i,t,e){let n="Unexpected state";typeof t=="string"?n=t:e=t,$w(i,n,e)}function $w(i,t,e){let n=`FIRESTORE (${Cl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{n+=" CONTEXT: "+JSON.stringify(e)}catch{n+=" CONTEXT: "+e}throw zw(n),new Error(n)}function go(i,t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,i||$w(t,r,n)}var He={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ze=class extends ni{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var _o=class{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}};var au=class{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},Fp=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ft.UNAUTHENTICATED))}shutdown(){}},Lp=class{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}},Vp=class{constructor(t){this.t=t,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){go(this.o===void 0,42304);let n=this.i,r=c=>this.i!==n?(n=this.i,e(c)):Promise.resolve(),o=new _o;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _o,t.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let c=o;t.enqueueRetryable(()=>j(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},l=c=>{li("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?l(c):(li("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _o)}},0),s()}getToken(){let t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(n=>this.i!==t?(li("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(go(typeof n.accessToken=="string",31837,{l:n}),new au(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let t=this.auth&&this.auth.getUid();return go(t===null||typeof t=="string",2055,{h:t}),new Ft(t)}},Bp=class{constructor(t,e,n){this.P=t,this.T=e,this.I=n,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},jp=class{constructor(t,e,n){this.P=t,this.T=e,this.I=n}getToken(){return Promise.resolve(new Bp(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}},lu=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Up=class{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jr(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){go(this.o===void 0,3512);let n=o=>{o.error!=null&&li("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,li("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>n(o))};let r=o=>{li("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?r(o):li("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new lu(this.p));let t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(go(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new lu(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function zM(i){let t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let n=0;n<i;n++)e[n]=Math.floor(256*Math.random());return e}function $M(){return new TextEncoder}var zp=class{static newId(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516),n="";for(;n.length<20;){let r=zM(40);for(let o=0;o<r.length;++o)n.length<20&&r[o]<e&&(n+=t.charAt(r[o]%62))}return n}};function Qn(i,t){return i<t?-1:i>t?1:0}function qM(i,t){let e=0;for(;e<i.length&&e<t.length;){let n=i.codePointAt(e),r=t.codePointAt(e);if(n!==r){if(n<128&&r<128)return Qn(n,r);{let o=$M(),s=HM(o.encode(Rw(i,e)),o.encode(Rw(t,e)));return s!==0?s:Qn(n,r)}}e+=n>65535?2:1}return Qn(i.length,t.length)}function Rw(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function HM(i,t){for(let e=0;e<i.length&&e<t.length;++e)if(i[e]!==t[e])return Qn(i[e],t[e]);return Qn(i.length,t.length)}var Mw="__name__",cu=class i{constructor(t,e,n){e===void 0?e=0:e>t.length&&In(637,{offset:e,range:t.length}),n===void 0?n=t.length-e:n>t.length-e&&In(1746,{length:n,range:t.length-e}),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return i.comparator(this,t)===0}child(t){let e=this.segments.slice(this.offset,this.limit());return t instanceof i?t.forEach(n=>{e.push(n)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){let n=Math.min(t.length,e.length);for(let r=0;r<n;r++){let o=i.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return Qn(t.length,e.length)}static compareSegments(t,e){let n=i.isNumericId(t),r=i.isNumericId(e);return n&&!r?-1:!n&&r?1:n&&r?i.extractNumericId(t).compare(i.extractNumericId(e)):qM(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ou.fromString(t.substring(4,t.length-2))}},Hi=class i extends cu{construct(t,e,n){return new i(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){let e=[];for(let n of t){if(n.indexOf("//")>=0)throw new ze(He.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(r=>r.length>0))}return new i(e)}static emptyPath(){return new i([])}},WM=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$p=class i extends cu{construct(t,e,n){return new i(t,e,n)}static isValidIdentifier(t){return WM.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),i.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Mw}static keyField(){return new i([Mw])}static fromServerFormat(t){let e=[],n="",r=0,o=()=>{if(n.length===0)throw new ze(He.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""},s=!1;for(;r<t.length;){let l=t[r];if(l==="\\"){if(r+1===t.length)throw new ze(He.INVALID_ARGUMENT,"Path has trailing escape character: "+t);let c=t[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ze(He.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=c,r+=2}else l==="`"?(s=!s,r++):l!=="."||s?(n+=l,r++):(o(),r++)}if(o(),s)throw new ze(He.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new i(e)}static emptyPath(){return new i([])}};var Wi=class i{constructor(t){this.path=t}static fromPath(t){return new i(Hi.fromString(t))}static fromName(t){return new i(Hi.fromString(t).popFirst(5))}static empty(){return new i(Hi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Hi.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Hi.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new i(new Hi(t.slice()))}};function KM(i,t,e,n){if(t===!0&&n===!0)throw new ze(He.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function GM(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function YM(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{let t=(function(n){return n.constructor?n.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":In(12329,{type:typeof i})}function QM(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new ze(He.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let e=YM(i);throw new ze(He.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}function yt(i,t){let e={typeString:i};return t&&(e.value=t),e}function El(i,t){if(!GM(i))throw new ze(He.INVALID_ARGUMENT,"JSON must be an object");let e;for(let n in t)if(t[n]){let r=t[n].typeString,o="value"in t[n]?{value:t[n].value}:void 0;if(!(n in i)){e=`JSON missing required field: '${n}'`;break}let s=i[n];if(r&&typeof s!==r){e=`JSON field '${n}' must be a ${r}.`;break}if(o!==void 0&&s!==o.value){e=`Expected '${n}' field to equal '${o.value}'`;break}}if(e)throw new ze(He.INVALID_ARGUMENT,e);return!0}var kw=-62135596800,Ow=1e6,gl=class i{static now(){return i.fromMillis(Date.now())}static fromDate(t){return i.fromMillis(t.getTime())}static fromMillis(t){let e=Math.floor(t/1e3),n=Math.floor((t-1e3*e)*Ow);return new i(e,n)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ze(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ze(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<kw)throw new ze(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ze(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ow}_compareTo(t){return this.seconds===t.seconds?Qn(this.nanoseconds,t.nanoseconds):Qn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:i._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(El(t,i._jsonSchema))return new i(t.seconds,t.nanoseconds)}valueOf(){let t=this.seconds-kw;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};gl._jsonSchemaVersion="firestore/timestamp/1.0",gl._jsonSchema={type:yt("string",gl._jsonSchemaVersion),seconds:yt("number"),nanoseconds:yt("number")};var qp=class{constructor(t,e,n,r){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=r}};qp.UNKNOWN_ID=-1;function XM(i){return i.name==="IndexedDbTransactionError"}function ZM(i){return i===0&&1/i==-1/0}var JM="remoteDocuments",qw="owner";var Hw="mutationQueues";var Ww="mutations";var Kw="documentMutations",ek="remoteDocumentsV14";var Gw="remoteDocumentGlobal";var Yw="targets";var Qw="targetDocuments";var Xw="targetGlobal",Zw="collectionParents";var Jw="clientMetadata";var eC="bundles";var tC="namedQueries";var tk="indexConfiguration";var nk="indexState";var ik="indexEntries";var nC="documentOverlays";var rk="globals";var ok=[Hw,Ww,Kw,JM,Yw,qw,Xw,Qw,Jw,Gw,Zw,eC,tC],_9=[...ok,nC],sk=[Hw,Ww,Kw,ek,Yw,qw,Xw,Qw,Jw,Gw,Zw,eC,tC,nC],ak=sk,lk=[...ak,tk,nk,ik];var y9=[...lk,rk];var Vs=class i{constructor(t,e){this.comparator=t,this.root=e||Ei.EMPTY}insert(t,e){return new i(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ei.BLACK,null,null))}remove(t){return new i(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ei.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){let n=this.comparator(t,e.key);if(n===0)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(t,n.key);if(r===0)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){let t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Os(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Os(this.root,t,this.comparator,!1)}getReverseIterator(){return new Os(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Os(this.root,t,this.comparator,!0)}},Os=class{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?n(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},Ei=class i{constructor(t,e,n,r,o){this.key=t,this.value=e,this.color=n??i.RED,this.left=r??i.EMPTY,this.right=o??i.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,o){return new i(t??this.key,e??this.value,n??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this,o=n(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,n),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return i.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return i.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw In(43730,{key:this.key,value:this.value});if(this.right.isRed())throw In(14113,{key:this.key,value:this.value});let t=this.left.check();if(t!==this.right.check())throw In(27949);return t+(this.isRed()?0:1)}};Ei.EMPTY=null,Ei.RED=!0,Ei.BLACK=!1;Ei.EMPTY=new class{constructor(){this.size=0}get key(){throw In(57766)}get value(){throw In(16141)}get color(){throw In(16727)}get left(){throw In(29726)}get right(){throw In(36894)}copy(t,e,n,r,o){return this}insert(t,e,n){return new Ei(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var du=class i{constructor(t){this.comparator=t,this.data=new Vs(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){let n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){let e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new uu(this.data.getIterator())}getIteratorFrom(t){return new uu(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(n=>{e=e.add(n)}),e}isEqual(t){if(!(t instanceof i)||this.size!==t.size)return!1;let e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){let r=e.getNext().key,o=n.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let t=[];return this.forEach(e=>{t.push(e)}),t}toString(){let t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){let e=new i(this.comparator);return e.data=t,e}},uu=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Hp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ar=class i{constructor(t){this.binaryString=t}static fromBase64String(t){let e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Hp("Invalid base64 string: "+o):o}})(t);return new i(e)}static fromUint8Array(t){let e=(function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o})(t);return new i(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){let n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Qn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};Ar.EMPTY_BYTE_STRING=new Ar("");var ck=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dk(i){if(go(!!i,39018),typeof i=="string"){let t=0,e=ck.exec(i);if(go(!!e,46558,{timestamp:i}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}let n=new Date(i);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:_l(i.seconds),nanos:_l(i.nanos)}}function _l(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function uk(i){return typeof i=="string"?Ar.fromBase64String(i):Ar.fromUint8Array(i)}var Wp="(default)",Kp=class i{constructor(t,e){this.projectId=t,this.database=e||Wp}static empty(){return new i("","")}get isDefaultDatabase(){return this.database===Wp}isEqual(t){return t instanceof i&&t.projectId===this.projectId&&t.database===this.database}};var iC="__type__",hk="__max__";var rC="__vector__",oC="value";function mk(i){var t,e;return((e=(((t=i?.mapValue)===null||t===void 0?void 0:t.fields)||{})[iC])===null||e===void 0?void 0:e.stringValue)===rC}function pk(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===hk}var v9={mapValue:{fields:{[iC]:{stringValue:rC},[oC]:{arrayValue:{}}}}};var Gp=class{constructor(t,e=null,n=[],r=[],o=null,s="F",l=null,c=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function fk(i){return new Gp(i)}var w9=new Vs(Wi.comparator);var C9=new Vs(Wi.comparator);var E9=new Vs(Wi.comparator),S9=new du(Wi.comparator);var I9=new du(Qn);var Pw,qe;(qe=Pw||(Pw={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";var x9=new ou([4294967295,4294967295],0);var hu=class{constructor(){}bt(t,e){this.Dt(t,e),e.vt()}Dt(t,e){if("nullValue"in t)this.Ct(e,5);else if("booleanValue"in t)this.Ct(e,10),e.Ft(t.booleanValue?1:0);else if("integerValue"in t)this.Ct(e,15),e.Ft(_l(t.integerValue));else if("doubleValue"in t){let n=_l(t.doubleValue);isNaN(n)?this.Ct(e,13):(this.Ct(e,15),ZM(n)?e.Ft(0):e.Ft(n))}else if("timestampValue"in t){let n=t.timestampValue;this.Ct(e,20),typeof n=="string"&&(n=dk(n)),e.Mt(`${n.seconds||""}`),e.Ft(n.nanos||0)}else if("stringValue"in t)this.xt(t.stringValue,e),this.Ot(e);else if("bytesValue"in t)this.Ct(e,30),e.Nt(uk(t.bytesValue)),this.Ot(e);else if("referenceValue"in t)this.Bt(t.referenceValue,e);else if("geoPointValue"in t){let n=t.geoPointValue;this.Ct(e,45),e.Ft(n.latitude||0),e.Ft(n.longitude||0)}else"mapValue"in t?pk(t)?this.Ct(e,Number.MAX_SAFE_INTEGER):mk(t)?this.Lt(t.mapValue,e):(this.kt(t.mapValue,e),this.Ot(e)):"arrayValue"in t?(this.qt(t.arrayValue,e),this.Ot(e)):In(19022,{Qt:t})}xt(t,e){this.Ct(e,25),this.$t(t,e)}$t(t,e){e.Mt(t)}kt(t,e){let n=t.fields||{};this.Ct(e,55);for(let r of Object.keys(n))this.xt(r,e),this.Dt(n[r],e)}Lt(t,e){var n,r;let o=t.fields||{};this.Ct(e,53);let s=oC,l=((r=(n=o[s].arrayValue)===null||n===void 0?void 0:n.values)===null||r===void 0?void 0:r.length)||0;this.Ct(e,15),e.Ft(_l(l)),this.xt(s,e),this.Dt(o[s],e)}qt(t,e){let n=t.values||[];this.Ct(e,50);for(let r of n)this.Dt(r,e)}Bt(t,e){this.Ct(e,37),Wi.fromName(t).path.forEach(n=>{this.Ct(e,60),this.$t(n,e)})}Ct(t,e){t.Ft(e)}Ot(t){t.Ft(2)}};hu.Ut=new hu;var A9=new Uint8Array(0);var sC=41943040,Ci=class i{static withCacheSize(t){return new i(t,i.DEFAULT_COLLECTION_PERCENTILE,i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}};Ci.DEFAULT_COLLECTION_PERCENTILE=10,Ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ci.DEFAULT=new Ci(sC,Ci.DEFAULT_COLLECTION_PERCENTILE,Ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ci.DISABLED=new Ci(-1,0,0);var gk=1048576;function Np(){return typeof document<"u"?document:null}var Yp=class{constructor(t,e,n=1e3,r=1.5,o=6e4){this.Fi=t,this.timerId=e,this.d_=n,this.E_=r,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();let e=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),r=Math.max(0,e-n);r>0&&li("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var Qp=class i{constructor(t,e,n,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new _o,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,r,o){let s=Date.now()+n,l=new i(t,e,s,r,o);return l.start(n),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ze(He.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var Nw,Fw;(Fw=Nw||(Nw={})).Fa="default",Fw.Cache="cache";function _k(i){let t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}var Lw=new Map;var aC="firestore.googleapis.com",Vw=!0,mu=class{constructor(t){var e,n;if(t.host===void 0){if(t.ssl!==void 0)throw new ze(He.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aC,this.ssl=Vw}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:Vw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=sC;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<gk)throw new ze(He.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}KM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_k((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ze(He.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ze(He.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ze(He.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(n,r){return n.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}},pu=class{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mu({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ze(He.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ze(He.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mu(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new Fp;switch(n.type){case"firstParty":return new jp(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ze(He.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return j(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){let n=Lw.get(e);n&&(li("ComponentProvider","Removing Datastore"),Lw.delete(e),n.terminate())})(this),Promise.resolve()}};function lC(i,t,e,n={}){var r;i=QM(i,pu);let o=Vo(t),s=i._getSettings(),l=Object.assign(Object.assign({},s),{emulatorOptions:i._getEmulatorOptions()}),c=`${t}:${e}`;o&&(Bo(`https://${c}`),jo("Firestore",!0)),s.host!==aC&&s.host!==c&&UM("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:n});if(!$o(u,l)&&(i._setSettings(u),n.mockUserToken)){let g,v;if(typeof n.mockUserToken=="string")g=n.mockUserToken,v=Ft.MOCK_USER;else{g=wc(n.mockUserToken,(r=i._app)===null||r===void 0?void 0:r.options.projectId);let C=n.mockUserToken.sub||n.mockUserToken.user_id;if(!C)throw new ze(He.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Ft(C)}i._authCredentials=new Lp(new au(g,v))}}var Xp=class i{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new i(this.firestore,t,this._query)}},yo=class i{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zp(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new i(this.firestore,t,this._key)}toJSON(){return{type:i._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,n){if(El(e,i._jsonSchema))return new i(t,n||null,new Wi(Hi.fromString(e.referencePath)))}};yo._jsonSchemaVersion="firestore/documentReference/1.0",yo._jsonSchema={type:yt("string",yo._jsonSchemaVersion),referencePath:yt("string")};var Zp=class i extends Xp{constructor(t,e,n){super(t,e,fk(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let t=this._path.popLast();return t.isEmpty()?null:new yo(this.firestore,null,new Wi(t))}withConverter(t){return new i(this.firestore,t,this._path)}};var Bw="AsyncQueue",fu=class{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Yp(this,"async_queue_retry"),this.oc=()=>{let n=Np();n&&li(Bw,"Visibility state changed to "+n.visibilityState),this.F_.y_()},this._c=t;let e=Np();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;let e=Np();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});let e=new _o;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}cc(){return j(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!XM(t))throw t;li(Bw,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(t){let e=this._c.then(()=>(this.nc=!0,t().catch(n=>{throw this.tc=n,this.nc=!1,zw("INTERNAL UNHANDLED ERROR: ",jw(n)),n}).then(n=>(this.nc=!1,n))));return this._c=e,e}enqueueAfterDelay(t,e,n){this.ac(),this.sc.indexOf(t)>-1&&(e=0);let r=Qp.createAndSchedule(this,t,e,n,o=>this.lc(o));return this.ec.push(r),r}ac(){this.tc&&In(47125,{hc:jw(this.tc)})}verifyOperationInProgress(){}Pc(){return j(this,null,function*(){let t;do t=this._c,yield t;while(t!==this._c)})}Tc(t){for(let e of this.ec)if(e.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((e,n)=>e.targetTimeMs-n.targetTimeMs);for(let e of this.ec)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){let e=this.ec.indexOf(t);this.ec.splice(e,1)}};function jw(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}var Jp=class extends pu{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new fu,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return j(this,null,function*(){if(this._firestoreClient){let t=this._firestoreClient.terminate();this._queue=new fu(t),this._firestoreClient=void 0,yield t}})}};function cC(i,t){let e=typeof i=="object"?i:Kt(),n=typeof i=="string"?i:t||Wp,r=dn(e,"firestore").getImmediate({identifier:n});if(!r._initialized){let o=Lo("firestore");o&&lC(r,...o)}return r}var yl=class i{constructor(t){this._byteString=t}static fromBase64String(t){try{return new i(Ar.fromBase64String(t))}catch(e){throw new ze(He.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new i(Ar.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:i._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(El(t,i._jsonSchema))return i.fromBase64String(t.bytes)}};yl._jsonSchemaVersion="firestore/bytes/1.0",yl._jsonSchema={type:yt("string",yl._jsonSchemaVersion),bytes:yt("string")};var gu=class{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ze(He.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $p(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};var bl=class i{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ze(He.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ze(He.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Qn(this._lat,t._lat)||Qn(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:i._jsonSchemaVersion}}static fromJSON(t){if(El(t,i._jsonSchema))return new i(t.latitude,t.longitude)}};bl._jsonSchemaVersion="firestore/geoPoint/1.0",bl._jsonSchema={type:yt("string",bl._jsonSchemaVersion),latitude:yt("number"),longitude:yt("number")};var vl=class i{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return(function(n,r){if(n.length!==r.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(El(t,i._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new i(t.vectorValues);throw new ze(He.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};vl._jsonSchemaVersion="firestore/vectorValue/1.0",vl._jsonSchema={type:yt("string",vl._jsonSchemaVersion),vectorValues:yt("object")};var yk=new RegExp("[~\\*/\\[\\]]");function bk(i,t,e){if(t.search(yk)>=0)throw Uw(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new gu(...t.split("."))._internalPath}catch{throw Uw(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function Uw(i,t,e,n,r){let o=n&&!n.isEmpty(),s=r!==void 0,l=`Function ${t}() called with invalid data`;e&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${n}`),s&&(c+=` in document ${r}`),c+=")"),new ze(He.INVALID_ARGUMENT,l+i+c)}var _u=class{constructor(t,e,n,r,o){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new yo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let t=new ef(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){let e=this._document.data.field(dC("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}},ef=class extends _u{data(){return super.data()}};function dC(i,t){return typeof t=="string"?bk(i,t):t instanceof gu?t._internalPath:t._delegate._internalPath}var Ps=class{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}},Ns=class i extends _u{constructor(t,e,n,r,o,s){super(t,e,n,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){let e=new Fs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){let n=this._document.data.field(dC("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(He.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t=this._document,e={};return e.type=i._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}};Ns._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ns._jsonSchema={type:yt("string",Ns._jsonSchemaVersion),bundleSource:yt("string","DocumentSnapshot"),bundleName:yt("string"),bundle:yt("string")};var Fs=class extends Ns{data(t={}){return super.data(t)}},wl=class i{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ps(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new Fs(this._firestore,this._userDataWriter,n.key,n,new Ps(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){let e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ze(He.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(l=>{let c=new Fs(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Ps(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{let c=new Fs(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Ps(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),u=-1,g=-1;return l.type!==0&&(u=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),g=s.indexOf(l.doc.key)),{type:vk(l.type),doc:c,oldIndex:u,newIndex:g}})}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(He.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t={};t.type=i._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=zp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let e=[],n=[],r=[];return this.docs.forEach(o=>{o._document!==null&&(e.push(o._document),n.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}};function vk(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return In(61501,{type:i})}}wl._jsonSchemaVersion="firestore/querySnapshot/1.0",wl._jsonSchema={type:yt("string",wl._jsonSchemaVersion),bundleSource:yt("string","QuerySnapshot"),bundleName:yt("string"),bundle:yt("string")};(function(t,e=!0){(function(r){Cl=r})(Ho),Wt(new Ht("firestore",(n,{instanceIdentifier:r,options:o})=>{let s=n.getProvider("app").getImmediate(),l=new Jp(new Vp(n.getProvider("auth-internal")),new Up(s,n.getProvider("app-check-internal")),(function(u,g){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ze(He.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kp(u.options.projectId,g)})(s,r),s);return o=Object.assign({useFetchStreams:e},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Le(Tw,Dw,t),Le(Tw,Dw,"esm2017")})();var Sl=class{constructor(t){return t}},uC="firestore",nf=class{constructor(){return Zt(uC)}};var rf=new H("angularfire2.firestore-instances");function wk(i,t){let e=Xt(uC,i,t);return e&&new Sl(e)}function Ck(i){return(t,e)=>{let n=t.runOutsideAngular(()=>i(e));return new Sl(n)}}var Ek={provide:nf,deps:[[new Ye,rf]]},Sk={provide:Sl,useFactory:wk,deps:[[new Ye,rf],en]};function hC(i,...t){return Le("angularfire",Tt.full,"fst"),ot([Sk,Ek,{provide:rf,useFactory:Ck(i),multi:!0,deps:[ee,be,Jt,tn,[new Ye,Ko],[new Ye,fr],...t]}])}var mC=Et(cC,!0);var gC="functions";var of=class{constructor(t,e,n,r){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,jr(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(o=>this.auth=o,()=>{}),this.messaging||n.get().then(o=>this.messaging=o,()=>{}),this.appCheck||r?.get().then(o=>this.appCheck=o,()=>{})}getAuthToken(){return j(this,null,function*(){if(this.auth)try{let t=yield this.auth.getToken();return t?.accessToken}catch{return}})}getMessagingToken(){return j(this,null,function*(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return yield this.messaging.getToken()}catch{return}})}getAppCheckToken(t){return j(this,null,function*(){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){let e=t?yield this.appCheck.getLimitedUseToken():yield this.appCheck.getToken();return e.error?null:e.token}return null})}getContext(t){return j(this,null,function*(){let e=yield this.getAuthToken(),n=yield this.getMessagingToken(),r=yield this.getAppCheckToken(t);return{authToken:e,messagingToken:n,appCheckToken:r}})}};var sf="us-central1";var af=class{constructor(t,e,n,r,o=sf,s=(...l)=>fetch(...l)){this.app=t,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new of(t,e,n,r),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{let l=new URL(o);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=sf}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(t){let e=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${e}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${e}.cloudfunctions.net/${t}`}};function Ik(i,t,e){let n=Vo(t);i.emulatorOrigin=`http${n?"s":""}://${t}:${e}`,n&&(Bo(i.emulatorOrigin),jo("Functions",!0))}var pC="@firebase/functions",fC="0.12.9";var xk="auth-internal",Ak="app-check-internal",Tk="messaging-internal";function Dk(i){let t=(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),o=e.getProvider(xk),s=e.getProvider(Tk),l=e.getProvider(Ak);return new af(r,o,s,l,n)};Wt(new Ht(gC,t,"PUBLIC").setMultipleInstances(!0)),Le(pC,fC,i),Le(pC,fC,"esm2017")}function _C(i=Kt(),t=sf){let n=dn(Pt(i),gC).getImmediate({identifier:t}),r=Lo("functions");return r&&yC(n,...r),n}function yC(i,t,e){Ik(Pt(i),t,e)}Dk();var Il=class{constructor(t){return t}},bC="functions",lf=class{constructor(){return Zt(bC)}};var cf=new H("angularfire2.functions-instances");function Rk(i,t){let e=Xt(bC,i,t);return e&&new Il(e)}function Mk(i){return(t,e)=>{let n=t.runOutsideAngular(()=>i(e));return new Il(n)}}var kk={provide:lf,deps:[[new Ye,cf]]},Ok={provide:Il,useFactory:Rk,deps:[[new Ye,cf],en]};function vC(i,...t){return Le("angularfire",Tt.full,"fn"),ot([Ok,kk,{provide:cf,useFactory:Mk(i),multi:!0,deps:[ee,be,Jt,tn,[new Ye,Ko],[new Ye,fr],...t]}])}var wC=Et(_C,!0);var Pk="/firebase-messaging-sw.js",Nk="/firebase-cloud-messaging-push-scope",TC="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Fk="https://fcmregistrations.googleapis.com/v1",DC="google.c.a.c_id",Lk="google.c.a.c_l",Vk="google.c.a.ts",Bk="google.c.a.e",CC=1e4;var yu=(function(i){return i.PUSH_RECEIVED="push-received",i.NOTIFICATION_CLICKED="notification-clicked",i})(yu||{});function Ki(i){let t=new Uint8Array(i);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function jk(i){let t="=".repeat((4-i.length%4)%4),e=(i+t).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length);for(let o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r}var df="fcm_token_details_db",Uk=5,EC="fcm_token_object_Store";function zk(i){return j(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(df))return null;let t=null;return(yield Nh(df,Uk,{upgrade:(n,r,o,s)=>j(null,null,function*(){var l;if(r<2||!n.objectStoreNames.contains(EC))return;let c=s.objectStore(EC),u=yield c.index("fcmSenderId").get(i);if(yield c.clear(),!!u){if(r===2){let g=u;if(!g.auth||!g.p256dh||!g.endpoint)return;t={token:g.fcmToken,createTime:(l=g.createTime)!==null&&l!==void 0?l:Date.now(),subscriptionOptions:{auth:g.auth,p256dh:g.p256dh,endpoint:g.endpoint,swScope:g.swScope,vapidKey:typeof g.vapidKey=="string"?g.vapidKey:Ki(g.vapidKey)}}}else if(r===3){let g=u;t={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:Ki(g.auth),p256dh:Ki(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:Ki(g.vapidKey)}}}else if(r===4){let g=u;t={token:g.fcmToken,createTime:g.createTime,subscriptionOptions:{auth:Ki(g.auth),p256dh:Ki(g.p256dh),endpoint:g.endpoint,swScope:g.swScope,vapidKey:Ki(g.vapidKey)}}}}})})).close(),yield Cc(df),yield Cc("fcm_vapid_details_db"),yield Cc("undefined"),$k(t)?t:null})}function $k(i){if(!i||!i.subscriptionOptions)return!1;let{subscriptionOptions:t}=i;return typeof i.createTime=="number"&&i.createTime>0&&typeof i.token=="string"&&i.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}var qk="firebase-messaging-database",Hk=1,xl="firebase-messaging-store",uf=null;function RC(){return uf||(uf=Nh(qk,Hk,{upgrade:(i,t)=>{switch(t){case 0:i.createObjectStore(xl)}}})),uf}function Wk(i){return j(this,null,function*(){let t=MC(i),n=yield(yield RC()).transaction(xl).objectStore(xl).get(t);if(n)return n;{let r=yield zk(i.appConfig.senderId);if(r)return yield pf(i,r),r}})}function pf(i,t){return j(this,null,function*(){let e=MC(i),r=(yield RC()).transaction(xl,"readwrite");return yield r.objectStore(xl).put(t,e),yield r.done,t})}function MC({appConfig:i}){return i.appId}var Kk={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},gn=new zo("messaging","Messaging",Kk);function Gk(i,t){return j(this,null,function*(){let e=yield gf(i),n=kC(t),r={method:"POST",headers:e,body:JSON.stringify(n)},o;try{o=yield(yield fetch(ff(i.appConfig),r)).json()}catch(s){throw gn.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw gn.create("token-subscribe-failed",{errorInfo:s})}if(!o.token)throw gn.create("token-subscribe-no-token");return o.token})}function Yk(i,t){return j(this,null,function*(){let e=yield gf(i),n=kC(t.subscriptionOptions),r={method:"PATCH",headers:e,body:JSON.stringify(n)},o;try{o=yield(yield fetch(`${ff(i.appConfig)}/${t.token}`,r)).json()}catch(s){throw gn.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw gn.create("token-update-failed",{errorInfo:s})}if(!o.token)throw gn.create("token-update-no-token");return o.token})}function Qk(i,t){return j(this,null,function*(){let n={method:"DELETE",headers:yield gf(i)};try{let o=yield(yield fetch(`${ff(i.appConfig)}/${t}`,n)).json();if(o.error){let s=o.error.message;throw gn.create("token-unsubscribe-failed",{errorInfo:s})}}catch(r){throw gn.create("token-unsubscribe-failed",{errorInfo:r?.toString()})}})}function ff({projectId:i}){return`${Fk}/projects/${i}/registrations`}function gf(e){return j(this,arguments,function*({appConfig:i,installations:t}){let n=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})}function kC({p256dh:i,auth:t,endpoint:e,vapidKey:n}){let r={web:{endpoint:e,auth:t,p256dh:i}};return n!==TC&&(r.web.applicationPubKey=n),r}var Xk=10080*60*1e3;function Zk(i){return j(this,null,function*(){let t=yield eO(i.swRegistration,i.vapidKey),e={vapidKey:i.vapidKey,swScope:i.swRegistration.scope,endpoint:t.endpoint,auth:Ki(t.getKey("auth")),p256dh:Ki(t.getKey("p256dh"))},n=yield Wk(i.firebaseDependencies);if(n){if(tO(n.subscriptionOptions,e))return Date.now()>=n.createTime+Xk?Jk(i,{token:n.token,createTime:Date.now(),subscriptionOptions:e}):n.token;try{yield Qk(i.firebaseDependencies,n.token)}catch(r){console.warn(r)}return SC(i.firebaseDependencies,e)}else return SC(i.firebaseDependencies,e)})}function Jk(i,t){return j(this,null,function*(){try{let e=yield Yk(i.firebaseDependencies,t),n=Object.assign(Object.assign({},t),{token:e,createTime:Date.now()});return yield pf(i.firebaseDependencies,n),e}catch(e){throw e}})}function SC(i,t){return j(this,null,function*(){let n={token:yield Gk(i,t),createTime:Date.now(),subscriptionOptions:t};return yield pf(i,n),n.token})}function eO(i,t){return j(this,null,function*(){let e=yield i.pushManager.getSubscription();return e||i.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:jk(t)})})}function tO(i,t){let e=t.vapidKey===i.vapidKey,n=t.endpoint===i.endpoint,r=t.auth===i.auth,o=t.p256dh===i.p256dh;return e&&n&&r&&o}function IC(i){let t={from:i.from,collapseKey:i.collapse_key,messageId:i.fcmMessageId};return nO(t,i),iO(t,i),rO(t,i),t}function nO(i,t){if(!t.notification)return;i.notification={};let e=t.notification.title;e&&(i.notification.title=e);let n=t.notification.body;n&&(i.notification.body=n);let r=t.notification.image;r&&(i.notification.image=r);let o=t.notification.icon;o&&(i.notification.icon=o)}function iO(i,t){t.data&&(i.data=t.data)}function rO(i,t){var e,n,r,o,s;if(!t.fcmOptions&&!(!((e=t.notification)===null||e===void 0)&&e.click_action))return;i.fcmOptions={};let l=(r=(n=t.fcmOptions)===null||n===void 0?void 0:n.link)!==null&&r!==void 0?r:(o=t.notification)===null||o===void 0?void 0:o.click_action;l&&(i.fcmOptions.link=l);let c=(s=t.fcmOptions)===null||s===void 0?void 0:s.analytics_label;c&&(i.fcmOptions.analyticsLabel=c)}function oO(i){return typeof i=="object"&&!!i&&DC in i}sO("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function sO(i,t){let e=[];for(let n=0;n<i.length;n++)e.push(i.charAt(n)),n<t.length&&e.push(t.charAt(n));return e.join("")}function aO(i){if(!i||!i.options)throw hf("App Configuration Object");if(!i.name)throw hf("App Name");let t=["projectId","apiKey","appId","messagingSenderId"],{options:e}=i;for(let n of t)if(!e[n])throw hf(n);return{appName:i.name,projectId:e.projectId,apiKey:e.apiKey,appId:e.appId,senderId:e.messagingSenderId}}function hf(i){return gn.create("missing-app-config-values",{valueName:i})}var mf=class{constructor(t,e,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let r=aO(t);this.firebaseDependencies={app:t,appConfig:r,installations:e,analyticsProvider:n}}_delete(){return Promise.resolve()}};function lO(i){return j(this,null,function*(){try{i.swRegistration=yield navigator.serviceWorker.register(Pk,{scope:Nk}),i.swRegistration.update().catch(()=>{}),yield cO(i.swRegistration)}catch(t){throw gn.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}})}function cO(i){return j(this,null,function*(){return new Promise((t,e)=>{let n=setTimeout(()=>e(new Error(`Service worker not registered after ${CC} ms`)),CC),r=i.installing||i.waiting;i.active?(clearTimeout(n),t()):r?r.onstatechange=o=>{var s;((s=o.target)===null||s===void 0?void 0:s.state)==="activated"&&(r.onstatechange=null,clearTimeout(n),t())}:(clearTimeout(n),e(new Error("No incoming service worker found.")))})})}function dO(i,t){return j(this,null,function*(){if(!t&&!i.swRegistration&&(yield lO(i)),!(!t&&i.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw gn.create("invalid-sw-registration");i.swRegistration=t}})}function uO(i,t){return j(this,null,function*(){t?i.vapidKey=t:i.vapidKey||(i.vapidKey=TC)})}function hO(i,t){return j(this,null,function*(){if(!navigator)throw gn.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw gn.create("permission-blocked");return yield uO(i,t?.vapidKey),yield dO(i,t?.serviceWorkerRegistration),Zk(i)})}function mO(i,t,e){return j(this,null,function*(){let n=pO(t);(yield i.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:e[DC],message_name:e[Lk],message_time:e[Vk],message_device_time:Math.floor(Date.now()/1e3)})})}function pO(i){switch(i){case yu.NOTIFICATION_CLICKED:return"notification_open";case yu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function fO(i,t){return j(this,null,function*(){let e=t.data;if(!e.isFirebaseMessaging)return;i.onMessageHandler&&e.messageType===yu.PUSH_RECEIVED&&(typeof i.onMessageHandler=="function"?i.onMessageHandler(IC(e)):i.onMessageHandler.next(IC(e)));let n=e.data;oO(n)&&n[Bk]==="1"&&(yield mO(i,e.messageType,n))})}var xC="@firebase/messaging",AC="0.12.22";var gO=i=>{let t=new mf(i.getProvider("app").getImmediate(),i.getProvider("installations-internal").getImmediate(),i.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>fO(t,e)),t},_O=i=>{let t=i.getProvider("messaging").getImmediate();return{getToken:n=>hO(t,n)}};function yO(){Wt(new Ht("messaging",gO,"PUBLIC")),Wt(new Ht("messaging-internal",_O,"PRIVATE")),Le(xC,AC),Le(xC,AC,"esm2017")}function OC(){return j(this,null,function*(){try{yield Uo()}catch{return!1}return typeof window<"u"&&cr()&&wa()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function PC(i=Kt()){return OC().then(t=>{if(!t)throw gn.create("unsupported-browser")},t=>{throw gn.create("indexed-db-unsupported")}),dn(Pt(i),"messaging").getImmediate()}yO();var Al=class{constructor(t){return t}},NC="messaging",_f=class{constructor(){return Zt(NC)}};var yf=new H("angularfire2.messaging-instances");function bO(i,t,e){if(Fo(e))return null;let n=Xt(NC,i,t);return n&&new Al(n)}function vO(i){return(t,e,n)=>{if(Fo(n))return null;let r=t.runOutsideAngular(()=>i(e));return new Al(r)}}var wO={provide:_f,deps:[[new Ye,yf]]},CO={provide:Al,useFactory:bO,deps:[[new Ye,yf],en,mt]};function FC(i,...t){return Le("angularfire",Tt.full,"fcm"),ot([CO,wO,{provide:yf,useFactory:vO(i),multi:!0,deps:[ee,be,mt,Jt,tn,...t]}])}var LC=Et(PC,!0);var Tl=class{constructor(t){return t}},VC="performance",bf=class{constructor(){return Zt(VC)}};var vf=new H("angularfire2.performance-instances");function EO(i,t,e){if(!fi(e))return null;let n=Xt(VC,i,t);return n&&new Tl(n)}function SO(i){return(t,e,n)=>{if(!fi(e))return null;let r=t.runOutsideAngular(()=>i(n));return new Tl(r)}}var IO={provide:bf,deps:[[new Ye,vf]]},xO={provide:Tl,useFactory:EO,deps:[[new Ye,vf],en,mt]};function BC(i,...t){return Le("angularfire",Tt.full,"perf"),ot([xO,IO,{provide:vf,useFactory:SO(i),multi:!0,deps:[ee,mt,be,Jt,tn,...t]}])}var jC=Et(Ay,!0);var WC="firebasestorage.googleapis.com",AO="storageBucket",TO=120*1e3,DO=600*1e3;var Si=class i extends ni{constructor(t,e,n=0){super(wf(t),`Firebase Storage: ${e} (${wf(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,i.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return wf(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Yi=(function(i){return i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment",i})(Yi||{});function wf(i){return"storage/"+i}function RO(){let i="An unknown error occurred, please check the error payload for server response.";return new Si(Yi.UNKNOWN,i)}function MO(){return new Si(Yi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kO(){return new Si(Yi.CANCELED,"User canceled the upload/download.")}function OO(i){return new Si(Yi.INVALID_URL,"Invalid URL '"+i+"'.")}function PO(i){return new Si(Yi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function UC(i){return new Si(Yi.INVALID_ARGUMENT,i)}function KC(){return new Si(Yi.APP_DELETED,"The Firebase app was deleted.")}function NO(i){return new Si(Yi.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Gi=class i{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let n;try{n=i.makeFromUrl(t,e)}catch{return new i(t,"")}if(n.path==="")return n;throw PO(t)}static makeFromUrl(t,e){let n=null,r="([A-Za-z0-9.\\-_]+)";function o(W){W.path.charAt(W.path.length-1)==="/"&&(W.path_=W.path_.slice(0,-1))}let s="(/(.*))?$",l=new RegExp("^gs://"+r+s,"i"),c={bucket:1,path:3};function u(W){W.path_=decodeURIComponent(W.path)}let g="v[A-Za-z0-9_]+",v=e.replace(/[.]/g,"\\."),C="(/([^?#]*).*)?$",A=new RegExp(`^https?://${v}/${g}/b/${r}/o${C}`,"i"),I={bucket:1,path:3},R=e===WC?"(?:storage.googleapis.com|storage.cloud.google.com)":e,F="([^?#]*)",U=new RegExp(`^https?://${R}/${r}/${F}`,"i"),Z=[{regex:l,indices:c,postModify:o},{regex:A,indices:I,postModify:u},{regex:U,indices:{bucket:1,path:2},postModify:u}];for(let W=0;W<Z.length;W++){let Ae=Z[W],ye=Ae.regex.exec(t);if(ye){let x=ye[Ae.indices.bucket],w=ye[Ae.indices.path];w||(w=""),n=new i(x,w),Ae.postModify(n);break}}if(n==null)throw OO(t);return n}},Cf=class{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}};function FO(i,t,e){let n=1,r=null,o=null,s=!1,l=0;function c(){return l===2}let u=!1;function g(...F){u||(u=!0,t.apply(null,F))}function v(F){r=setTimeout(()=>{r=null,i(A,c())},F)}function C(){o&&clearTimeout(o)}function A(F,...U){if(u){C();return}if(F){C(),g.call(null,F,...U);return}if(c()||s){C(),g.call(null,F,...U);return}n<64&&(n*=2);let Z;l===1?(l=2,Z=0):Z=(n+Math.random())*1e3,v(Z)}let I=!1;function R(F){I||(I=!0,C(),!u&&(r!==null?(F||(l=2),clearTimeout(r),v(0)):F||(l=1)))}return v(0),o=setTimeout(()=>{s=!0,R(!0)},e),R}function LO(i){i(!1)}function VO(i){return i!==void 0}function zC(i,t,e,n){if(n<t)throw UC(`Invalid value for '${i}'. Expected ${t} or greater.`);if(n>e)throw UC(`Invalid value for '${i}'. Expected ${e} or less.`)}function BO(i){let t=encodeURIComponent,e="?";for(let n in i)if(i.hasOwnProperty(n)){let r=t(n)+"="+t(i[n]);e=e+r+"&"}return e=e.slice(0,-1),e}var Ef=(function(i){return i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT",i})(Ef||{});function jO(i,t){let e=i>=500&&i<600,r=[408,429].indexOf(i)!==-1,o=t.indexOf(i)!==-1;return e||r||o}var Sf=class{constructor(t,e,n,r,o,s,l,c,u,g,v,C=!0,A=!1){this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=g,this.connectionFactory_=v,this.retry=C,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((I,R)=>{this.resolve_=I,this.reject_=R,this.start_()})}start_(){let t=(n,r)=>{if(r){n(!1,new Bs(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=l=>{let c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let l=o.getErrorCode()===Ef.NO_ERROR,c=o.getStatus();if(!l||jO(c,this.additionalRetryCodes_)&&this.retry){let g=o.getErrorCode()===Ef.ABORT;n(!1,new Bs(!1,null,g));return}let u=this.successCodes_.indexOf(c)!==-1;n(!0,new Bs(u,o))})},e=(n,r)=>{let o=this.resolve_,s=this.reject_,l=r.connection;if(r.wasSuccessCode)try{let c=this.callback_(l,l.getResponse());VO(c)?o(c):o()}catch(c){s(c)}else if(l!==null){let c=RO();c.serverResponse=l.getErrorText(),this.errorCallback_?s(this.errorCallback_(l,c)):s(c)}else if(r.canceled){let c=this.appDelete_?KC():kO();s(c)}else{let c=MO();s(c)}};this.canceled_?e(!1,new Bs(!1,null,!0)):this.backoffId_=FO(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&LO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Bs=class{constructor(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}};function UO(i,t){t!==null&&t.length>0&&(i.Authorization="Firebase "+t)}function zO(i,t){i["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function $O(i,t){t&&(i["X-Firebase-GMPID"]=t)}function qO(i,t){t!==null&&(i["X-Firebase-AppCheck"]=t)}function HO(i,t,e,n,r,o,s=!0,l=!1){let c=BO(i.urlParams),u=i.url+c,g=Object.assign({},i.headers);return $O(g,t),UO(g,e),zO(g,o),qO(g,n),new Sf(u,i.method,g,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,r,s,l)}function WO(i){if(i.length===0)return null;let t=i.lastIndexOf("/");return t===-1?"":i.slice(0,t)}function KO(i){let t=i.lastIndexOf("/",i.length-2);return t===-1?i:i.slice(t+1)}var q$=256*1024;var If=class i{constructor(t,e){this._service=t,e instanceof Gi?this._location=e:this._location=Gi.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new i(t,e)}get root(){let t=new Gi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return KO(this._location.path)}get storage(){return this._service}get parent(){let t=WO(this._location.path);if(t===null)return null;let e=new Gi(this._location.bucket,t);return new i(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw NO(t)}};function $C(i,t){let e=t?.[AO];return e==null?null:Gi.makeFromBucketSpec(e,i)}function GO(i,t,e,n={}){i.host=`${t}:${e}`;let r=Vo(t);r&&(Bo(`https://${i.host}/b`),jo("Storage",!0)),i._isUsingEmulator=!0,i._protocol=r?"https":"http";let{mockUserToken:o}=n;o&&(i._overrideAuthToken=typeof o=="string"?o:wc(o,i.app.options.projectId))}var xf=class{constructor(t,e,n,r,o,s=!1){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=WC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=TO,this._maxUploadRetryTime=DO,this._requests=new Set,r!=null?this._bucket=Gi.makeFromBucketSpec(r,this._host):this._bucket=$C(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Gi.makeFromBucketSpec(this._url,t):this._bucket=$C(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){zC("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){zC("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){return j(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let t=this._authProvider.getImmediate({optional:!0});if(t){let e=yield t.getToken();if(e!==null)return e.accessToken}return null})}_getAppCheckToken(){return j(this,null,function*(){if(jr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=this._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new If(this,t)}_makeRequest(t,e,n,r,o=!0){if(this._deleted)return new Cf(KC());{let s=HO(t,this._appId,n,r,e,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(t,e){return j(this,null,function*(){let[n,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,n,r).getPromise()})}},qC="@firebase/storage",HC="0.13.14";var GC="storage";function YC(i=Kt(),t){i=Pt(i);let n=dn(i,GC).getImmediate({identifier:t}),r=Lo("storage");return r&&QC(n,...r),n}function QC(i,t,e,n={}){GO(i,t,e,n)}function YO(i,{instanceIdentifier:t}){let e=i.getProvider("app").getImmediate(),n=i.getProvider("auth-internal"),r=i.getProvider("app-check-internal");return new xf(e,n,r,t,Ho)}function QO(){Wt(new Ht(GC,YO,"PUBLIC").setMultipleInstances(!0)),Le(qC,HC,""),Le(qC,HC,"esm2017")}QO();var Dl=class{constructor(t){return t}},XC="storage",Af=class{constructor(){return Zt(XC)}};var Tf=new H("angularfire2.storage-instances");function XO(i,t){let e=Xt(XC,i,t);return e&&new Dl(e)}function ZO(i){return(t,e)=>{let n=t.runOutsideAngular(()=>i(e));return new Dl(n)}}var JO={provide:Af,deps:[[new Ye,Tf]]},eP={provide:Dl,useFactory:XO,deps:[[new Ye,Tf],en]};function ZC(i,...t){return Le("angularfire",Tt.full,"gcs"),ot([eP,JO,{provide:Tf,useFactory:ZO(i),multi:!0,deps:[ee,be,Jt,tn,[new Ye,Ko],[new Ye,fr],...t]}])}var JC=Et(YC,!0);var Df="@firebase/remote-config",eE="0.6.5";var nE="remote-config",tE=100;var tP={"already-initialized":"Remote Config already initialized","registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser","custom-signal-max-allowed-signals":"Setting more than {$maxSignals} custom signals is not supported."},xn=new zo("remoteconfig","Remote Config",tP);function iE(i=Kt(),t={}){var e,n;i=Pt(i);let r=dn(i,nE);if(r.isInitialized()){let s=r.getOptions();if($o(s,t))return r.getImmediate();throw xn.create("already-initialized")}r.initialize({options:t});let o=r.getImmediate();return t.initialFetchResponse&&(o._initializePromise=Promise.all([o._storage.setLastSuccessfulFetchResponse(t.initialFetchResponse),o._storage.setActiveConfigEtag(((e=t.initialFetchResponse)===null||e===void 0?void 0:e.eTag)||""),o._storageCache.setLastSuccessfulFetchTimestampMillis(Date.now()),o._storageCache.setLastFetchStatus("success"),o._storageCache.setActiveConfig(((n=t.initialFetchResponse)===null||n===void 0?void 0:n.config)||{})]).then(),o._isInitializationComplete=!0),o}function rE(i){let t=Pt(i);return t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0})),t._initializePromise}var Rf=class{constructor(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}isCachedDataFresh(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;let n=Date.now()-e,r=n<=t;return this.logger.debug(`Config fetch cache check. Cache age millis: ${n}. Cache max age millis (minimumFetchIntervalMillis setting): ${t}. Is cache hit: ${r}.`),r}fetch(t){return j(this,null,function*(){let[e,n]=yield Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(n&&this.isCachedDataFresh(t.cacheMaxAgeMillis,e))return n;t.eTag=n&&n.eTag;let r=yield this.client.fetch(t),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return r.status===200&&o.push(this.storage.setLastSuccessfulFetchResponse(r)),yield Promise.all(o),r})}};function nP(i=navigator){return i.languages&&i.languages[0]||i.language}var Mf=class{constructor(t,e,n,r,o,s){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=o,this.appId=s}fetch(t){return j(this,null,function*(){let[e,n]=yield Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},l={sdk_version:this.sdkVersion,app_instance_id:e,app_instance_id_token:n,app_id:this.appId,language_code:nP(),custom_signals:t.customSignals},c={method:"POST",headers:s,body:JSON.stringify(l)},u=fetch(o,c),g=new Promise((F,U)=>{t.signal.addEventListener(()=>{let X=new Error("The operation was aborted.");X.name="AbortError",U(X)})}),v;try{yield Promise.race([u,g]),v=yield u}catch(F){let U="fetch-client-network";throw F?.name==="AbortError"&&(U="fetch-timeout"),xn.create(U,{originalErrorMessage:F?.message})}let C=v.status,A=v.headers.get("ETag")||void 0,I,R;if(v.status===200){let F;try{F=yield v.json()}catch(U){throw xn.create("fetch-client-parse",{originalErrorMessage:U?.message})}I=F.entries,R=F.state}if(R==="INSTANCE_STATE_UNSPECIFIED"?C=500:R==="NO_CHANGE"?C=304:(R==="NO_TEMPLATE"||R==="EMPTY_CONFIG")&&(I={}),C!==304&&C!==200)throw xn.create("fetch-status",{httpStatus:C});return{status:C,eTag:A,config:I}})}};function iP(i,t){return new Promise((e,n)=>{let r=Math.max(t-Date.now(),0),o=setTimeout(e,r);i.addEventListener(()=>{clearTimeout(o),n(xn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function rP(i){if(!(i instanceof ni)||!i.customData)return!1;let t=Number(i.customData.httpStatus);return t===429||t===500||t===503||t===504}var kf=class{constructor(t,e){this.client=t,this.storage=e}fetch(t){return j(this,null,function*(){let e=(yield this.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(t,e)})}attemptFetch(r,o){return j(this,arguments,function*(t,{throttleEndTimeMillis:e,backoffCount:n}){yield iP(t.signal,e);try{let s=yield this.client.fetch(t);return yield this.storage.deleteThrottleMetadata(),s}catch(s){if(!rP(s))throw s;let l={throttleEndTimeMillis:Date.now()+Ca(n),backoffCount:n+1};return yield this.storage.setThrottleMetadata(l),this.attemptFetch(t,l)}})}};var oP=60*1e3,sP=720*60*1e3,Of=class{get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}constructor(t,e,n,r,o){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:oP,minimumFetchIntervalMillis:sP},this.defaultConfig={}}};function bu(i,t){let e=i.target.error||void 0;return xn.create(t,{originalErrorMessage:e&&e?.message})}var Tr="app_namespace_store",aP="firebase_remote_config",lP=1;function cP(){return new Promise((i,t)=>{try{let e=indexedDB.open(aP,lP);e.onerror=n=>{t(bu(n,"storage-open"))},e.onsuccess=n=>{i(n.target.result)},e.onupgradeneeded=n=>{let r=n.target.result;switch(n.oldVersion){case 0:r.createObjectStore(Tr,{keyPath:"compositeKey"})}}}catch(e){t(xn.create("storage-open",{originalErrorMessage:e?.message}))}})}var vu=class{getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(t){return this.set("last_fetch_status",t)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(t){return this.set("last_successful_fetch_timestamp_millis",t)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(t){return this.set("last_successful_fetch_response",t)}getActiveConfig(){return this.get("active_config")}setActiveConfig(t){return this.set("active_config",t)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(t){return this.set("active_config_etag",t)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(t){return this.set("throttle_metadata",t)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}getCustomSignals(){return this.get("custom_signals")}},Pf=class extends vu{constructor(t,e,n,r=cP()){super(),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}setCustomSignals(t){return j(this,null,function*(){let n=(yield this.openDbPromise).transaction([Tr],"readwrite"),r=yield this.getWithTransaction("custom_signals",n),o=oE(t,r||{});return yield this.setWithTransaction("custom_signals",o,n),o})}getWithTransaction(t,e){return j(this,null,function*(){return new Promise((n,r)=>{let o=e.objectStore(Tr),s=this.createCompositeKey(t);try{let l=o.get(s);l.onerror=c=>{r(bu(c,"storage-get"))},l.onsuccess=c=>{let u=c.target.result;n(u?u.value:void 0)}}catch(l){r(xn.create("storage-get",{originalErrorMessage:l?.message}))}})})}setWithTransaction(t,e,n){return j(this,null,function*(){return new Promise((r,o)=>{let s=n.objectStore(Tr),l=this.createCompositeKey(t);try{let c=s.put({compositeKey:l,value:e});c.onerror=u=>{o(bu(u,"storage-set"))},c.onsuccess=()=>{r()}}catch(c){o(xn.create("storage-set",{originalErrorMessage:c?.message}))}})})}get(t){return j(this,null,function*(){let n=(yield this.openDbPromise).transaction([Tr],"readonly");return this.getWithTransaction(t,n)})}set(t,e){return j(this,null,function*(){let r=(yield this.openDbPromise).transaction([Tr],"readwrite");return this.setWithTransaction(t,e,r)})}delete(t){return j(this,null,function*(){let e=yield this.openDbPromise;return new Promise((n,r)=>{let s=e.transaction([Tr],"readwrite").objectStore(Tr),l=this.createCompositeKey(t);try{let c=s.delete(l);c.onerror=u=>{r(bu(u,"storage-delete"))},c.onsuccess=()=>{n()}}catch(c){r(xn.create("storage-delete",{originalErrorMessage:c?.message}))}})})}createCompositeKey(t){return[this.appId,this.appName,this.namespace,t].join()}},Nf=class extends vu{constructor(){super(...arguments),this.storage={}}get(t){return j(this,null,function*(){return Promise.resolve(this.storage[t])})}set(t,e){return j(this,null,function*(){return this.storage[t]=e,Promise.resolve(void 0)})}delete(t){return j(this,null,function*(){return this.storage[t]=void 0,Promise.resolve()})}setCustomSignals(t){return j(this,null,function*(){let e=this.storage.custom_signals||{};return this.storage.custom_signals=oE(t,e),Promise.resolve(this.storage.custom_signals)})}};function oE(i,t){let e=Object.assign(Object.assign({},t),i),n=Object.fromEntries(Object.entries(e).filter(([r,o])=>o!==null).map(([r,o])=>typeof o=="number"?[r,o.toString()]:[r,o]));if(Object.keys(n).length>tE)throw xn.create("custom-signal-max-allowed-signals",{maxSignals:tE});return n}var Ff=class{constructor(t){this.storage=t}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}getCustomSignals(){return this.customSignals}loadFromStorage(){return j(this,null,function*(){let t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),r=this.storage.getCustomSignals(),o=yield t;o&&(this.lastFetchStatus=o);let s=yield e;s&&(this.lastSuccessfulFetchTimestampMillis=s);let l=yield n;l&&(this.activeConfig=l);let c=yield r;c&&(this.customSignals=c)})}setLastFetchStatus(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)}setLastSuccessfulFetchTimestampMillis(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)}setActiveConfig(t){return this.activeConfig=t,this.storage.setActiveConfig(t)}setCustomSignals(t){return j(this,null,function*(){this.customSignals=yield this.storage.setCustomSignals(t)})}};function dP(){Wt(new Ht(nE,i,"PUBLIC").setMultipleInstances(!0)),Le(Df,eE),Le(Df,eE,"esm2017");function i(t,{options:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate(),{projectId:o,apiKey:s,appId:l}=n.options;if(!o)throw xn.create("registration-project-id");if(!s)throw xn.create("registration-api-key");if(!l)throw xn.create("registration-app-id");let c=e?.templateId||"firebase",u=cr()?new Pf(l,n.name,c):new Nf,g=new Ff(u),v=new dr(Df);v.logLevel=qo.ERROR;let C=new Mf(r,Ho,c,o,s,l),A=new kf(C,u),I=new Rf(A,u,g,v),R=new Of(n,I,g,u,v);return rE(R),R}}dP();var Rl=class{constructor(t){return t}},sE="remote-config",Lf=class{constructor(){return Zt(sE)}};var Vf=new H("angularfire2.remote-config-instances");function uP(i,t,e){if(Fo(e))return null;let n=Xt(sE,i,t);return n&&new Rl(n)}function hP(i){return(t,e,n)=>{if(Fo(n))return null;let r=t.runOutsideAngular(()=>i(e));return new Rl(r)}}var mP={provide:Lf,deps:[[new Ye,Vf]]},pP={provide:Rl,useFactory:uP,deps:[[new Ye,Vf],en,mt]};function aE(i,...t){return Le("angularfire",Tt.full,"rc"),ot([pP,mP,{provide:Vf,useFactory:hP(i),multi:!0,deps:[ee,be,mt,Jt,tn,...t]}])}var lE=Et(iE,!0);var cE="@firebase/ai",dE="1.4.1";var js="AI",uE="us-central1";var X8=180*1e3;var Bf=(function(i){return i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i})(Bf||{});var hE={VERTEX_AI:"VERTEX_AI",GOOGLE_AI:"GOOGLE_AI"};var wu=class{constructor(t){this.backendType=t}},Cu=class extends wu{constructor(){super(hE.GOOGLE_AI)}},Us=class extends wu{constructor(t=uE){super(hE.VERTEX_AI),t?this.location=t:this.location=uE}};var jf=class{constructor(t,e,n,r){this.app=t,this.backend=e;let o=r?.getImmediate({optional:!0}),s=n?.getImmediate({optional:!0});this.auth=s||null,this.appCheck=o||null,e instanceof Us?this.location=e.location:this.location=""}_delete(){return Promise.resolve()}};var bo=class i extends ni{constructor(t,e,n){let r=js,o=`${r}/${t}`,s=`${r}: ${e} (${o})`;super(t,s),this.code=t,this.customErrorData=n,Error.captureStackTrace&&Error.captureStackTrace(this,i),Object.setPrototypeOf(this,i.prototype),this.toString=()=>s}};function fP(i){if(i instanceof Cu)return`${js}/googleai`;if(i instanceof Us)return`${js}/vertexai/${i.location}`;throw new bo("error",`Invalid backend: ${JSON.stringify(i.backendType)}`)}function gP(i){let t=i.split("/");if(t[0]!==js)throw new bo("error",`Invalid instance identifier, unknown prefix '${t[0]}'`);switch(t[1]){case"vertexai":let n=t[2];if(!n)throw new bo("error",`Invalid instance identifier, unknown location '${i}'`);return new Us(n);case"googleai":return new Cu;default:throw new bo("error",`Invalid instance identifier string: '${i}'`)}}var Z8=new dr("@firebase/vertexai");var J8=[Bf.RECITATION,Bf.SAFETY];function mE(i=Kt(),t){i=Pt(i);let e=dn(i,js),n=new Us(t?.location),r=fP(n);return e.getImmediate({identifier:r})}function _P(){Wt(new Ht(js,(i,{instanceIdentifier:t})=>{if(!t)throw new bo("error","AIService instance identifier is undefined.");let e=gP(t),n=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new jf(n,e,r,o)},"PUBLIC").setMultipleInstances(!0)),Le(cE,dE),Le(cE,dE,"esm2017")}_P();var Ml=class{constructor(t){return t}},pE="vertexai",Uf=class{constructor(){return Zt(pE)}};var zf=new H("angularfire2.vertexai-instances");function yP(i,t){let e=Xt(pE,i,t);return e&&new Ml(e)}function bP(i){return(t,e)=>{let n=t.runOutsideAngular(()=>i(e));return new Ml(n)}}var vP={provide:Uf,deps:[[new Ye,zf]]},wP={provide:Ml,useFactory:yP,deps:[[new Ye,zf],en]};function fE(i,...t){return Le("angularfire",Tt.full,"vertexai"),ot([wP,vP,{provide:zf,useFactory:bP(i),multi:!0,deps:[ee,be,Jt,tn,[new Ye,fr],...t]}])}var gE=Et(mE,!0);var Dr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(i){return this.listeners.add(i),this.onSubscribe(),()=>{this.listeners.delete(i),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}};var Rr=typeof window>"u"||"Deno"in globalThis;function An(){}function bE(i,t){return typeof i=="function"?i(t):i}function vE(i){return typeof i=="number"&&i>=0&&i!==1/0}function wE(i,t){return Math.max(i+(t||0)-Date.now(),0)}function qf(i,t){return typeof i=="function"?i(t):i}function CE(i,t){return typeof i=="function"?i(t):i}function Hf(i,t){let{type:e="all",exact:n,fetchStatus:r,predicate:o,queryKey:s,stale:l}=i;if(s){if(n){if(t.queryHash!==kl(s,t.options))return!1}else if(!$s(t.queryKey,s))return!1}if(e!=="all"){let c=t.isActive();if(e==="active"&&!c||e==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||r&&r!==t.state.fetchStatus||o&&!o(t))}function Wf(i,t){let{exact:e,status:n,predicate:r,mutationKey:o}=i;if(o){if(!t.options.mutationKey)return!1;if(e){if(zs(t.options.mutationKey)!==zs(o))return!1}else if(!$s(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||r&&!r(t))}function kl(i,t){return(t?.queryKeyHashFn||zs)(i)}function zs(i){return JSON.stringify(i,(t,e)=>$f(e)?Object.keys(e).sort().reduce((n,r)=>(n[r]=e[r],n),{}):e)}function $s(i,t){return i===t?!0:typeof i!=typeof t?!1:i&&t&&typeof i=="object"&&typeof t=="object"?!Object.keys(t).some(e=>!$s(i[e],t[e])):!1}function EE(i,t){if(i===t)return i;let e=_E(i)&&_E(t);if(e||$f(i)&&$f(t)){let n=e?i:Object.keys(i),r=n.length,o=e?t:Object.keys(t),s=o.length,l=e?[]:{},c=0;for(let u=0;u<s;u++){let g=e?u:o[u];(!e&&n.includes(g)||e)&&i[g]===void 0&&t[g]===void 0?(l[g]=void 0,c++):(l[g]=EE(i[g],t[g]),l[g]===i[g]&&i[g]!==void 0&&c++)}return r===s&&c===r?i:l}return t}function _E(i){return Array.isArray(i)&&i.length===Object.keys(i).length}function $f(i){if(!yE(i))return!1;let t=i.constructor;if(t===void 0)return!0;let e=t.prototype;return!(!yE(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(i)!==Object.prototype)}function yE(i){return Object.prototype.toString.call(i)==="[object Object]"}function SE(i){return new Promise(t=>{setTimeout(t,i)})}function IE(i,t,e){return typeof e.structuralSharing=="function"?e.structuralSharing(i,t):e.structuralSharing!==!1?EE(i,t):t}function xE(i,t,e=0){let n=[...i,t];return e&&n.length>e?n.slice(1):n}function AE(i,t,e=0){let n=[t,...i];return e&&n.length>e?n.slice(0,-1):n}var Ol=Symbol();function Eu(i,t){return!i.queryFn&&t?.initialPromise?()=>t.initialPromise:!i.queryFn||i.queryFn===Ol?()=>Promise.reject(new Error(`Missing queryFn: '${i.queryHash}'`)):i.queryFn}var CP=class extends Dr{#e;#t;#n;constructor(){super(),this.#n=i=>{if(!Rr&&window.addEventListener){let t=()=>i();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(i){this.#n=i,this.#t?.(),this.#t=i(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(i){this.#e!==i&&(this.#e=i,this.onFocus())}onFocus(){let i=this.isFocused();this.listeners.forEach(t=>{t(i)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Su=new CP;var EP=class extends Dr{#e=!0;#t;#n;constructor(){super(),this.#n=i=>{if(!Rr&&window.addEventListener){let t=()=>i(!0),e=()=>i(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",e,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(i){this.#n=i,this.#t?.(),this.#t=i(this.setOnline.bind(this))}setOnline(i){this.#e!==i&&(this.#e=i,this.listeners.forEach(e=>{e(i)}))}isOnline(){return this.#e}},vo=new EP;function TE(){let i,t,e=new Promise((r,o)=>{i=r,t=o});e.status="pending",e.catch(()=>{});function n(r){Object.assign(e,r),delete e.resolve,delete e.reject}return e.resolve=r=>{n({status:"fulfilled",value:r}),i(r)},e.reject=r=>{n({status:"rejected",reason:r}),t(r)},e}function SP(i){return Math.min(1e3*2**i,3e4)}function Kf(i){return(i??"online")==="online"?vo.isOnline():!0}var DE=class extends Error{constructor(i){super("CancelledError"),this.revert=i?.revert,this.silent=i?.silent}};function Iu(i){return i instanceof DE}function xu(i){let t=!1,e=0,n=!1,r,o=TE(),s=R=>{n||(C(new DE(R)),i.abort?.())},l=()=>{t=!0},c=()=>{t=!1},u=()=>Su.isFocused()&&(i.networkMode==="always"||vo.isOnline())&&i.canRun(),g=()=>Kf(i.networkMode)&&i.canRun(),v=R=>{n||(n=!0,i.onSuccess?.(R),r?.(),o.resolve(R))},C=R=>{n||(n=!0,i.onError?.(R),r?.(),o.reject(R))},A=()=>new Promise(R=>{r=F=>{(n||u())&&R(F)},i.onPause?.()}).then(()=>{r=void 0,n||i.onContinue?.()}),I=()=>{if(n)return;let R,F=e===0?i.initialPromise:void 0;try{R=F??i.fn()}catch(U){R=Promise.reject(U)}Promise.resolve(R).then(v).catch(U=>{if(n)return;let X=i.retry??(Rr?0:3),Z=i.retryDelay??SP,W=typeof Z=="function"?Z(e,U):Z,Ae=X===!0||typeof X=="number"&&e<X||typeof X=="function"&&X(e,U);if(t||!Ae){C(U);return}e++,i.onFail?.(e,U),SE(W).then(()=>u()?void 0:A()).then(()=>{t?C(U):I()})})};return{promise:o,cancel:s,continue:()=>(r?.(),o),cancelRetry:l,continueRetry:c,canStart:g,start:()=>(g()?I():A().then(I),o)}}function IP(){let i=[],t=0,e=l=>{l()},n=l=>{l()},r=l=>setTimeout(l,0),o=l=>{t?i.push(l):r(()=>{e(l)})},s=()=>{let l=i;i=[],l.length&&r(()=>{n(()=>{l.forEach(c=>{e(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||s()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{e=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{r=l}}}var bt=IP();var Au=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vE(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(i){this.gcTime=Math.max(this.gcTime||0,i??(Rr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}};var RE=class extends Au{#e;#t;#n;#r;#i;#s;#a;constructor(i){super(),this.#a=!1,this.#s=i.defaultOptions,this.setOptions(i.options),this.observers=[],this.#r=i.client,this.#n=this.#r.getQueryCache(),this.queryKey=i.queryKey,this.queryHash=i.queryHash,this.#e=AP(this.options),this.state=i.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(i){this.options=P(P({},this.#s),i),this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(i,t){let e=IE(this.state.data,i,this.options);return this.#o({data:e,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),e}setState(i,t){this.#o({type:"setState",state:i,setStateOptions:t})}cancel(i){let t=this.#i?.promise;return this.#i?.cancel(i),t?t.then(An).catch(An):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(i=>CE(i.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ol||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(i=>i.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(i=0){return this.state.isInvalidated||this.state.data===void 0||!wE(this.state.dataUpdatedAt,i)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(i){this.observers.includes(i)||(this.observers.push(i),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:i}))}removeObserver(i){this.observers.includes(i)&&(this.observers=this.observers.filter(t=>t!==i),this.observers.length||(this.#i&&(this.#a?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:i}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}fetch(i,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(i&&this.setOptions(i),!this.options.queryFn){let l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}let e=new AbortController,n=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#a=!0,e.signal)})},r=()=>{let l=Eu(this.options,t),c={client:this.#r,queryKey:this.queryKey,meta:this.meta};return n(c),this.#a=!1,this.options.persister?this.options.persister(l,c,this):l(c)},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:r};n(o),this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#o({type:"fetch",meta:o.fetchOptions?.meta});let s=l=>{Iu(l)&&l.silent||this.#o({type:"error",error:l}),Iu(l)||(this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#i=xu({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:e.abort.bind(e),onSuccess:l=>{if(l===void 0){s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){s(c);return}this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:s,onFail:(l,c)=>{this.#o({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#i.start()}#o(i){let t=e=>{switch(i.type){case"failed":return ie(P({},e),{fetchFailureCount:i.failureCount,fetchFailureReason:i.error});case"pause":return ie(P({},e),{fetchStatus:"paused"});case"continue":return ie(P({},e),{fetchStatus:"fetching"});case"fetch":return ie(P(P({},e),xP(e.data,this.options)),{fetchMeta:i.meta??null});case"success":return P(ie(P({},e),{data:i.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:i.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success"}),!i.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":let n=i.error;return Iu(n)&&n.revert&&this.#t?ie(P({},this.#t),{fetchStatus:"idle"}):ie(P({},e),{error:n,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"});case"invalidate":return ie(P({},e),{isInvalidated:!0});case"setState":return P(P({},e),i.state)}};this.state=t(this.state),bt.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:i})})}};function xP(i,t){return P({fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Kf(t.networkMode)?"fetching":"paused"},i===void 0&&{error:null,status:"pending"})}function AP(i){let t=typeof i.initialData=="function"?i.initialData():i.initialData,e=t!==void 0,n=e?typeof i.initialDataUpdatedAt=="function"?i.initialDataUpdatedAt():i.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:e?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var ME=class extends Dr{constructor(i={}){super(),this.config=i,this.#e=new Map}#e;build(i,t,e){let n=t.queryKey,r=t.queryHash??kl(n,t),o=this.get(r);return o||(o=new RE({client:i,queryKey:n,queryHash:r,options:i.defaultQueryOptions(t),state:e,defaultOptions:i.getQueryDefaults(n)}),this.add(o)),o}add(i){this.#e.has(i.queryHash)||(this.#e.set(i.queryHash,i),this.notify({type:"added",query:i}))}remove(i){let t=this.#e.get(i.queryHash);t&&(i.destroy(),t===i&&this.#e.delete(i.queryHash),this.notify({type:"removed",query:i}))}clear(){bt.batch(()=>{this.getAll().forEach(i=>{this.remove(i)})})}get(i){return this.#e.get(i)}getAll(){return[...this.#e.values()]}find(i){let t=P({exact:!0},i);return this.getAll().find(e=>Hf(t,e))}findAll(i={}){let t=this.getAll();return Object.keys(i).length>0?t.filter(e=>Hf(i,e)):t}notify(i){bt.batch(()=>{this.listeners.forEach(t=>{t(i)})})}onFocus(){bt.batch(()=>{this.getAll().forEach(i=>{i.onFocus()})})}onOnline(){bt.batch(()=>{this.getAll().forEach(i=>{i.onOnline()})})}};var kE=class extends Au{#e;#t;#n;constructor(i){super(),this.mutationId=i.mutationId,this.#t=i.mutationCache,this.#e=[],this.state=i.state||TP(),this.setOptions(i.options),this.scheduleGc()}setOptions(i){this.options=i,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(i){this.#e.includes(i)||(this.#e.push(i),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:i}))}removeObserver(i){this.#e=this.#e.filter(t=>t!==i),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:i})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}execute(i){return j(this,null,function*(){this.#n=xu({fn:()=>this.options.mutationFn?this.options.mutationFn(i):Promise.reject(new Error("No mutationFn found")),onFail:(n,r)=>{this.#r({type:"failed",failureCount:n,error:r})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});let t=this.state.status==="pending",e=!this.#n.canStart();try{if(!t){this.#r({type:"pending",variables:i,isPaused:e}),yield this.#t.config.onMutate?.(i,this);let r=yield this.options.onMutate?.(i);r!==this.state.context&&this.#r({type:"pending",context:r,variables:i,isPaused:e})}let n=yield this.#n.start();return yield this.#t.config.onSuccess?.(n,i,this.state.context,this),yield this.options.onSuccess?.(n,i,this.state.context),yield this.#t.config.onSettled?.(n,null,this.state.variables,this.state.context,this),yield this.options.onSettled?.(n,null,i,this.state.context),this.#r({type:"success",data:n}),n}catch(n){try{throw yield this.#t.config.onError?.(n,i,this.state.context,this),yield this.options.onError?.(n,i,this.state.context),yield this.#t.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),yield this.options.onSettled?.(void 0,n,i,this.state.context),n}finally{this.#r({type:"error",error:n})}}finally{this.#t.runNext(this)}})}#r(i){let t=e=>{switch(i.type){case"failed":return ie(P({},e),{failureCount:i.failureCount,failureReason:i.error});case"pause":return ie(P({},e),{isPaused:!0});case"continue":return ie(P({},e),{isPaused:!1});case"pending":return ie(P({},e),{context:i.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:i.isPaused,status:"pending",variables:i.variables,submittedAt:Date.now()});case"success":return ie(P({},e),{data:i.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return ie(P({},e),{data:void 0,error:i.error,failureCount:e.failureCount+1,failureReason:i.error,isPaused:!1,status:"error"})}};this.state=t(this.state),bt.batch(()=>{this.#e.forEach(e=>{e.onMutationUpdate(i)}),this.#t.notify({mutation:this,type:"updated",action:i})})}};function TP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var OE=class extends Dr{constructor(i={}){super(),this.config=i,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(i,t,e){let n=new kE({mutationCache:this,mutationId:++this.#n,options:i.defaultMutationOptions(t),state:e});return this.add(n),n}add(i){this.#e.add(i);let t=Tu(i);if(typeof t=="string"){let e=this.#t.get(t);e?e.push(i):this.#t.set(t,[i])}this.notify({type:"added",mutation:i})}remove(i){if(this.#e.delete(i)){let t=Tu(i);if(typeof t=="string"){let e=this.#t.get(t);if(e)if(e.length>1){let n=e.indexOf(i);n!==-1&&e.splice(n,1)}else e[0]===i&&this.#t.delete(t)}}this.notify({type:"removed",mutation:i})}canRun(i){let t=Tu(i);if(typeof t=="string"){let n=this.#t.get(t)?.find(r=>r.state.status==="pending");return!n||n===i}else return!0}runNext(i){let t=Tu(i);return typeof t=="string"?this.#t.get(t)?.find(n=>n!==i&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){bt.batch(()=>{this.#e.forEach(i=>{this.notify({type:"removed",mutation:i})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(i){let t=P({exact:!0},i);return this.getAll().find(e=>Wf(t,e))}findAll(i={}){return this.getAll().filter(t=>Wf(i,t))}notify(i){bt.batch(()=>{this.listeners.forEach(t=>{t(i)})})}resumePausedMutations(){let i=this.getAll().filter(t=>t.state.isPaused);return bt.batch(()=>Promise.all(i.map(t=>t.continue().catch(An))))}};function Tu(i){return i.options.scope?.id}function Gf(i){return{onFetch:(t,e)=>{let n=t.options,r=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],s=t.state.data?.pageParams||[],l={pages:[],pageParams:[]},c=0,u=()=>j(null,null,function*(){let g=!1,v=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},C=Eu(t.options,t.fetchOptions),A=(I,R,F)=>j(null,null,function*(){if(g)return Promise.reject();if(R==null&&I.pages.length)return Promise.resolve(I);let U={client:t.client,queryKey:t.queryKey,pageParam:R,direction:F?"backward":"forward",meta:t.options.meta};v(U);let X=yield C(U),{maxPages:Z}=t.options,W=F?AE:xE;return{pages:W(I.pages,X,Z),pageParams:W(I.pageParams,R,Z)}});if(r&&o.length){let I=r==="backward",R=I?DP:PE,F={pages:o,pageParams:s},U=R(n,F);l=yield A(F,U,I)}else{let I=i??o.length;do{let R=c===0?s[0]??n.initialPageParam:PE(n,l);if(c>0&&R==null)break;l=yield A(l,R),c++}while(c<I)}return l});t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},e):t.fetchFn=u}}}function PE(i,{pages:t,pageParams:e}){let n=t.length-1;return t.length>0?i.getNextPageParam(t[n],t,e[n],e):void 0}function DP(i,{pages:t,pageParams:e}){return t.length>0?i.getPreviousPageParam?.(t[0],t,e[0],e):void 0}var Pl=class{#e;#t;#n;#r;#i;#s;#a;#o;constructor(i={}){this.#e=i.queryCache||new ME,this.#t=i.mutationCache||new OE,this.#n=i.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#a=Su.subscribe(i=>j(this,null,function*(){i&&(yield this.resumePausedMutations(),this.#e.onFocus())})),this.#o=vo.subscribe(i=>j(this,null,function*(){i&&(yield this.resumePausedMutations(),this.#e.onOnline())})))}unmount(){this.#s--,this.#s===0&&(this.#a?.(),this.#a=void 0,this.#o?.(),this.#o=void 0)}isFetching(i){return this.#e.findAll(ie(P({},i),{fetchStatus:"fetching"})).length}isMutating(i){return this.#t.findAll(ie(P({},i),{status:"pending"})).length}getQueryData(i){let t=this.defaultQueryOptions({queryKey:i});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(i){let t=this.defaultQueryOptions(i),e=this.#e.build(this,t),n=e.state.data;return n===void 0?this.fetchQuery(i):(i.revalidateIfStale&&e.isStaleByTime(qf(t.staleTime,e))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(i){return this.#e.findAll(i).map(({queryKey:t,state:e})=>{let n=e.data;return[t,n]})}setQueryData(i,t,e){let n=this.defaultQueryOptions({queryKey:i}),o=this.#e.get(n.queryHash)?.state.data,s=bE(t,o);if(s!==void 0)return this.#e.build(this,n).setData(s,ie(P({},e),{manual:!0}))}setQueriesData(i,t,e){return bt.batch(()=>this.#e.findAll(i).map(({queryKey:n})=>[n,this.setQueryData(n,t,e)]))}getQueryState(i){let t=this.defaultQueryOptions({queryKey:i});return this.#e.get(t.queryHash)?.state}removeQueries(i){let t=this.#e;bt.batch(()=>{t.findAll(i).forEach(e=>{t.remove(e)})})}resetQueries(i,t){let e=this.#e,n=P({type:"active"},i);return bt.batch(()=>(e.findAll(i).forEach(r=>{r.reset()}),this.refetchQueries(n,t)))}cancelQueries(i,t={}){let e=P({revert:!0},t),n=bt.batch(()=>this.#e.findAll(i).map(r=>r.cancel(e)));return Promise.all(n).then(An).catch(An)}invalidateQueries(i,t={}){return bt.batch(()=>{if(this.#e.findAll(i).forEach(n=>{n.invalidate()}),i?.refetchType==="none")return Promise.resolve();let e=ie(P({},i),{type:i?.refetchType??i?.type??"active"});return this.refetchQueries(e,t)})}refetchQueries(i,t={}){let e=ie(P({},t),{cancelRefetch:t.cancelRefetch??!0}),n=bt.batch(()=>this.#e.findAll(i).filter(r=>!r.isDisabled()).map(r=>{let o=r.fetch(void 0,e);return e.throwOnError||(o=o.catch(An)),r.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(An)}fetchQuery(i){let t=this.defaultQueryOptions(i);t.retry===void 0&&(t.retry=!1);let e=this.#e.build(this,t);return e.isStaleByTime(qf(t.staleTime,e))?e.fetch(t):Promise.resolve(e.state.data)}prefetchQuery(i){return this.fetchQuery(i).then(An).catch(An)}fetchInfiniteQuery(i){return i.behavior=Gf(i.pages),this.fetchQuery(i)}prefetchInfiniteQuery(i){return this.fetchInfiniteQuery(i).then(An).catch(An)}ensureInfiniteQueryData(i){return i.behavior=Gf(i.pages),this.ensureQueryData(i)}resumePausedMutations(){return vo.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(i){this.#n=i}setQueryDefaults(i,t){this.#r.set(zs(i),{queryKey:i,defaultOptions:t})}getQueryDefaults(i){let t=[...this.#r.values()],e={};return t.forEach(n=>{$s(i,n.queryKey)&&Object.assign(e,n.defaultOptions)}),e}setMutationDefaults(i,t){this.#i.set(zs(i),{mutationKey:i,defaultOptions:t})}getMutationDefaults(i){let t=[...this.#i.values()],e={};return t.forEach(n=>{$s(i,n.mutationKey)&&(e=P(P({},e),n.defaultOptions))}),e}defaultQueryOptions(i){if(i._defaulted)return i;let t=ie(P(P(P({},this.#n.queries),this.getQueryDefaults(i.queryKey)),i),{_defaulted:!0});return t.queryHash||(t.queryHash=kl(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ol&&(t.enabled=!1),t}defaultMutationOptions(i){return i?._defaulted?i:ie(P(P(P({},this.#n.mutations),i?.mutationKey&&this.getMutationDefaults(i.mutationKey)),i),{_defaulted:!0})}clear(){this.#e.clear(),this.#t.clear()}};function RP(i){return{provide:Pl,useValue:i}}function NE(i,...t){return ot([RP(i),{provide:Sh,multi:!0,useValue:()=>{i.mount(),_(Ro).onDestroy(()=>i.unmount())}},t.map(e=>e.\u0275providers)])}function FE(i){return new oe(3e3,!1)}function MP(){return new oe(3100,!1)}function kP(){return new oe(3101,!1)}function OP(i){return new oe(3001,!1)}function PP(i){return new oe(3003,!1)}function NP(i){return new oe(3004,!1)}function VE(i,t){return new oe(3005,!1)}function BE(){return new oe(3006,!1)}function jE(){return new oe(3007,!1)}function UE(i,t){return new oe(3008,!1)}function zE(i){return new oe(3002,!1)}function $E(i,t,e,n,r){return new oe(3010,!1)}function qE(){return new oe(3011,!1)}function HE(){return new oe(3012,!1)}function WE(){return new oe(3200,!1)}function KE(){return new oe(3202,!1)}function GE(){return new oe(3013,!1)}function YE(i){return new oe(3014,!1)}function QE(i){return new oe(3015,!1)}function XE(i){return new oe(3016,!1)}function ZE(i,t){return new oe(3404,!1)}function FP(i){return new oe(3502,!1)}function JE(i){return new oe(3503,!1)}function eS(){return new oe(3300,!1)}function tS(i){return new oe(3504,!1)}function nS(i){return new oe(3301,!1)}function iS(i,t){return new oe(3302,!1)}function rS(i){return new oe(3303,!1)}function oS(i,t){return new oe(3400,!1)}function sS(i){return new oe(3401,!1)}function aS(i){return new oe(3402,!1)}function lS(i,t){return new oe(3505,!1)}function Qi(i){switch(i.length){case 0:return new wi;case 1:return i[0];default:return new to(i)}}function Zf(i,t,e=new Map,n=new Map){let r=[],o=[],s=-1,l=null;if(t.forEach(c=>{let u=c.get("offset"),g=u==s,v=g&&l||new Map;c.forEach((C,A)=>{let I=A,R=C;if(A!=="offset")switch(I=i.normalizePropertyName(I,r),R){case hs:R=e.get(A);break;case Kn:R=n.get(A);break;default:R=i.normalizeStyleValue(A,I,R,r);break}v.set(I,R)}),g||o.push(v),l=v,s=u}),r.length)throw FP(r);return o}function Du(i,t,e,n){switch(t){case"start":i.onStart(()=>n(e&&Yf(e,"start",i)));break;case"done":i.onDone(()=>n(e&&Yf(e,"done",i)));break;case"destroy":i.onDestroy(()=>n(e&&Yf(e,"destroy",i)));break}}function Yf(i,t,e){let n=e.totalTime,r=!!e.disabled,o=Ru(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,n??i.totalTime,r),s=i._data;return s!=null&&(o._data=s),o}function Ru(i,t,e,n,r="",o=0,s){return{element:i,triggerName:t,fromState:e,toState:n,phaseName:r,totalTime:o,disabled:!!s}}function Tn(i,t,e){let n=i.get(t);return n||i.set(t,n=e),n}function Jf(i){let t=i.indexOf(":"),e=i.substring(1,t),n=i.slice(t+1);return[e,n]}var LP=typeof document>"u"?null:document.documentElement;function Mu(i){let t=i.parentNode||i.host||null;return t===LP?null:t}function VP(i){return i.substring(1,6)=="ebkit"}var wo=null,LE=!1;function cS(i){wo||(wo=BP()||{},LE=wo.style?"WebkitAppearance"in wo.style:!1);let t=!0;return wo.style&&!VP(i)&&(t=i in wo.style,!t&&LE&&(t="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in wo.style)),t}function BP(){return typeof document<"u"?document.body:null}function eg(i,t){for(;t;){if(t===i)return!0;t=Mu(t)}return!1}function tg(i,t,e){if(e)return Array.from(i.querySelectorAll(t));let n=i.querySelector(t);return n?[n]:[]}var jP=1e3,ng="{{",UP="}}",ig="ng-enter",ku="ng-leave",Nl="ng-trigger",Fl=".ng-trigger",rg="ng-animating",Ou=".ng-animating";function Ii(i){if(typeof i=="number")return i;let t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Qf(parseFloat(t[1]),t[2])}function Qf(i,t){switch(t){case"s":return i*jP;default:return i}}function Ll(i,t,e){return i.hasOwnProperty("duration")?i:$P(i,t,e)}var zP=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function $P(i,t,e){let n,r=0,o="";if(typeof i=="string"){let s=i.match(zP);if(s===null)return t.push(FE(i)),{duration:0,delay:0,easing:""};n=Qf(parseFloat(s[1]),s[2]);let l=s[3];l!=null&&(r=Qf(parseFloat(l),s[4]));let c=s[5];c&&(o=c)}else n=i;if(!e){let s=!1,l=t.length;n<0&&(t.push(MP()),s=!0),r<0&&(t.push(kP()),s=!0),s&&t.splice(l,0,FE(i))}return{duration:n,delay:r,easing:o}}function dS(i){return i.length?i[0]instanceof Map?i:i.map(t=>new Map(Object.entries(t))):[]}function ci(i,t,e){t.forEach((n,r)=>{let o=Pu(r);e&&!e.has(r)&&e.set(r,i.style[o]),i.style[o]=n})}function Mr(i,t){t.forEach((e,n)=>{let r=Pu(n);i.style[r]=""})}function qs(i){return Array.isArray(i)?i.length==1?i[0]:o0(i):i}function uS(i,t,e){let n=t.params||{},r=og(i);r.length&&r.forEach(o=>{n.hasOwnProperty(o)||e.push(OP(o))})}var Xf=new RegExp(`${ng}\\s*(.+?)\\s*${UP}`,"g");function og(i){let t=[];if(typeof i=="string"){let e;for(;e=Xf.exec(i);)t.push(e[1]);Xf.lastIndex=0}return t}function Hs(i,t,e){let n=`${i}`,r=n.replace(Xf,(o,s)=>{let l=t[s];return l==null&&(e.push(PP(s)),l=""),l.toString()});return r==n?i:r}var qP=/-+([a-z0-9])/g;function Pu(i){return i.replace(qP,(...t)=>t[1].toUpperCase())}function hS(i,t){return i===0||t===0}function mS(i,t,e){if(e.size&&t.length){let n=t[0],r=[];if(e.forEach((o,s)=>{n.has(s)||r.push(s),n.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(l=>s.set(l,Nu(i,l)))}}return t}function Dn(i,t,e){switch(t.type){case Me.Trigger:return i.visitTrigger(t,e);case Me.State:return i.visitState(t,e);case Me.Transition:return i.visitTransition(t,e);case Me.Sequence:return i.visitSequence(t,e);case Me.Group:return i.visitGroup(t,e);case Me.Animate:return i.visitAnimate(t,e);case Me.Keyframes:return i.visitKeyframes(t,e);case Me.Style:return i.visitStyle(t,e);case Me.Reference:return i.visitReference(t,e);case Me.AnimateChild:return i.visitAnimateChild(t,e);case Me.AnimateRef:return i.visitAnimateRef(t,e);case Me.Query:return i.visitQuery(t,e);case Me.Stagger:return i.visitStagger(t,e);default:throw NP(t.type)}}function Nu(i,t){return window.getComputedStyle(i)[t]}var Cg=(()=>{class i{validateStyleProperty(e){return cS(e)}containsElement(e,n){return eg(e,n)}getParentElement(e){return Mu(e)}query(e,n,r){return tg(e,n,r)}computeStyle(e,n,r){return r||""}animate(e,n,r,o,s,l=[],c){return new wi(r,o)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac})}return i})(),Eo=class{static NOOP=new Cg},So=class{};var HP=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),ju=class extends So{normalizePropertyName(t,e){return Pu(t)}normalizeStyleValue(t,e,n,r){let o="",s=n.toString().trim();if(HP.has(e)&&n!==0&&n!=="0")if(typeof n=="number")o="px";else{let l=n.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&l[1].length==0&&r.push(VE(t,n))}return s+o}};var Uu="*";function WP(i,t){let e=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(n=>KP(n,e,t)):e.push(i),e}function KP(i,t,e){if(i[0]==":"){let c=GP(i,e);if(typeof c=="function"){t.push(c);return}i=c}let n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return e.push(QE(i)),t;let r=n[1],o=n[2],s=n[3];t.push(pS(r,s));let l=r==Uu&&s==Uu;o[0]=="<"&&!l&&t.push(pS(s,r))}function GP(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(XE(i)),"* => *"}}var Fu=new Set(["true","1"]),Lu=new Set(["false","0"]);function pS(i,t){let e=Fu.has(i)||Lu.has(i),n=Fu.has(t)||Lu.has(t);return(r,o)=>{let s=i==Uu||i==r,l=t==Uu||t==o;return!s&&e&&typeof r=="boolean"&&(s=r?Fu.has(i):Lu.has(i)),!l&&n&&typeof o=="boolean"&&(l=o?Fu.has(t):Lu.has(t)),s&&l}}var SS=":self",YP=new RegExp(`s*${SS}s*,?`,"g");function IS(i,t,e,n){return new ug(i).build(t,e,n)}var fS="",ug=class{_driver;constructor(t){this._driver=t}build(t,e,n){let r=new hg(e);return this._resetContextStyleTimingState(r),Dn(this,qs(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=fS,t.collectedStyles=new Map,t.collectedStyles.set(fS,new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0,o=[],s=[];return t.name.charAt(0)=="@"&&e.errors.push(BE()),t.definitions.forEach(l=>{if(this._resetContextStyleTimingState(e),l.type==Me.State){let c=l,u=c.name;u.toString().split(/\s*,\s*/).forEach(g=>{c.name=g,o.push(this.visitState(c,e))}),c.name=u}else if(l.type==Me.Transition){let c=this.visitTransition(l,e);n+=c.queryCount,r+=c.depCount,s.push(c)}else e.errors.push(jE())}),{type:Me.Trigger,name:t.name,states:o,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){let n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){let o=new Set,s=r||{};n.styles.forEach(l=>{l instanceof Map&&l.forEach(c=>{og(c).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&e.errors.push(UE(t.name,[...o.values()]))}return{type:Me.State,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let n=Dn(this,qs(t.animation),e),r=WP(t.expr,e.errors);return{type:Me.Transition,matchers:r,animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Co(t.options)}}visitSequence(t,e){return{type:Me.Sequence,steps:t.steps.map(n=>Dn(this,n,e)),options:Co(t.options)}}visitGroup(t,e){let n=e.currentTime,r=0,o=t.steps.map(s=>{e.currentTime=n;let l=Dn(this,s,e);return r=Math.max(r,e.currentTime),l});return e.currentTime=r,{type:Me.Group,steps:o,options:Co(t.options)}}visitAnimate(t,e){let n=JP(t.timings,e.errors);e.currentAnimateTimings=n;let r,o=t.styles?t.styles:Bi({});if(o.type==Me.Keyframes)r=this.visitKeyframes(o,e);else{let s=t.styles,l=!1;if(!s){l=!0;let u={};n.easing&&(u.easing=n.easing),s=Bi(u)}e.currentTime+=n.duration+n.delay;let c=this.visitStyle(s,e);c.isEmptyStep=l,r=c}return e.currentAnimateTimings=null,{type:Me.Animate,timings:n,style:r,options:null}}visitStyle(t,e){let n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){let n=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let l of r)typeof l=="string"?l===Kn?n.push(l):e.errors.push(zE(l)):n.push(new Map(Object.entries(l)));let o=!1,s=null;return n.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(s=l.get("easing"),l.delete("easing")),!o)){for(let c of l.values())if(c.toString().indexOf(ng)>=0){o=!0;break}}}),{type:Me.Style,styles:n,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){let n=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;n&&o>0&&(o-=n.duration+n.delay),t.styles.forEach(s=>{typeof s!="string"&&s.forEach((l,c)=>{let u=e.collectedStyles.get(e.currentQuerySelector),g=u.get(c),v=!0;g&&(o!=r&&o>=g.startTime&&r<=g.endTime&&(e.errors.push($E(c,g.startTime,g.endTime,o,r)),v=!1),o=g.startTime),v&&u.set(c,{startTime:o,endTime:r}),e.options&&uS(l,e.options,e.errors)})})}visitKeyframes(t,e){let n={type:Me.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(qE()),n;let r=1,o=0,s=[],l=!1,c=!1,u=0,g=t.steps.map(U=>{let X=this._makeStyleAst(U,e),Z=X.offset!=null?X.offset:ZP(X.styles),W=0;return Z!=null&&(o++,W=X.offset=Z),c=c||W<0||W>1,l=l||W<u,u=W,s.push(W),X});c&&e.errors.push(HE()),l&&e.errors.push(WE());let v=t.steps.length,C=0;o>0&&o<v?e.errors.push(KE()):o==0&&(C=r/(v-1));let A=v-1,I=e.currentTime,R=e.currentAnimateTimings,F=R.duration;return g.forEach((U,X)=>{let Z=C>0?X==A?1:C*X:s[X],W=Z*F;e.currentTime=I+R.delay+W,R.duration=W,this._validateStyleAst(U,e),U.offset=Z,n.styles.push(U)}),n}visitReference(t,e){return{type:Me.Reference,animation:Dn(this,qs(t.animation),e),options:Co(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:Me.AnimateChild,options:Co(t.options)}}visitAnimateRef(t,e){return{type:Me.AnimateRef,animation:this.visitReference(t.animation,e),options:Co(t.options)}}visitQuery(t,e){let n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;let[o,s]=QP(t.selector);e.currentQuerySelector=n.length?n+" "+o:o,Tn(e.collectedStyles,e.currentQuerySelector,new Map);let l=Dn(this,qs(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:Me.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:l,originalSelector:t.selector,options:Co(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(GE());let n=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Ll(t.timings,e.errors,!0);return{type:Me.Stagger,animation:Dn(this,qs(t.animation),e),timings:n,options:null}}};function QP(i){let t=!!i.split(/\s*,\s*/).find(e=>e==SS);return t&&(i=i.replace(YP,"")),i=i.replace(/@\*/g,Fl).replace(/@\w+/g,e=>Fl+"-"+e.slice(1)).replace(/:animating/g,Ou),[i,t]}function XP(i){return i?P({},i):null}var hg=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function ZP(i){if(typeof i=="string")return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){let n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let e=i;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function JP(i,t){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let o=Ll(i,t).duration;return sg(o,0,"")}let e=i;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=sg(0,0,"");return o.dynamic=!0,o.strValue=e,o}let r=Ll(e,t);return sg(r.duration,r.delay,r.easing)}function Co(i){return i?(i=P({},i),i.params&&(i.params=XP(i.params))):i={},i}function sg(i,t,e){return{duration:i,delay:t,easing:e}}function Eg(i,t,e,n,r,o,s=null,l=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:n,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:l}}var Bl=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},e2=1,t2=":enter",n2=new RegExp(t2,"g"),i2=":leave",r2=new RegExp(i2,"g");function xS(i,t,e,n,r,o=new Map,s=new Map,l,c,u=[]){return new mg().buildKeyframes(i,t,e,n,r,o,s,l,c,u)}var mg=class{buildKeyframes(t,e,n,r,o,s,l,c,u,g=[]){u=u||new Bl;let v=new pg(t,e,u,r,o,g,[]);v.options=c;let C=c.delay?Ii(c.delay):0;v.currentTimeline.delayNextStep(C),v.currentTimeline.setStyles([s],null,v.errors,c),Dn(this,n,v);let A=v.timelines.filter(I=>I.containsAnimation());if(A.length&&l.size){let I;for(let R=A.length-1;R>=0;R--){let F=A[R];if(F.element===e){I=F;break}}I&&!I.allowOnlyTimelineStyles()&&I.setStyles([l],null,v.errors,c)}return A.length?A.map(I=>I.buildKeyframes()):[Eg(e,[],[],[],0,C,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let n=e.subInstructions.get(e.element);if(n){let r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){let n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(let r of t){let o=r?.delay;if(o){let s=typeof o=="number"?o:Ii(Hs(o,r?.params??{},e.errors));n.delayNextStep(s)}}}_visitSubInstructions(t,e,n){let o=e.currentTimeline.currentTime,s=n.duration!=null?Ii(n.duration):null,l=n.delay!=null?Ii(n.delay):null;return s!==0&&t.forEach(c=>{let u=e.appendInstructionToTimeline(c,s,l);o=Math.max(o,u.duration+u.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Dn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let n=e.subContextCount,r=e,o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==Me.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=zu);let s=Ii(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Dn(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let n=[],r=e.currentTimeline.currentTime,o=t.options&&t.options.delay?Ii(t.options.delay):0;t.steps.forEach(s=>{let l=e.createSubContext(t.options);o&&l.delayNextStep(o),Dn(this,s,l),r=Math.max(r,l.currentTimeline.currentTime),n.push(l.currentTimeline)}),n.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let n=t.strValue,r=e.params?Hs(n,e.params,e.errors):n;return Ll(r,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());let o=t.style;o.type==Me.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(n.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();let o=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(o):n.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let n=e.currentAnimateTimings,r=e.currentTimeline.duration,o=n.duration,l=e.createSubContext().currentTimeline;l.easing=n.easing,t.styles.forEach(c=>{let u=c.offset||0;l.forwardTime(u*o),l.setStyles(c.styles,c.easing,e.errors,e.options),l.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(l),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){let n=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Ii(r.delay):0;o&&(e.previousNode.type===Me.Style||n==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=zu);let s=n,l=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=l.length;let c=null;l.forEach((u,g)=>{e.currentQueryIndex=g;let v=e.createSubContext(t.options,u);o&&v.delayNextStep(o),u===e.element&&(c=v.currentTimeline),Dn(this,t.animation,v),v.currentTimeline.applyStylesToKeyframe();let C=v.currentTimeline.currentTime;s=Math.max(s,C)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let n=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),l=s*(e.currentQueryTotal-1),c=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=l-c;break;case"full":c=n.currentStaggerTime;break}let g=e.currentTimeline;c&&g.delayNextStep(c);let v=g.currentTime;Dn(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-v+(r.startTime-n.currentTimeline.startTime)}},zu={},pg=class i{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=zu;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,n,r,o,s,l,c){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=l,this.currentTimeline=c||new $u(this._driver,e,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let n=t,r=this.options;n.duration!=null&&(r.duration=Ii(n.duration)),n.delay!=null&&(r.delay=Ii(n.delay));let o=n.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(l=>{(!e||!s.hasOwnProperty(l))&&(s[l]=Hs(o[l],s,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let n=t.params={};Object.keys(e).forEach(r=>{n[r]=e[r]})}}return t}createSubContext(t=null,e,n){let r=e||this.element,o=new i(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=zu,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){let r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},o=new fg(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,o,s){let l=[];if(r&&l.push(this.element),t.length>0){t=t.replace(n2,"."+this._enterClassName),t=t.replace(r2,"."+this._leaveClassName);let c=n!=1,u=this._driver.query(this.element,t,c);n!==0&&(u=n<0?u.slice(u.length+n,u.length):u.slice(0,n)),l.push(...u)}return!o&&l.length==0&&s.push(YE(e)),l}},$u=class i{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new i(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=e2,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||Kn),this._currentKeyframe.set(e,Kn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&this._previousKeyframe.set("easing",e);let o=r&&r.params||{},s=o2(t,this._globalTimelineStyles);for(let[l,c]of s){let u=Hs(c,o,n);this._pendingStyles.set(l,u),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??Kn),this._updateStyle(l,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{let r=this._styleSummary.get(n);(!r||e.time>r.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,n=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((l,c)=>{let u=new Map([...this._backFill,...l]);u.forEach((g,v)=>{g===hs?t.add(v):g===Kn&&e.add(v)}),n||u.set("offset",c/this.duration),r.push(u)});let o=[...t.values()],s=[...e.values()];if(n){let l=r[0],c=new Map(l);l.set("offset",0),c.set("offset",1),r=[l,c]}return Eg(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},fg=class extends $u{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,n,r,o,s,l=!1){super(t,e,s.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=l,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],s=n+e,l=e/s,c=new Map(t[0]);c.set("offset",0),o.push(c);let u=new Map(t[0]);u.set("offset",gS(l)),o.push(u);let g=t.length-1;for(let v=1;v<=g;v++){let C=new Map(t[v]),A=C.get("offset"),I=e+A*n;C.set("offset",gS(I/s)),o.push(C)}n=s,e=0,r="",t=o}return Eg(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}};function gS(i,t=3){let e=Math.pow(10,t-1);return Math.round(i*e)/e}function o2(i,t){let e=new Map,n;return i.forEach(r=>{if(r==="*"){n??=t.keys();for(let o of n)e.set(o,Kn)}else for(let[o,s]of r)e.set(o,s)}),e}function _S(i,t,e,n,r,o,s,l,c,u,g,v,C){return{type:0,element:i,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:n,toStyles:s,timelines:l,queriedElements:c,preStyleProps:u,postStyleProps:g,totalTime:v,errors:C}}var ag={},qu=class{_triggerName;ast;_stateStyles;constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return s2(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,n):new Map}build(t,e,n,r,o,s,l,c,u,g){let v=[],C=this.ast.options&&this.ast.options.params||ag,A=l&&l.params||ag,I=this.buildStyles(n,A,v),R=c&&c.params||ag,F=this.buildStyles(r,R,v),U=new Set,X=new Map,Z=new Map,W=r==="void",Ae={params:AS(R,C),delay:this.ast.options?.delay},ye=g?[]:xS(t,e,this.ast.animation,o,s,I,F,Ae,u,v),x=0;return ye.forEach(w=>{x=Math.max(w.duration+w.delay,x)}),v.length?_S(e,this._triggerName,n,r,W,I,F,[],[],X,Z,x,v):(ye.forEach(w=>{let E=w.element,T=Tn(X,E,new Set);w.preStyleProps.forEach(N=>T.add(N));let k=Tn(Z,E,new Set);w.postStyleProps.forEach(N=>k.add(N)),E!==e&&U.add(E)}),_S(e,this._triggerName,n,r,W,I,F,ye,[...U.values()],X,Z,x))}};function s2(i,t,e,n,r){return i.some(o=>o(t,e,n,r))}function AS(i,t){let e=P({},t);return Object.entries(i).forEach(([n,r])=>{r!=null&&(e[n]=r)}),e}var gg=class{styles;defaultParams;normalizer;constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){let n=new Map,r=AS(t,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,l)=>{s&&(s=Hs(s,r,e));let c=this.normalizer.normalizePropertyName(l,e);s=this.normalizer.normalizeStyleValue(l,c,s,e),n.set(l,s)})}),n}};function a2(i,t,e){return new _g(i,t,e)}var _g=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,e.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new gg(r.style,o,n))}),yS(this.states,"true","1"),yS(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new qu(t,r,this.states))}),this.fallbackTransition=l2(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(s=>s.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}};function l2(i,t,e){let n=[(s,l)=>!0],r={type:Me.Sequence,steps:[],options:null},o={type:Me.Transition,animation:r,matchers:n,options:null,queryCount:0,depCount:0};return new qu(i,o,t)}function yS(i,t,e){i.has(t)?i.has(e)||i.set(e,i.get(t)):i.has(e)&&i.set(t,i.get(e))}var c2=new Bl,yg=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n}register(t,e){let n=[],r=[],o=IS(this._driver,e,n,r);if(n.length)throw JE(n);this._animations.set(t,o)}_buildPlayer(t,e,n){let r=t.element,o=Zf(this._normalizer,t.keyframes,e,n);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){let r=[],o=this._animations.get(t),s,l=new Map;if(o?(s=xS(this._driver,e,o,ig,ku,new Map,new Map,n,c2,r),s.forEach(g=>{let v=Tn(l,g.element,new Map);g.postStyleProps.forEach(C=>v.set(C,null))})):(r.push(eS()),s=[]),r.length)throw tS(r);l.forEach((g,v)=>{g.forEach((C,A)=>{g.set(A,this._driver.computeStyle(v,A,Kn))})});let c=s.map(g=>{let v=l.get(g.element);return this._buildPlayer(g,new Map,v)}),u=Qi(c);return this._playersById.set(t,u),u.onDestroy(()=>this.destroy(t)),this.players.push(u),u}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw nS(t);return e}listen(t,e,n,r){let o=Ru(e,"","","");return Du(this._getPlayer(t),n,o,r),()=>{}}command(t,e,n,r){if(n=="register"){this.register(t,r[0]);return}if(n=="create"){let s=r[0]||{};this.create(t,e,s);return}let o=this._getPlayer(t);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},bS="ng-animate-queued",d2=".ng-animate-queued",lg="ng-animate-disabled",u2=".ng-animate-disabled",h2="ng-star-inserted",m2=".ng-star-inserted",p2=[],TS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},f2={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},di="__ng_removed",jl=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let n=t&&t.hasOwnProperty("value"),r=n?t.value:t;if(this.value=_2(r),n){let o=t,{value:s}=o,l=ic(o,["value"]);this.options=l}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let n=this.options.params;Object.keys(e).forEach(r=>{n[r]==null&&(n[r]=e[r])})}}},Vl="void",cg=new jl(Vl),bg=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this._hostClassName="ng-tns-"+t,Xn(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.has(e))throw iS(n,e);if(n==null||n.length==0)throw rS(e);if(!y2(n))throw oS(n,e);let o=Tn(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);let l=Tn(this._engine.statesByElement,t,new Map);return l.has(e)||(Xn(t,Nl),Xn(t,Nl+"-"+e),l.set(e,cg)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(e)||l.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw sS(t);return e}trigger(t,e,n,r=!0){let o=this._getTrigger(e),s=new Ul(this.id,e,t),l=this._engine.statesByElement.get(t);l||(Xn(t,Nl),Xn(t,Nl+"-"+e),this._engine.statesByElement.set(t,l=new Map));let c=l.get(e),u=new jl(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),l.set(e,u),c||(c=cg),!(u.value===Vl)&&c.value===u.value){if(!w2(c.params,u.params)){let R=[],F=o.matchStyles(c.value,c.params,R),U=o.matchStyles(u.value,u.params,R);R.length?this._engine.reportError(R):this._engine.afterFlush(()=>{Mr(t,F),ci(t,U)})}return}let C=Tn(this._engine.playersByElement,t,[]);C.forEach(R=>{R.namespaceId==this.id&&R.triggerName==e&&R.queued&&R.destroy()});let A=o.matchTransition(c.value,u.value,t,u.params),I=!1;if(!A){if(!r)return;A=o.fallbackTransition,I=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:A,fromState:c,toState:u,player:s,isFallbackTransition:I}),I||(Xn(t,bS),s.onStart(()=>{Ws(t,bS)})),s.onDone(()=>{let R=this.players.indexOf(s);R>=0&&this.players.splice(R,1);let F=this._engine.playersByElement.get(t);if(F){let U=F.indexOf(s);U>=0&&F.splice(U,1)}}),this.players.push(s),C.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let n=this._engine.driver.query(t,Fl,!0);n.forEach(r=>{if(r[di])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,n,r){let o=this._engine.statesByElement.get(t),s=new Map;if(o){let l=[];if(o.forEach((c,u)=>{if(s.set(u,c.value),this._triggers.has(u)){let g=this.trigger(t,u,Vl,r);g&&l.push(g)}}),l.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),n&&Qi(l).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){let r=new Set;e.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let c=this._triggers.get(s).fallbackTransition,u=n.get(s)||cg,g=new jl(Vl),v=new Ul(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:c,fromState:u,toState:g,player:v,isFallbackTransition:!0})})}}removeNode(t,e){let n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){let o=n.players.length?n.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(n.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{let o=t[di];(!o||o===TS)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Xn(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(n=>{let r=n.player;if(r.destroyed)return;let o=n.element,s=this._elementListeners.get(o);s&&s.forEach(l=>{if(l.name==n.triggerName){let c=Ru(o,n.triggerName,n.fromState.value,n.toState.value);c._data=t,Du(n.player,l.phase,c,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((n,r)=>{let o=n.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},vg=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){let n=new bg(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){let n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,l=this.driver.getParentElement(e);for(;l;){let c=r.get(l);if(c){let u=n.indexOf(c);n.splice(u+1,0,t),s=!0;break}l=this.driver.getParentElement(l)}s||n.unshift(t)}else n.push(t);return r.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);let r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,n=this.statesByElement.get(t);if(n){for(let r of n.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}}return e}trigger(t,e,n,r){if(Vu(e)){let o=this._fetchNamespace(t);if(o)return o.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Vu(e))return;let o=e[di];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){let s=this._fetchNamespace(t);s&&s.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Xn(t,lg)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ws(t,lg))}removeNode(t,e,n){if(Vu(e)){let r=t?this._fetchNamespace(t):null;r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n);let o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,n,r,o){this.collectedLeaveElements.push(e),e[di]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,n,r,o){return Vu(e)?this._fetchNamespace(t).listen(e,n,r,o):()=>{}}_buildInstruction(t,e,n,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Fl,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,Ou,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Qi(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[di];if(e&&e.setForRemoval){if(t[di]=TS,e.namespaceId){this.destroyInnerAnimations(t);let n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(lg)&&this.markElementAsDisabled(t,!1),this.driver.query(t,u2,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let r=this.collectedEnterElements[n];Xn(r,h2)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{e=this._flushAnimations(n,t)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let r=this.collectedLeaveElements[n];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],e.length?Qi(e).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(t){throw aS(t)}_flushAnimations(t,e){let n=new Bl,r=[],o=new Map,s=[],l=new Map,c=new Map,u=new Map,g=new Set;this.disabledNodes.forEach(re=>{g.add(re);let ce=this.driver.query(re,d2,!0);for(let pe=0;pe<ce.length;pe++)g.add(ce[pe])});let v=this.bodyNode,C=Array.from(this.statesByElement.keys()),A=CS(C,this.collectedEnterElements),I=new Map,R=0;A.forEach((re,ce)=>{let pe=ig+R++;I.set(ce,pe),re.forEach(je=>Xn(je,pe))});let F=[],U=new Set,X=new Set;for(let re=0;re<this.collectedLeaveElements.length;re++){let ce=this.collectedLeaveElements[re],pe=ce[di];pe&&pe.setForRemoval&&(F.push(ce),U.add(ce),pe.hasAnimation?this.driver.query(ce,m2,!0).forEach(je=>U.add(je)):X.add(ce))}let Z=new Map,W=CS(C,Array.from(U));W.forEach((re,ce)=>{let pe=ku+R++;Z.set(ce,pe),re.forEach(je=>Xn(je,pe))}),t.push(()=>{A.forEach((re,ce)=>{let pe=I.get(ce);re.forEach(je=>Ws(je,pe))}),W.forEach((re,ce)=>{let pe=Z.get(ce);re.forEach(je=>Ws(je,pe))}),F.forEach(re=>{this.processLeaveNode(re)})});let Ae=[],ye=[];for(let re=this._namespaceList.length-1;re>=0;re--)this._namespaceList[re].drainQueuedTransitions(e).forEach(pe=>{let je=pe.player,ut=pe.element;if(Ae.push(je),this.collectedEnterElements.length){let lt=ut[di];if(lt&&lt.setForMove){if(lt.previousTriggersValues&&lt.previousTriggersValues.has(pe.triggerName)){let xi=lt.previousTriggersValues.get(pe.triggerName),_n=this.statesByElement.get(pe.element);if(_n&&_n.has(pe.triggerName)){let Ai=_n.get(pe.triggerName);Ai.value=xi,_n.set(pe.triggerName,Ai)}}je.destroy();return}}let jn=!v||!this.driver.containsElement(v,ut),at=Z.get(ut),tt=I.get(ut),nt=this._buildInstruction(pe,n,tt,at,jn);if(nt.errors&&nt.errors.length){ye.push(nt);return}if(jn){je.onStart(()=>Mr(ut,nt.fromStyles)),je.onDestroy(()=>ci(ut,nt.toStyles)),r.push(je);return}if(pe.isFallbackTransition){je.onStart(()=>Mr(ut,nt.fromStyles)),je.onDestroy(()=>ci(ut,nt.toStyles)),r.push(je);return}let Zi=[];nt.timelines.forEach(lt=>{lt.stretchStartingKeyframe=!0,this.disabledNodes.has(lt.element)||Zi.push(lt)}),nt.timelines=Zi,n.append(ut,nt.timelines);let Yu={instruction:nt,player:je,element:ut};s.push(Yu),nt.queriedElements.forEach(lt=>Tn(l,lt,[]).push(je)),nt.preStyleProps.forEach((lt,xi)=>{if(lt.size){let _n=c.get(xi);_n||c.set(xi,_n=new Set),lt.forEach((Ai,Ji)=>_n.add(Ji))}}),nt.postStyleProps.forEach((lt,xi)=>{let _n=u.get(xi);_n||u.set(xi,_n=new Set),lt.forEach((Ai,Ji)=>_n.add(Ji))})});if(ye.length){let re=[];ye.forEach(ce=>{re.push(lS(ce.triggerName,ce.errors))}),Ae.forEach(ce=>ce.destroy()),this.reportError(re)}let x=new Map,w=new Map;s.forEach(re=>{let ce=re.element;n.has(ce)&&(w.set(ce,ce),this._beforeAnimationBuild(re.player.namespaceId,re.instruction,x))}),r.forEach(re=>{let ce=re.element;this._getPreviousPlayers(ce,!1,re.namespaceId,re.triggerName,null).forEach(je=>{Tn(x,ce,[]).push(je),je.destroy()})});let E=F.filter(re=>ES(re,c,u)),T=new Map;wS(T,this.driver,X,u,Kn).forEach(re=>{ES(re,c,u)&&E.push(re)});let N=new Map;A.forEach((re,ce)=>{wS(N,this.driver,new Set(re),c,hs)}),E.forEach(re=>{let ce=T.get(re),pe=N.get(re);T.set(re,new Map([...ce?.entries()??[],...pe?.entries()??[]]))});let S=[],Bn=[],Xi={};s.forEach(re=>{let{element:ce,player:pe,instruction:je}=re;if(n.has(ce)){if(g.has(ce)){pe.onDestroy(()=>ci(ce,je.toStyles)),pe.disabled=!0,pe.overrideTotalTime(je.totalTime),r.push(pe);return}let ut=Xi;if(w.size>1){let at=ce,tt=[];for(;at=at.parentNode;){let nt=w.get(at);if(nt){ut=nt;break}tt.push(at)}tt.forEach(nt=>w.set(nt,ut))}let jn=this._buildAnimation(pe.namespaceId,je,x,o,N,T);if(pe.setRealPlayer(jn),ut===Xi)S.push(pe);else{let at=this.playersByElement.get(ut);at&&at.length&&(pe.parentPlayer=Qi(at)),r.push(pe)}}else Mr(ce,je.fromStyles),pe.onDestroy(()=>ci(ce,je.toStyles)),Bn.push(pe),g.has(ce)&&r.push(pe)}),Bn.forEach(re=>{let ce=o.get(re.element);if(ce&&ce.length){let pe=Qi(ce);re.setRealPlayer(pe)}}),r.forEach(re=>{re.parentPlayer?re.syncPlayerEvents(re.parentPlayer):re.destroy()});for(let re=0;re<F.length;re++){let ce=F[re],pe=ce[di];if(Ws(ce,ku),pe&&pe.hasAnimation)continue;let je=[];if(l.size){let jn=l.get(ce);jn&&jn.length&&je.push(...jn);let at=this.driver.query(ce,Ou,!0);for(let tt=0;tt<at.length;tt++){let nt=l.get(at[tt]);nt&&nt.length&&je.push(...nt)}}let ut=je.filter(jn=>!jn.destroyed);ut.length?b2(this,ce,ut):this.processLeaveNode(ce)}return F.length=0,S.forEach(re=>{this.players.push(re),re.onDone(()=>{re.destroy();let ce=this.players.indexOf(re);this.players.splice(ce,1)}),re.play()}),S}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,o){let s=[];if(e){let l=this.playersByQueriedElement.get(t);l&&(s=l)}else{let l=this.playersByElement.get(t);if(l){let c=!o||o==Vl;l.forEach(u=>{u.queued||!c&&u.triggerName!=r||s.push(u)})}}return(n||r)&&(s=s.filter(l=>!(n&&n!=l.namespaceId||r&&r!=l.triggerName))),s}_beforeAnimationBuild(t,e,n){let r=e.triggerName,o=e.element,s=e.isRemovalTransition?void 0:t,l=e.isRemovalTransition?void 0:r;for(let c of e.timelines){let u=c.element,g=u!==o,v=Tn(n,u,[]);this._getPreviousPlayers(u,g,s,l,e.toState).forEach(A=>{let I=A.getRealPlayer();I.beforeDestroy&&I.beforeDestroy(),A.destroy(),v.push(A)})}Mr(o,e.fromStyles)}_buildAnimation(t,e,n,r,o,s){let l=e.triggerName,c=e.element,u=[],g=new Set,v=new Set,C=e.timelines.map(I=>{let R=I.element;g.add(R);let F=R[di];if(F&&F.removedBeforeQueried)return new wi(I.duration,I.delay);let U=R!==c,X=v2((n.get(R)||p2).map(x=>x.getRealPlayer())).filter(x=>{let w=x;return w.element?w.element===R:!1}),Z=o.get(R),W=s.get(R),Ae=Zf(this._normalizer,I.keyframes,Z,W),ye=this._buildPlayer(I,Ae,X);if(I.subTimeline&&r&&v.add(R),U){let x=new Ul(t,l,R);x.setRealPlayer(ye),u.push(x)}return ye});u.forEach(I=>{Tn(this.playersByQueriedElement,I.element,[]).push(I),I.onDone(()=>g2(this.playersByQueriedElement,I.element,I))}),g.forEach(I=>Xn(I,rg));let A=Qi(C);return A.onDestroy(()=>{g.forEach(I=>Ws(I,rg)),ci(c,e.toStyles)}),v.forEach(I=>{Tn(r,I,[]).push(A)}),A}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new wi(t.duration,t.delay)}},Ul=class{namespaceId;triggerName;element;_player=new wi;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(r=>Du(t,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Tn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function g2(i,t,e){let n=i.get(t);if(n){if(n.length){let r=n.indexOf(e);n.splice(r,1)}n.length==0&&i.delete(t)}return n}function _2(i){return i??null}function Vu(i){return i&&i.nodeType===1}function y2(i){return i=="start"||i=="done"}function vS(i,t){let e=i.style.display;return i.style.display=t??"none",e}function wS(i,t,e,n,r){let o=[];e.forEach(c=>o.push(vS(c)));let s=[];n.forEach((c,u)=>{let g=new Map;c.forEach(v=>{let C=t.computeStyle(u,v,r);g.set(v,C),(!C||C.length==0)&&(u[di]=f2,s.push(u))}),i.set(u,g)});let l=0;return e.forEach(c=>vS(c,o[l++])),s}function CS(i,t){let e=new Map;if(i.forEach(l=>e.set(l,[])),t.length==0)return e;let n=1,r=new Set(t),o=new Map;function s(l){if(!l)return n;let c=o.get(l);if(c)return c;let u=l.parentNode;return e.has(u)?c=u:r.has(u)?c=n:c=s(u),o.set(l,c),c}return t.forEach(l=>{let c=s(l);c!==n&&e.get(c).push(l)}),e}function Xn(i,t){i.classList?.add(t)}function Ws(i,t){i.classList?.remove(t)}function b2(i,t,e){Qi(e).onDone(()=>i.processLeaveNode(t))}function v2(i){let t=[];return DS(i,t),t}function DS(i,t){for(let e=0;e<i.length;e++){let n=i[e];n instanceof to?DS(n.players,t):t.push(n)}}function w2(i,t){let e=Object.keys(i),n=Object.keys(t);if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!t.hasOwnProperty(o)||i[o]!==t[o])return!1}return!0}function ES(i,t,e){let n=e.get(i);if(!n)return!1;let r=t.get(i);return r?n.forEach(o=>r.add(o)):t.set(i,n),e.delete(i),!0}var Ks=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,n){this._driver=e,this._normalizer=n,this._transitionEngine=new vg(t.body,e,n),this._timelineEngine=new yg(t.body,e,n),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,n,r,o){let s=t+"-"+r,l=this._triggerCache[s];if(!l){let c=[],u=[],g=IS(this._driver,o,c,u);if(c.length)throw ZE(r,c);l=a2(r,g,this._normalizer),this._triggerCache[s]=l}this._transitionEngine.registerTrigger(e,r,l)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if(n.charAt(0)=="@"){let[o,s]=Jf(n),l=r;this._timelineEngine.command(o,e,s,l)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,o){if(n.charAt(0)=="@"){let[s,l]=Jf(n);return this._timelineEngine.listen(s,e,l,o)}return this._transitionEngine.listen(t,e,n,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function C2(i,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=dg(t[0]),t.length>1&&(n=dg(t[t.length-1]))):t instanceof Map&&(e=dg(t)),e||n?new E2(i,e,n):null}var E2=(()=>{class i{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r;let o=i.initialStylesByElement.get(e);o||i.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ci(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ci(this._element,this._initialStyles),this._endStyles&&(ci(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(Mr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Mr(this._element,this._endStyles),this._endStyles=null),ci(this._element,this._initialStyles),this._state=3)}}return i})();function dg(i){let t=null;return i.forEach((e,n)=>{S2(n)&&(t=t||new Map,t.set(n,e))}),t}function S2(i){return i==="display"||i==="position"}var Hu=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let t=this.keyframes,e=this._triggerWebAnimation(this.element,t,this.options);if(!e)return this._onFinish(),null;this.domPlayer=e,this._finalKeyframe=t.length?t[t.length-1]:new Map;let n=()=>this._onFinish();return e.addEventListener("finish",n),this.onDestroy(()=>{e.removeEventListener("finish",n)}),e}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){let r=this._convertKeyframesToObject(e);try{return t.animate(r,n)}catch{return null}}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){let t=this._buildPlayer();t&&(this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),t.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=t*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{r!=="offset"&&t.set(r,this._finished?n:Nu(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},Wu=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return eg(t,e)}getParentElement(t){return Mu(t)}query(t,e,n){return tg(t,e,n)}computeStyle(t,e,n){return Nu(t,e)}animate(t,e,n,r,o,s=[]){let l=r==0?"both":"forwards",c={duration:n,delay:r,fill:l};o&&(c.easing=o);let u=new Map,g=s.filter(A=>A instanceof Hu);hS(n,r)&&g.forEach(A=>{A.currentSnapshot.forEach((I,R)=>u.set(R,I))});let v=dS(e).map(A=>new Map(A));v=mS(t,v,u);let C=C2(t,v);return new Hu(t,v,c,C)}};var Bu="@",RS="@.disabled",Ku=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,n,r){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n,r){if(r){this.delegate.removeChild(t,e,n,r);return}this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Bu&&e==RS?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n,r){return this.delegate.listen(t,e,n,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},wg=class extends Ku{factory;constructor(t,e,n,r,o){super(e,n,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Bu?e.charAt(1)=="."&&e==RS?(n=n===void 0?!0:!!n,this.disableAnimations(t,n)):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n,r){if(e.charAt(0)==Bu){let o=I2(t),s=e.slice(1),l="";return s.charAt(0)!=Bu&&([s,l]=x2(s)),this.engine.listen(this.namespaceId,o,s,l,c=>{let u=c._data||-1;this.factory.scheduleListenerCallback(u,n,c)})}return this.delegate.listen(t,e,n,r)}};function I2(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function x2(i){let t=i.indexOf("."),e=i.substring(0,t),n=i.slice(t+1);return[e,n]}var Gu=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,e.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(t,e){let r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let u=this._rendererCache,g=u.get(r);if(!g){let v=()=>u.delete(r);g=new Ku("",r,this.engine,v),u.set(r,g)}return g}let o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);let l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,s,t,u.name,u)};return e.data.animation.forEach(l),new wg(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(n));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,l]=o;s(l)}),this._animationCallbacksBuffer=[]})}),r.push([e,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var T2=(()=>{class i extends Ks{constructor(e,n,r){super(e,n,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||i)(_e(De),_e(Eo),_e(So))};static \u0275prov=K({token:i,factory:i.\u0275fac})}return i})();function D2(){return new ju}function R2(){return new Gu(_(Da),_(Ks),_(ee))}var MS=[{provide:So,useFactory:D2},{provide:Ks,useClass:T2},{provide:Ot,useFactory:R2}],QH=[{provide:Eo,useClass:Cg},{provide:Lr,useValue:"NoopAnimations"},...MS],M2=[{provide:Eo,useFactory:()=>new Wu},{provide:Lr,useFactory:()=>"BrowserAnimations"},...MS];function kS(){return mc("NgEagerAnimations"),[...M2]}zh(hd,{providers:[ey(),Cm(Qv),by(()=>py().length?Kt():vy({projectId:"project-a2-7b9e8",appId:"1:423221934609:web:126218f73b12c959f08fb0",databaseURL:"https://project-a2-7b9e8-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"project-a2-7b9e8.firebasestorage.app",apiKey:"AIzaSyDLrpLTvmqdthZlDs6B9GvK6RtxFfV3GyU",authDomain:"project-a2-7b9e8.firebaseapp.com",messagingSenderId:"423221934609",measurementId:"G-PLSVLXGESZ"})),Cy(()=>Sy()),gw(()=>mw()),fw,Op,hC(()=>mC()),Iy(()=>xy()),vC(()=>wC()),FC(()=>LC()),BC(()=>jC()),ZC(()=>JC()),aE(()=>lE()),fE(()=>gE()),NE(new Pl),R_(At),kS()]});
