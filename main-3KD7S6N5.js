import{a as Wn}from"./chunk-R6GDHTYB.js";import{$ as V,$a as N_,$b as ht,$c as pr,A as sr,Aa as D_,Ab as Ie,Ac as No,Ad as Hr,B as v_,Ba as uc,Bb as Ae,Bc as oy,Bd as mt,C as _h,Ca as $n,Cb as L_,Cc as sy,Cd as Yt,D as ya,Da as M_,Db as V_,Dc as Fo,E as yh,Ea as h,Eb as Th,Ec as _c,F as lc,Fa as va,Fb as At,Fc as Ft,G as zt,Ga as R_,Gb as Pi,Gc as yc,H as xt,Ha as hc,Hb as me,Hc as bc,I as Je,Ia as mc,Ib as mn,Ic as ay,J as w_,Ja as un,Jb as _,Jc as yi,K as $t,Ka as wa,Kb as A,Kc as Lo,L as le,La as k_,Lb as $,Lc as ly,M as bh,Ma as Nt,Mb as ni,Mc as Wt,N as cc,Na as Rt,Nb as B_,Nc as mr,O as G,Oa as ee,Ob as re,Oc as hy,P as De,Pa as pc,Pb as oe,Pc as yt,Q as C_,Qa as ti,Qb as se,Qc as my,R as Y,Ra as xh,Rb as U_,Rc as Yo,S as ye,Sa as O_,Sb as j_,Sc as Ta,T as y,Ta as fc,Tb as pn,Tc as bt,U as vh,Ua as ie,Ub as cr,Uc as py,V as ct,Va as Re,Vb as on,Vc as $r,W as E_,Wa as Ve,Wb as Ni,Wc as vt,X as S_,Xa as gi,Xb as z_,Xc as fy,Y as qt,Ya as ki,Yb as $_,Yc as bi,Z as rn,Za as P_,Zb as tt,Zc as Da,_ as L,_a as Ur,_b as Oo,_c as Sc,a as it,aa as Di,ab as Ih,ac as q_,ad as fr,b as __,ba as wh,bb as Ah,bc as H_,bd as xc,c as pi,ca as be,cb as jr,cc as W_,cd as at,d as ue,da as Me,db as Ce,dc as Ca,dd as Gt,e as dn,ea as ko,eb as F_,ec as Po,ed as bn,f as ei,fa as x_,fb as W,fc as K_,fd as vn,g as nn,ga as he,gb as K,gc as Ea,gd as wn,h as pe,ha as te,hb as je,hc as G_,hd as Lt,i as y_,ia as Ch,ib as Ee,ic as Y_,id as Cn,j as rc,ja as dc,jb as Se,jc as st,jd as En,k as b_,ka as Ue,kb as j,kc as Q_,kd as gy,l as $e,la as Eh,lb as m,lc as Pe,ld as _y,m as pa,ma as ar,mb as f,mc as Sa,md as Qo,n as jn,na as Mi,nb as H,nc as X_,nd as yy,o as fa,oa as et,ob as xe,oc as gc,od as Xo,p as oc,pa as dt,pb as ve,pc as Z_,pd as by,q as Ro,qa as Ri,qb as _i,qc as xa,qd as vy,r as fi,ra as I_,rb as ce,rc as J_,rd as wy,s as Ge,sa as Oe,sb as hn,sc as ey,sd as Sn,t as gh,ta as Sh,tb as q,tc as ty,td as Cy,u as sc,ua as A_,ub as Oi,uc as ny,ud as gr,v as or,va as Vr,vb as I,vc as Ia,vd as Ey,w as ac,wa as T_,wb as Ht,wc as iy,wd as xn,x as zn,xa as ut,xb as Xe,xc as dr,xd as Ic,y as ga,ya as Br,yb as lr,yc as ry,yd as Fe,z as _a,za as ba,zb as It,zc as fn,zd as qr}from"./chunk-SDP4DOHH.js";import{a as qn,c as dy,f as uy,g as hr,h as Ec,j as Hn}from"./chunk-PGPO4HR4.js";import{a as Sy}from"./chunk-5FAQRPMY.js";import{$ as yn,I as qo,P as Ho,Q as Kt,R as gn,S as Wo,T as Ko,U as Mh,V as Cc,W as _n,X as On,Y as Go,Z as zr,a as vc,aa as cy,ba as qe,h as Vo,k as Bo,l as Uo,m as wc,n as jo,r as Dh,v as ur,w as zo,x as Aa,y as Fi,z as $o}from"./chunk-I45V2STG.js";import{a as k,b as ne,c as ic,e as F}from"./chunk-46AQF2XH.js";var Ma=class{_doc;constructor(t){this._doc=t}manager},Ac=(()=>{class i extends Ma{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r,o){return e.addEventListener(n,r,o),()=>this.removeEventListener(e,n,r,o)}removeEventListener(e,n,r,o){return e.removeEventListener(n,r,o)}static \u0275fac=function(n){return new(n||i)(ye(Me))};static \u0275prov=G({token:i,factory:i.\u0275fac})}return i})(),Mc=new Y(""),Ph=(()=>{class i{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,n){this._zone=n,e.forEach(s=>{s.manager=this});let r=e.filter(s=>!(s instanceof Ac));this._plugins=r.slice().reverse();let o=e.find(s=>s instanceof Ac);o&&this._plugins.push(o)}addEventListener(e,n,r,o){return this._findPluginFor(n).addEventListener(e,n,r,o)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(o=>o.supports(e)),!n)throw new le(5101,!1);return this._eventNameToPlugin.set(e,n),n}static \u0275fac=function(n){return new(n||i)(ye(Mc),ye(te))};static \u0275prov=G({token:i,factory:i.\u0275fac})}return i})(),Rh="ng-app-id";function xy(i){for(let t of i)t.remove()}function Iy(i,t){let e=t.createElement("style");return e.textContent=i,e}function nx(i,t,e,n){let r=i.head?.querySelectorAll(`style[${Rh}="${t}"],link[${Rh}="${t}"]`);if(r)for(let o of r)o.removeAttribute(Rh),o instanceof HTMLLinkElement?n.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function Oh(i,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",i),e}var Nh=(()=>{class i{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,n,r,o={}){this.doc=e,this.appId=n,this.nonce=r,nx(e,n,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,n){for(let r of e)this.addUsage(r,this.inline,Iy);n?.forEach(r=>this.addUsage(r,this.external,Oh))}removeStyles(e,n){for(let r of e)this.removeUsage(r,this.inline);n?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,n,r){let o=n.get(e);o?o.usage++:n.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(e,this.doc)))})}removeUsage(e,n){let r=n.get(e);r&&(r.usage--,r.usage<=0&&(xy(r.elements),n.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])xy(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[n,{elements:r}]of this.inline)r.push(this.addElement(e,Iy(n,this.doc)));for(let[n,{elements:r}]of this.external)r.push(this.addElement(e,Oh(n,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,n){return this.nonce&&n.setAttribute("nonce",this.nonce),e.appendChild(n)}static \u0275fac=function(n){return new(n||i)(ye(Me),ye(Vr),ye(ba,8),ye(ut))};static \u0275prov=G({token:i,factory:i.\u0275fac})}return i})(),kh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Fh=/%COMP%/g;var Ty="%COMP%",ix=`_nghost-${Ty}`,rx=`_ngcontent-${Ty}`,ox=!0,sx=new Y("",{factory:()=>ox});function ax(i){return rx.replace(Fh,i)}function lx(i){return ix.replace(Fh,i)}function Dy(i,t){return t.map(e=>e.replace(Fh,i))}var Oa=(()=>{class i{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(e,n,r,o,s,l,c=null,u=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=l,this.nonce=c,this.tracingService=u,this.defaultRenderer=new Ra(e,s,l,this.tracingService)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;let r=this.getOrCreateRenderer(e,n);return r instanceof Dc?r.applyToHost(e):r instanceof ka&&r.applyStyles(),r}getOrCreateRenderer(e,n){let r=this.rendererByCompId,o=r.get(n.id);if(!o){let s=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,b=this.tracingService;switch(n.encapsulation){case uc.Emulated:o=new Dc(c,u,n,this.appId,g,s,l,b);break;case uc.ShadowDom:return new Tc(c,e,n,s,l,this.nonce,b,u);case uc.ExperimentalIsolatedShadowDom:return new Tc(c,e,n,s,l,this.nonce,b);default:o=new ka(c,u,n,g,s,l,b);break}r.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(n){return new(n||i)(ye(Ph),ye(Nh),ye(Vr),ye(sx),ye(Me),ye(te),ye(ba),ye(hc,8))};static \u0275prov=G({token:i,factory:i.\u0275fac})}return i})(),Ra=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,n,r){this.eventManager=t,this.doc=e,this.ngZone=n,this.tracingService=r}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(kh[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Ay(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(Ay(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){e.remove()}selectRootElement(t,e){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new le(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;let o=kh[r];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){let r=kh[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(va.DashCase|va.Important)?t.style.setProperty(e,n,r&va.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&va.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t!=null&&(t[e]=n)}setValue(t,e){t.nodeValue=e}listen(t,e,n,r){if(typeof t=="string"&&(t=xa().getGlobalEventTarget(this.doc,t),!t))throw new le(5102,!1);let o=this.decoratePreventDefault(n);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,e,o)),this.eventManager.addEventListener(t,e,o,r)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function Ay(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var Tc=class extends Ra{hostEl;sharedStylesHost;shadowRoot;constructor(t,e,n,r,o,s,l,c){super(t,r,o,l),this.hostEl=e,this.sharedStylesHost=c,this.shadowRoot=e.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let u=n.styles;u=Dy(n.id,u);for(let b of u){let C=document.createElement("style");s&&C.setAttribute("nonce",s),C.textContent=b,this.shadowRoot.appendChild(C)}let g=n.getExternalStyles?.();if(g)for(let b of g){let C=Oh(b,r);s&&C.setAttribute("nonce",s),this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},ka=class extends Ra{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,n,r,o,s,l,c){super(t,o,s,l),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let u=n.styles;this.styles=c?Dy(c,u):u,this.styleUrls=n.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&R_.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Dc=class extends ka{contentAttr;hostAttr;constructor(t,e,n,r,o,s,l,c){let u=r+"-"+n.id;super(t,e,n,o,s,l,c,u),this.contentAttr=ax(u),this.hostAttr=lx(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}};var Rc=class i extends ey{supportsDOMEvents=!0;static makeCurrent(){J_(new i)}onAndCancel(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=cx();return e==null?null:dx(e)}resetBaseElement(){Pa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return yc(document.cookie,t)}},Pa=null;function cx(){return Pa=Pa||document.head.querySelector("base"),Pa?Pa.getAttribute("href"):null}function dx(i){return new URL(i,document.baseURI).pathname}var ux=(()=>{class i{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac})}return i})(),My=["alt","control","meta","shift"],hx={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mx={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},Ry=(()=>{class i extends Ma{constructor(e){super(e)}supports(e){return i.parseEventName(e)!=null}addEventListener(e,n,r,o){let s=i.parseEventName(n),l=i.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xa().onAndCancel(e,s.domEventName,l,o))}static parseEventName(e){let n=e.toLowerCase().split("."),r=n.shift();if(n.length===0||!(r==="keydown"||r==="keyup"))return null;let o=i._normalizeKey(n.pop()),s="",l=n.indexOf("code");if(l>-1&&(n.splice(l,1),s="code."),My.forEach(u=>{let g=n.indexOf(u);g>-1&&(n.splice(g,1),s+=u+".")}),s+=o,n.length!=0||o.length===0)return null;let c={};return c.domEventName=r,c.fullKey=s,c}static matchEventFullKeyCode(e,n){let r=hx[e.key]||e.key,o="";return n.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),My.forEach(s=>{if(s!==r){let l=mx[s];l(e)&&(o+=s+".")}}),o+=r,o===n)}static eventCallback(e,n,r){return o=>{i.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>n(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(n){return new(n||i)(ye(Me))};static \u0275prov=G({token:i,factory:i.\u0275fac})}return i})();function Lh(i,t,e){let n=k({rootComponent:i,platformRef:e?.platformRef},px(t));return Q_(n)}function px(i){return{appProviders:[...bx,...i?.providers??[]],platformProviders:yx}}function fx(){Rc.makeCurrent()}function gx(){return new Ch}function _x(){return A_(document),document}var yx=[{provide:ut,useValue:ay},{provide:T_,useValue:fx,multi:!0},{provide:Me,useFactory:_x}];var bx=[{provide:S_,useValue:"root"},{provide:Ch,useFactory:gx},{provide:Mc,useClass:Ac,multi:!0},{provide:Mc,useClass:Ry,multi:!0},Oa,Nh,Ph,{provide:Nt,useExisting:Oa},{provide:bc,useClass:ux},[]];var _r=class i{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let n=e.indexOf(":");if(n>0){let r=e.slice(0,n),o=e.slice(n+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,n)=>{this.addHeaderEntry(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new i;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":let o=t.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(l=>o.indexOf(l)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(t,e){let n=t.toLowerCase();this.maybeSetNormalizedName(t,n),this.headers.has(n)?this.headers.get(n).push(e):this.headers.set(n,[e])}setHeaderEntries(t,e){let n=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Oc=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}},Pc=class{encodeKey(t){return ky(t)}encodeValue(t){return ky(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function vx(i,t){let e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,l]=o==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],c=e.get(s)||[];c.push(l),e.set(s,c)}),e}var wx=/%(\d[a-f0-9])/gi,Cx={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ky(i){return encodeURIComponent(i).replace(wx,(t,e)=>Cx[e]??t)}function kc(i){return`${i}`}var Li=class i{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Pc,t.fromString){if(t.fromObject)throw new le(2805,!1);this.map=vx(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let n=t.fromObject[e],r=Array.isArray(n)?n.map(kc):[kc(n)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(n=>{let r=t[n];Array.isArray(r)?r.forEach(o=>{e.push({param:n,value:o,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new i({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(kc(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let n=this.map.get(t.param)||[],r=n.indexOf(kc(t.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};function Ex(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Oy(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function Py(i){return typeof Blob<"u"&&i instanceof Blob}function Ny(i){return typeof FormData<"u"&&i instanceof FormData}function Sx(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var Fy="Content-Type",Ly="Accept",By="text/plain",Uy="application/json",xx=`${Uy}, ${By}, */*`,Zo=class i{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,e,n,r){this.url=e,this.method=t.toUpperCase();let o;if(Ex(this.method)||r?(this.body=n!==void 0?n:null,o=r):o=n,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new le(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new _r,this.context??=new Oc,!this.params)this.params=new Li,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let l=e.indexOf("?"),c=l===-1?"?":l<e.length-1?"&":"";this.urlWithParams=e+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Oy(this.body)||Py(this.body)||Ny(this.body)||Sx(this.body)?this.body:this.body instanceof Li?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Ny(this.body)?null:Py(this.body)?this.body.type||null:Oy(this.body)?null:typeof this.body=="string"?By:this.body instanceof Li?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Uy:null}clone(t={}){let e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,o=t.keepalive??this.keepalive,s=t.priority||this.priority,l=t.cache||this.cache,c=t.mode||this.mode,u=t.redirect||this.redirect,g=t.credentials||this.credentials,b=t.referrer||this.referrer,C=t.integrity||this.integrity,R=t.referrerPolicy||this.referrerPolicy,T=t.transferCache??this.transferCache,O=t.timeout??this.timeout,B=t.body!==void 0?t.body:this.body,z=t.withCredentials??this.withCredentials,X=t.reportProgress??this.reportProgress,Z=t.headers||this.headers,Q=t.params||this.params,we=t.context??this.context;return t.setHeaders!==void 0&&(Z=Object.keys(t.setHeaders).reduce((_e,x)=>_e.set(x,t.setHeaders[x]),Z)),t.setParams&&(Q=Object.keys(t.setParams).reduce((_e,x)=>_e.set(x,t.setParams[x]),Q)),new i(e,n,B,{params:Q,headers:Z,context:we,reportProgress:X,responseType:r,withCredentials:z,transferCache:T,keepalive:o,cache:l,priority:s,timeout:O,mode:c,redirect:u,credentials:g,referrer:b,integrity:C,referrerPolicy:R})}},Pn=(function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i})(Pn||{}),es=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(t,e=200,n="OK"){this.headers=t.headers||new _r,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.redirected=t.redirected,this.responseType=t.responseType,this.ok=this.status>=200&&this.status<300}},Nc=class i extends es{constructor(t={}){super(t)}type=Pn.ResponseHeader;clone(t={}){return new i({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Na=class i extends es{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Pn.Response;clone(t={}){return new i({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected,responseType:t.responseType??this.responseType})}},Jo=class extends es{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},Ix=200,Ax=204;var Tx=new Y("");var Dx=/^\)\]\}',?\n/;var Bh=(()=>{class i{xhrFactory;tracingService=y(hc,{optional:!0});constructor(e){this.xhrFactory=e}maybePropagateTrace(e){return this.tracingService?.propagate?this.tracingService.propagate(e):e}handle(e){if(e.method==="JSONP")throw new le(-2800,!1);let n=this.xhrFactory;return pe(null).pipe(xt(()=>new pi(o=>{let s=n.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((B,z)=>s.setRequestHeader(B,z.join(","))),e.headers.has(Ly)||s.setRequestHeader(Ly,xx),!e.headers.has(Fy)){let B=e.detectContentTypeHeader();B!==null&&s.setRequestHeader(Fy,B)}if(e.timeout&&(s.timeout=e.timeout),e.responseType){let B=e.responseType.toLowerCase();s.responseType=B!=="json"?B:"text"}let l=e.serializeBody(),c=null,u=()=>{if(c!==null)return c;let B=s.statusText||"OK",z=new _r(s.getAllResponseHeaders()),X=s.responseURL||e.url;return c=new Nc({headers:z,status:s.status,statusText:B,url:X}),c},g=this.maybePropagateTrace(()=>{let{headers:B,status:z,statusText:X,url:Z}=u(),Q=null;z!==Ax&&(Q=typeof s.response>"u"?s.responseText:s.response),z===0&&(z=Q?Ix:0);let we=z>=200&&z<300;if(e.responseType==="json"&&typeof Q=="string"){let _e=Q;Q=Q.replace(Dx,"");try{Q=Q!==""?JSON.parse(Q):null}catch(x){Q=_e,we&&(we=!1,Q={error:x,text:Q})}}we?(o.next(new Na({body:Q,headers:B,status:z,statusText:X,url:Z||void 0})),o.complete()):o.error(new Jo({error:Q,headers:B,status:z,statusText:X,url:Z||void 0}))}),b=this.maybePropagateTrace(B=>{let{url:z}=u(),X=new Jo({error:B,status:s.status||0,statusText:s.statusText||"Unknown Error",url:z||void 0});o.error(X)}),C=b;e.timeout&&(C=this.maybePropagateTrace(B=>{let{url:z}=u(),X=new Jo({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:z||void 0});o.error(X)}));let R=!1,T=this.maybePropagateTrace(B=>{R||(o.next(u()),R=!0);let z={type:Pn.DownloadProgress,loaded:B.loaded};B.lengthComputable&&(z.total=B.total),e.responseType==="text"&&s.responseText&&(z.partialText=s.responseText),o.next(z)}),O=this.maybePropagateTrace(B=>{let z={type:Pn.UploadProgress,loaded:B.loaded};B.lengthComputable&&(z.total=B.total),o.next(z)});return s.addEventListener("load",g),s.addEventListener("error",b),s.addEventListener("timeout",C),s.addEventListener("abort",b),e.reportProgress&&(s.addEventListener("progress",T),l!==null&&s.upload&&s.upload.addEventListener("progress",O)),s.send(l),o.next({type:Pn.Sent}),()=>{s.removeEventListener("error",b),s.removeEventListener("abort",b),s.removeEventListener("load",g),s.removeEventListener("timeout",C),e.reportProgress&&(s.removeEventListener("progress",T),l!==null&&s.upload&&s.upload.removeEventListener("progress",O)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(n){return new(n||i)(ye(bc))};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function jy(i,t){return t(i)}function Mx(i,t){return(e,n)=>t.intercept(e,{handle:r=>i(r,n)})}function Rx(i,t,e){return(n,r)=>rn(e,()=>t(n,o=>i(o,r)))}var zy=new Y(""),Uh=new Y("",{factory:()=>[]}),$y=new Y(""),jh=new Y("",{factory:()=>!0});function kx(){let i=null;return(t,e)=>{i===null&&(i=(y(zy,{optional:!0})??[]).reduceRight(Mx,jy));let n=y(Eh);if(y(jh)){let o=n.add();return i(t,e).pipe(_a(o))}else return i(t,e)}}var zh=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:function(n){let r=null;return n?r=new(n||i):r=ye(Bh),r},providedIn:"root"})}return i})();var Fc=(()=>{class i{backend;injector;chain=null;pendingTasks=y(Eh);contributeToStability=y(jh);constructor(e,n){this.backend=e,this.injector=n}handle(e){if(this.chain===null){let n=Array.from(new Set([...this.injector.get(Uh),...this.injector.get($y,[])]));this.chain=n.reduceRight((r,o)=>Rx(r,o,this.injector),jy)}if(this.contributeToStability){let n=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(_a(n))}else return this.chain(e,n=>this.backend.handle(n))}static \u0275fac=function(n){return new(n||i)(ye(zh),ye(qt))};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),$h=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:function(n){let r=null;return n?r=new(n||i):r=ye(Fc),r},providedIn:"root"})}return i})();function Vh(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,credentials:i.credentials,transferCache:i.transferCache,timeout:i.timeout,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,integrity:i.integrity,referrer:i.referrer,referrerPolicy:i.referrerPolicy}}var ts=(()=>{class i{handler;constructor(e){this.handler=e}request(e,n,r={}){let o;if(e instanceof Zo)o=e;else{let c;r.headers instanceof _r?c=r.headers:c=new _r(r.headers);let u;r.params&&(r.params instanceof Li?u=r.params:u=new Li({fromObject:r.params})),o=new Zo(e,n,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:u,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive,priority:r.priority,cache:r.cache,mode:r.mode,redirect:r.redirect,credentials:r.credentials,referrer:r.referrer,referrerPolicy:r.referrerPolicy,integrity:r.integrity,timeout:r.timeout})}let s=pe(o).pipe(or(c=>this.handler.handle(c)));if(e instanceof Zo||r.observe==="events")return s;let l=s.pipe(Ge(c=>c instanceof Na));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe($e(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new le(2806,!1);return c.body}));case"blob":return l.pipe($e(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new le(2807,!1);return c.body}));case"text":return l.pipe($e(c=>{if(c.body!==null&&typeof c.body!="string")throw new le(2808,!1);return c.body}));case"json":default:return l.pipe($e(c=>c.body))}case"response":return l;default:throw new le(2809,!1)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:new Li().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,Vh(r,n))}post(e,n,r={}){return this.request("POST",e,Vh(r,n))}put(e,n,r={}){return this.request("PUT",e,Vh(r,n))}static \u0275fac=function(n){return new(n||i)(ye($h))};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Ox=new Y("",{factory:()=>!0}),Px="XSRF-TOKEN",Nx=new Y("",{factory:()=>Px}),Fx="X-XSRF-TOKEN",Lx=new Y("",{providedIn:"root",factory:()=>Fx}),Vx=(()=>{class i{cookieName=y(Nx);doc=y(Me);lastCookieString="";lastToken=null;parseCount=0;getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=yc(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),qy=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:function(n){let r=null;return n?r=new(n||i):r=ye(Vx),r},providedIn:"root"})}return i})();function Bx(i,t){if(!y(Ox)||i.method==="GET"||i.method==="HEAD")return t(i);try{let r=y(ty).href,{origin:o}=new URL(r),{origin:s}=new URL(i.url,o);if(o!==s)return t(i)}catch{return t(i)}let e=y(qy).getToken(),n=y(Lx);return e!=null&&!i.headers.has(n)&&(i=i.clone({headers:i.headers.set(n,e)})),t(i)}var qh=(function(i){return i[i.Interceptors=0]="Interceptors",i[i.LegacyInterceptors=1]="LegacyInterceptors",i[i.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",i[i.NoXsrfProtection=3]="NoXsrfProtection",i[i.JsonpSupport=4]="JsonpSupport",i[i.RequestsMadeViaParent=5]="RequestsMadeViaParent",i[i.Fetch=6]="Fetch",i})(qh||{});function Ux(i,t){return{\u0275kind:i,\u0275providers:t}}function Hy(...i){let t=[ts,Fc,{provide:$h,useExisting:Fc},{provide:zh,useFactory:()=>y(Tx,{optional:!0})??y(Bh)},{provide:Uh,useValue:Bx,multi:!0}];for(let e of i)t.push(...e.\u0275providers);return ct(t)}var Vy=new Y("");function Wy(){return Ux(qh.LegacyInterceptors,[{provide:Vy,useFactory:kx},{provide:Uh,useExisting:Vy,multi:!0}])}var Fa=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=De({providers:[Hy(Wy())]})}return i})();var Lc=(()=>{class i{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(n){return new(n||i)(ye(Me))};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Te="primary",Ka=Symbol("RouteTitle"),Yh=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Yr(i){return new Yh(i)}function ib(i,t,e){let n=e.path.split("/");if(n.length>i.length||e.pathMatch==="full"&&(t.hasChildren()||n.length<i.length))return null;let r={};for(let o=0;o<n.length;o++){let s=n[o],l=i[o];if(s[0]===":")r[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function $c(i){return new Promise((t,e)=>{i.pipe(sr()).subscribe({next:n=>t(n),error:n=>e(n)})})}function jx(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!vi(i[e],t[e]))return!1;return!0}function vi(i,t){let e=i?Qh(i):void 0,n=t?Qh(t):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!rb(i[r],t[r]))return!1;return!0}function Qh(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function rb(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;let e=[...i].sort(),n=[...t].sort();return e.every((r,o)=>n[o]===r)}else return i===t}function ob(i){return i.length>0?i[i.length-1]:null}function Qr(i){return rc(i)?i:N_(i)?nn(Promise.resolve(i)):pe(i)}function sb(i){return rc(i)?$c(i):Promise.resolve(i)}var zx={exact:lb,subset:cb},ab={exact:$x,subset:qx,ignored:()=>!0};function Yy(i,t,e){return zx[e.paths](i.root,t.root,e.matrixParams)&&ab[e.queryParams](i.queryParams,t.queryParams)&&!(e.fragment==="exact"&&i.fragment!==t.fragment)}function $x(i,t){return vi(i,t)}function lb(i,t,e){if(!Kr(i.segments,t.segments)||!Uc(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!i.children[n]||!lb(i.children[n],t.children[n],e))return!1;return!0}function qx(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>rb(i[e],t[e]))}function cb(i,t,e){return db(i,t,t.segments,e)}function db(i,t,e,n){if(i.segments.length>e.length){let r=i.segments.slice(0,e.length);return!(!Kr(r,e)||t.hasChildren()||!Uc(r,e,n))}else if(i.segments.length===e.length){if(!Kr(i.segments,e)||!Uc(i.segments,e,n))return!1;for(let r in t.children)if(!i.children[r]||!cb(i.children[r],t.children[r],n))return!1;return!0}else{let r=e.slice(0,i.segments.length),o=e.slice(i.segments.length);return!Kr(i.segments,r)||!Uc(i.segments,r,n)||!i.children[Te]?!1:db(i.children[Te],t,o,n)}}function Uc(i,t,e){return t.every((n,r)=>ab[e](i[r].parameters,n.parameters))}var ri=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Ye([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Yr(this.queryParams),this._queryParamMap}toString(){return Kx.serialize(this)}},Ye=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jc(this)}},yr=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Yr(this.parameters),this._parameterMap}toString(){return hb(this)}};function Hx(i,t){return Kr(i,t)&&i.every((e,n)=>vi(e.parameters,t[n].parameters))}function Kr(i,t){return i.length!==t.length?!1:i.every((e,n)=>e.path===t[n].path)}function Wx(i,t){let e=[];return Object.entries(i.children).forEach(([n,r])=>{n===Te&&(e=e.concat(t(r,n)))}),Object.entries(i.children).forEach(([n,r])=>{n!==Te&&(e=e.concat(t(r,n)))}),e}var Xr=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:()=>new Vi,providedIn:"root"})}return i})(),Vi=class{parse(t){let e=new Zh(t);return new ri(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${La(t.root,!0)}`,n=Qx(t.queryParams),r=typeof t.fragment=="string"?`#${Gx(t.fragment)}`:"";return`${e}${n}${r}`}},Kx=new Vi;function jc(i){return i.segments.map(t=>hb(t)).join("/")}function La(i,t){if(!i.hasChildren())return jc(i);if(t){let e=i.children[Te]?La(i.children[Te],!1):"",n=[];return Object.entries(i.children).forEach(([r,o])=>{r!==Te&&n.push(`${r}:${La(o,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=Wx(i,(n,r)=>r===Te?[La(i.children[Te],!1)]:[`${r}:${La(n,!1)}`]);return Object.keys(i.children).length===1&&i.children[Te]!=null?`${jc(i)}/${e[0]}`:`${jc(i)}/(${e.join("//")})`}}function ub(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vc(i){return ub(i).replace(/%3B/gi,";")}function Gx(i){return encodeURI(i)}function Xh(i){return ub(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zc(i){return decodeURIComponent(i)}function Qy(i){return zc(i.replace(/\+/g,"%20"))}function hb(i){return`${Xh(i.path)}${Yx(i.parameters)}`}function Yx(i){return Object.entries(i).map(([t,e])=>`;${Xh(t)}=${Xh(e)}`).join("")}function Qx(i){let t=Object.entries(i).map(([e,n])=>Array.isArray(n)?n.map(r=>`${Vc(e)}=${Vc(r)}`).join("&"):`${Vc(e)}=${Vc(n)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var Xx=/^[^\/()?;#]+/;function Hh(i){let t=i.match(Xx);return t?t[0]:""}var Zx=/^[^\/()?;=#]+/;function Jx(i){let t=i.match(Zx);return t?t[0]:""}var eI=/^[^=?&#]+/;function tI(i){let t=i.match(eI);return t?t[0]:""}var nI=/^[^&#]+/;function iI(i){let t=i.match(nI);return t?t[0]:""}var Zh=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ye([],{}):new Ye([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Te]=new Ye(t,e)),n}parseSegment(){let t=Hh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new le(4009,!1);return this.capture(t),new yr(zc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=Jx(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let r=Hh(this.remaining);r&&(n=r,this.capture(n))}t[zc(e)]=zc(n)}parseQueryParam(t){let e=tI(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let s=iI(this.remaining);s&&(n=s,this.capture(n))}let r=Qy(e),o=Qy(n);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Hh(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new le(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Te);let s=this.parseChildren();e[o??Te]=Object.keys(s).length===1&&s[Te]?s[Te]:new Ye([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new le(4011,!1)}};function mb(i){return i.segments.length>0?new Ye([],{[Te]:i}):i}function pb(i){let t={};for(let[n,r]of Object.entries(i.children)){let o=pb(r);if(n===Te&&o.segments.length===0&&o.hasChildren())for(let[s,l]of Object.entries(o.children))t[s]=l;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}let e=new Ye(i.segments,t);return rI(e)}function rI(i){if(i.numberOfChildren===1&&i.children[Te]){let t=i.children[Te];return new Ye(i.segments.concat(t.segments),t.children)}return i}function br(i){return i instanceof ri}function fb(i,t,e=null,n=null,r=new Vi){let o=gb(i);return _b(o,t,e,n,r)}function gb(i){let t;function e(o){let s={};for(let c of o.children){let u=e(c);s[c.outlet]=u}let l=new Ye(o.url,s);return o===i&&(t=l),l}let n=e(i.root),r=mb(n);return t??r}function _b(i,t,e,n,r){let o=i;for(;o.parent;)o=o.parent;if(t.length===0)return Wh(o,o,o,e,n,r);let s=oI(t);if(s.toRoot())return Wh(o,o,new Ye([],{}),e,n,r);let l=sI(s,o,i),c=l.processChildren?Ba(l.segmentGroup,l.index,s.commands):bb(l.segmentGroup,l.index,s.commands);return Wh(o,l.segmentGroup,c,e,n,r)}function qc(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function ja(i){return typeof i=="object"&&i!=null&&i.outlets}function Xy(i,t,e){i||="\u0275";let n=new ri;return n.queryParams={[i]:t},e.parse(e.serialize(n)).queryParams[i]}function Wh(i,t,e,n,r,o){let s={};for(let[u,g]of Object.entries(n??{}))s[u]=Array.isArray(g)?g.map(b=>Xy(u,b,o)):Xy(u,g,o);let l;i===t?l=e:l=yb(i,t,e);let c=mb(pb(l));return new ri(c,s,r)}function yb(i,t,e){let n={};return Object.entries(i.children).forEach(([r,o])=>{o===t?n[r]=e:n[r]=yb(o,t,e)}),new Ye(i.segments,n)}var Hc=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&qc(n[0]))throw new le(4003,!1);let r=n.find(ja);if(r&&r!==ob(n))throw new le(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function oI(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new Hc(!0,0,i);let t=0,e=!1,n=i.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let l={};return Object.entries(o.outlets).forEach(([c,u])=>{l[c]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:l}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((l,c)=>{c==0&&l==="."||(c==0&&l===""?e=!0:l===".."?t++:l!=""&&r.push(l))}),r):[...r,o]},[]);return new Hc(e,t,n)}var is=class{segmentGroup;processChildren;index;constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}};function sI(i,t,e){if(i.isAbsolute)return new is(t,!0,0);if(!e)return new is(t,!1,NaN);if(e.parent===null)return new is(e,!0,0);let n=qc(i.commands[0])?0:1,r=e.segments.length-1+n;return aI(e,r,i.numberOfDoubleDots)}function aI(i,t,e){let n=i,r=t,o=e;for(;o>r;){if(o-=r,n=n.parent,!n)throw new le(4005,!1);r=n.segments.length}return new is(n,!1,r-o)}function lI(i){return ja(i[0])?i[0].outlets:{[Te]:i}}function bb(i,t,e){if(i??=new Ye([],{}),i.segments.length===0&&i.hasChildren())return Ba(i,t,e);let n=cI(i,t,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){let o=new Ye(i.segments.slice(0,n.pathIndex),{});return o.children[Te]=new Ye(i.segments.slice(n.pathIndex),i.children),Ba(o,0,r)}else return n.match&&r.length===0?new Ye(i.segments,{}):n.match&&!i.hasChildren()?Jh(i,t,e):n.match?Ba(i,0,r):Jh(i,t,e)}function Ba(i,t,e){if(e.length===0)return new Ye(i.segments,{});{let n=lI(e),r={};if(Object.keys(n).some(o=>o!==Te)&&i.children[Te]&&i.numberOfChildren===1&&i.children[Te].segments.length===0){let o=Ba(i.children[Te],t,e);return new Ye(i.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=bb(i.children[o],t,s))}),Object.entries(i.children).forEach(([o,s])=>{n[o]===void 0&&(r[o]=s)}),new Ye(i.segments,r)}}function cI(i,t,e){let n=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=e.length)return o;let s=i.segments[r],l=e[n];if(ja(l))break;let c=`${l}`,u=n<e.length-1?e[n+1]:null;if(r>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!Jy(c,u,s))return o;n+=2}else{if(!Jy(c,{},s))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function Jh(i,t,e){let n=i.segments.slice(0,t),r=0;for(;r<e.length;){let o=e[r];if(ja(o)){let c=dI(o.outlets);return new Ye(n,c)}if(r===0&&qc(e[0])){let c=i.segments[t];n.push(new yr(c.path,Zy(e[0]))),r++;continue}let s=ja(o)?o.outlets[Te]:`${o}`,l=r<e.length-1?e[r+1]:null;s&&l&&qc(l)?(n.push(new yr(s,Zy(l))),r+=2):(n.push(new yr(s,{})),r++)}return new Ye(n,{})}function dI(i){let t={};return Object.entries(i).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[e]=Jh(new Ye([],{}),0,n))}),t}function Zy(i){let t={};return Object.entries(i).forEach(([e,n])=>t[e]=`${n}`),t}function Jy(i,t,e){return i==e.path&&vi(t,e.parameters)}var rs="imperative",Tt=(function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i})(Tt||{}),Fn=class{id;url;constructor(t,e){this.id=t,this.url=e}},vr=class extends Fn{type=Tt.NavigationStart;navigationTrigger;restoredState;constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},an=class extends Fn{urlAfterRedirects;type=Tt.NavigationEnd;constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},sn=(function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i[i.Aborted=4]="Aborted",i})(sn||{}),ss=(function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i})(ss||{}),wi=class extends Fn{reason;code;type=Tt.NavigationCancel;constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ci=class extends Fn{reason;code;type=Tt.NavigationSkipped;constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r}},as=class extends Fn{error;target;type=Tt.NavigationError;constructor(t,e,n,r){super(t,e),this.error=n,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},za=class extends Fn{urlAfterRedirects;state;type=Tt.RoutesRecognized;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wc=class extends Fn{urlAfterRedirects;state;type=Tt.GuardsCheckStart;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kc=class extends Fn{urlAfterRedirects;state;shouldActivate;type=Tt.GuardsCheckEnd;constructor(t,e,n,r,o){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Gc=class extends Fn{urlAfterRedirects;state;type=Tt.ResolveStart;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yc=class extends Fn{urlAfterRedirects;state;type=Tt.ResolveEnd;constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qc=class{route;type=Tt.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Xc=class{route;type=Tt.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Zc=class{snapshot;type=Tt.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jc=class{snapshot;type=Tt.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ed=class{snapshot;type=Tt.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ls=class{snapshot;type=Tt.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cs=class{routerEvent;position;anchor;type=Tt.Scroll;constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},$a=class{},ds=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function uI(i){return!(i instanceof $a)&&!(i instanceof ds)}function hI(i,t){return i.providers&&!i._injector&&(i._injector=fc(i.providers,t,`Route: ${i.path}`)),i._injector??t}function ii(i){return i.outlet||Te}function mI(i,t){let e=i.filter(n=>ii(n)===t);return e.push(...i.filter(n=>ii(n)!==t)),e}function ms(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let t=i.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var td=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ms(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Zr(this.rootInjector)}},Zr=(()=>{class i{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,n){let r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new td(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(n){return new(n||i)(ye(qt))};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),nd=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=em(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){let e=em(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=tm(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return tm(t,this._root).map(e=>e.value)}};function em(i,t){if(i===t.value)return t;for(let e of t.children){let n=em(i,e);if(n)return n}return null}function tm(i,t){if(i===t.value)return[t];for(let e of t.children){let n=tm(i,e);if(n.length)return n.unshift(t),n}return[]}var Nn=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function ns(i){let t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}var qa=class extends nd{snapshot;constructor(t,e){super(t),this.snapshot=e,am(this,t)}toString(){return this.snapshot.toString()}};function vb(i){let t=pI(i),e=new dn([new yr("",{})]),n=new dn({}),r=new dn({}),o=new dn({}),s=new dn(""),l=new Le(e,n,o,s,r,Te,i,t.root);return l.snapshot=t.root,new qa(new Nn(l,[]),t)}function pI(i){let t={},e={},n={},o=new Gr([],t,n,"",e,Te,i,null,{});return new Ha("",new Nn(o,[]))}var Le=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,n,r,o,s,l,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=l,this._futureSnapshot=c,this.title=this.dataSubject?.pipe($e(u=>u[Ka]))??pe(void 0),this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe($e(t=>Yr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe($e(t=>Yr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function id(i,t,e="emptyOnly"){let n,{routeConfig:r}=i;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:k(k({},t.params),i.params),data:k(k({},t.data),i.data),resolve:k(k(k(k({},i.data),t.data),r?.data),i._resolvedData)}:n={params:k({},i.params),data:k({},i.data),resolve:k(k({},i.data),i._resolvedData??{})},r&&Cb(r)&&(n.resolve[Ka]=r.title),n}var Gr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ka]}constructor(t,e,n,r,o,s,l,c,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=l,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Yr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Yr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Ha=class extends nd{url;constructor(t,e){super(e),this.url=t,am(this,e)}toString(){return wb(this._root)}};function am(i,t){t.value._routerState=i,t.children.forEach(e=>am(i,e))}function wb(i){let t=i.children.length>0?` { ${i.children.map(wb).join(", ")} } `:"";return`${i.value}${t}`}function Kh(i){if(i.snapshot){let t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,vi(t.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),vi(t.params,e.params)||i.paramsSubject.next(e.params),jx(t.url,e.url)||i.urlSubject.next(e.url),vi(t.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function nm(i,t){let e=vi(i.params,t.params)&&Hx(i.url,t.url),n=!i.parent!=!t.parent;return e&&!n&&(!i.parent||nm(i.parent,t.parent))}function Cb(i){return typeof i.title=="string"||i.title===null}var Eb=new Y(""),Ga=(()=>{class i{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Te;activateEvents=new he;deactivateEvents=new he;attachEvents=new he;detachEvents=new he;routerOutletData=K_();parentContexts=y(Zr);location=y(ti);changeDetector=y(st);inputBinder=y(Ya,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:r}=e.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new le(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new le(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new le(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new le(4013,!1);this._activatedRoute=e;let r=this.location,s=e.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new im(e,l,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:c,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Ve({type:i,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[dt]})}return i})(),im=class{route;childContexts;parent;outletData;constructor(t,e,n,r){this.route=t,this.childContexts=e,this.parent=n,this.outletData=r}get(t,e){return t===Le?this.route:t===Zr?this.childContexts:t===Eb?this.outletData:this.parent.get(t,e)}},Ya=new Y(""),lm=(()=>{class i{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:n}=e,r=pa([n.queryParams,n.params,n.data]).pipe(xt(([o,s,l],c)=>(l=k(k(k({},o),s),l),c===0?pe(l):Promise.resolve(l)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let s=Z_(n.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:l}of s.inputs)e.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(e,r)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac})}return i})(),Qa=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ie({type:i,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,r){n&1&&H(0,"router-outlet")},dependencies:[Ga],encapsulation:2})}return i})();function cm(i){let t=i.children&&i.children.map(cm),e=t?ne(k({},i),{children:t}):k({},i);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Te&&(e.component=Qa),e}function fI(i,t,e){let n=Wa(i,t._root,e?e._root:void 0);return new qa(n,t)}function Wa(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=t.value;let r=gI(i,t,e);return new Nn(n,r)}else{if(i.shouldAttach(t.value)){let o=i.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(l=>Wa(i,l)),s}}let n=_I(t.value),r=t.children.map(o=>Wa(i,o));return new Nn(n,r)}}function gI(i,t,e){return t.children.map(n=>{for(let r of e.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return Wa(i,n,r);return Wa(i,n)})}function _I(i){return new Le(new dn(i.url),new dn(i.params),new dn(i.queryParams),new dn(i.fragment),new dn(i.data),i.outlet,i.component,i)}var us=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},Sb="ngNavigationCancelingError";function rd(i,t){let{redirectTo:e,navigationBehaviorOptions:n}=br(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=xb(!1,sn.Redirect);return r.url=e,r.navigationBehaviorOptions=n,r}function xb(i,t){let e=new Error(`NavigationCancelingError: ${i||""}`);return e[Sb]=!0,e.cancellationCode=t,e}function yI(i){return Ib(i)&&br(i.url)}function Ib(i){return!!i&&i[Sb]}var bI=(i,t,e,n)=>$e(r=>(new rm(t,r.targetRouterState,r.currentRouterState,e,n).activate(i),r)),rm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,n,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Kh(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){let r=ns(e);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],n),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,e,n){let r=t.value,o=e?e.value:null;if(r===o)if(r.component){let s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=ns(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(n&&n.outlet){let s=n.outlet.detach(),l=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:l})}}deactivateRouteAndOutlet(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,o=ns(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,e,n){let r=ns(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new ls(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Jc(t.value.snapshot))}activateRoutes(t,e,n){let r=t.value,o=e?e.value:null;if(Kh(r),r===o)if(r.component){let s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,n);else if(r.component){let s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),Kh(l.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,n)}},od=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},os=class{component;route;constructor(t,e){this.component=t,this.route=e}};function vI(i,t,e){let n=i._root,r=t?t._root:null;return Va(n,r,e,[n.value])}function wI(i){let t=i.routeConfig?i.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:i,guards:t}}function ps(i,t){let e=Symbol(),n=t.get(i,e);return n===e?typeof i=="function"&&!C_(i)?i:t.get(i):n}function Va(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=ns(t);return i.children.forEach(s=>{CI(s,o[s.value.outlet],e,n.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,l])=>Ua(l,e.getContext(s),r)),r}function CI(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=i.value,s=t?t.value:null,l=e?e.getContext(i.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=EI(s,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new od(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Va(i,t,l?l.children:null,n,r):Va(i,t,e,n,r),c&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new os(l.outlet.component,s))}else s&&Ua(t,l,r),r.canActivateChecks.push(new od(n)),o.component?Va(i,null,l?l.children:null,n,r):Va(i,null,e,n,r);return r}function EI(i,t,e){if(typeof e=="function")return e(i,t);switch(e){case"pathParamsChange":return!Kr(i.url,t.url);case"pathParamsOrQueryParamsChange":return!Kr(i.url,t.url)||!vi(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nm(i,t)||!vi(i.queryParams,t.queryParams);case"paramsChange":default:return!nm(i,t)}}function Ua(i,t,e){let n=ns(i),r=i.value;Object.entries(n).forEach(([o,s])=>{r.component?t?Ua(s,t.children.getContext(o),e):Ua(s,null,e):Ua(s,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new os(t.outlet.component,r)):e.canDeactivateChecks.push(new os(null,r)):e.canDeactivateChecks.push(new os(null,r))}function Xa(i){return typeof i=="function"}function SI(i){return typeof i=="boolean"}function xI(i){return i&&Xa(i.canLoad)}function II(i){return i&&Xa(i.canActivate)}function AI(i){return i&&Xa(i.canActivateChild)}function TI(i){return i&&Xa(i.canDeactivate)}function DI(i){return i&&Xa(i.canMatch)}function Ab(i){return i instanceof b_||i?.name==="EmptyError"}var Bc=Symbol("INITIAL_VALUE");function hs(){return xt(i=>pa(i.map(t=>t.pipe(zn(1),zt(Bc)))).pipe($e(t=>{for(let e of t)if(e!==!0){if(e===Bc)return Bc;if(e===!1||MI(e))return e}return!0}),Ge(t=>t!==Bc),zn(1)))}function MI(i){return br(i)||i instanceof us}function Tb(i){return i.aborted?pe(void 0).pipe(zn(1)):new pi(t=>{let e=()=>{t.next(),t.complete()};return i.addEventListener("abort",e),()=>i.removeEventListener("abort",e)})}function Db(i){return Je(Tb(i))}function RI(i,t){return jn(e=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?pe(ne(k({},e),{guardsResult:!0})):kI(s,n,r,i).pipe(jn(l=>l&&SI(l)?OI(n,o,i,t):pe(l)),$e(l=>ne(k({},e),{guardsResult:l})))})}function kI(i,t,e,n){return nn(i).pipe(jn(r=>VI(r.component,r.route,e,t,n)),sr(r=>r!==!0,!0))}function OI(i,t,e,n){return nn(t).pipe(or(r=>oc(NI(r.route.parent,n),PI(r.route,n),LI(i,r.path,e),FI(i,r.route,e))),sr(r=>r!==!0,!0))}function PI(i,t){return i!==null&&t&&t(new ed(i)),pe(!0)}function NI(i,t){return i!==null&&t&&t(new Zc(i)),pe(!0)}function FI(i,t,e){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return pe(!0);let r=n.map(o=>Ro(()=>{let s=ms(t)??e,l=ps(o,s),c=II(l)?l.canActivate(t,i):rn(s,()=>l(t,i));return Qr(c).pipe(sr())}));return pe(r).pipe(hs())}function LI(i,t,e){let n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>wI(s)).filter(s=>s!==null).map(s=>Ro(()=>{let l=s.guards.map(c=>{let u=ms(s.node)??e,g=ps(c,u),b=AI(g)?g.canActivateChild(n,i):rn(u,()=>g(n,i));return Qr(b).pipe(sr())});return pe(l).pipe(hs())}));return pe(o).pipe(hs())}function VI(i,t,e,n,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return pe(!0);let s=o.map(l=>{let c=ms(t)??r,u=ps(l,c),g=TI(u)?u.canDeactivate(i,t,e,n):rn(c,()=>u(i,t,e,n));return Qr(g).pipe(sr())});return pe(s).pipe(hs())}function BI(i,t,e,n,r){let o=t.canLoad;if(o===void 0||o.length===0)return pe(!0);let s=o.map(l=>{let c=ps(l,i),u=xI(c)?c.canLoad(t,e):rn(i,()=>c(t,e)),g=Qr(u);return r?g.pipe(Db(r)):g});return pe(s).pipe(hs(),Mb(n))}function Mb(i){return __($t(t=>{if(typeof t!="boolean")throw rd(i,t)}),$e(t=>t===!0))}function UI(i,t,e,n,r){let o=t.canMatch;if(!o||o.length===0)return pe(!0);let s=o.map(l=>{let c=ps(l,i),u=DI(c)?c.canMatch(t,e):rn(i,()=>c(t,e)),g=Qr(u);return r?g.pipe(Db(r)):g});return pe(s).pipe(hs(),Mb(n))}var Wr=class Rb extends Error{segmentGroup;constructor(t){super(),this.segmentGroup=t||null,Object.setPrototypeOf(this,Rb.prototype)}},om=class kb extends Error{urlTree;constructor(t){super(),this.urlTree=t,Object.setPrototypeOf(this,kb.prototype)}};function jI(i){throw new le(4e3,!1)}function zI(i){throw xb(!1,sn.GuardRejected)}var $I=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){return F(this,null,function*(){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return n;if(r.numberOfChildren>1||!r.children[Te])throw jI(`${t.redirectTo}`);r=r.children[Te]}})}applyRedirectCommands(t,e,n,r,o){return F(this,null,function*(){let s=yield qI(e,r,o);if(s instanceof ri)throw new om(s);let l=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,n);if(s[0]==="/")throw new om(l);return l})}applyRedirectCreateUrlTree(t,e,n,r){let o=this.createSegmentGroup(t,e.root,n,r);return new ri(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let n={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let l=o.substring(1);n[r]=e[l]}else n[r]=o}),n}createSegmentGroup(t,e,n,r){let o=this.createSegments(t,e.segments,n,r),s={};return Object.entries(e.children).forEach(([l,c])=>{s[l]=this.createSegmentGroup(t,c,n,r)}),new Ye(o,s)}createSegments(t,e,n,r){return e.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,n))}findPosParam(t,e,n){let r=n[e.path.substring(1)];if(!r)throw new le(4001,!1);return r}findOrReturn(t,e){let n=0;for(let r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}};function qI(i,t,e){if(typeof i=="string")return Promise.resolve(i);let n=i,{queryParams:r,fragment:o,routeConfig:s,url:l,outlet:c,params:u,data:g,title:b}=t;return $c(Qr(rn(e,()=>n({params:u,data:g,queryParams:r,fragment:o,routeConfig:s,url:l,outlet:c,title:b}))))}var sm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function HI(i,t,e,n,r,o){let s=Ob(i,t,e);return s.matched?(n=hI(t,n),UI(n,t,e,r,o).pipe($e(l=>l===!0?s:k({},sm)))):pe(s)}function Ob(i,t,e){if(t.path==="**")return WI(e);if(t.path==="")return t.pathMatch==="full"&&(i.hasChildren()||e.length>0)?k({},sm):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||ib)(e,i,t);if(!r)return k({},sm);let o={};Object.entries(r.posParams??{}).forEach(([l,c])=>{o[l]=c.path});let s=r.consumed.length>0?k(k({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function WI(i){return{matched:!0,parameters:i.length>0?ob(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function eb(i,t,e,n){return e.length>0&&YI(i,e,n)?{segmentGroup:new Ye(t,GI(n,new Ye(e,i.children))),slicedSegments:[]}:e.length===0&&QI(i,e,n)?{segmentGroup:new Ye(i.segments,KI(i,e,n,i.children)),slicedSegments:e}:{segmentGroup:new Ye(i.segments,i.children),slicedSegments:e}}function KI(i,t,e,n){let r={};for(let o of e)if(ad(i,t,o)&&!n[ii(o)]){let s=new Ye([],{});r[ii(o)]=s}return k(k({},n),r)}function GI(i,t){let e={};e[Te]=t;for(let n of i)if(n.path===""&&ii(n)!==Te){let r=new Ye([],{});e[ii(n)]=r}return e}function YI(i,t,e){return e.some(n=>ad(i,t,n)&&ii(n)!==Te)}function QI(i,t,e){return e.some(n=>ad(i,t,n))}function ad(i,t,e){return(i.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function XI(i,t,e){return t.length===0&&!i.children[e]}var ZI=class{};function JI(i,t,e,n,r,o,s="emptyOnly",l){return F(this,null,function*(){return new tA(i,t,e,n,r,s,o,l).recognize()})}var eA=31,tA=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,n,r,o,s,l,c){this.injector=t,this.configLoader=e,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=l,this.abortSignal=c,this.applyRedirects=new $I(this.urlSerializer,this.urlTree)}noMatchError(t){return new le(4002,`'${t.segmentGroup}'`)}recognize(){return F(this,null,function*(){let t=eb(this.urlTree.root,[],[],this.config).segmentGroup,{children:e,rootSnapshot:n}=yield this.match(t),r=new Nn(n,e),o=new Ha("",r),s=fb(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}})}match(t){return F(this,null,function*(){let e=new Gr([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Te,this.rootComponentType,null,{});try{return{children:yield this.processSegmentGroup(this.injector,this.config,t,Te,e),rootSnapshot:e}}catch(n){if(n instanceof om)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Wr?this.noMatchError(n):n}})}processSegmentGroup(t,e,n,r,o){return F(this,null,function*(){if(n.segments.length===0&&n.hasChildren())return this.processChildren(t,e,n,o);let s=yield this.processSegment(t,e,n,n.segments,r,!0,o);return s instanceof Nn?[s]:[]})}processChildren(t,e,n,r){return F(this,null,function*(){let o=[];for(let c of Object.keys(n.children))c==="primary"?o.unshift(c):o.push(c);let s=[];for(let c of o){let u=n.children[c],g=mI(e,c),b=yield this.processSegmentGroup(t,g,u,c,r);s.push(...b)}let l=Pb(s);return nA(l),l})}processSegment(t,e,n,r,o,s,l){return F(this,null,function*(){for(let c of e)try{return yield this.processSegmentAgainstRoute(c._injector??t,e,c,n,r,o,s,l)}catch(u){if(u instanceof Wr||Ab(u))continue;throw u}if(XI(n,r,o))return new ZI;throw new Wr(n)})}processSegmentAgainstRoute(t,e,n,r,o,s,l,c){return F(this,null,function*(){if(ii(n)!==s&&(s===Te||!ad(r,o,n)))throw new Wr(r);if(n.redirectTo===void 0)return this.matchSegmentAgainstRoute(t,r,n,o,s,c);if(this.allowRedirects&&l)return this.expandSegmentAgainstRouteUsingRedirect(t,r,e,n,o,s,c);throw new Wr(r)})}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,s,l){return F(this,null,function*(){let{matched:c,parameters:u,consumedSegments:g,positionalParamSegments:b,remainingSegments:C}=Ob(e,r,o);if(!c)throw new Wr(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>eA&&(this.allowRedirects=!1));let R=new Gr(o,u,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,tb(r),ii(r),r.component??r._loadedComponent??null,r,nb(r)),T=id(R,l,this.paramsInheritanceStrategy);if(R.params=Object.freeze(T.params),R.data=Object.freeze(T.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let O=yield this.applyRedirects.applyRedirectCommands(g,r.redirectTo,b,R,t),B=yield this.applyRedirects.lineralizeSegments(r,O);return this.processSegment(t,n,e,B.concat(C),s,!1,l)})}matchSegmentAgainstRoute(t,e,n,r,o,s){return F(this,null,function*(){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let l=yield $c(HI(e,n,r,t,this.urlSerializer,this.abortSignal));if(n.path==="**"&&(e.children={}),!l?.matched)throw new Wr(e);t=n._injector??t;let{routes:c}=yield this.getChildConfig(t,n,r),u=n._loadedInjector??t,{parameters:g,consumedSegments:b,remainingSegments:C}=l,R=new Gr(b,g,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,tb(n),ii(n),n.component??n._loadedComponent??null,n,nb(n)),T=id(R,s,this.paramsInheritanceStrategy);R.params=Object.freeze(T.params),R.data=Object.freeze(T.data);let{segmentGroup:O,slicedSegments:B}=eb(e,b,C,c);if(B.length===0&&O.hasChildren()){let Z=yield this.processChildren(u,c,O,R);return new Nn(R,Z)}if(c.length===0&&B.length===0)return new Nn(R,[]);let z=ii(n)===o,X=yield this.processSegment(u,c,O,B,z?Te:o,!0,R);return new Nn(R,X instanceof Nn?[X]:[])})}getChildConfig(t,e,n){return F(this,null,function*(){if(e.children)return{routes:e.children,injector:t};if(e.loadChildren){if(e._loadedRoutes!==void 0)return{routes:e._loadedRoutes,injector:e._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(yield $c(BI(t,e,n,this.urlSerializer,this.abortSignal))){let o=yield this.configLoader.loadChildren(t,e);return e._loadedRoutes=o.routes,e._loadedInjector=o.injector,o}throw zI(e)}return{routes:[],injector:t}})}};function nA(i){i.sort((t,e)=>t.value.outlet===Te?-1:e.value.outlet===Te?1:t.value.outlet.localeCompare(e.value.outlet))}function iA(i){let t=i.value.routeConfig;return t&&t.path===""}function Pb(i){let t=[],e=new Set;for(let n of i){if(!iA(n)){t.push(n);continue}let r=t.find(o=>n.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...n.children),e.add(r)):t.push(n)}for(let n of e){let r=Pb(n.children);t.push(new Nn(n.value,r))}return t.filter(n=>!e.has(n))}function tb(i){return i.data||{}}function nb(i){return i.resolve||{}}var rA=new Y("",{factory:()=>JI});function oA(i,t,e,n,r,o,s){let l=i.get(rA);return jn(c=>pe(c).pipe(xt(u=>l(i,t,e,n,u.extractedUrl,r,o,s)),$e(({state:u,tree:g})=>ne(k({},c),{targetSnapshot:u,urlAfterRedirects:g}))))}function sA(i,t){return jn(e=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return pe(e);let o=new Set(r.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of Nb(c))s.add(u);let l=0;return nn(s).pipe(or(c=>o.has(c)?aA(c,n,i,t):(c.data=id(c,c.parent,i).resolve,pe(void 0))),$t(()=>l++),_h(1),jn(c=>l===s.size?pe(e):ei))})}function Nb(i){let t=i.children.map(e=>Nb(e)).flat();return[i,...t]}function aA(i,t,e,n){let r=i.routeConfig,o=i._resolve;return r?.title!==void 0&&!Cb(r)&&(o[Ka]=r.title),Ro(()=>(i.data=id(i,i.parent,e).resolve,lA(o,i,t,n).pipe($e(s=>(i._resolvedData=s,i.data=k(k({},i.data),s),null)))))}function lA(i,t,e,n){let r=Qh(i);if(r.length===0)return pe({});let o={};return nn(r).pipe(jn(s=>cA(i[s],t,e,n).pipe(sr(),$t(l=>{if(l instanceof us)throw rd(new Vi,l);o[s]=l}))),_h(1),$e(()=>o),sc(s=>Ab(s)?ei:y_(s)))}function cA(i,t,e,n){let r=ms(t)??n,o=ps(i,r),s=o.resolve?o.resolve(t,e):rn(r,()=>o(t,e));return Qr(s)}function Gh(i){return xt(t=>{let e=i(t);return e?nn(e).pipe($e(()=>t)):pe(t)})}var dm=(()=>{class i{buildTitle(e){let n,r=e.root;for(;r!==void 0;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(o=>o.outlet===Te);return n}getResolvedTitleForRoute(e){return e.data[Ka]}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:()=>y(Fb),providedIn:"root"})}return i})(),Fb=(()=>{class i extends dm{title;constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||i)(ye(Lc))};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),wr=new Y("",{factory:()=>({})}),Jr=new Y(""),ld=(()=>{class i{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=y(H_);loadComponent(e,n){return F(this,null,function*(){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Promise.resolve(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=F(this,null,function*(){try{let o=yield sb(rn(e,()=>n.loadComponent())),s=yield Bb(Vb(o));return this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s,s}finally{this.componentLoaders.delete(n)}});return this.componentLoaders.set(n,r),r})}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return Promise.resolve({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let r=F(this,null,function*(){try{let o=yield Lb(n,this.compiler,e,this.onLoadEndListener);return n._loadedRoutes=o.routes,n._loadedInjector=o.injector,o}finally{this.childrenLoaders.delete(n)}});return this.childrenLoaders.set(n,r),r}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Lb(i,t,e,n){return F(this,null,function*(){let r=yield sb(rn(e,()=>i.loadChildren())),o=yield Bb(Vb(r)),s;o instanceof O_||Array.isArray(o)?s=o:s=yield t.compileModuleAsync(o),n&&n(i);let l,c,u=!1;return Array.isArray(s)?(c=s,u=!0):(l=s.create(e).injector,c=l.get(Jr,[],{optional:!0,self:!0}).flat()),{routes:c.map(cm),injector:l}})}function dA(i){return i&&typeof i=="object"&&"default"in i}function Vb(i){return dA(i)?i.default:i}function Bb(i){return F(this,null,function*(){return i})}var cd=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:()=>y(uA),providedIn:"root"})}return i})(),uA=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),um=new Y(""),hm=new Y("");function Ub(i,t,e){let n=i.get(hm),r=i.get(Me);if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),l=r.startViewTransition(()=>(o(),hA(i)));l.updateCallbackDone.catch(u=>{}),l.ready.catch(u=>{}),l.finished.catch(u=>{});let{onViewTransitionCreated:c}=n;return c&&rn(i,()=>c({transition:l,from:t,to:e})),s}function hA(i){return new Promise(t=>{un({read:()=>setTimeout(t)},{injector:i})})}var mA=()=>{},mm=new Y(""),dd=(()=>{class i{currentNavigation=Ue(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Ue(null);events=new ue;transitionAbortWithErrorSubject=new ue;configLoader=y(ld);environmentInjector=y(qt);destroyRef=y(ko);urlSerializer=y(Xr);rootContexts=y(Zr);location=y(dr);inputBindingEnabled=y(Ya,{optional:!0})!==null;titleStrategy=y(dm);options=y(wr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=y(cd);createViewTransition=y(um,{optional:!0});navigationErrorHandler=y(mm,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>pe(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new Qc(r)),n=r=>this.events.next(new Xc(r));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;Mi(()=>{this.transitions?.next(ne(k({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:n}))})}setupNavigations(e){return this.transitions=new dn(null),this.transitions.pipe(Ge(n=>n!==null),xt(n=>{let r=!1,o=new AbortController;return pe(n).pipe(xt(s=>{if(this.navigationId>n.id)return this.cancelNavigationTransition(n,"",sn.SupersededByNewNavigation),ei;this.currentTransition=n;let l=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:l?ne(k({},l),{previousNavigation:null}):null,abort:()=>o.abort()});let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&u!=="reload")return this.events.next(new Ci(s.id,this.urlSerializer.serialize(s.rawUrl),"",ss.IgnoredSameUrlNavigation)),s.resolve(!1),ei;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return pe(s).pipe(xt(g=>(this.events.next(new vr(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),g.id!==this.navigationId?ei:Promise.resolve(g))),oA(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),$t(g=>{n.targetSnapshot=g.targetSnapshot,n.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation.update(C=>(C.finalUrl=g.urlAfterRedirects,C));let b=new za(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(b)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:g,extractedUrl:b,source:C,restoredState:R,extras:T}=s,O=new vr(g,this.urlSerializer.serialize(b),C,R);this.events.next(O);let B=vb(this.rootComponentType).snapshot;return this.currentTransition=n=ne(k({},s),{targetSnapshot:B,urlAfterRedirects:b,extras:ne(k({},T),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(z=>(z.finalUrl=b,z)),pe(n)}else return this.events.next(new Ci(s.id,this.urlSerializer.serialize(s.extractedUrl),"",ss.IgnoredByUrlHandlingStrategy)),s.resolve(!1),ei}),$t(s=>{let l=new Wc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}),$e(s=>(this.currentTransition=n=ne(k({},s),{guards:vI(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),n)),RI(this.environmentInjector,s=>this.events.next(s)),$t(s=>{if(n.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw rd(this.urlSerializer,s.guardsResult);let l=new Kc(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(l)}),Ge(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",sn.GuardRejected),!1)),Gh(s=>{if(s.guards.canActivateChecks.length!==0)return pe(s).pipe($t(l=>{let c=new Gc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),xt(l=>{let c=!1;return pe(l).pipe(sA(this.paramsInheritanceStrategy,this.environmentInjector),$t({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(l,"",sn.NoDataFromResolver)}}))}),$t(l=>{let c=new Yc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}))}),Gh(s=>{let l=u=>{let g=[];if(u.routeConfig?._loadedComponent)u.component=u.routeConfig?._loadedComponent;else if(u.routeConfig?.loadComponent){let b=ms(u)??this.environmentInjector;g.push(this.configLoader.loadComponent(b,u.routeConfig).then(C=>{u.component=C}))}for(let b of u.children)g.push(...l(b));return g},c=l(s.targetSnapshot.root);return c.length===0?pe(s):nn(Promise.all(c).then(()=>s))}),Gh(()=>this.afterPreactivation()),xt(()=>{let{currentSnapshot:s,targetSnapshot:l}=n,c=this.createViewTransition?.(this.environmentInjector,s.root,l.root);return c?nn(c).pipe($e(()=>n)):pe(n)}),$e(s=>{let l=fI(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=n=ne(k({},s),{targetRouterState:l}),this.currentNavigation.update(c=>(c.targetRouterState=l,c)),n}),$t(()=>{this.events.next(new $a)}),bI(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),zn(1),Je(Tb(o.signal).pipe(Ge(()=>!r&&!n.targetRouterState),$t(()=>{this.cancelNavigationTransition(n,o.signal.reason+"",sn.Aborted)}))),$t({next:s=>{r=!0,this.currentNavigation.update(l=>(l.abort=mA,l)),this.lastSuccessfulNavigation.set(Mi(this.currentNavigation)),this.events.next(new an(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),Je(this.transitionAbortWithErrorSubject.pipe($t(s=>{throw s}))),_a(()=>{o.abort(),r||this.cancelNavigationTransition(n,"",sn.SupersededByNewNavigation),this.currentTransition?.id===n.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),sc(s=>{if(this.destroyed)return n.resolve(!1),ei;if(r=!0,Ib(s))this.events.next(new wi(n.id,this.urlSerializer.serialize(n.extractedUrl),s.message,s.cancellationCode)),yI(s)?this.events.next(new ds(s.url,s.navigationBehaviorOptions)):n.resolve(!1);else{let l=new as(n.id,this.urlSerializer.serialize(n.extractedUrl),s,n.targetSnapshot??void 0);try{let c=rn(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(c instanceof us){let{message:u,cancellationCode:g}=rd(this.urlSerializer,c);this.events.next(new wi(n.id,this.urlSerializer.serialize(n.extractedUrl),u,g)),this.events.next(new ds(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(l),s}catch(c){this.options.resolveNavigationPromiseOnError?n.resolve(!1):n.reject(c)}}return ei}))}))}cancelNavigationTransition(e,n,r){let o=new wi(e.id,this.urlSerializer.serialize(e.extractedUrl),n,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=Mi(this.currentNavigation),r=n?.targetBrowserUrl??n?.extractedUrl;return e.toString()!==r?.toString()&&!n?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function pA(i){return i!==rs}var jb=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:()=>y(fA),providedIn:"root"})}return i})(),sd=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},fA=(()=>{class i extends sd{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ri(i)))(r||i)}})();static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),pm=(()=>{class i{urlSerializer=y(Xr);options=y(wr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=y(dr);urlHandlingStrategy=y(cd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ri;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:n,targetBrowserUrl:r}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,n):n,s=r??o;return s instanceof ri?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:n,initialUrl:r}){n&&e?(this.currentUrlTree=n,this.rawUrlTree=this.urlHandlingStrategy.merge(n,r),this.routerState=e):this.rawUrlTree=r}routerState=vb(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:()=>y(zb),providedIn:"root"})}return i})(),zb=(()=>{class i extends pm{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&setTimeout(()=>{e(n.url,n.state,"popstate")})})}handleRouterEvent(e,n){e instanceof vr?this.updateStateMemento():e instanceof Ci?this.commitTransition(n):e instanceof za?this.urlUpdateStrategy==="eager"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof $a?(this.commitTransition(n),this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof wi&&e.code!==sn.SupersededByNewNavigation&&e.code!==sn.Redirect?this.restoreHistory(n):e instanceof as?this.restoreHistory(n,!0):e instanceof an&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:n,id:r}){let{replaceUrl:o,state:s}=n;if(this.location.isCurrentPathEqualTo(e)||o){let l=this.browserPageId,c=k(k({},s),this.generateNgRouterState(r,l));this.location.replaceState(e,"",c)}else{let l=k(k({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(e,"",l)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ri(i)))(r||i)}})();static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function ud(i,t){i.events.pipe(Ge(e=>e instanceof an||e instanceof wi||e instanceof as||e instanceof Ci),$e(e=>e instanceof an||e instanceof Ci?0:(e instanceof wi?e.code===sn.Redirect||e.code===sn.SupersededByNewNavigation:!1)?2:1),Ge(e=>e!==2),zn(1)).subscribe(()=>{t()})}var gA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_A={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},lt=(()=>{class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=y(P_);stateManager=y(pm);options=y(wr,{optional:!0})||{};pendingTasks=y(x_);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=y(dd);urlSerializer=y(Xr);location=y(dr);urlHandlingStrategy=y(cd);injector=y(qt);_events=new ue;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=y(jb);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=y(Jr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!y(Ya,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new it;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let r=this.navigationTransitions.currentTransition,o=Mi(this.navigationTransitions.currentNavigation);if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(n,o),n instanceof wi&&n.code!==sn.Redirect&&n.code!==sn.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof an)this.navigated=!0;else if(n instanceof ds){let s=n.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),c=k({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||pA(r.source)},s);this.scheduleNavigation(l,rs,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}uI(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),rs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n,r)=>{this.navigateToSyncWithBrowser(e,r,n)})}navigateToSyncWithBrowser(e,n,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let c=k({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(e);this.scheduleNavigation(l,n,s,o).catch(c=>{this.disposed||this.injector.get(dc)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Mi(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(cm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:l,preserveFragment:c}=n,u=c?this.currentUrlTree.fragment:s,g=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":g=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=o||null}g!==null&&(g=this.removeEmptyProps(g));let b;try{let C=r?r.snapshot:this.routerState.snapshot.root;b=gb(C)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),b=this.currentUrlTree.root}return _b(b,e,g,u??null,this.urlSerializer)}navigateByUrl(e,n={skipLocationChange:!1}){let r=br(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,rs,null,n)}navigate(e,n={skipLocationChange:!1}){return yA(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(bh(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,n){let r;if(n===!0?r=k({},gA):n===!1?r=k({},_A):r=n,br(e))return Yy(this.currentUrlTree,e,r);let o=this.parseUrl(e);return Yy(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((n,[r,o])=>(o!=null&&(n[r]=o),n),{})}scheduleNavigation(e,n,r,o,s){if(this.disposed)return Promise.resolve(!1);let l,c,u;s?(l=s.resolve,c=s.reject,u=s.promise):u=new Promise((b,C)=>{l=b,c=C});let g=this.pendingTasks.add();return ud(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(b=>Promise.reject(b))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function yA(i){for(let t=0;t<i.length;t++)if(i[t]==null)throw new le(4008,!1)}var Ei=(()=>{class i{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Ue(null);get href(){return Mi(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ue;applicationErrorHandler=y(dc);options=y(wr,{optional:!0});constructor(e,n,r,o,s,l){this.router=e,this.route=n,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=l,this.reactiveHref.set(y(new Po("href"),{optional:!0}));let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement&&(this.setTabIndexIfNotOnNativeEl("0"),this.subscribeToNavigationEventsIfNecessary())}subscribeToNavigationEventsIfNecessary(){this.subscription===void 0&&(this.subscription=this.router.events.subscribe(e=>{e instanceof an&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(br(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,n,r,o,s){let l=this.urlTree;if(l===null||this.isAnchorElement&&(e!==0||n||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,n){let r=this.renderer,o=this.el.nativeElement;n!==null?r.setAttribute(o,e,n):r.removeAttribute(o,e)}get urlTree(){return this.routerLinkInput===null?null:br(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(n){return new(n||i)(ee(lt),ee(Le),I_("tabindex"),ee(Rt),ee(Oe),ee(Ia))};static \u0275dir=Ve({type:i,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(n,r){n&1&&q("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),n&2&&Ce("href",r.reactiveHref(),M_)("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Pe],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Pe],replaceUrl:[2,"replaceUrl","replaceUrl",Pe],routerLink:"routerLink"},features:[dt]})}return i})(),gm=(()=>{class i{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new he;link=y(Ei,{optional:!0});constructor(e,n,r,o){this.router=e,this.element=n,this.renderer=r,this.cdr=o,this.routerEventsSubscription=e.events.subscribe(s=>{s instanceof an&&this.update()})}ngAfterContentInit(){pe(this.links.changes,pe(null)).pipe(fa()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=nn(e).pipe(fa()).subscribe(n=>{this._isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(e){let n=Array.isArray(e)?e:e.split(" ");this.classes=n.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(n=>{e?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let n=bA(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?e.isActive(o,n):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(n){return new(n||i)(ee(lt),ee(Oe),ee(Rt),ee(st))};static \u0275dir=Ve({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,o){if(n&1&&lr(o,Ei,5),n&2){let s;Ie(s=Ae())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[dt]})}return i})();function bA(i){return!!i.paths}var Za=class{};var $b=(()=>{class i{router;injector;preloadingStrategy;loader;subscription;constructor(e,n,r,o){this.router=e,this.injector=n,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ge(e=>e instanceof an),or(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription?.unsubscribe()}processRoutes(e,n){let r=[];for(let o of n){o.providers&&!o._injector&&(o._injector=fc(o.providers,e,""));let s=o._injector??e,l=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(l,o.children??o._loadedRoutes))}return nn(r).pipe(fa())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let r;n.loadChildren&&n.canLoad===void 0?r=nn(this.loader.loadChildren(e,n)):r=pe(null);let o=r.pipe(jn(s=>s===null?pe(void 0):(n._loadedRoutes=s.routes,n._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(n.loadComponent&&!n._loadedComponent){let s=this.loader.loadComponent(e,n);return nn([o,s]).pipe(fa())}else return o})}static \u0275fac=function(n){return new(n||i)(ye(lt),ye(qt),ye(Za),ye(ld))};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),qb=new Y(""),vA=(()=>{class i{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=rs;restoredId=0;store={};constructor(e,n,r,o,s={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=r,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof vr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof an?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Ci&&e.code===ss.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{if(!(e instanceof cs))return;let n={behavior:"instant"};e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],n):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position,n):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>F(this,null,function*(){yield new Promise(r=>{setTimeout(r),typeof requestAnimationFrame<"u"&&requestAnimationFrame(r)}),this.zone.run(()=>{this.transitions.events.next(new cs(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(n){pc()};static \u0275prov=G({token:i,factory:i.\u0275fac})}return i})();function _m(i,...t){return ct([{provide:Jr,multi:!0,useValue:i},[],{provide:Le,useFactory:Hb},{provide:Ah,multi:!0,useFactory:Wb},t.map(e=>e.\u0275providers)])}function Hb(){return y(lt).routerState.root}function Ja(i,t){return{\u0275kind:i,\u0275providers:t}}function Wb(){let i=y(be);return t=>{let e=i.get(jr);if(t!==e.components[0])return;let n=i.get(lt),r=i.get(Kb);i.get(ym)===1&&n.initialNavigation(),i.get(Qb,null,{optional:!0})?.setUpPreloading(),i.get(qb,null,{optional:!0})?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Kb=new Y("",{factory:()=>new ue}),ym=new Y("",{factory:()=>1});function Gb(){let i=[{provide:D_,useValue:!0},{provide:ym,useValue:0},Ih(()=>{let t=y(be);return t.get(ny,Promise.resolve()).then(()=>new Promise(n=>{let r=t.get(lt),o=t.get(Kb);ud(r,()=>{n(!0)}),t.get(dd).afterPreactivation=()=>(n(!0),o.closed?pe(void 0):o),r.initialNavigation()}))})];return Ja(2,i)}function Yb(){let i=[Ih(()=>{y(lt).setUpLocationChangeListener()}),{provide:ym,useValue:2}];return Ja(3,i)}var Qb=new Y("");function Xb(i){return Ja(0,[{provide:Qb,useExisting:$b},{provide:Za,useExisting:i}])}function Zb(){return Ja(8,[lm,{provide:Ya,useExisting:lm}])}function Jb(i){mc("NgRouterViewTransitions");let t=[{provide:um,useValue:Ub},{provide:hm,useValue:k({skipNextTransition:!!i?.skipInitialTransition},i)}];return Ja(9,t)}var e0=[dr,{provide:Xr,useClass:Vi},lt,Zr,{provide:Le,useFactory:Hb},ld,[]],Ln=(()=>{class i{constructor(){}static forRoot(e,n){return{ngModule:i,providers:[e0,[],{provide:Jr,multi:!0,useValue:e},[],n?.errorHandler?{provide:mm,useValue:n.errorHandler}:[],{provide:wr,useValue:n||{}},n?.useHash?CA():EA(),wA(),n?.preloadingStrategy?Xb(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?SA(n):[],n?.bindToComponentInputs?Zb().\u0275providers:[],n?.enableViewTransitions?Jb().\u0275providers:[],xA()]}}static forChild(e){return{ngModule:i,providers:[{provide:Jr,multi:!0,useValue:e}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=De({})}return i})();function wA(){return{provide:qb,useFactory:()=>{let i=y(ly),t=y(te),e=y(wr),n=y(dd),r=y(Xr);return e.scrollOffset&&i.setOffset(e.scrollOffset),new vA(r,n,i,t,e)}}}function CA(){return{provide:Ia,useClass:ry}}function EA(){return{provide:Ia,useClass:iy}}function SA(i){return[i.initialNavigation==="disabled"?Yb().\u0275providers:[],i.initialNavigation==="enabledBlocking"?Gb().\u0275providers:[]]}var fm=new Y("");function xA(){return[{provide:fm,useFactory:Wb},{provide:Ah,multi:!0,useExisting:fm}]}var IA=(i,t)=>({"arabic-font":i,"admin-content":t}),AA=(i,t,e,n)=>({"navbar-dark":i,"navbar-light bg-light":t,"signed-in":e,"arabic-font":n}),t0=i=>["/",i],TA=(i,t)=>({"btn-outline-light":i,"btn-outline-dark":t}),n0=(i,t)=>["/",i,"category",t],DA=(i,t)=>({"arabic-font":i,collapsed:t}),MA=i=>["/",i,"dashboard"],RA=i=>["/",i,"stats"],kA=i=>["/",i,"ManageMenuComponent"],OA=i=>["/",i,"EditItemComponent"],PA=i=>["/",i,"kitchen-orders"],NA=i=>["/",i,"bar-orders"],FA=i=>["/",i,"hookah-orders"],LA=i=>["/",i,"ordering-dashboard"],VA=i=>["/",i,"attendance"],BA=i=>["/",i,"add-employee"];function UA(i,t){if(i&1){let e=ce();m(0,"div",6)(1,"button",13),q("click",function(){L(e);let r=I(2);return V(r.callWaiter())}),_(2),f()()}if(i&2){let e=I(2);h(),j("disabled",e.waiterRequested),h(),$(" ",e.isArabic?e.waiterRequested?"\u062A\u0645 \u0627\u0644\u0637\u0644\u0628":"\u0627\u0637\u0644\u0628 \u0627\u0644\u0646\u0627\u062F\u0644":e.waiterRequested?"Requested":"Call a waiter"," ")}}function jA(i,t){if(i&1&&(m(0,"li",10)(1,"a",14),H(2,"i"),m(3,"span"),_(4),f()()()),i&2){let e=t.$implicit,n=I(2);h(),j("routerLink",Ni(4,n0,n.currentRestId,e.key)),h(),mn(e.icon+" category-icon"),h(2),A(n.isArabic?e.nameArabic:e.name)}}function zA(i,t){if(i&1){let e=ce();m(0,"nav",0)(1,"div",5),W(2,UA,3,2,"div",6),m(3,"a",7),_(4),f(),m(5,"div",8)(6,"ul",9),Ee(7,jA,5,7,"li",10,je),f()(),m(9,"div",11)(10,"button",12),q("click",function(){L(e);let r=I();return V(r.toggleLanguage())}),_(11),f()()()()}if(i&2){let e=I();j("ngClass",$_(6,AA,!e.isLightTheme,e.isLightTheme,e.signedIn&&e.session,e.isArabic)),h(2),K(e.signedIn&&e.session?2:-1),h(),j("routerLink",on(11,t0,e.currentRestId)),h(),A(e.isArabic?"\u0637\u0644\u0629 \u064A\u0627\u0641\u0627":"Talat Yafa"),h(3),Se(e.categories),h(3),j("ngClass",Ni(13,TA,!e.isLightTheme,e.isLightTheme)),h(),$(" ",e.isArabic?"English":"\u0639\u0631\u0628\u064A"," ")}}function $A(i,t){if(i&1){let e=ce();m(0,"aside",1)(1,"div",15)(2,"a",16),_(3),f(),m(4,"div",17)(5,"button",18),q("click",function(){L(e);let r=I();return V(r.toggleLanguage())}),_(6),f(),m(7,"button",19),q("click",function(){L(e);let r=I();return V(r.closeAdminSidebar())}),H(8,"i"),f()()(),m(9,"div",20)(10,"div",21),_(11),f(),m(12,"a",22),H(13,"i",23),_(14),f(),m(15,"a",22),H(16,"i",24),_(17),f()(),m(18,"div",20)(19,"div",21),_(20),f(),m(21,"a",22),H(22,"i",25),_(23),f(),m(24,"a",22),H(25,"i",26),_(26),f(),m(27,"a",22),H(28,"i",27),_(29),f(),m(30,"a",22),H(31,"i",28),_(32),f(),m(33,"a",22),H(34,"i",29),_(35),f(),m(36,"a",22),H(37,"i",30),_(38),f()(),m(39,"div",20)(40,"div",21),_(41),f(),m(42,"a",22),H(43,"i",31),_(44),f(),m(45,"a",22),H(46,"i",32),_(47),f()()()}if(i&2){let e=I();j("ngClass",Ni(31,DA,e.isArabic,!e.adminSidebarOpen)),Ce("dir",e.isArabic?"rtl":"ltr"),h(2),j("routerLink",on(34,t0,e.currentRestId)),h(),A(e.isArabic?"\u0637\u0644\u0629 \u064A\u0627\u0641\u0627":"Talat Yafa"),h(3),A(e.isArabic?"English":"\u0639\u0631\u0628\u064A"),h(),Ce("aria-label",e.isArabic?"\u0625\u063A\u0644\u0627\u0642 \u0627\u0644\u0634\u0631\u064A\u0637 \u0627\u0644\u062C\u0627\u0646\u0628\u064A":"Close sidebar"),h(),mn(e.isArabic?"fas fa-angle-right":"fas fa-angle-left"),h(3),A(e.isArabic?"\u0639\u0627\u0645":"GENERAL"),h(),j("routerLink",on(36,MA,e.currentRestId)),h(2),A(e.isArabic?"\u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645":"Dashboard"),h(),j("routerLink",on(38,RA,e.currentRestId)),h(2),A(e.isArabic?"\u0627\u0644\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A":"Stats"),h(3),A(e.isArabic?"\u0627\u0644\u0623\u062F\u0648\u0627\u062A":"TOOLS"),h(),j("routerLink",on(40,kA,e.currentRestId)),h(2),A(e.isArabic?"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0642\u0627\u0626\u0645\u0629":"Manage Menu"),h(),j("routerLink",on(42,OA,e.currentRestId)),h(2),A(e.isArabic?"\u062A\u0639\u062F\u064A\u0644 \u0639\u0646\u0635\u0631":"Edit Item"),h(),j("routerLink",on(44,PA,e.currentRestId)),h(2),A(e.isArabic?"\u0637\u0644\u0628\u0627\u062A \u0627\u0644\u0645\u0637\u0628\u062E":"Kitchen Orders"),h(),j("routerLink",on(46,NA,e.currentRestId)),h(2),A(e.isArabic?"\u0637\u0644\u0628\u0627\u062A \u0627\u0644\u0628\u0627\u0631":"Bar Orders"),h(),j("routerLink",on(48,FA,e.currentRestId)),h(2),A(e.isArabic?"\u0637\u0644\u0628\u0627\u062A \u0627\u0644\u0623\u0631\u062C\u064A\u0644\u0629":"Hookah Orders"),h(),j("routerLink",on(50,LA,e.currentRestId)),h(2),A(e.isArabic?"\u0644\u0648\u062D\u0629 \u0627\u0644\u0637\u0644\u0628\u0627\u062A":"Ordering Dashboard"),h(3),A(e.isArabic?"\u0627\u0644\u062F\u0639\u0645":"SUPPORT"),h(),j("routerLink",on(52,VA,e.currentRestId)),h(2),A(e.isArabic?"\u0627\u0644\u062D\u0636\u0648\u0631":"Attendance"),h(),j("routerLink",on(54,BA,e.currentRestId)),h(2),A(e.isArabic?"\u0625\u0636\u0627\u0641\u0629 \u0645\u0648\u0638\u0641":"Add Employee")}}function qA(i,t){if(i&1){let e=ce();m(0,"button",33),q("click",function(){L(e);let r=I();return V(r.openAdminSidebar())}),H(1,"i",34),_(2),f()}if(i&2){let e=I();Ce("dir",e.isArabic?"rtl":"ltr"),h(2),$("",e.isArabic?"\u0627\u0644\u0642\u0627\u0626\u0645\u0629":"Menu"," ")}}function HA(i,t){if(i&1&&(m(0,"a",36),H(1,"i"),m(2,"span"),_(3),f()()),i&2){let e=t.$implicit,n=I(2);j("routerLink",Ni(4,n0,n.currentRestId,e.key)),h(),mn(e.icon),h(2),A(n.isArabic?e.nameArabic:e.name)}}function WA(i,t){if(i&1&&(m(0,"div",3)(1,"div",5)(2,"div",35),Ee(3,HA,4,7,"a",36,je),f()()()),i&2){let e=I();j("dir",e.isArabic?"rtl":"ltr"),h(3),Se(e.categories)}}var hd=class i{constructor(t,e,n,r){this.languageService=t;this.router=e;this.tableSession=n;this.route=r}isArabic=!1;isLightTheme=!1;categories=[];signedIn=!1;session=null;waiterRequested=!1;currentRestId="";isAdminRoute=!1;adminSidebarOpen=!0;adminPages=new Set(["dashboard","stats","ManageMenuComponent","EditItemComponent","kitchen-orders","bar-orders","hookah-orders","ordering-dashboard","attendance","add-employee","control-board"]);ngOnInit(){return F(this,null,function*(){this.languageService.isArabic$.subscribe(o=>{this.isArabic=o}),this.isArabic=this.languageService.getCurrentLanguage(),this.tableSession.signedIn$.subscribe(o=>this.signedIn=o),this.tableSession.session$.subscribe(o=>{this.session=o,o?.restId&&(this.currentRestId=o.restId)});let t=(this.router.url.split("/")[1]||"").trim();if(t&&t!=="cart"&&(this.currentRestId=t),this.updateAdminRoute(this.router.url),this.router.events.pipe(Ge(o=>o instanceof an)).subscribe(()=>{let o=(this.router.url.split("/")[1]||"").trim();o&&o!=="cart"&&(this.currentRestId=o),this.updateAdminRoute(this.router.url)}),!this.currentRestId){let o=(this.router.url.split("/")[1]||"").trim();o&&o!=="cart"&&(this.currentRestId=o)}let{firebaseService:e}=yield import("./chunk-4YFJJTDC.js"),r=(yield e.getCategories(this.currentRestId))||{};this.categories=Object.entries(r).map(([o,s])=>({key:o,name:s?.name||"",nameArabic:s?.nameArabic||"",icon:s?.icon||"fas fa-utensils"}))})}toggleLanguage(){this.languageService.toggleLanguage()}updateAdminRoute(t){let n=(t||"").split("#")[0].split("?")[0].split("/").filter(Boolean),r=n.length>=2?n[1]:"";this.isAdminRoute=this.adminPages.has(r)}openAdminSidebar(){this.adminSidebarOpen=!0}closeAdminSidebar(){this.adminSidebarOpen=!1}callWaiter(){return F(this,null,function*(){!this.signedIn||!this.session||(this.waiterRequested=!0,setTimeout(()=>{this.waiterRequested=!1},3e3))})}static \u0275fac=function(e){return new(e||i)(ee(Wt),ee(lt),ee(mr),ee(Le))};static \u0275cmp=ie({type:i,selectors:[["app-root"]],decls:6,vars:9,consts:[[1,"navbar","navbar-expand-lg","sticky-top","px-4",3,"ngClass"],[1,"admin-sidebar",3,"ngClass"],["type","button",1,"btn","btn-primary","admin-sidebar-toggle"],[1,"category-nav-mobile",3,"dir"],[3,"dir","ngClass"],[1,"container"],[1,"nav-left","d-lg-none"],[1,"navbar-brand",3,"routerLink"],["id","navbarContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mx-auto","mb-2","mb-lg-0"],[1,"nav-item"],[1,"nav-actions","ms-auto","d-flex","align-items-center","gap-2"],[1,"btn","btn-sm",3,"click","ngClass"],[1,"btn","btn-sm","btn-waiter",2,"padding","0.5rem",3,"click","disabled"],["routerLinkActive","active",1,"nav-link","d-flex","flex-column","align-items-center",3,"routerLink"],[1,"sidebar-header","d-flex","align-items-center","justify-content-between"],[1,"sidebar-brand",3,"routerLink"],[1,"d-flex","align-items-center","gap-2"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"sidebar-section"],[1,"section-title"],["routerLinkActive","active",1,"sidebar-link",3,"routerLink"],[1,"fas","fa-table","me-2"],[1,"fas","fa-chart-line","me-2"],[1,"fas","fa-utensils","me-2"],[1,"fas","fa-pen","me-2"],[1,"fas","fa-concierge-bell","me-2"],[1,"fas","fa-glass-martini-alt","me-2"],[1,"fas","fa-smoking","me-2"],[1,"fas","fa-clipboard-list","me-2"],[1,"fas","fa-user-check","me-2"],[1,"fas","fa-user-plus","me-2"],["type","button",1,"btn","btn-primary","admin-sidebar-toggle",3,"click"],[1,"fas","fa-bars","me-1"],[1,"scrollable-nav"],["routerLinkActive","active",1,"category-item",3,"routerLink"]],template:function(e,n){e&1&&(W(0,zA,12,16,"nav",0),W(1,$A,48,56,"aside",1),W(2,qA,3,2,"button",2),W(3,WA,5,1,"div",3),m(4,"main",4),H(5,"router-outlet"),f()),e&2&&(K(n.isAdminRoute?-1:0),h(),K(n.isAdminRoute?1:-1),h(),K(n.isAdminRoute&&!n.adminSidebarOpen?2:-1),h(),K(n.isAdminRoute?-1:3),h(),j("dir",n.isArabic?"rtl":"ltr")("ngClass",Ni(6,IA,n.isArabic,n.isAdminRoute&&n.adminSidebarOpen)))},dependencies:[Ln,Ga,Ei,gm,Ft,fn],styles:[".navbar[_ngcontent-%COMP%]{padding-left:.2rem!important;box-shadow:0 2px 4px #0000001a;transition:all .3s ease;background-color:var(--secondary-color)}.navbar-brand[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem}.nav-link[_ngcontent-%COMP%]{font-size:.9rem;margin:0 .5rem;transition:all .3s ease;text-align:center;padding:.5rem .75rem;border-radius:8px}.nav-link[_ngcontent-%COMP%]:hover{color:var(--primary-color)!important;transform:translateY(-2px)}.nav-link.active[_ngcontent-%COMP%]{color:var(--primary-color)!important;font-weight:700;background-color:rgba(var(--primary-color-rgb),.1)}.category-icon[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.25rem;display:block}.category-icon.fa-bounce[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_custom-bounce 5s cubic-bezier(.28,.84,.42,1) infinite}@keyframes _ngcontent-%COMP%_custom-bounce{0%{transform:translateY(0)}10%{transform:translateY(-8px)}20%{transform:translateY(0)}to{transform:translateY(0)}}.category-icon.fa-flip[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_custom-flip 5s linear infinite}@keyframes _ngcontent-%COMP%_custom-flip{0%{transform:rotateY(0)}20%{transform:rotateY(180deg)}40%{transform:rotateY(0)}to{transform:rotateY(0)}}.category-icon.fa-shake[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_custom-shake 5s linear infinite}@keyframes _ngcontent-%COMP%_custom-shake{0%,to{transform:translate(0)}5%{transform:translate(-5px)}10%{transform:translate(5px)}15%{transform:translate(-5px)}20%{transform:translate(5px)}25%{transform:translate(0)}to{transform:translate(0)}}.category-icon.fa-beat[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_custom-beat 5s linear infinite}@keyframes _ngcontent-%COMP%_custom-beat{0%,to{transform:scale(1)}10%{transform:scale(1.2)}20%,99%{transform:scale(1)}}.category-icon.fa-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_custom-spin 5s linear infinite}@keyframes _ngcontent-%COMP%_custom-spin{0%{transform:rotate(0)}20%{transform:rotate(360deg)}to{transform:rotate(360deg)}}.category-icon.fa-beat-fade[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_custom-beat-fade 5s linear infinite}@keyframes _ngcontent-%COMP%_custom-beat-fade{0%,to{opacity:1;transform:scale(1)}10%{opacity:.7;transform:scale(1.2)}20%,99%{opacity:1;transform:scale(1)}}.category-icon.fa-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_custom-pulse 5s linear infinite}@keyframes _ngcontent-%COMP%_custom-pulse{0%,to{transform:scale(1)}10%{transform:scale(1.1)}20%,99%{transform:scale(1)}}.category-icon.fa-fade[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_custom-fade 5s linear infinite}@keyframes _ngcontent-%COMP%_custom-fade{0%,to{opacity:1}10%{opacity:.5}20%,99%{opacity:1}}.category-nav-mobile[_ngcontent-%COMP%]{display:none;background-color:#fff;padding:10px 0;position:sticky;top:56px;z-index:1000;box-shadow:0 2px 4px #0000000d}.scrollable-nav[_ngcontent-%COMP%]{display:flex;overflow-x:auto;padding:5px 0;-webkit-overflow-scrolling:touch;scrollbar-width:none}.scrollable-nav[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.category-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:8px 15px;min-width:80px;text-decoration:none;color:var(--text-color);font-size:.8rem;border-radius:8px;transition:all .3s ease}.category-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:5px}.category-item.active[_ngcontent-%COMP%]{background-color:rgba(var(--primary-color-rgb, 233, 78, 27),.1);color:var(--primary-color);font-weight:700}.category-item[_ngcontent-%COMP%]:hover{transform:translateY(-2px);color:var(--primary-color)}.nav-actions[_ngcontent-%COMP%]{z-index:1050;position:relative}.btn-waiter[_ngcontent-%COMP%]{background:var(--primary-color, #e94e1b);border-color:var(--primary-color, #e94e1b);color:#fff;box-shadow:0 6px 14px rgba(var(--primary-color-rgb, 233, 78, 27),.35)}main[_ngcontent-%COMP%]{min-height:calc(100vh - 160px);padding-bottom:20px}.admin-sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:260px;height:100vh;background:#fff;border-right:1px solid #eee;padding:16px;overflow-y:auto;z-index:1040;transform:translate(0);transition:transform .3s ease}.admin-sidebar[dir=rtl][_ngcontent-%COMP%]{right:0;left:auto;border-right:none;border-left:1px solid #eee}.admin-sidebar.collapsed[_ngcontent-%COMP%]{transform:translate(-100%)}.admin-sidebar[dir=rtl].collapsed[_ngcontent-%COMP%]{transform:translate(100%)}.sidebar-header[_ngcontent-%COMP%]{padding-bottom:12px;border-bottom:1px solid #f0f0f0;margin-bottom:12px}.sidebar-brand[_ngcontent-%COMP%]{font-weight:700;color:var(--secondary-color);text-decoration:none}.section-title[_ngcontent-%COMP%]{font-size:.75rem;letter-spacing:.08em;color:#9ca3af;padding:12px 0 6px}.sidebar-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:10px 12px;color:#111827;text-decoration:none;border-radius:8px}.sidebar-section[_ngcontent-%COMP%]   .sidebar-link[_ngcontent-%COMP%] + .sidebar-link[_ngcontent-%COMP%]{border-top:1px solid #eee}.sidebar-link[_ngcontent-%COMP%]:hover{background:#f3f4f6}.sidebar-link.active[_ngcontent-%COMP%]{background:#f3f4f6;font-weight:600}.sidebar-section[_ngcontent-%COMP%] + .sidebar-section[_ngcontent-%COMP%]{border-top:1px solid #f0f0f0;margin-top:12px;padding-top:12px}.admin-content[_ngcontent-%COMP%]{margin-left:260px}.admin-content[dir=rtl][_ngcontent-%COMP%]{margin-left:0;margin-right:260px}.admin-sidebar-toggle[_ngcontent-%COMP%]{position:fixed;top:16px;left:16px;z-index:1050;box-shadow:0 6px 14px #00000026}.admin-sidebar-toggle[dir=rtl][_ngcontent-%COMP%]{right:16px;left:auto}@media(max-width:991.98px){.admin-content[_ngcontent-%COMP%]{margin-left:260px}.admin-content[dir=rtl][_ngcontent-%COMP%]{margin-left:0;margin-right:260px}.admin-sidebar[_ngcontent-%COMP%]{position:fixed;width:260px;height:100vh;overflow-y:auto;top:0;left:0;border-right:1px solid #eee}.admin-sidebar[dir=rtl][_ngcontent-%COMP%]{left:auto;right:0;border-right:none;border-left:1px solid #eee}}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{flex-wrap:nowrap;overflow-x:auto;-webkit-overflow-scrolling:touch}.navbar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{flex:0 0 auto}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]::-webkit-scrollbar{height:6px}.navbar[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#0003;border-radius:3px}[dir=rtl][_ngcontent-%COMP%]   .ms-auto[_ngcontent-%COMP%]{margin-right:auto!important;margin-left:0!important}.arabic-font[_ngcontent-%COMP%]{font-family:Tajawal,Poppins,sans-serif}@media(min-width:992px){main[_ngcontent-%COMP%]{padding-bottom:0}.category-nav-mobile[_ngcontent-%COMP%]{display:none}}@media(max-width:991.98px){.category-nav-mobile[_ngcontent-%COMP%]{display:block}.navbar-nav[_ngcontent-%COMP%]{display:none}main[_ngcontent-%COMP%]{padding-top:10px}.navbar.signed-in[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:8px}.navbar.signed-in[_ngcontent-%COMP%]   .nav-left[_ngcontent-%COMP%]{grid-column:1;justify-self:start}.navbar.signed-in[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{grid-column:2;justify-self:center}.navbar.signed-in[_ngcontent-%COMP%]   .nav-actions[_ngcontent-%COMP%]{grid-column:3;justify-self:end}}"]})};var KA=i=>["/",i,"dashboard"],GA=(i,t)=>["/",i,"t",t],YA=(i,t)=>["/",i,"category",t];function QA(i,t){i&1&&H(0,"div",2)}function XA(i,t){if(i&1&&(m(0,"a",13)(1,"div",14),H(2,"i"),f(),m(3,"span"),_(4),f()()),i&2){let e=t.$implicit,n=I();j("routerLink",Ni(4,YA,(n.session==null?null:n.session.restId)||n.restId,e.key)),h(2),mn(e.icon),h(2),A(n.isArabic?e.nameArabic:e.name)}}var md=class i{constructor(t,e,n){this.languageService=t;this.tableSession=e;this.route=n}isArabic=!1;restaurant=null;categories=[];session=null;signedIn=!1;restId="";tableIdInput="";ngOnInit(){return F(this,null,function*(){this.languageService.isArabic$.subscribe(r=>this.isArabic=r),this.isArabic=this.languageService.getCurrentLanguage();let e=this.route.snapshot.paramMap.get("restId")||"";if(this.restId=e,!e)return;let n=yield Wn.getRestaurantById(e);if(n){this.restaurant=n;let r=n.menu?.categories||{};(!r||Object.keys(r).length===0)&&(r=(yield Wn.getCategories(e))||{}),this.categories=Object.entries(r).map(([o,s])=>({key:o,name:s.name||"",nameArabic:s.nameArabic||"",icon:s.icon||"fas fa-utensils"}))}this.tableSession.signedIn$.subscribe(r=>this.signedIn=r),this.tableSession.session$.subscribe(r=>this.session=r)})}getTableDisplayName(){let t=this.session;return t?t.tableName||t.tableId:""}checkout(){return F(this,null,function*(){yield this.tableSession.checkout()})}static \u0275fac=function(e){return new(e||i)(ee(Wt),ee(mr),ee(Le))};static \u0275cmp=ie({type:i,selectors:[["app-home"]],decls:21,vars:14,consts:[[1,"hero-banner","text-white"],[1,"overlay","d-flex","align-items-center","justify-content-center","text-center"],[1,"mb-3"],[1,"display-4","fw-bold"],[1,"lead"],[1,"d-flex","flex-column","align-items-center","gap-3","mt-3",2,"max-width","560px","margin","0 auto"],[1,"btn","btn-primary",3,"routerLink"],[1,"w-100","d-flex","gap-2","justify-content-center"],["placeholder","Table ID",1,"form-control",2,"max-width","240px",3,"ngModelChange","ngModel"],[1,"btn","btn-secondary",3,"routerLink"],[1,"explore-menu","mt-5"],[1,"mb-4",2,"color","white"],[1,"category-links"],[1,"category-link",3,"routerLink"],[1,"icon-container"]],template:function(e,n){e&1&&(m(0,"div",0)(1,"div",1)(2,"div"),W(3,QA,1,0,"div",2),m(4,"h1",3),_(5),f(),m(6,"p",4),_(7),f(),m(8,"div",5)(9,"a",6),_(10,"Control Board"),f(),m(11,"div",7)(12,"input",8),se("ngModelChange",function(o){return oe(n.tableIdInput,o)||(n.tableIdInput=o),o}),f(),m(13,"a",9),_(14,"Sign In"),f()()(),m(15,"div",10)(16,"h4",11),_(17),f(),m(18,"div",12),Ee(19,XA,5,7,"a",13,je),f()()()()()),e&2&&(h(3),K(n.signedIn&&n.session?3:-1),h(2),$(" ",n.isArabic?"\u0645\u0631\u062D\u0628\u0627\u064B \u0628\u0643\u0645 \u0641\u064A "+((n.restaurant==null?null:n.restaurant.restArabicName)||""):"Welcome to "+((n.restaurant==null?null:n.restaurant.restName)||"")," "),h(2),$(" ",n.isArabic?(n.restaurant==null?null:n.restaurant.restArabicPhrase)||"":(n.restaurant==null?null:n.restaurant.restPhrase)||""," "),h(2),j("routerLink",on(9,KA,(n.session==null?null:n.session.restId)||n.restId||"rest1")),h(3),re("ngModel",n.tableIdInput),h(),me("disabled",!n.tableIdInput),j("routerLink",Ni(11,GA,(n.session==null?null:n.session.restId)||n.restId||"rest1",n.tableIdInput)),h(4),A(n.isArabic?"\u0627\u0643\u062A\u0634\u0641 \u0646\u0643\u0647\u0627\u062A\u0646\u0627 \u0627\u0644\u0631\u0627\u0626\u0639\u0629":"Explore Our Menu"),h(2),Se(n.categories))},dependencies:[Ln,Ei,at,yt,bt,vt],styles:[".hero-banner[_ngcontent-%COMP%]{background-image:url(https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&w=1600&q=80);background-size:cover;background-position:center;height:100vh;position:relative;overflow-y:auto}.overlay[_ngcontent-%COMP%]{background-color:#0009;height:100%;width:100%;padding:2rem;display:flex;align-items:center;justify-content:center}.explore-menu[_ngcontent-%COMP%]{margin-top:2rem}.category-links[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:1.5rem;max-width:900px;margin:0 auto}.category-link[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-decoration:none;color:#fff;transition:all .3s ease;padding:.5rem;border-radius:8px;width:110px;text-align:center}.category-link[_ngcontent-%COMP%]:hover{transform:translateY(-5px);background-color:#ffffff1a}.icon-container[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.5rem;display:flex;align-items:center;justify-content:center;height:50px;width:50px;border-radius:50%;background-color:#fff3;transition:all .3s ease}.category-link[_ngcontent-%COMP%]:hover   .icon-container[_ngcontent-%COMP%]{background-color:#ff6b6bcc}@media(max-width:768px){.category-links[_ngcontent-%COMP%]{gap:.75rem}.category-link[_ngcontent-%COMP%]{width:90px;font-size:.85rem}.icon-container[_ngcontent-%COMP%]{height:40px;width:40px;font-size:1.2rem}}"]})};var ZA=()=>["/cart"];function JA(i,t){if(i&1){let e=ce();m(0,"div",7)(1,"div",10),q("click",function(){let r=L(e).$implicit,o=I();return V(o.openModal(r))}),m(2,"div",11),H(3,"img",12),f(),m(4,"div",13)(5,"div",14)(6,"h4",15),_(7),f(),m(8,"div",16),_(9),f()()()()()}if(i&2){let e=t.$implicit,n=I();h(3),j("src",e.image,$n)("alt",n.isArabic?e.nameArabic:e.name),h(4),A(n.isArabic?e.nameArabic:e.name),h(2),$("",e.price,"\u20AA")}}function eT(i,t){if(i&1&&H(0,"img",12),i&2){let e=I(2);j("src",e.selectedItem.image,$n)("alt",e.isArabic?e.selectedItem.nameArabic:e.selectedItem.name)}}function tT(i,t){if(i&1&&(m(0,"li"),_(1),f()),i&2){let e=t.$implicit;h(),$(" ",e," ")}}function nT(i,t){if(i&1&&(m(0,"span",43),_(1),f()),i&2){let e=I().$implicit;h(),$(" +\u20AA",e.add)}}function iT(i,t){if(i&1){let e=ce();m(0,"span",42),q("click",function(r){let o=L(e).$index;return I(4).selectChoice(o),V(r.stopPropagation())}),_(1),W(2,nT,2,1,"span",43),f()}if(i&2){let e=t.$implicit,n=t.$index,r=I(4);me("active",r.selectedChoiceIndex===n),h(),$(" ",e.label),h(),K(e.add?2:-1)}}function rT(i,t){if(i&1&&(m(0,"div",27)(1,"h6",25),_(2),f(),m(3,"div",40),Ee(4,iT,3,4,"span",41,je),f()()),i&2){let e=I(3);h(2),A(e.isArabic?"\u0627\u062E\u062A\u0631 \u062E\u064A\u0627\u0631\u0627\u064B:":"Select a choice:"),h(2),Se(e.choiceDisplay)}}function oT(i,t){if(i&1){let e=ce();m(0,"div",37)(1,"textarea",44),se("ngModelChange",function(r){L(e);let o=I(3);return oe(o.notes,r)||(o.notes=r),V(r)}),f()()}if(i&2){let e=I(3);h(),j("placeholder",U_(e.isArabic?"\u0627\u0643\u062A\u0628 \u0645\u0644\u0627\u062D\u0638\u0627\u062A\u0643 \u0647\u0646\u0627...":"Write your notes here...")),re("ngModel",e.notes)}}function sT(i,t){if(i&1&&(m(0,"span"),_(1),f()),i&2){let e=I(3);h(),A(e.justAdded?e.isArabic?"\u0639\u0631\u0636 \u0627\u0644\u0633\u0644\u0629":"View in cart":e.isArabic?"\u0623\u0636\u0641 \u0625\u0644\u0649 \u0627\u0644\u0633\u0644\u0629":"Add to cart")}}function aT(i,t){i&1&&H(0,"span",39)}function lT(i,t){if(i&1){let e=ce();m(0,"div"),W(1,rT,6,1,"div",27),m(2,"div",28)(3,"div",29)(4,"button",30),q("click",function(){L(e);let r=I(2);return V(r.decQty())}),_(5,"\u2212"),f(),m(6,"input",31),q("change",function(r){L(e);let o=I(2);return V(o.setQtyModal(+r.target.value))}),f(),m(7,"button",32),q("click",function(){L(e);let r=I(2);return V(r.incQty())}),_(8,"+"),f()(),m(9,"div",33)(10,"small"),_(11),f(),m(12,"div",34),_(13),f()()(),m(14,"div",27)(15,"button",35),q("click",function(){L(e);let r=I(2);return V(r.showNotes=!r.showNotes)}),_(16),H(17,"span",36),f(),W(18,oT,2,3,"div",37),f(),m(19,"button",38),q("click",function(){L(e);let r=I(2);return V(r.onPrimaryCta())}),W(20,sT,2,1,"span"),W(21,aT,1,0,"span",39),f()()}if(i&2){let e=I(2);h(),K(e.hasChoices?1:-1),h(3),j("disabled",e.quantity<=1),h(2),j("value",e.quantity),h(5),A(e.isArabic?"\u0627\u0644\u0645\u062C\u0645\u0648\u0639":"Total"),h(2),$("",(((e.selectedItem==null?null:e.selectedItem.price)||0)+e.selectedChoiceAdd)*e.quantity,"\u20AA"),h(3),$(" ",e.isArabic?"\u0645\u0644\u0627\u062D\u0638\u0627\u062A":"Notes"," "),h(),j("innerText",e.showNotes?"\u25B2":"\u25BC"),h(),K(e.showNotes?18:-1),h(),j("disabled",e.placingOrder||e.hasChoices&&e.selectedChoiceIndex===null),h(),K(e.placingOrder?-1:20),h(),K(e.placingOrder?21:-1)}}function cT(i,t){if(i&1&&(m(0,"div",26),_(1),f()),i&2){let e=I(2);h(),$(" ",e.isArabic?"\u0627\u0644\u0631\u062C\u0627\u0621 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644 \u0639\u0628\u0631 \u0631\u0627\u0628\u0637 \u0627\u0644\u0637\u0627\u0648\u0644\u0629 \u0644\u0637\u0644\u0628 \u0647\u0630\u0627 \u0627\u0644\u0637\u0628\u0642.":"Please sign in via your table link to order this item."," ")}}function dT(i,t){if(i&1){let e=ce();m(0,"div",17),q("click",function(){L(e);let r=I();return V(r.closeModal())}),m(1,"div",18),q("click",function(r){return L(e),V(r.stopPropagation())}),m(2,"div",19),W(3,eT,1,2,"img",12),f(),m(4,"div",20)(5,"div",21)(6,"h3",22),_(7),f(),m(8,"div",23),_(9),f()(),m(10,"div",24)(11,"h6",25),_(12),f(),m(13,"div")(14,"ul"),Ee(15,tT,2,1,"li",null,je),f()()(),W(17,lT,22,11,"div")(18,cT,2,1,"div",26),f()()()}if(i&2){let e=I();j("dir",e.isArabic?"rtl":"ltr"),h(3),K(e.selectedItem?3:-1),h(4),A(e.isArabic?e.selectedItem==null?null:e.selectedItem.nameArabic:e.selectedItem==null?null:e.selectedItem.name),h(2),$("",e.selectedItem==null?null:e.selectedItem.price,"\u20AA"),h(3),A(e.isArabic?"\u0627\u0644\u0645\u0643\u0648\u0646\u0627\u062A:":"Ingredients:"),h(3),Se(e.isArabic?e.selectedItem==null?null:e.selectedItem.ingredientsArabic:e.selectedItem==null?null:e.selectedItem.ingredients),h(2),K(e.signedIn&&e.session?17:18)}}function uT(i,t){if(i&1&&(m(0,"a",9),Di(),m(1,"svg",45),H(2,"path",46),f()()),i&2){let e=I();j("routerLink",cr(2,ZA)),Ce("aria-label",e.isArabic?"\u0627\u0644\u0633\u0644\u0629":"Cart")}}var pd=class i{constructor(t,e,n,r){this.languageService=t;this.route=e;this.tableSession=n;this.router=r}isArabic=!1;name="";nameArabic="";catPhrase="";catArabicPhrase="";icon="";items=[];restId=null;signedIn=!1;session=null;showModal=!1;selectedItem=null;quantity=1;notes="";placingOrder=!1;showNotes=!1;justAdded=!1;selectedChoiceIndex=null;ngOnInit(){return F(this,null,function*(){this.languageService.isArabic$.subscribe(t=>this.isArabic=t),this.isArabic=this.languageService.getCurrentLanguage(),this.route.paramMap.subscribe(t=>F(this,null,function*(){let e=t.get("categoryKey"),n=t.get("restId");if(n&&(this.restId=n),!e)return;let r=this.restId||"";if(!r)return;let o=Wn.getCategoryFromCache(r,e);o?(this.name=o.name||"",this.nameArabic=o.nameArabic||"",this.catPhrase=o.catPhrase||"",this.catArabicPhrase=o.catArabicPhrase||"",this.icon=o.icon||"fas fa-utensils",this.items=o.items?Object.values(o.items):[]):(this.name="",this.nameArabic="",this.catPhrase="",this.catArabicPhrase="",this.icon="fas fa-utensils",this.items=[]);try{let s=yield Wn.getCategory(r,e);s&&(this.name=s.name||"",this.nameArabic=s.nameArabic||"",this.catPhrase=s.catPhrase||"",this.catArabicPhrase=s.catArabicPhrase||"",this.icon=s.icon||"fas fa-utensils",this.items=s.items?Object.values(s.items):[])}catch{}})),this.tableSession.signedIn$.subscribe(t=>this.signedIn=t),this.tableSession.session$.subscribe(t=>{this.session=t,t?.restId&&(this.restId=t.restId)})})}openModal(t){this.selectedItem=t,this.quantity=1,this.notes="",this.showModal=!0,this.showNotes=!1,this.justAdded=!1,this.selectedChoiceIndex=this.hasChoices?0:null}closeModal(){this.showModal=!1,this.selectedItem=null,this.placingOrder=!1}decQty(){this.quantity>1&&this.quantity--}incQty(){this.quantity++}setQtyModal(t){let e=Math.max(1,Number(t)||1);this.quantity=e}get structuredOptions(){let t=this.selectedItem?.choiceOptions;return Array.isArray(t)?t.filter(e=>e&&(e.en||e.ar)):null}get currentChoices(){let t=this.isArabic?this.selectedItem?.choicesArabic:this.selectedItem?.choices;return Array.isArray(t)?t.filter(e=>!!e):[]}get choiceDisplay(){let t=this.structuredOptions;return t&&t.length?t.map(e=>({label:this.isArabic?e.ar||e.en||"":e.en||e.ar||"",add:Number(e.add)||0})):this.currentChoices.map(e=>({label:e,add:0}))}get selectedChoiceAdd(){let t=this.structuredOptions;return t&&t.length&&this.selectedChoiceIndex!=null&&t[this.selectedChoiceIndex]&&Number(t[this.selectedChoiceIndex].add)||0}get hasChoices(){return this.choiceDisplay.length>0}selectChoice(t){this.selectedChoiceIndex=t}onPrimaryCta(){if(this.justAdded){this.router.navigate(["/cart"]);return}this.placeOrder()}placeOrder(){return F(this,null,function*(){if(!this.signedIn||!this.session||!this.restId||!this.selectedItem)return;let t=Array.isArray(this.selectedItem.choices)?this.selectedItem.choices:[],e=Array.isArray(this.selectedItem.choicesArabic)?this.selectedItem.choicesArabic:[],n=Array.isArray(this.selectedItem.choiceOptions)?this.selectedItem.choiceOptions:[],r=n.length>0,o=r?n.length>0:t&&t.length||e&&e.length,s=null,l=null,c=0;if(this.selectedChoiceIndex!=null)if(r){let u=n[this.selectedChoiceIndex];u&&(s=u.en||null,l=u.ar||null,c=Number(u.add)||0)}else s=t[this.selectedChoiceIndex]??null,l=e[this.selectedChoiceIndex]??null;if(!(o&&this.selectedChoiceIndex===null)){this.placingOrder=!0;try{let u=`restaurants/${this.restId}/tables/${this.session.tableId}/order`,g=qn(Hn,u),b=this.selectedItem.name,C=this.selectedItem.nameArabic,R=this.notes?.trim()||"";if(R===""){let O=yield hr(g);if(O.exists()){let B=O.val(),z=null,X=0;for(let[Z,Q]of Object.entries(B)){let we=Q,_e=(we.details??"").trim(),x=we.choiceEn??null,w=we.choiceAr??null,S=s||l?x===s&&w===l:!x&&!w;if(_e===""&&(we.name===b||we.name===C)&&(we.state??"unordered")==="unordered"&&S){z=Z,X=Number(we.quantity)||0;break}}if(z){yield uy(qn(Hn,`${u}/${z}`),{quantity:X+this.quantity,ts:Date.now()}),this.justAdded=!0,this.placingOrder=!1;return}}}let T={name:this.isArabic?C:b,details:R,quantity:this.quantity,ts:Date.now(),state:"unordered",unitPrice:(this.selectedItem.price||0)+(c||0),choiceEn:s||null,choiceAr:l||null};yield dy(g,T),this.justAdded=!0,this.placingOrder=!1}catch(u){console.error("Failed to place order:",u),this.placingOrder=!1}}})}static \u0275fac=function(e){return new(e||i)(ee(Wt),ee(Le),ee(mr),ee(lt))};static \u0275cmp=ie({type:i,selectors:[["app-category"]],decls:13,vars:4,consts:[[1,"category-container"],[1,"container","py-5"],[1,"section-header","text-center","mb-5"],[1,"display-5","fw-bold"],[1,"divider","mx-auto"],[1,"lead","text-muted"],[1,"row","g-4"],[1,"col-md-6","col-lg-4"],[1,"item-modal-overlay",3,"dir"],[1,"cart-fab-right",3,"routerLink"],[1,"product-card",3,"click"],[1,"product-image"],[3,"src","alt"],[1,"product-details"],[1,"item-wrap"],[1,"product-title"],[1,"price-tag"],[1,"item-modal-overlay",3,"click","dir"],[1,"item-modal",3,"click"],[1,"modal-image"],[1,"modal-body"],[1,"d-flex","align-items-center","justify-content-between","mb-3"],[1,"mb-0"],[1,"price-chip"],[1,"ingredients","mb-3"],[1,"mb-2"],["role","alert",1,"alert","alert-warning","mt-3"],[1,"mb-3"],[1,"d-flex","align-items-center","justify-content-between","mb-4"],[1,"qty-ctrl"],["type","button",1,"round","minus",3,"click","disabled"],["type","number","min","1",1,"qty-input",3,"change","value"],["type","button",1,"round","plus",3,"click"],[1,"total-price"],[1,"h5","mb-0"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],[3,"innerText"],[1,"mt-2"],["type","button",1,"btn","btn-order","w-100",3,"click","disabled"],[1,"spinner-border","spinner-border-sm"],[1,"choice-group"],[1,"choice-chip",3,"active"],[1,"choice-chip",3,"click"],[1,"choice-add"],["rows","3",1,"form-control",3,"ngModelChange","ngModel","placeholder"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","width","24","height","24","fill","currentColor","aria-hidden","true",1,"icon"],["d","M7 18c-.83 0-1.5.67-1.5 1.5S6.17 21 7 21s1.5-.67 1.5-1.5S7.83 18 7 18zm10 0c-.83 0-1.5.67-1.5 1.5S16.17 21 17 21s1.5-.67 1.5-1.5S17.83 18 17 18zM7.16 14.26h9.97c.68 0 1.28-.43 1.49-1.08l2.07-6.21A1.25 1.25 0 0 0 19.52 5H6.21L5.7 3.65A1.5 1.5 0 0 0 4.21 2.63H3a1 1 0 1 0 0 2h1.21l3.18 8.44-.73 1.88a1.5 1.5 0 0 0 1.5 2.06h10.59a1 1 0 1 0 0-2H8.16l.53-1.35z"]],template:function(e,n){e&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),_(4),f(),H(5,"div",4),m(6,"p",5),_(7),f()(),m(8,"div",6),Ee(9,JA,10,4,"div",7,je),f()(),W(11,dT,19,6,"div",8),W(12,uT,3,3,"a",9),f()),e&2&&(h(4),A(n.isArabic?n.nameArabic:n.name),h(3),$(" ",n.isArabic?n.catArabicPhrase:n.catPhrase," "),h(2),Se(n.items),h(2),K(n.showModal?11:-1),h(),K(n.signedIn?12:-1))},dependencies:[at,yt,bt,vt,Ln,Ei],styles:['.product-card[_ngcontent-%COMP%]{background:var(--card-bg, #ffffff);border-radius:16px;box-shadow:0 6px 18px #00000014;overflow:hidden;transition:transform .25s ease,box-shadow .25s ease;cursor:pointer;height:100%;display:flex;flex-direction:column}.cart-fab-right[_ngcontent-%COMP%]{position:fixed;right:24px;bottom:calc(24px + env(safe-area-inset-bottom,0px));z-index:5000;width:60px;height:60px;border:none;border-radius:18px;background:#f1f2f5;box-shadow:0 12px 24px #0003;display:grid;place-items:center}.cart-fab-right[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:22px;line-height:1;color:var(--primary-color, #ff6b6b)}.cart-fab-left[_ngcontent-%COMP%]{position:fixed;left:28px;bottom:28px;z-index:5000;width:60px;height:60px;border:none;border-radius:18px;background:#f1f2f5;box-shadow:0 12px 24px #0003;display:grid;place-items:center}.cart-fab-left[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:22px;line-height:1;color:var(--primary-color, #ff6b00)}@media(min-width:992px){.cart-fab-left[_ngcontent-%COMP%]{left:28px;bottom:28px}}.product-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 24px #0000001f}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:220px;object-fit:cover;display:block}.product-details[_ngcontent-%COMP%]{padding:16px}.product-title[_ngcontent-%COMP%]{margin:0 0 6px;display:inline-block}.item-wrap[_ngcontent-%COMP%]{position:relative;padding-inline-end:72px}.price-tag[_ngcontent-%COMP%]{position:absolute;top:0;inset-inline-end:0;display:inline-block;background:rgba(var(--primary-color-rgb, 255, 107, 107),.1);color:var(--primary-color, #ff6b6b);padding:4px 10px;border-radius:999px;font-weight:600;margin-bottom:10px;font-family:Tajawal,Poppins,sans-serif}.ingredients[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:700}.ingredients[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:18px;margin:0}.item-modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0009;display:flex;align-items:center;justify-content:center;z-index:2000;animation:_ngcontent-%COMP%_overlayFade .2s ease}@keyframes _ngcontent-%COMP%_overlayFade{0%{opacity:0}to{opacity:1}}.item-modal[_ngcontent-%COMP%]{background:#fff;width:min(90vw,680px);max-height:85vh;border-radius:20px;overflow:hidden;box-shadow:0 20px 50px #00000040;transform:translateY(8px) scale(.98);animation:_ngcontent-%COMP%_modalPop .25s ease forwards;font-family:inherit;display:flex;flex-direction:column}@keyframes _ngcontent-%COMP%_modalPop{to{transform:translateY(0) scale(1)}}.btn-close[_ngcontent-%COMP%]{position:absolute;top:12px;inset-inline-end:12px;background:#0009;border:none;width:32px;height:32px;border-radius:50%;color:#fff;display:grid;place-items:center}.btn-close[_ngcontent-%COMP%]:before{content:"\\2715";font-size:16px;line-height:1}.modal-image[_ngcontent-%COMP%]{background:#fff;display:grid;place-items:center}.modal-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:260px;object-fit:cover;display:block}.modal-body[_ngcontent-%COMP%]{padding:18px 18px 22px;overflow-y:auto}.price-chip[_ngcontent-%COMP%]{background:rgba(var(--primary-color-rgb, 255, 107, 107),.1);color:var(--primary-color, #ff6b6b);padding:6px 12px;border-radius:999px;font-weight:700}.choice-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.choice-chip[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;border-radius:99px;border:1px solid #d1d5db;background:#f5f6f8;color:var(--text-color, #212529);font-weight:700;cursor:pointer;-webkit-user-select:none;user-select:none}.choice-chip.active[_ngcontent-%COMP%]{background:rgba(var(--primary-color-rgb, 255, 107, 107),.12);color:var(--primary-color, #ff6b6b);border-color:var(--primary-color, #ff6b6b)}.choice-add[_ngcontent-%COMP%]{color:var(--primary-color, #ff6b6b);font-weight:700;margin-inline-start:6px}.qty-ctrl[_ngcontent-%COMP%]{background:rgba(var(--primary-color-rgb, 255, 107, 107),.08);border-radius:14px;padding:6px 8px;display:inline-flex;align-items:center;gap:10px;box-shadow:inset 0 0 0 1px #00000008}.round[_ngcontent-%COMP%]{width:38px;height:38px;border-radius:12px;border:none;display:grid;place-items:center;font-size:18px;font-weight:800;color:#fff;transition:transform .1s ease;background:var(--primary-color, #ff6b6b)}.round[_ngcontent-%COMP%]:active{transform:scale(.98)}.round.minus[_ngcontent-%COMP%], .round.plus[_ngcontent-%COMP%]{background:var(--primary-color, #ff6b6b)}.qty-input[_ngcontent-%COMP%]{width:56px;height:36px;border:none;background:transparent;text-align:center;font-weight:900;font-size:16px;color:var(--text-color, #212529)}.qty-input[_ngcontent-%COMP%]:focus{outline:none}.qty-control[_ngcontent-%COMP%]{display:inline-flex;gap:10px;align-items:center;background:#f5f6f8;padding:8px 12px;border-radius:999px}.btn-qty[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;border:none;background:var(--secondary-color, #4ecdc4);color:#fff;font-size:18px;line-height:1;display:inline-flex;align-items:center;justify-content:center;padding:0}.qty-value[_ngcontent-%COMP%]{min-width:28px;text-align:center;font-weight:700}.btn-order[_ngcontent-%COMP%]{background:var(--primary-color, #ff6b6b);color:#fff;border:none;padding:12px 16px;border-radius:12px;font-weight:700;box-shadow:0 8px 16px #ff6b6b59;transition:transform .2s ease,box-shadow .2s ease}.btn-order[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 10px 18px #ff6b6b73}.total-price[_ngcontent-%COMP%]   .h5[_ngcontent-%COMP%]{color:var(--text-color, #212529);font-weight:700}@media(max-width:576px){.item-modal[_ngcontent-%COMP%]{width:96vw;max-height:80vh;border-radius:16px}.modal-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:200px}.modal-body[_ngcontent-%COMP%]{padding:14px 14px 18px}.btn-qty[_ngcontent-%COMP%]{width:36px;height:36px;font-size:16px}.qty-value[_ngcontent-%COMP%]{min-width:24px}}']})};function hT(i,t){if(i&1&&(m(0,"option",23),_(1),f()),i&2){let e=t.$implicit,n=I();j("value",e.key),h(),$(" ",n.isArabic?e.value.nameArabic:e.value.name," ")}}function mT(i,t){if(i&1&&(m(0,"span",38),_(1),f()),i&2){let e=I();h(),A(e.selectedFileName)}}function pT(i,t){if(i&1){let e=ce();m(0,"button",56),q("click",function(){L(e);let r=I();return V(r.clearPendingFile())}),_(1),f()}if(i&2){let e=I();j("disabled",e.uploading),h(),A(e.isArabic?"\u0625\u0632\u0627\u0644\u0629":"Clear")}}function fT(i,t){if(i&1&&(m(0,"div",41),H(1,"img",57),f()),i&2){let e=I();h(),j("src",e.previewUrl,$n)}}function gT(i,t){if(i&1&&(m(0,"div",43)(1,"div",58),H(2,"div",59),f(),m(3,"span"),_(4),f()()),i&2){let e=I();h(2),Pi("width",e.uploadProgress,"%"),h(2),$("",e.uploadProgress,"%")}}function _T(i,t){if(i&1&&(m(0,"span",62),_(1),f()),i&2){let e=I().$implicit;h(),$(" +\u20AA",e.add)}}function yT(i,t){if(i&1){let e=ce();m(0,"span",60),q("click",function(){let r=L(e).$index,o=I();return V(o.editChoiceAt(r))}),m(1,"span",61),_(2),W(3,_T,2,1,"span",62),f(),m(4,"button",63),q("click",function(r){let o=L(e).$index,s=I();return V(s.removeChoiceAt(o,r))}),_(5,"\xD7"),f()()}if(i&2){let e=t.$implicit,n=t.$index,r=I();me("active",r.choiceEditIndex===n),h(2),ni("",e.ar," / ",e.en),h(),K(e.add?3:-1)}}var fd=class i{constructor(t,e,n,r){this.menuService=t;this.http=e;this.languageService=n;this.route=r}restaurantId="";categories={};selectedCategoryId="";newCategory={name:"",nameArabic:"",catPhrase:"",catArabicPhrase:"",icon:"",section:"kitchen"};newItem={name:"",nameArabic:"",price:0,image:"",ingredients:"",ingredientsArabic:"",choices:"",choicesArabic:""};choiceDraft={en:"",ar:"",add:0};choiceEditIndex=null;choiceOptions=[];previewUrl=null;uploading=!1;uploadProgress=0;pendingFile=null;selectedFileName=null;isArabic=!1;workerUrl="https://presigned-url-worker.a2-menu-worker.workers.dev/";ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t),this.menuService.getCategories(this.restaurantId).subscribe(e=>{this.categories=e||{}}),this.languageService.isArabic$.subscribe(e=>this.isArabic=e)}addCategory(){this.menuService.addCategory(this.restaurantId,this.newCategory).then(()=>{alert(this.isArabic?"\u062A\u0645\u062A \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0641\u0626\u0629!":"Category added!"),this.newCategory={name:"",nameArabic:"",catPhrase:"",catArabicPhrase:"",icon:"",section:"kitchen"}})}addItem(){return F(this,null,function*(){if(!this.selectedCategoryId){alert(this.isArabic?"\u0627\u062E\u062A\u0631 \u0641\u0626\u0629 \u0623\u0648\u0644\u0627\u064B!":"Select a category first!");return}try{if(this.pendingFile){this.uploading=!0,this.uploadProgress=0;let e=yield this.uploadViaWorker(this.pendingFile);this.newItem.image=e}let t=ne(k({},this.newItem),{ingredients:this.newItem.ingredients.split(",").map(e=>e.trim()).filter(e=>e.length>0),ingredientsArabic:this.newItem.ingredientsArabic.split(",").map(e=>e.trim()).filter(e=>e.length>0),choices:this.choiceOptions.map(e=>e.en).filter(e=>e&&e.length>0),choicesArabic:this.choiceOptions.map(e=>e.ar).filter(e=>e&&e.length>0),choiceOptions:this.choiceOptions.map(e=>({en:e.en,ar:e.ar,add:Number(e.add)||0}))});yield this.menuService.addItem(this.restaurantId,this.selectedCategoryId,t),alert(this.isArabic?"\u062A\u0645\u062A \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0639\u0646\u0635\u0631!":"Item added!"),this.newItem={name:"",nameArabic:"",price:0,image:"",ingredients:"",ingredientsArabic:"",choices:"",choicesArabic:""},this.choiceOptions=[],this.choiceDraft={en:"",ar:"",add:0},this.choiceEditIndex=null,this.clearPendingFile()}catch(t){console.error("Error adding item:",t),alert(this.isArabic?"\u0641\u0634\u0644 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0639\u0646\u0635\u0631. \u062D\u0627\u0648\u0644 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649.":"Failed to add item. Please try again.")}finally{this.uploading=!1,this.uploadProgress=0}})}addOrUpdateChoice(){let t=(this.choiceDraft.en||"").trim(),e=(this.choiceDraft.ar||"").trim(),n=Number(this.choiceDraft.add)||0;if(!t||!e)return;let r={en:t,ar:e,add:n};this.choiceEditIndex!=null?this.choiceOptions[this.choiceEditIndex]=r:this.choiceOptions.push(r),this.resetChoiceDraft()}editChoiceAt(t){if(this.choiceEditIndex===t){this.resetChoiceDraft();return}let e=this.choiceOptions[t];e&&(this.choiceDraft={en:e.en,ar:e.ar,add:e.add},this.choiceEditIndex=t)}removeChoiceAt(t,e){e?.stopPropagation(),this.choiceEditIndex===t&&this.resetChoiceDraft(),this.choiceOptions.splice(t,1)}resetChoiceDraft(){this.choiceDraft={en:"",ar:"",add:0},this.choiceEditIndex=null}onFileSelected(t){let e=t.target.files?.[0]||null;if(e){if(!this.selectedCategoryId){alert(this.isArabic?"\u0627\u062E\u062A\u0631 \u0641\u0626\u0629 \u0623\u0648\u0644\u0627\u064B\u060C \u062B\u0645 \u0627\u062E\u062A\u0631 \u0635\u0648\u0631\u0629.":"Select a category first, then choose an image.");return}this.previewUrl&&URL.revokeObjectURL(this.previewUrl),this.previewUrl=URL.createObjectURL(e),this.pendingFile=e,this.selectedFileName=e.name}}uploadViaWorker(t){return F(this,null,function*(){let e=new FormData;e.append("file",t,t.name),e.append("pathPrefix",`restaurants/${this.restaurantId}/categories/${this.selectedCategoryId}/new`);let n=this.http.post(`${this.workerUrl}upload`,e,{reportProgress:!0,observe:"events"});return yield new Promise((r,o)=>{n.subscribe({next:s=>{if(s.type===Pn.UploadProgress&&s.total)this.uploadProgress=Math.round(s.loaded/s.total*100);else if(s.type===Pn.Response){let c=(s.body||{}).publicUrl;if(!c){o(new Error("Worker did not return publicUrl"));return}r(c)}},error:s=>o(s)})})})}clearPendingFile(){this.pendingFile=null,this.selectedFileName=null,this.previewUrl&&(URL.revokeObjectURL(this.previewUrl),this.previewUrl=null)}static \u0275fac=function(e){return new(e||i)(ee(Yt),ee(ts),ee(Wt),ee(Le))};static \u0275cmp=ie({type:i,selectors:[["app-manage-menu"]],decls:128,vars:53,consts:[["addImageInput",""],[1,"container","py-4"],[1,"row","align-items-stretch"],[1,"col-md-6","mb-4"],[1,"card","h-100"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"card-body"],[1,"mb-3"],[1,"form-label"],["type","text","placeholder","Enter name in English",1,"form-control",3,"ngModelChange","ngModel"],["type","text","dir","rtl","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0627\u0633\u0645 \u0628\u0627\u0644\u0639\u0631\u0628\u064A\u0629",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","Enter category phrase",1,"form-control",3,"ngModelChange","ngModel"],["type","text","dir","rtl","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0639\u0628\u0627\u0631\u0629 \u0628\u0627\u0644\u0639\u0631\u0628\u064A\u0629",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-select",3,"ngModelChange","ngModel"],["value","kitchen"],["value","bar"],["value","hookah"],["type","text","placeholder","Enter icon URL",1,"form-control",3,"ngModelChange","ngModel"],[1,"card-actions"],[1,"btn","btn-primary","bb-add-category",3,"click"],[1,"bi","bi-plus-circle","me-2"],[1,"card-header","bg-success","text-white"],[3,"value"],[1,"row"],[1,"col-md-6","mb-3"],["type","text","placeholder","Enter item name",1,"form-control",3,"ngModelChange","ngModel"],["type","text","dir","rtl","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0633\u0645 \u0627\u0644\u0639\u0646\u0635\u0631",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-6","mb-3","f-width"],[1,"input-group"],[1,"input-group-text"],["type","number","placeholder","0.00",1,"form-control",3,"ngModelChange","ngModel"],[1,"upload-area"],[1,"upload-horizontal"],[1,"upload-card"],["type","file","accept","image/*","hidden","",3,"change","disabled"],["type","button",1,"btn","btn-success",3,"click","disabled"],[1,"upload-meta"],[1,"file-name"],["type","btn btn-success",1,"clear-btn",3,"disabled"],[1,"preview-title"],[1,"preview"],[1,"upload-hint-inline"],[1,"upload-progress"],["type","text","placeholder","Enter ingredients, separated by commas",1,"form-control",3,"ngModelChange","ngModel"],["type","text","dir","rtl","placeholder","\u0623\u062F\u062E\u0644 \u0627\u0644\u0645\u0643\u0648\u0646\u0627\u062A \u0645\u0641\u0635\u0648\u0644\u0629 \u0628\u0641\u0648\u0627\u0635\u0644",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","g-2","align-items-end"],[1,"col-md-4"],["type","text","dir","rtl","placeholder","\u0645\u062B\u0627\u0644: \u0635\u063A\u064A\u0631",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g., Small",1,"form-control",3,"ngModelChange","ngModel"],["type","number","placeholder","0",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-grid"],["type","button",1,"btn","btn-success",3,"click"],[1,"choice-group","mt-2"],[1,"choice-chip",3,"active"],[1,"btn","btn-success",3,"click","disabled"],["type","btn btn-success",1,"clear-btn",3,"click","disabled"],["alt","Image preview",3,"src"],[1,"progress"],[1,"progress-bar"],[1,"choice-chip",3,"click"],[1,"chip-text"],[1,"choice-add"],["type","button",1,"chip-close",3,"click"]],template:function(e,n){if(e&1){let r=ce();m(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h5",6),_(6),f()(),m(7,"div",7)(8,"div",8)(9,"label",9),_(10),f(),m(11,"input",10),se("ngModelChange",function(s){return L(r),oe(n.newCategory.name,s)||(n.newCategory.name=s),V(s)}),f()(),m(12,"div",8)(13,"label",9),_(14),f(),m(15,"input",11),se("ngModelChange",function(s){return L(r),oe(n.newCategory.nameArabic,s)||(n.newCategory.nameArabic=s),V(s)}),f()(),m(16,"div",8)(17,"label",9),_(18),f(),m(19,"input",12),se("ngModelChange",function(s){return L(r),oe(n.newCategory.catPhrase,s)||(n.newCategory.catPhrase=s),V(s)}),f()(),m(20,"div",8)(21,"label",9),_(22),f(),m(23,"input",13),se("ngModelChange",function(s){return L(r),oe(n.newCategory.catArabicPhrase,s)||(n.newCategory.catArabicPhrase=s),V(s)}),f()(),m(24,"div",8)(25,"label",9),_(26),f(),m(27,"select",14),se("ngModelChange",function(s){return L(r),oe(n.newCategory.section,s)||(n.newCategory.section=s),V(s)}),m(28,"option",15),_(29),f(),m(30,"option",16),_(31),f(),m(32,"option",17),_(33),f()()(),m(34,"div",8)(35,"label",9),_(36),f(),m(37,"input",18),se("ngModelChange",function(s){return L(r),oe(n.newCategory.icon,s)||(n.newCategory.icon=s),V(s)}),f()(),m(38,"div",19)(39,"button",20),q("click",function(){return L(r),V(n.addCategory())}),H(40,"i",21),_(41),f()()()()(),m(42,"div",3)(43,"div",4)(44,"div",22)(45,"h5",6),_(46),f()(),m(47,"div",7)(48,"div",8)(49,"label",9),_(50),f(),m(51,"select",14),se("ngModelChange",function(s){return L(r),oe(n.selectedCategoryId,s)||(n.selectedCategoryId=s),V(s)}),Ee(52,hT,2,2,"option",23,je),tt(54,"keyvalue"),f()(),m(55,"div",24)(56,"div",25)(57,"label",9),_(58),f(),m(59,"input",26),se("ngModelChange",function(s){return L(r),oe(n.newItem.name,s)||(n.newItem.name=s),V(s)}),f()(),m(60,"div",25)(61,"label",9),_(62),f(),m(63,"input",27),se("ngModelChange",function(s){return L(r),oe(n.newItem.nameArabic,s)||(n.newItem.nameArabic=s),V(s)}),f()()(),m(64,"div",24)(65,"div",28)(66,"label",9),_(67),f(),m(68,"div",29)(69,"span",30),_(70,"\u20AA"),f(),m(71,"input",31),se("ngModelChange",function(s){return L(r),oe(n.newItem.price,s)||(n.newItem.price=s),V(s)}),f()()(),m(72,"div",28)(73,"div",32)(74,"label",9),_(75),f(),m(76,"div",33)(77,"div",34)(78,"input",35,0),q("change",function(s){return L(r),V(n.onFileSelected(s))}),f(),m(80,"button",36),q("click",function(){L(r);let s=At(79);return V(s.click())}),_(81),f(),m(82,"div",37),W(83,mT,2,1,"span",38),W(84,pT,2,2,"button",39),f()(),m(85,"p",40),_(86),f(),W(87,fT,2,1,"div",41),m(88,"small",42),_(89),f()(),W(90,gT,5,3,"div",43),f()()(),m(91,"div",8)(92,"label",9),_(93),f(),m(94,"input",44),se("ngModelChange",function(s){return L(r),oe(n.newItem.ingredients,s)||(n.newItem.ingredients=s),V(s)}),f()(),m(95,"div",8)(96,"label",9),_(97),f(),m(98,"input",45),se("ngModelChange",function(s){return L(r),oe(n.newItem.ingredientsArabic,s)||(n.newItem.ingredientsArabic=s),V(s)}),f()(),m(99,"div",8)(100,"label",9),_(101),f(),m(102,"div",46)(103,"div",47)(104,"label",9),_(105),f(),m(106,"input",48),se("ngModelChange",function(s){return L(r),oe(n.choiceDraft.ar,s)||(n.choiceDraft.ar=s),V(s)}),f()(),m(107,"div",47)(108,"label",9),_(109),f(),m(110,"input",49),se("ngModelChange",function(s){return L(r),oe(n.choiceDraft.en,s)||(n.choiceDraft.en=s),V(s)}),f()(),m(111,"div",47)(112,"label",9),_(113),f(),m(114,"div",29)(115,"span",30),_(116,"\u20AA"),f(),m(117,"input",50),se("ngModelChange",function(s){return L(r),oe(n.choiceDraft.add,s)||(n.choiceDraft.add=s),V(s)}),f()()(),m(118,"div",51)(119,"button",52),q("click",function(){return L(r),V(n.addOrUpdateChoice())}),_(120),f()()(),m(121,"div",53),Ee(122,yT,6,5,"span",54,je),f()(),m(124,"div",19)(125,"button",55),q("click",function(){return L(r),V(n.addItem())}),H(126,"i",21),_(127),f()()()()()()()}e&2&&(h(6),A(n.isArabic?"\u0625\u0636\u0627\u0641\u0629 \u0641\u0626\u0629 \u062C\u062F\u064A\u062F\u0629":"Add New Category"),h(4),A(n.isArabic?"\u0627\u0644\u0627\u0633\u0645 (\u0625\u0646\u062C\u0644\u064A\u0632\u064A)":"Name (EN)"),h(),re("ngModel",n.newCategory.name),h(3),A(n.isArabic?"\u0627\u0644\u0627\u0633\u0645 (\u0639\u0631\u0628\u064A)":"Name (AR)"),h(),re("ngModel",n.newCategory.nameArabic),h(3),A(n.isArabic?"\u0627\u0644\u0639\u0628\u0627\u0631\u0629 (\u0625\u0646\u062C\u0644\u064A\u0632\u064A)":"Phrase (EN)"),h(),re("ngModel",n.newCategory.catPhrase),h(3),A(n.isArabic?"\u0627\u0644\u0639\u0628\u0627\u0631\u0629 (\u0639\u0631\u0628\u064A)":"Phrase (AR)"),h(),re("ngModel",n.newCategory.catArabicPhrase),h(3),A(n.isArabic?"\u0627\u0644\u0642\u0633\u0645":"Section"),h(),re("ngModel",n.newCategory.section),h(2),A(n.isArabic?"\u0645\u0637\u0628\u062E":"Kitchen"),h(2),A(n.isArabic?"\u0628\u0627\u0631":"Bar"),h(2),A(n.isArabic?"\u0623\u0631\u062C\u064A\u0644\u0629":"Hookah"),h(3),A(n.isArabic?"\u0631\u0627\u0628\u0637 \u0627\u0644\u0623\u064A\u0642\u0648\u0646\u0629":"Icon URL"),h(),re("ngModel",n.newCategory.icon),h(4),$("",n.isArabic?"\u0625\u0636\u0627\u0641\u0629 \u0641\u0626\u0629":"Add Category"," "),h(5),A(n.isArabic?"\u0625\u0636\u0627\u0641\u0629 \u0639\u0646\u0635\u0631 \u0642\u0627\u0626\u0645\u0629 \u062C\u062F\u064A\u062F":"Add New Menu Item"),h(4),A(n.isArabic?"\u0627\u062E\u062A\u0631 \u0627\u0644\u0641\u0626\u0629":"Select Category"),h(),re("ngModel",n.selectedCategoryId),h(),Se(Oo(54,51,n.categories)),h(6),A(n.isArabic?"\u0627\u0633\u0645 \u0627\u0644\u0639\u0646\u0635\u0631 (\u0625\u0646\u062C\u0644\u064A\u0632\u064A)":"Item Name (EN)"),h(),re("ngModel",n.newItem.name),h(3),A(n.isArabic?"\u0627\u0633\u0645 \u0627\u0644\u0639\u0646\u0635\u0631 (\u0639\u0631\u0628\u064A)":"Item Name (AR)"),h(),re("ngModel",n.newItem.nameArabic),h(4),A(n.isArabic?"\u0627\u0644\u0633\u0639\u0631":"Price"),h(4),re("ngModel",n.newItem.price),h(4),A(n.isArabic?"\u0631\u0641\u0639 \u0635\u0648\u0631\u0629":"Upload Image"),h(3),j("disabled",n.uploading),h(2),j("disabled",n.uploading),h(),A(n.isArabic?"\u0627\u062E\u062A\u0631 \u0635\u0648\u0631\u0629":"Choose Image"),h(2),K(n.selectedFileName?83:-1),h(),K(n.previewUrl?84:-1),h(2),A(n.isArabic?"\u0627\u0644\u0645\u0639\u0627\u064A\u0646\u0629:":"Preview:"),h(),K(n.previewUrl?87:-1),h(2),A(n.isArabic?"\u0633\u064A\u062A\u0645 \u0631\u0641\u0639 \u0627\u0644\u0635\u0648\u0631\u0629 \u0639\u0646\u062F \u0627\u0644\u0636\u063A\u0637 \u0639\u0644\u0649 \u0625\u0636\u0627\u0641\u0629 \u0639\u0646\u0635\u0631.":"The image will be uploaded when you click Add Item."),h(),K(n.uploading?90:-1),h(3),A(n.isArabic?"\u0627\u0644\u0645\u0643\u0648\u0646\u0627\u062A (\u0625\u0646\u062C\u0644\u064A\u0632\u064A)":"Ingredients (EN)"),h(),re("ngModel",n.newItem.ingredients),h(3),A(n.isArabic?"\u0627\u0644\u0645\u0643\u0648\u0646\u0627\u062A (\u0639\u0631\u0628\u064A)":"Ingredients (AR)"),h(),re("ngModel",n.newItem.ingredientsArabic),h(3),A(n.isArabic?"\u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A":"Choices"),h(4),A(n.isArabic?"\u0627\u0644\u0627\u0633\u0645 (\u0639\u0631\u0628\u064A)":"Name (AR)"),h(),re("ngModel",n.choiceDraft.ar),h(3),A(n.isArabic?"\u0627\u0644\u0627\u0633\u0645 (\u0625\u0646\u062C\u0644\u064A\u0632\u064A)":"Name (EN)"),h(),re("ngModel",n.choiceDraft.en),h(3),A(n.isArabic?"\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0633\u0639\u0631":"Price Add"),h(4),re("ngModel",n.choiceDraft.add),h(3),$(" ",n.choiceEditIndex!==null?n.isArabic?"\u062A\u062D\u062F\u064A\u062B":"Update":"+"," "),h(2),Se(n.choiceOptions),h(3),j("disabled",n.uploading),Ce("aria-busy",n.uploading?"true":null),h(2),$("",n.isArabic?"\u0625\u0636\u0627\u0641\u0629 \u0639\u0646\u0635\u0631":"Add Item"," "))},dependencies:[Ft,at,pr,fr,yt,bi,Sc,bt,vt,Fa,Fo],styles:[".f-width[_ngcontent-%COMP%]{width:100%}h5[_ngcontent-%COMP%]{color:#fff}.no-items-message[_ngcontent-%COMP%]{text-align:center;padding:20px;background-color:#fff3cd;border:1px solid #ffeaa7;border-radius:6px;color:#856404;margin:20px 0}.upload-area[_ngcontent-%COMP%]{margin-top:4px}.upload-horizontal[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;align-items:stretch}.upload-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;width:100%;background-color:#f7f9fc;border:1px dashed #cbd5e1;padding:12px 16px;border-radius:8px;box-sizing:border-box}.upload-btn[_ngcontent-%COMP%]:hover{background-color:#0b5ed7;transform:translateY(-1px);box-shadow:0 6px 14px #0d6efd33}.upload-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none;box-shadow:none}.upload-meta[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;justify-content:space-between;flex-wrap:wrap}.clear-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid #dc3545;color:#dc3545;padding:8px 12px;border-radius:6px;font-weight:600;cursor:pointer;transition:all .2s ease}.clear-btn[_ngcontent-%COMP%]:hover{background:#dc3545;color:#fff}.clear-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.preview[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:8px;padding:10px;display:block;box-sizing:border-box}.preview-title[_ngcontent-%COMP%]{margin:4px 0 8px;font-weight:600;color:#475569;font-size:14px}.preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:160px;height:auto;border-radius:6px;display:block}.upload-progress[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:10px}.progress[_ngcontent-%COMP%]{width:180px;height:8px;background:#e5e7eb;border-radius:999px;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#22c55e,#16a34a);width:0%;transition:width .2s ease}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1 1 auto;padding:1.25rem}.card-actions[_ngcontent-%COMP%]{margin-top:auto;display:flex;gap:8px;align-items:center}.bb-add-category[_ngcontent-%COMP%]{background-color:#e94e1b;border-color:#e94e1b;color:#fff}.bb-add-category[_ngcontent-%COMP%]:hover{filter:brightness(.95);transform:translateY(-1px)}.preview[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:8px;padding:10px;display:inline-block;justify-items:center}.preview-title[_ngcontent-%COMP%]{margin:12px 0 8px;font-weight:600;color:#475569;font-size:14px}.preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:50%;border-radius:6px;display:block}@media(max-width:768px){.edit-item-container[_ngcontent-%COMP%]{margin:10px;padding:15px}.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:0}.button-group[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.btn[_ngcontent-%COMP%]{width:100%;max-width:200px}.card-actions[_ngcontent-%COMP%]{justify-content:center}.upload-horizontal[_ngcontent-%COMP%]{flex-wrap:nowrap}}.choice-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.choice-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:99px;border:1px solid #d1d5db;background:#f5f6f8;color:var(--text-color, #212529);font-weight:700;cursor:pointer;-webkit-user-select:none;user-select:none}.choice-chip.active[_ngcontent-%COMP%]{background:rgba(var(--primary-color-rgb, 255, 107, 107),.12);color:var(--primary-color, #ff6b6b);border-color:var(--primary-color, #ff6b6b)}.chip-text[_ngcontent-%COMP%]{display:inline-block}.chip-close[_ngcontent-%COMP%]{border:none;background:transparent;color:inherit;line-height:1;font-weight:900;cursor:pointer;padding:0 2px}.choice-add[_ngcontent-%COMP%]{color:var(--primary-color, #ff6b6b);font-weight:700;margin-inline-start:6px}"]})};function bT(i,t){if(i&1&&(m(0,"option",7),_(1),f()),i&2){let e=t.$implicit,n=I();j("value",e.key),h(),$(" ",n.isArabic?e.nameArabic:e.name," ")}}function vT(i,t){if(i&1&&(m(0,"option",7),_(1),f()),i&2){let e=t.$implicit,n=I(2);j("value",e.id),h(),$(" ",n.isArabic?e.nameArabic:e.name," ")}}function wT(i,t){if(i&1){let e=ce();m(0,"div",3)(1,"label",10),_(2),f(),m(3,"select",11),se("ngModelChange",function(r){L(e);let o=I();return oe(o.selectedItemId,r)||(o.selectedItemId=r),V(r)}),q("change",function(){L(e);let r=I();return V(r.onItemChange())}),m(4,"option",6),_(5),f(),Ee(6,vT,2,2,"option",7,je),f()()}if(i&2){let e=I();h(2),A(e.isArabic?"\u0627\u062E\u062A\u0631 \u0639\u0646\u0635\u0631:":"Select Item:"),h(),re("ngModel",e.selectedItemId),h(2),A(e.isArabic?"-- \u0627\u062E\u062A\u0631 \u0639\u0646\u0635\u0631 --":"-- Choose Item --"),h(),Se(e.items)}}function CT(i,t){if(i&1&&(m(0,"div",8)(1,"p"),_(2),f()()),i&2){let e=I();h(2),A(e.isArabic?"\u0644\u0627 \u062A\u0648\u062C\u062F \u0639\u0646\u0627\u0635\u0631 \u0641\u064A \u0647\u0630\u0647 \u0627\u0644\u0641\u0626\u0629.":"No items found in this category.")}}function ET(i,t){if(i&1&&(m(0,"span",24),_(1),f()),i&2){let e=I(2);h(),A(e.selectedFileName)}}function ST(i,t){if(i&1){let e=ce();m(0,"button",49),q("click",function(){L(e);let r=I(2);return V(r.clearPendingFile())}),_(1),f()}if(i&2){let e=I(2);j("disabled",e.uploading),h(),$(" ",e.isArabic?"\u0625\u0632\u0627\u0644\u0629":"Clear"," ")}}function xT(i,t){if(i&1&&(m(0,"div",27),H(1,"img",50),f()),i&2){let e=I(2);h(),j("src",e.previewUrl||(e.selectedItem==null?null:e.selectedItem.image),$n)}}function IT(i,t){if(i&1&&(m(0,"div",29)(1,"div",51),H(2,"div",52),f(),m(3,"span"),_(4),f()()),i&2){let e=I(2);h(2),Pi("width",e.uploadProgress,"%"),h(2),$("",e.uploadProgress,"%")}}function AT(i,t){if(i&1&&(m(0,"span",55),_(1),f()),i&2){let e=I().$implicit;h(),$(" +\u20AA",e.add)}}function TT(i,t){if(i&1){let e=ce();m(0,"span",53),q("click",function(){let r=L(e).$index,o=I(2);return V(o.editChoiceAt(r))}),m(1,"span",54),_(2),W(3,AT,2,1,"span",55),f(),m(4,"button",56),q("click",function(r){let o=L(e).$index,s=I(2);return V(s.removeChoiceAt(o,r))}),_(5,"\xD7"),f()()}if(i&2){let e=t.$implicit,n=t.$index,r=I(2);me("active",r.choiceEditIndex===n),h(2),ni("",e.ar," / ",e.en),h(),K(e.add?3:-1)}}function DT(i,t){if(i&1){let e=ce();m(0,"div",9)(1,"h3"),_(2),f(),m(3,"div",12)(4,"div",3)(5,"label",13),_(6),f(),m(7,"input",14),se("ngModelChange",function(r){L(e);let o=I();return oe(o.selectedItem.name,r)||(o.selectedItem.name=r),V(r)}),f()(),m(8,"div",3)(9,"label",15),_(10),f(),m(11,"input",16),se("ngModelChange",function(r){L(e);let o=I();return oe(o.selectedItem.nameArabic,r)||(o.selectedItem.nameArabic=r),V(r)}),f()()(),m(12,"div",12)(13,"div",3)(14,"label",17),_(15),f(),m(16,"input",18),se("ngModelChange",function(r){L(e);let o=I();return oe(o.selectedItem.price,r)||(o.selectedItem.price=r),V(r)}),f()()(),m(17,"div",12)(18,"div",19)(19,"label"),_(20),f(),m(21,"div",20)(22,"div",21)(23,"input",22,0),q("change",function(r){L(e);let o=I();return V(o.onFileSelected(r))}),f(),m(25,"button",23),q("click",function(){L(e);let r=At(24);return V(r.click())}),_(26),f(),W(27,ET,2,1,"span",24),W(28,ST,2,2,"button",25),f(),m(29,"p",26),_(30),f(),W(31,xT,2,1,"div",27),H(32,"br"),m(33,"small",28),_(34),f()(),W(35,IT,5,3,"div",29),f()(),m(36,"div",3)(37,"label",30),_(38),f(),m(39,"input",31),se("ngModelChange",function(r){L(e);let o=I();return oe(o.selectedItem.image,r)||(o.selectedItem.image=r),V(r)}),f()(),m(40,"div",3)(41,"label",32),_(42),f(),m(43,"textarea",33),se("ngModelChange",function(r){L(e);let o=I();return oe(o.selectedItem.ingredients,r)||(o.selectedItem.ingredients=r),V(r)}),f()(),m(44,"div",3)(45,"label",34),_(46),f(),m(47,"textarea",35),se("ngModelChange",function(r){L(e);let o=I();return oe(o.selectedItem.ingredientsArabic,r)||(o.selectedItem.ingredientsArabic=r),V(r)}),f()(),m(48,"div",3)(49,"label"),_(50),f(),m(51,"div",12)(52,"div",3)(53,"label"),_(54),f(),m(55,"input",36),se("ngModelChange",function(r){L(e);let o=I();return oe(o.choiceDraft.ar,r)||(o.choiceDraft.ar=r),V(r)}),f()(),m(56,"div",3)(57,"label"),_(58),f(),m(59,"input",37),se("ngModelChange",function(r){L(e);let o=I();return oe(o.choiceDraft.en,r)||(o.choiceDraft.en=r),V(r)}),f()(),m(60,"div",3)(61,"label"),_(62),f(),m(63,"div",38)(64,"span",39),_(65,"\u20AA"),f(),m(66,"input",40),se("ngModelChange",function(r){L(e);let o=I();return oe(o.choiceDraft.add,r)||(o.choiceDraft.add=r),V(r)}),f()()(),m(67,"div",41)(68,"button",42),q("click",function(){L(e);let r=I();return V(r.addOrUpdateChoice())}),_(69),f()()(),m(70,"div",43),Ee(71,TT,6,5,"span",44,je),f()(),m(73,"div",45)(74,"button",46),q("click",function(){L(e);let r=I();return V(r.saveChanges())}),_(75),f(),m(76,"button",47),q("click",function(){L(e);let r=I();return r.selectedItem=null,V(r.selectedItemId="")}),_(77),f(),m(78,"button",48),q("click",function(){L(e);let r=I();return V(r.deleteItem())}),_(79),f()()()}if(i&2){let e=I();h(2),A(e.isArabic?"\u062A\u0639\u062F\u064A\u0644 \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0639\u0646\u0635\u0631":"Edit Item Details"),h(4),A(e.isArabic?"\u0627\u0644\u0627\u0633\u0645 (\u0625\u0646\u062C\u0644\u064A\u0632\u064A):":"Name (English):"),h(),re("ngModel",e.selectedItem.name),h(3),A(e.isArabic?"\u0627\u0644\u0627\u0633\u0645 (\u0639\u0631\u0628\u064A):":"Name (Arabic):"),h(),re("ngModel",e.selectedItem.nameArabic),h(4),A(e.isArabic?"\u0627\u0644\u0633\u0639\u0631:":"Price:"),h(),re("ngModel",e.selectedItem.price),h(4),A(e.isArabic?"\u0631\u0641\u0639 \u0635\u0648\u0631\u0629:":"Upload Image:"),h(3),j("disabled",e.uploading),h(2),j("disabled",e.uploading),h(),$(" ",e.isArabic?"\u0627\u062E\u062A\u0631 \u0635\u0648\u0631\u0629":"Choose Image"," "),h(),K(e.selectedFileName?27:-1),h(),K(e.previewUrl?28:-1),h(2),A(e.isArabic?"\u0627\u0644\u0645\u0639\u0627\u064A\u0646\u0629:":"Preview:"),h(),K(e.previewUrl||e.selectedItem!=null&&e.selectedItem.image?31:-1),h(3),$(" ",e.isArabic?"\u0633\u064A\u062A\u0645 \u0631\u0641\u0639 \u0627\u0644\u0635\u0648\u0631\u0629 \u0639\u0646\u062F \u0627\u0644\u0636\u063A\u0637 \u0639\u0644\u0649 \u062D\u0641\u0638 \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A.":"The image will be uploaded when you click Save Changes."," "),h(),K(e.uploading?35:-1),h(3),A(e.isArabic?"\u0631\u0627\u0628\u0637 \u0627\u0644\u0635\u0648\u0631\u0629:":"Image URL:"),h(),re("ngModel",e.selectedItem.image),h(3),A(e.isArabic?"\u0627\u0644\u0645\u0643\u0648\u0646\u0627\u062A (\u0625\u0646\u062C\u0644\u064A\u0632\u064A):":"Ingredients (English):"),h(),re("ngModel",e.selectedItem.ingredients),h(3),A(e.isArabic?"\u0627\u0644\u0645\u0643\u0648\u0646\u0627\u062A (\u0639\u0631\u0628\u064A):":"Ingredients (Arabic):"),h(),re("ngModel",e.selectedItem.ingredientsArabic),h(3),A(e.isArabic?"\u0627\u0644\u062E\u064A\u0627\u0631\u0627\u062A":"Choices"),h(4),A(e.isArabic?"\u0627\u0644\u0627\u0633\u0645 (\u0639\u0631\u0628\u064A):":"Name (AR):"),h(),re("ngModel",e.choiceDraft.ar),h(3),A(e.isArabic?"\u0627\u0644\u0627\u0633\u0645 (\u0625\u0646\u062C\u0644\u064A\u0632\u064A):":"Name (EN):"),h(),re("ngModel",e.choiceDraft.en),h(3),A(e.isArabic?"\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0633\u0639\u0631:":"Price Add:"),h(4),re("ngModel",e.choiceDraft.add),h(3),$(" ",e.choiceEditIndex!==null?e.isArabic?"\u062A\u062D\u062F\u064A\u062B":"Update":"+"," "),h(2),Se(e.choiceOptions),h(3),j("disabled",e.uploading),Ce("aria-busy",e.uploading?"true":null),h(),$(" ",e.isArabic?"\u062D\u0641\u0638 \u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A":"Save Changes"," "),h(2),$(" ",e.isArabic?"\u0625\u0644\u063A\u0627\u0621":"Cancel"," "),h(2),$(" ",e.isArabic?"\u062D\u0630\u0641":"Delete"," ")}}var gd=class i{constructor(t,e,n,r){this.menuService=t;this.languageService=e;this.http=n;this.route=r}restaurantId="";categories={};categoryList=[];items=[];selectedCategoryId="";selectedItemId="";selectedItem=null;isArabic=!1;previewUrl=null;uploading=!1;uploadProgress=0;pendingFile=null;selectedFileName=null;choiceDraft={en:"",ar:"",add:0};choiceEditIndex=null;choiceOptions=[];workerUrl="https://presigned-url-worker.a2-menu-worker.workers.dev/";subs=[];itemsSub=null;ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t),this.loadCategories(),this.subs.push(this.languageService.isArabic$.subscribe(e=>this.isArabic=e))}ngOnDestroy(){this.subs.forEach(t=>t.unsubscribe()),this.subs=[],this.itemsSub&&(this.itemsSub.unsubscribe(),this.itemsSub=null)}addOrUpdateChoice(){let t=(this.choiceDraft.en||"").trim(),e=(this.choiceDraft.ar||"").trim(),n=Number(this.choiceDraft.add)||0;if(!t||!e)return;let r={en:t,ar:e,add:n};this.choiceEditIndex!=null?this.choiceOptions[this.choiceEditIndex]=r:this.choiceOptions.push(r),this.resetChoiceDraft()}editChoiceAt(t){if(this.choiceEditIndex===t){this.resetChoiceDraft();return}let e=this.choiceOptions[t];e&&(this.choiceDraft={en:e.en,ar:e.ar,add:e.add},this.choiceEditIndex=t)}removeChoiceAt(t,e){e?.stopPropagation(),this.choiceEditIndex===t&&this.resetChoiceDraft(),this.choiceOptions.splice(t,1)}resetChoiceDraft(){this.choiceDraft={en:"",ar:"",add:0},this.choiceEditIndex=null}clearPendingFile(){this.pendingFile=null,this.selectedFileName=null,this.previewUrl&&(URL.revokeObjectURL(this.previewUrl),this.previewUrl=null)}loadCategories(){this.menuService.getCategoriesOnce(this.restaurantId).then(t=>{t?(this.categories=t,this.categoryList=Object.keys(t).map(e=>k({key:e,name:t[e].name,nameArabic:t[e].nameArabic},t[e]))):(this.categories={},this.categoryList=[])}).catch(()=>{this.categories={},this.categoryList=[]})}onCategoryChange(){this.selectedCategoryId?(this.itemsSub&&(this.itemsSub.unsubscribe(),this.itemsSub=null),this.itemsSub=this.menuService.getItems(this.restaurantId,this.selectedCategoryId).subscribe(t=>{t?this.items=Object.keys(t).map(e=>k({id:e},t[e])):this.items=[],this.selectedItemId="",this.selectedItem=null})):(this.itemsSub&&(this.itemsSub.unsubscribe(),this.itemsSub=null),this.items=[],this.selectedItemId="",this.selectedItem=null)}onItemChange(){if(this.selectedItemId){let t=this.items.find(e=>e.id===this.selectedItemId);if(t){if(Array.isArray(t.choiceOptions)&&t.choiceOptions.length)this.choiceOptions=t.choiceOptions.map(e=>({en:String(e.en||""),ar:String(e.ar||""),add:Number(e.add)||0}));else{let e=Array.isArray(t.choices)?t.choices:[],n=Array.isArray(t.choicesArabic)?t.choicesArabic:[],r=Math.min(e.length,n.length);this.choiceOptions=Array.from({length:r},(o,s)=>({en:e[s]||"",ar:n[s]||"",add:0}))}this.choiceDraft={en:"",ar:"",add:0},this.choiceEditIndex=null,this.selectedItem=ne(k({},t),{ingredients:Array.isArray(t.ingredients)?t.ingredients.join(", "):t.ingredients||"",ingredientsArabic:Array.isArray(t.ingredientsArabic)?t.ingredientsArabic.join(", "):t.ingredientsArabic||"",choices:Array.isArray(t.choices)?t.choices.join(", "):t.choices||"",choicesArabic:Array.isArray(t.choicesArabic)?t.choicesArabic.join(", "):t.choicesArabic||""})}}else this.selectedItem=null}onFileSelected(t){let e=t.target.files?.[0]||null;if(e){if(!this.selectedCategoryId||!this.selectedItemId){alert(this.isArabic?"\u0627\u062E\u062A\u0631 \u0639\u0646\u0635\u0631 \u062B\u0645 \u0627\u062E\u062A\u0631 \u0635\u0648\u0631\u0629":"Select an item first and choose an image.");return}this.previewUrl&&URL.revokeObjectURL(this.previewUrl),this.previewUrl=URL.createObjectURL(e),this.pendingFile=e,this.selectedFileName=e.name}}uploadViaWorker(t){return F(this,null,function*(){let e=new FormData;e.append("file",t,t.name),e.append("pathPrefix",`restaurants/${this.restaurantId}/categories/${this.selectedCategoryId}/items/${this.selectedItemId}`);let n=this.http.post(`${this.workerUrl}upload`,e,{reportProgress:!0,observe:"events"});return yield new Promise((r,o)=>{n.subscribe({next:s=>{if(s.type===Pn.UploadProgress&&s.total)this.uploadProgress=Math.round(s.loaded/s.total*100);else if(s.type===Pn.Response){let c=(s.body||{}).publicUrl;if(!c){o(new Error("Worker did not return publicUrl"));return}r(c)}},error:s=>o(s)})})})}uploadFileWithProgress(t,e){return new Promise((n,r)=>{let o=new XMLHttpRequest;o.open("PUT",t,!0),o.setRequestHeader("Content-Type",e.type),o.upload.onprogress=s=>{s.lengthComputable&&(this.uploadProgress=Math.round(s.loaded/s.total*100))},o.onload=()=>{o.status>=200&&o.status<300?n():r(new Error(`Upload failed with status ${o.status}: ${o.statusText}`))},o.onerror=()=>r(new Error("Network error during upload")),o.send(e)})}saveChanges(){return F(this,null,function*(){if(this.selectedItem&&this.selectedCategoryId&&this.selectedItemId)try{if(this.pendingFile){this.uploading=!0,this.uploadProgress=0;let e=yield this.uploadViaWorker(this.pendingFile);this.selectedItem.image=e}let t={name:this.selectedItem.name,nameArabic:this.selectedItem.nameArabic,image:this.selectedItem.image,price:Number(this.selectedItem.price),ingredients:this.selectedItem.ingredients.split(",").map(e=>e.trim()).filter(e=>e.length>0),ingredientsArabic:this.selectedItem.ingredientsArabic.split(",").map(e=>e.trim()).filter(e=>e.length>0),choices:this.choiceOptions.map(e=>e.en).filter(e=>e&&e.length>0),choicesArabic:this.choiceOptions.map(e=>e.ar).filter(e=>e&&e.length>0),choiceOptions:this.choiceOptions.map(e=>({en:e.en,ar:e.ar,add:Number(e.add)||0}))};yield this.menuService.editItem(this.restaurantId,this.selectedCategoryId,this.selectedItemId,t),alert(this.isArabic?"\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0639\u0646\u0635\u0631 \u0628\u0646\u062C\u0627\u062D!":"Item updated successfully!"),this.onCategoryChange()}catch(t){console.error("Error updating item:",t),alert(this.isArabic?"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0639\u0646\u0635\u0631.":"Error updating item. Please try again.")}finally{this.uploading=!1,this.uploadProgress=0,this.pendingFile=null,this.selectedFileName=null,this.previewUrl&&(URL.revokeObjectURL(this.previewUrl),this.previewUrl=null)}})}deleteItem(){return F(this,null,function*(){if(this.selectedCategoryId&&this.selectedItemId){if(!confirm(this.isArabic?"\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F \u062D\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0639\u0646\u0635\u0631\u061F":"Are you sure you want to delete this item?"))return;try{yield this.menuService.removeItem(this.restaurantId,this.selectedCategoryId,this.selectedItemId),alert(this.isArabic?"\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0639\u0646\u0635\u0631 \u0628\u0646\u062C\u0627\u062D!":"Item deleted successfully!"),this.onCategoryChange(),this.selectedItem=null,this.selectedItemId=""}catch(e){console.error("Error deleting item:",e),alert(this.isArabic?"\u062D\u062F\u062B \u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u062D\u0630\u0641 \u0627\u0644\u0639\u0646\u0635\u0631.":"Error deleting item. Please try again.")}}})}static \u0275fac=function(e){return new(e||i)(ee(Yt),ee(Wt),ee(ts),ee(Le))};static \u0275cmp=ie({type:i,selectors:[["app-edit-item"]],decls:14,vars:7,consts:[["imageInput",""],[1,"edit-item-container"],[1,"page-title"],[1,"form-group"],["for","categorySelect"],["id","categorySelect",1,"form-control",3,"ngModelChange","change","ngModel"],["value",""],[3,"value"],[1,"no-items-message"],[1,"edit-form"],["for","itemSelect"],["id","itemSelect",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"form-row"],["for","nameEn"],["id","nameEn","placeholder","Name (EN)",1,"form-control",3,"ngModelChange","ngModel"],["for","nameAr"],["id","nameAr","placeholder","Name (AR)",1,"form-control",3,"ngModelChange","ngModel"],["for","price"],["id","price","type","number","step","0.01",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","upload-area"],[1,"upload-horizontal"],[1,"upload-card"],["type","file","accept","image/*","hidden","",3,"change","disabled"],["type","button",1,"btn","btn-success",3,"click","disabled"],[1,"file-name"],["type","button",1,"clear-btn",3,"disabled"],[1,"preview-title"],[1,"preview"],[1,"upload-hint-inline"],[1,"upload-progress"],["for","image"],["id","image","placeholder","Image URL",1,"form-control",3,"ngModelChange","ngModel"],["for","ingredientsEn"],["id","ingredientsEn",1,"form-control","textarea",3,"ngModelChange","ngModel"],["for","ingredientsAr"],["id","ingredientsAr",1,"form-control","textarea",3,"ngModelChange","ngModel"],["dir","rtl","placeholder","\u0645\u062B\u0627\u0644: \u0635\u063A\u064A\u0631",1,"form-control",3,"ngModelChange","ngModel"],["placeholder","e.g., Small",1,"form-control",3,"ngModelChange","ngModel"],[1,"input-group"],[1,"input-group-text"],["type","number","placeholder","0",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group",2,"align-self","end"],["type","button",1,"btn","btn-success",3,"click"],[1,"choice-group",2,"margin-top","8px"],[1,"choice-chip",3,"active"],[1,"button-group"],[1,"btn","btn-success",3,"click","disabled"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click"],["type","button",1,"clear-btn",3,"click","disabled"],["alt","Image preview",3,"src"],[1,"progress"],[1,"progress-bar"],[1,"choice-chip",3,"click"],[1,"chip-text"],[1,"choice-add"],["type","button",1,"chip-close",3,"click"]],template:function(e,n){e&1&&(m(0,"div",1)(1,"h2",2),_(2),f(),m(3,"div",3)(4,"label",4),_(5),f(),m(6,"select",5),se("ngModelChange",function(o){return oe(n.selectedCategoryId,o)||(n.selectedCategoryId=o),o}),q("change",function(){return n.onCategoryChange()}),m(7,"option",6),_(8),f(),Ee(9,bT,2,2,"option",7,je),f()(),W(11,wT,8,3,"div",3),W(12,CT,3,1,"div",8),W(13,DT,80,36,"div",9),f()),e&2&&(h(2),$(" ",n.isArabic?"\u062A\u0639\u062F\u064A\u0644 \u0639\u0646\u0635\u0631 \u0627\u0644\u0642\u0627\u0626\u0645\u0629":"Edit Menu Item"," "),h(3),A(n.isArabic?"\u0627\u062E\u062A\u0631 \u0627\u0644\u0641\u0626\u0629:":"Select Category:"),h(),re("ngModel",n.selectedCategoryId),h(2),A(n.isArabic?"-- \u0627\u062E\u062A\u0631 \u0641\u0626\u0629 --":"-- Choose Category --"),h(),Se(n.categoryList),h(2),K(n.items.length>0?11:-1),h(),K(n.selectedCategoryId&&n.items.length===0?12:-1),h(),K(n.selectedItem?13:-1))},dependencies:[at,pr,fr,yt,bi,Sc,bt,vt,Fa],styles:['.edit-item-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px;background-color:#f9f9f9;border-radius:8px;box-shadow:0 2px 10px #0000001a}.page-title[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:30px;font-size:28px;font-weight:700}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:600;color:#555;font-size:14px}.form-control[_ngcontent-%COMP%]{padding:12px;border:2px solid #ddd;border-radius:6px;font-size:16px;transition:border-color .3s ease;box-sizing:border-box}.form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 3px #007bff1a}.form-row[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:20px}.form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{flex:1;margin-bottom:0}.textarea[_ngcontent-%COMP%]{min-height:80px;resize:vertical}.no-items-message[_ngcontent-%COMP%]{text-align:center;padding:20px;background-color:#fff3cd;border:1px solid #ffeaa7;border-radius:6px;color:#856404;margin:20px 0}.edit-form[_ngcontent-%COMP%]{background-color:#fff;padding:25px;border-radius:8px;box-shadow:0 2px 8px #0000001a;margin-top:20px}.edit-form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:25px;color:#333;font-size:22px;border-bottom:2px solid #5b8f6b;padding-bottom:10px}.button-group[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center;margin-top:30px}.btn[_ngcontent-%COMP%]{padding:12px 30px;border:none;border-radius:6px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;min-width:120px}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3;transform:translateY(-2px);box-shadow:0 4px 12px #007bff4d}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#545b62;transform:translateY(-2px);box-shadow:0 4px 12px #6c757d4d}.upload-area[_ngcontent-%COMP%]{margin-top:4px}.upload-card[_ngcontent-%COMP%]{display:grid;align-items:center;gap:12px;background-color:#f7f9fc;border:1px dashed #cbd5e1;padding:12px 16px;border-radius:8px}.upload-btn[_ngcontent-%COMP%]{background-color:#0d6efd;color:#fff;border:none;padding:10px 16px;border-radius:6px;font-weight:600;cursor:pointer;transition:all .2s ease}.upload-btn[_ngcontent-%COMP%]:hover{background-color:#0b5ed7;transform:translateY(-1px);box-shadow:0 6px 14px #0d6efd33}.upload-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none;box-shadow:none}.clear-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid #dc3545;color:#dc3545;padding:8px 12px;border-radius:6px;font-weight:600;cursor:pointer;transition:all .2s ease}.clear-btn[_ngcontent-%COMP%]:hover{background:#dc3545;color:#fff}.clear-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.file-name[_ngcontent-%COMP%]{font-size:14px;color:#334155}.upload-hint[_ngcontent-%COMP%]{display:block;margin-top:6px;color:#64748b}.preview[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:8px;padding:10px;display:inline-block;justify-items:center}.preview-title[_ngcontent-%COMP%]{margin:12px 0 8px;font-weight:600;color:#475569;font-size:14px}.preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:50%;border-radius:6px;display:block}.upload-progress[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-top:10px}.progress[_ngcontent-%COMP%]{width:180px;height:8px;background:#e5e7eb;border-radius:999px;overflow:hidden}.progress-bar[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#22c55e,#16a34a);width:0%;transition:width .2s ease}.btn[aria-busy=true][_ngcontent-%COMP%]{position:relative;pointer-events:none}.btn[aria-busy=true][_ngcontent-%COMP%]:after{content:"";position:absolute;right:12px;top:50%;width:16px;height:16px;margin-top:-8px;border-radius:50%;border:2px solid rgba(255,255,255,.6);border-top-color:#fff;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.choice-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.choice-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:99px;border:1px solid #d1d5db;background:#f5f6f8;color:var(--text-color, #212529);font-weight:700;cursor:pointer;-webkit-user-select:none;user-select:none}.choice-chip.active[_ngcontent-%COMP%]{background:rgba(var(--primary-color-rgb, 255, 107, 107),.12);color:var(--primary-color, #ff6b6b);border-color:var(--primary-color, #ff6b6b)}.chip-text[_ngcontent-%COMP%]{display:inline-block}.chip-close[_ngcontent-%COMP%]{border:none;background:transparent;color:inherit;line-height:1;font-weight:900;cursor:pointer;padding:0 2px}.choice-add[_ngcontent-%COMP%]{color:var(--primary-color, #ff6b6b);font-weight:700;margin-inline-start:6px}@media(max-width:768px){.edit-item-container[_ngcontent-%COMP%]{margin:10px;padding:15px}.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:0}.button-group[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.btn[_ngcontent-%COMP%]{width:100%;max-width:200px}.upload-horizontal[_ngcontent-%COMP%]{flex-wrap:wrap}}']})};function MT(i,t){i&1&&(xe(0,"div",2)(1,"span",5),_(2,"Loading..."),ve()())}function RT(i,t){i&1&&(xe(0,"h3",3),_(1,"Signing you in..."),ve())}function kT(i,t){if(i&1&&(xe(0,"div",4),_(1),ve()),i&2){let e=I();h(),A(e.error)}}var _d=class i{constructor(t,e,n,r){this.route=t;this.router=e;this.tableSession=n;this.platformId=r}error=null;ngOnInit(){return F(this,null,function*(){if(!yi(this.platformId))return;let t=this.route.snapshot.paramMap.get("restId"),e=this.route.snapshot.paramMap.get("tableId");if(!t||!e){this.error="Invalid table link.";return}try{yield this.tableSession.signInForTable(t,e),this.router.navigate(["/",t])}catch(n){console.error(n),this.error=n?.message||"Failed to sign in for this table."}})}static \u0275fac=function(e){return new(e||i)(ee(Le),ee(lt),ee(mr),ee(ut))};static \u0275cmp=ie({type:i,selectors:[["app-table-signin"]],decls:5,vars:3,consts:[[1,"container","d-flex","flex-column","align-items-center","justify-content-center",2,"min-height","70vh"],[1,"text-center"],["role","status",1,"spinner-border","text-primary"],[1,"mt-3"],[1,"alert","alert-danger","mt-3"],[1,"visually-hidden"]],template:function(e,n){e&1&&(xe(0,"div",0)(1,"div",1),W(2,MT,3,0,"div",2),W(3,RT,2,0,"h3",3),W(4,kT,2,1,"div",4),ve()()),e&2&&(h(2),K(n.error?-1:2),h(),K(n.error?-1:3),h(),K(n.error?4:-1))},dependencies:[Ln],encapsulation:2})};var OT=(i,t,e)=>({"bg-info":i,"bg-warning":t,"bg-success":e}),PT=()=>({background:"rgba(0,0,0,0.5)"});function NT(i,t){if(i&1){let e=ce();m(0,"li",20),q("click",function(){let r=L(e).$implicit,o=I();return V(o.selectTable(r))}),m(1,"div",21)(2,"span",22),_(3),f()(),m(4,"div",23)(5,"span",24),_(6),f(),m(7,"button",25),q("click",function(r){let o=L(e).$implicit,s=I();return r.stopPropagation(),V(s.toggleAvailability(o))}),_(8),f()()()}if(i&2){let e=t.$implicit,n=I();me("active",(n.selectedTable==null?null:n.selectedTable.id)===e.id),h(3),A(e.name||"Table"),h(2),j("ngClass",e.availability?"bg-success":"bg-danger"),h(),$(" ",e.availability?n.isArabic?"\u0645\u062A\u0627\u062D":"Available":n.isArabic?"\u0645\u0634\u063A\u0648\u0644\u0629":"Occupied"," "),h(2),$(" ",n.isArabic?"\u062A\u0628\u062F\u064A\u0644":"Toggle"," ")}}function FT(i,t){if(i&1&&(m(0,"span",59),_(1),f()),i&2){let e=I().$implicit;h(),$(" +\u20AA",e.add)}}function LT(i,t){if(i&1){let e=ce();m(0,"span",58),q("click",function(){let r=L(e).$index,o=I(2).$implicit,s=I(2);return V(s.setChoiceDraft(o.key,o.value,r))}),_(1),W(2,FT,2,1,"span",59),f()}if(i&2){let e=t.$implicit,n=t.$index,r=I(2).$implicit,o=I(2);me("active",o.getDraftChoiceIndex(r.key,r.value)===n),h(),A(e.label),h(),K(e.add?2:-1)}}function VT(i,t){if(i&1&&(m(0,"div",48),Ee(1,LT,3,4,"span",57,je),f()),i&2){let e=I().$implicit,n=I(2);h(),Se(n.getChoiceDisplayStructured(e.value.name))}}function BT(i,t){if(i&1){let e=ce();m(0,"li",30)(1,"div",43)(2,"div",44)(3,"div",45)(4,"div",46),_(5),f(),m(6,"small")(7,"span",47),q("click",function(){let r=L(e).$implicit,o=I(2);return V(o.markAsDone({tableKey:o.selectedTable.id,orderKey:r.key,order:r.value}))}),_(8),f()()(),W(9,VT,3,0,"div",48),m(10,"div",49)(11,"label",50),_(12),f(),m(13,"input",51),se("ngModelChange",function(r){let o=L(e).$implicit;return oe(o.value.details,r)||(o.value.details=r),V(r)}),f()()(),m(14,"div",52)(15,"input",53),se("ngModelChange",function(r){let o=L(e).$implicit;return oe(o.value.quantity,r)||(o.value.quantity=r),V(r)}),f(),m(16,"div",54)(17,"button",55),q("click",function(){let r=L(e).$implicit,o=I(2);return V(o.updateOrder(r.key,r.value.quantity,r.value.details||""))}),_(18),f(),m(19,"button",56),q("click",function(){let r=L(e).$implicit,o=I(2);return V(o.deleteOrder(r.key))}),_(20),f()()()()()}if(i&2){let e=t.$implicit,n=I(2);h(5),A(n.displayOrderName(e.value.name)),h(2),j("ngClass",z_(10,OT,e.value.state==="ordered",e.value.state==="ready",e.value.state==="done")),h(),$(" ",e.value.state||"unknown"," "),h(),K(n.getChoiceDisplayList(e.value.name).length?9:-1),h(3),A(n.isArabic?"\u062A\u0641\u0627\u0635\u064A\u0644":"Details"),h(),re("ngModel",e.value.details),j("placeholder",n.isArabic?"\u0623\u062F\u062E\u0644 \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644":"Enter details"),h(2),re("ngModel",e.value.quantity),h(3),$(" ",n.isArabic?"\u062A\u062D\u062F\u064A\u062B":"Update"," "),h(2),$(" ",n.isArabic?"\u062D\u0630\u0641":"Remove"," ")}}function UT(i,t){if(i&1&&H(0,"option",35),i&2){let e=t.$implicit;j("value",e)}}function jT(i,t){if(i&1){let e=ce();m(0,"div",18)(1,"div",26)(2,"div",10)(3,"div"),_(4),m(5,"strong"),_(6),f()(),m(7,"button",27),q("click",function(){L(e);let r=I();return V(r.selectedTable=null)}),_(8),f()(),m(9,"div",28)(10,"ul",29),Ee(11,BT,21,14,"li",30,je),tt(13,"keyvalue"),f(),m(14,"div",31)(15,"div",32),H(16,"input",33,0),m(18,"datalist",34),Ee(19,UT,1,1,"option",35,je),f(),H(21,"input",36,1)(23,"input",37,2),m(25,"button",38),q("click",function(){L(e);let r=At(17),o=At(22),s=At(24);return I().addOrder(r.value,+o.value,s.value),r.value="",o.value="",V(s.value="")}),_(26),f()(),m(27,"div",39)(28,"button",40),q("click",function(){L(e);let r=I();return V(r.checkoutSelectedTable())}),_(29),f()()(),m(30,"div",41)(31,"strong"),_(32),f(),m(33,"span",42),_(34),tt(35,"number"),f()()()()()}if(i&2){let e=I();h(4),$(" ",e.isArabic?"\u0627\u0644\u0637\u0644\u0628\u0627\u062A \u0644\u0640":"Orders for"," "),h(2),A(e.selectedTable.name||(e.isArabic?"\u0637\u0627\u0648\u0644\u0629":"Table")),h(2),A(e.isArabic?"\u0631\u062C\u0648\u0639":"Back"),h(3),Se(Oo(13,11,e.selectedTable.order)),h(5),j("placeholder",e.isArabic?"\u0627\u0633\u0645 \u0627\u0644\u0635\u0646\u0641":"Item name"),h(3),Se(e.menuItemNames),h(2),j("placeholder",e.isArabic?"\u0627\u0644\u0643\u0645\u064A\u0629":"Qty"),h(2),j("placeholder",e.isArabic?"\u062A\u0641\u0627\u0635\u064A\u0644 (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)":"Details (optional)"),h(3),$(" ",e.isArabic?"\u0625\u0636\u0627\u0641\u0629":"Add"," "),h(2),j("disabled",!e.hasOrders()),h(),$(" ",e.isArabic?"\u0625\u0646\u0647\u0627\u0621 \u0627\u0644\u062D\u0633\u0627\u0628":"Checkout"," "),h(3),A(e.isArabic?"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A:":"Total:"),h(2),$("",ht(35,13,e.getTotalPrice(),"1.2-2")," \u20AA")}}function zT(i,t){if(i&1&&(m(0,"li",67)(1,"div",73)(2,"div",22),_(3),f(),m(4,"small",74),_(5),tt(6,"number"),f()(),m(7,"div",75)(8,"div",22),_(9),tt(10,"number"),f()()()),i&2){let e=t.$implicit,n=I(2);h(3),A(n.displayOrderName(e.name)),h(2),B_(" ",n.isArabic?"\u0627\u0644\u0633\u0639\u0631:":"Price:"," ",ht(6,5,n.getOrderUnitPrice(e),"1.2-2")," \u20AA \xD7 ",e.quantity," "),h(4),$("",ht(10,8,n.getOrderUnitPrice(e)*e.quantity,"1.2-2")," \u20AA")}}function $T(i,t){if(i&1){let e=ce();m(0,"div",19)(1,"div",60)(2,"div",61)(3,"div",62)(4,"div")(5,"h5",63),_(6),f(),m(7,"small",64),_(8),f()(),m(9,"button",65),q("click",function(){L(e);let r=I();return V(r.processCheckout("cancel"))}),f()(),m(10,"div",66)(11,"ul",29),Ee(12,zT,11,11,"li",67,je),f(),m(14,"div",68)(15,"strong"),_(16),f(),m(17,"span",42),_(18),tt(19,"number"),f()()(),m(20,"div",69)(21,"button",70),q("click",function(){L(e);let r=I();return V(r.processCheckout("cancel"))}),_(22),f(),m(23,"button",71),q("click",function(){L(e);let r=I();return V(r.processCheckout("print"))}),_(24),f(),m(25,"button",72),q("click",function(){L(e);let r=I();return V(r.processCheckout("done"))}),_(26),f()()()()()}if(i&2){let e=I();j("ngStyle",cr(12,PT)),h(6),A(e.restaurantDisplayName),h(2),ni("",e.isArabic?"\u0641\u0627\u062A\u0648\u0631\u0629 \u0627\u0644\u0637\u0627\u0648\u0644\u0629":"Table Receipt"," \u2014 ",e.selectedTable==null?null:e.selectedTable.name),h(4),Se(e.receiptOrders),h(4),A(e.isArabic?"\u0627\u0644\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0643\u0644\u064A:":"Total:"),h(2),$("",ht(19,9,e.receiptTotal,"1.2-2")," \u20AA"),h(4),A(e.isArabic?"\u0625\u0644\u063A\u0627\u0621":"Cancel"),h(2),$("\u{1F5A8} ",e.isArabic?"\u0637\u0628\u0627\u0639\u0629":"Print"),h(2),A(e.isArabic?"\u062A\u0645":"Done")}}var yd=class i{constructor(t,e,n,r,o){this.db=t;this.menuService=e;this.languageService=n;this.ngZone=r;this.route=o}restaurantId="";restaurantName="";restaurant=null;tables=[];selectedTable=null;newTableName="";menuItemNames=[];categoriesCache=null;isArabic=!1;subs=[];tablesUnsub=null;choiceDraftIndex={};isCreatingHistory=!1;todayHistoryExists=!1;showReceiptModal=!1;receiptOrders=[];receiptTotal=0;ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t),Wn.getRestaurantById(this.restaurantId).then(n=>{this.restaurant=n,this.updateRestaurantDisplayName()}).catch(()=>{this.restaurant=null,this.updateRestaurantDisplayName()});let e=Fe(this.db,`restaurants/${this.restaurantId}/tables`);this.tablesUnsub=xn(e,n=>{this.ngZone.run(()=>{let r=n.val()||{};if(this.tables=Object.keys(r).map(o=>{let s=k({id:o},r[o]);if(s.order){let l={};Object.keys(s.order).forEach(c=>{let u=s.order[c];u.state&&u.state!=="unordered"&&(l[c]=u)}),s.order=l}return s}).sort((o,s)=>(o.name||"").localeCompare(s.name||"",void 0,{numeric:!0,sensitivity:"base"})),this.selectedTable){let o=this.tables.find(s=>s.id===this.selectedTable.id)||null;this.selectedTable=o}})}),this.checkTodayRecord(),this.menuService.getCategoriesOnce(this.restaurantId).then(n=>{this.categoriesCache=n,this.menuItemNames=this.flattenMenuNames(n,this.isArabic)}).catch(()=>{this.categoriesCache={},this.menuItemNames=[]}),this.subs.push(this.languageService.isArabic$.subscribe(n=>{this.isArabic=n,this.menuItemNames=this.flattenMenuNames(this.categoriesCache,this.isArabic),this.updateRestaurantDisplayName()}))}ngOnDestroy(){this.tablesUnsub&&(this.tablesUnsub(),this.tablesUnsub=null),this.subs.forEach(t=>t.unsubscribe()),this.subs=[]}getChoiceAddByIndex(t,e){if(e==null)return 0;let r=this.getChoiceDisplayStructured(t)[e];return r&&Number(r.add)||0}getMenuItemPrice(t){let e=this.findMenuItemByName(t),n=Number(e?.price??0);return isNaN(n)?0:n}resolveNameFromMenu(t,e){if(!this.categoriesCache)return null;let n=t.toLocaleLowerCase(),r=null;return Object.keys(this.categoriesCache).some(o=>{let s=this.categoriesCache[o]?.items||{};return Object.keys(s).some(l=>{let c=s[l]||{},u=(c.name||"").toString(),g=(c.nameArabic||"").toString();return u.toLocaleLowerCase()===n||g.toLocaleLowerCase()===n?(r=c,!0):!1})}),r?e?r.nameArabic||r.name||null:r.name||r.nameArabic||null:null}selectTable(t){this.selectedTable=t}toggleAvailability(t){return F(this,null,function*(){let e=Fe(this.db,`restaurants/${this.restaurantId}/tables/${t.id}`);yield mt(e,{availability:!t.availability})})}addTable(){return F(this,null,function*(){let t=(this.newTableName||"").trim();if(!t)return;let e=Fe(this.db,`restaurants/${this.restaurantId}/tables`),n=Ic(e);yield Hr(n,{name:t,availability:!0}),this.newTableName=""})}updateOrder(t,e,n){return F(this,null,function*(){if(!this.selectedTable)return;let r=Fe(this.db,`restaurants/${this.restaurantId}/tables/${this.selectedTable.id}/order/${t}`);if(e<=0)yield qr(r);else{let o=this.selectedTable.order?.[t],s=this.choiceDraftIndex[t],l={quantity:e,details:n};if(o&&s!==void 0&&s!==null){let c=this.getChoicePairs(o.name);l.choiceEn=c.en[s]??null,l.choiceAr=c.ar[s]??null;let u=this.getMenuItemPrice(o.name||""),g=this.getChoiceAddByIndex(o.name||"",s);l.unitPrice=u+g}yield mt(r,l),delete this.choiceDraftIndex[t]}})}addOrder(t,e,n){return F(this,null,function*(){if(!this.selectedTable||!t||e<=0)return;let r=this.resolveNameFromMenu(t.trim(),this.isArabic)||t.trim(),o=Fe(this.db,`restaurants/${this.restaurantId}/tables/${this.selectedTable.id}/order`),s=Date.now().toString(),l=this.getChoicePairs(r),c=l.en.length?l.en[0]:null,u=l.ar.length?l.ar[0]:null,g=Number(this.findMenuItemByName(r)?.price??0);yield mt(o,{[s]:{name:r,quantity:e,details:n||"",state:"ordered",choiceEn:c,choiceAr:u,unitPrice:g,ts:Date.now()}})})}deleteOrder(t){return F(this,null,function*(){if(!this.selectedTable)return;let e=Fe(this.db,`restaurants/${this.restaurantId}/tables/${this.selectedTable.id}/order/${t}`);try{yield qr(e)}catch(n){console.error("Failed to delete order:",n)}})}flattenMenuNames(t,e){let n=new Set;return t?(Object.keys(t).forEach(r=>{let s=t[r]?.items||{};Object.keys(s).forEach(l=>{let c=s[l]||{},u=e?c.nameArabic||c.name:c.name||c.nameArabic;u&&n.add(String(u))})}),Array.from(n).sort((r,o)=>r.localeCompare(o,void 0,{numeric:!0,sensitivity:"base"}))):[]}displayOrderName(t){return this.resolveNameFromMenu(t||"",this.isArabic)||t}displayOrderChoice(t){let e=t?.choiceEn??null,n=t?.choiceAr??null;return(this.isArabic?n||e:e||n)||null}findMenuItemByName(t){let e=this.categoriesCache;if(!e||!t)return null;let n=String(t).toLocaleLowerCase(),r=null;return Object.keys(e).some(o=>{let s=e[o]?.items||{};return Object.keys(s).some(l=>{let c=s[l]||{},u=(c.name||"").toString(),g=(c.nameArabic||"").toString();return u.toLocaleLowerCase()===n||g.toLocaleLowerCase()===n?(r=c,!0):!1})}),r}getChoiceDisplayList(t){let e=this.findMenuItemByName(t),n=this.isArabic?e?.choicesArabic:e?.choices,r=Array.isArray(n)?n.filter(o=>!!o):[];if(!r.length){let o=this.isArabic?e?.choices:e?.choicesArabic;r=Array.isArray(o)?o.filter(s=>!!s):[]}return r}getChoiceDisplayStructured(t){let e=this.findMenuItemByName(t),n=Array.isArray(e?.choiceOptions)?e.choiceOptions:null;return n&&n.length?n.map(r=>({label:this.isArabic?String(r.ar||r.en||""):String(r.en||r.ar||""),add:Number(r.add)||0})):this.getChoiceDisplayList(t).map(r=>({label:r,add:0}))}getChoicePairs(t){let e=this.findMenuItemByName(t),n=Array.isArray(e?.choices)?e.choices:[],r=Array.isArray(e?.choicesArabic)?e.choicesArabic:[];return{en:n,ar:r}}getSelectedChoiceIndex(t){let{en:e,ar:n}=this.getChoicePairs(t?.name||""),r=t?.choiceEn||null,o=t?.choiceAr||null,s=r?e.findIndex(c=>c===r):-1;if(s>=0)return s;let l=o?n.findIndex(c=>c===o):-1;return l>=0?l:-1}getDraftChoiceIndex(t,e){let n=this.choiceDraftIndex[t];return n===0||n?n:this.getSelectedChoiceIndex(e)}setChoiceDraft(t,e,n){this.choiceDraftIndex[t]=n}hasOrders(){let t=this.selectedTable;return!!(t&&t.order&&Object.keys(t.order).length>0)}openReceiptModal(){this.selectedTable?.order&&(this.receiptOrders=Object.values(this.selectedTable.order),this.receiptTotal=this.getTotalPrice(),this.showReceiptModal=!0)}closeReceiptModal(){this.showReceiptModal=!1}processCheckout(t){return F(this,null,function*(){if(!this.selectedTable)return;if(t==="cancel"){this.closeReceiptModal();return}let e=new Date().toISOString().split("T")[0],n=Fe(this.db,`restaurants/${this.restaurantId}/history/${e}/categories`),o=(yield gr(n)).val()||{};for(let u of Object.values(this.selectedTable.order||{})){let g=u.name;Object.keys(o).forEach(b=>{let C=o[b];Object.keys(C.items||{}).forEach(R=>{let T=C.items[R];if(T.name===g||T.nameArabic===g){let O=Number(T.counter||0);C.items[R].counter=O+(Number(u.quantity)||0)}})})}yield mt(n,o);try{let u=e,g=Fe(this.db,`restaurants/${this.restaurantId}/meta/lastInvoiceNumber`),b=yield gr(g),C=b.exists()?Number(b.val()):0,R=isFinite(C)?C+1:1,T=this.selectedTable.order||{},O={};Object.keys(T).forEach(X=>{let Z=T[X],Q=this.getOrderUnitPrice(Z);O[X]={name:Z.name,quantity:Number(Z.quantity)||0,unitPrice:Q,choiceEn:Z.choiceEn??null,choiceAr:Z.choiceAr??null,state:Z.state||"done"}});let B={id:R,tableId:this.selectedTable.id,tableName:this.selectedTable.name||"",items:O,total:this.getTotalPrice(),createdAt:Date.now()},z=Fe(this.db,`restaurants/${this.restaurantId}/history/${u}/Order_List/${R}`);yield Hr(z,B),yield Hr(g,R)}catch(u){console.error("Failed to write invoice:",u)}let s=this.selectedTable.id,l=Fe(this.db,`restaurants/${this.restaurantId}/tables/${s}`),c=Fe(this.db,`restaurants/${this.restaurantId}/tables/${s}/order`);yield mt(l,{availability:!0}),yield qr(c),this.selectedTable=ne(k({},this.selectedTable),{availability:!0,order:{}}),t==="print"&&alert(this.isArabic?"\u{1F5A8} \u062A\u0645 \u0627\u0644\u0637\u0628\u0627\u0639\u0629 \u0628\u0646\u062C\u0627\u062D!":"\u{1F5A8} Printed successfully!"),this.closeReceiptModal()})}checkoutSelectedTable(){return F(this,null,function*(){this.selectedTable&&this.openReceiptModal()})}getTotalPrice(){return this.selectedTable?.order?Object.values(this.selectedTable.order).filter(e=>["ordered","ready","done"].includes(e.state)).reduce((e,n)=>{let r=this.getOrderUnitPrice(n);return e+r*(Number(n.quantity)||0)},0):0}getOrderUnitPrice(t){let e=Number(t.unitPrice??NaN);if(!isNaN(e)&&e>0)return e;let n=this.getMenuItemPrice(t.name||""),r=this.getChoiceDisplayStructured(t.name||""),o=this.displayOrderChoice(t),s=r.find(c=>c.label===o),l=s&&Number(s.add)||0;return n+l}get restaurantDisplayName(){return this.restaurantName||this.restaurantId}updateRestaurantDisplayName(){let t=this.isArabic?this.restaurant?.restArabicName||this.restaurant?.restName||"":this.restaurant?.restName||this.restaurant?.restArabicName||"";this.restaurantName=String(t||"").trim()}markAsDone(t){let e=Fe(this.db,`restaurants/${this.restaurantId}/tables/${t.tableKey}/order/${t.orderKey}`);mt(e,{state:"done"})}checkTodayRecord(){return F(this,null,function*(){let t=new Date().toISOString().split("T")[0],e=Fe(this.db,`restaurants/${this.restaurantId}/history/${t}`),n=yield gr(e);this.todayHistoryExists=n.exists()&&!n.val().closed})}handleDailyRecord(){return F(this,null,function*(){let t=new Date,e=t.toISOString().split("T")[0],n=t.toISOString(),r=Fe(this.db,`restaurants/${this.restaurantId}/history/${e}`);if(this.todayHistoryExists){let o=this.isArabic?"\u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F \u0623\u0646\u0643 \u062A\u0631\u064A\u062F \u0625\u063A\u0644\u0627\u0642 \u0633\u062C\u0644 \u0647\u0630\u0627 \u0627\u0644\u064A\u0648\u0645\u061F":"Are you sure you want to close today\u2019s record?";if(!window.confirm(o))return;yield mt(r,{closed:!0}),this.todayHistoryExists=!1,alert(this.isArabic?"\u2705 \u062A\u0645 \u0625\u063A\u0644\u0627\u0642 \u0633\u062C\u0644 \u0627\u0644\u064A\u0648\u0645 \u0628\u0646\u062C\u0627\u062D.":"\u2705 Daily record closed successfully.")}else{if(this.isCreatingHistory)return;this.isCreatingHistory=!0;try{let o=Fe(this.db,`restaurants/${this.restaurantId}/menu/categories`),s=yield gr(o);if(!s.exists()){alert("\u26A0\uFE0F No menu found."),this.isCreatingHistory=!1;return}let l=s.val(),c={};Object.keys(l).forEach(g=>{let C=l[g].items||{},R={};Object.keys(C).forEach(T=>{let O=C[T];R[T]={counter:0,name:O.name||"",price:O.price||0}}),c[g]={items:R}}),yield Hr(r,{categories:c,date:n,discounts:{type1:{value:0},type2:{value:0},type3:{value:0}},total:0,closed:!1}),this.todayHistoryExists=!0,alert(this.isArabic?"\u062A\u0645 \u0625\u0646\u0634\u0627\u0621 \u0633\u062C\u0644 \u0627\u0644\u064A\u0648\u0645 \u0627\u0644\u062C\u062F\u064A\u062F \u2705":"\u2705 Daily record created successfully!")}catch(o){console.error("Failed to create record:",o),alert("\u274C Failed to create record.")}finally{this.isCreatingHistory=!1}}})}static \u0275fac=function(e){return new(e||i)(ee(Sn),ee(Yt),ee(Wt),ee(te),ee(Le))};static \u0275cmp=ie({type:i,selectors:[["app-dashboard"]],decls:27,vars:19,consts:[["itemName",""],["itemQty",""],["itemDetails",""],[1,"container","py-4"],[1,"dashboard-header"],[1,"d-flex","justify-content-center","my-3"],[1,"btn",3,"click","disabled"],[1,"row","g-4"],[1,"col-lg-4"],[1,"card","sticky-col",2,"position","sticky","top","16px"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"badge","bg-primary"],[1,"p-3","border-bottom"],[1,"d-flex","gap-2"],["type","text",1,"form-control",3,"ngModelChange","keyup.enter","placeholder","ngModel"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"list-group","list-group-flush",2,"max-height","70vh","overflow-y","auto"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",3,"active"],[1,"col-lg-8"],["tabindex","-1","role","dialog","aria-modal","true",1,"modal","fade","show","d-block",3,"ngStyle"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",3,"click"],[1,"d-flex","flex-column"],[1,"fw-semibold"],[1,"d-flex","align-items-center","gap-2"],[1,"badge",3,"ngClass"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"card","orders-card"],[1,"btn","btn-sm","btn-outline-light",3,"click"],[1,"card-body"],[1,"list-group","mb-3"],[1,"list-group-item"],[1,"d-flex","flex-wrap","align-items-stretch","gap-2","mb-3"],[1,"d-flex","flex-wrap","gap-2","flex-grow-1"],["type","text","list","menuSuggestions",1,"form-control",2,"max-width","260px",3,"placeholder"],["id","menuSuggestions"],[3,"value"],["type","number","min","1",1,"form-control",2,"max-width","120px",3,"placeholder"],["type","text",1,"form-control",3,"placeholder"],[1,"btn","btn-success",3,"click"],[1,"ms-auto","d-flex","align-items-center"],[1,"btn","btn-outline-dangerbtn-sm","btn-warning",3,"click","disabled"],[1,"text-end","mt-3","border-top","pt-2"],[1,"fs-5","fw-bold","text-primary"],[1,"d-flex","justify-content-between","align-items-start"],[1,"flex-grow-1","pe-3"],[1,"d-flex","align-items-center","gap-3"],[1,"order-title"],[1,"badge","clickable",3,"click","ngClass"],[1,"choice-group","mt-2"],[1,"mt-2"],[1,"small"],["type","text",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","placeholder"],[1,"text-end","ms-3",2,"min-width","180px"],["type","number","min","0",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],[1,"d-flex","gap-2","mt-2"],[1,"btn","btn-sm","btn-primary",2,"flex","1",3,"click"],[1,"btn","btn-sm","btn-warning",2,"flex","1",3,"click"],[1,"choice-chip",3,"active"],[1,"choice-chip",3,"click"],[1,"choice-add"],["role","document",1,"modal-dialog","modal-dialog-centered","modal-md"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","mb-0"],[1,"text-muted","d-block"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"d-flex","justify-content-between","border-top","pt-2"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-success",3,"click"],[1,"me-3"],[1,"text-muted"],[1,"text-end","text-nowrap"]],template:function(e,n){e&1&&(m(0,"div",3)(1,"div",4)(2,"h1"),_(3),f(),m(4,"p"),_(5),f()(),m(6,"div",5)(7,"button",6),q("click",function(){return n.handleDailyRecord()}),_(8),f()(),m(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"span"),_(14),f(),m(15,"span",11),_(16),f()(),m(17,"div",12)(18,"div",13)(19,"input",14),se("ngModelChange",function(o){return oe(n.newTableName,o)||(n.newTableName=o),o}),q("keyup.enter",function(){return n.addTable()}),f(),m(20,"button",15),q("click",function(){return n.addTable()}),_(21),f()()(),m(22,"ul",16),Ee(23,NT,9,6,"li",17,je),f()()(),W(25,jT,36,16,"div",18),f(),W(26,$T,27,13,"div",19),f()),e&2&&(Ce("dir",n.isArabic?"rtl":"ltr"),h(),me("align-right",n.isArabic),h(2),A(n.isArabic?"\u0644\u0648\u062D\u0629 \u0627\u0644\u0645\u0637\u0639\u0645":"Restaurant Dashboard"),h(2),A(n.isArabic?"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0637\u0627\u0648\u0644\u0627\u062A \u0648\u0627\u0644\u0637\u0644\u0628\u0627\u062A \u0641\u064A \u0627\u0644\u0648\u0642\u062A \u0627\u0644\u062D\u0642\u064A\u0642\u064A":"Manage tables and orders in real time"),h(2),me("btn-primary",!n.todayHistoryExists)("btn-danger",n.todayHistoryExists),j("disabled",n.isCreatingHistory),h(),$(" ",n.todayHistoryExists?n.isArabic?"\u{1F534} \u0625\u063A\u0644\u0627\u0642 \u0633\u062C\u0644 \u0627\u0644\u064A\u0648\u0645":"\u{1F534} Close Daily Record":n.isArabic?"\u{1F7E2} \u0625\u0646\u0634\u0627\u0621 \u0633\u062C\u0644 \u0627\u0644\u064A\u0648\u0645 \u0627\u0644\u062C\u062F\u064A\u062F":"\u{1F7E2} Create New Daily Record"," "),h(6),A(n.isArabic?"\u0627\u0644\u0637\u0627\u0648\u0644\u0627\u062A":"Tables"),h(2),A(n.tables.length||0),h(3),j("placeholder",n.isArabic?"\u0627\u0633\u0645 \u0637\u0627\u0648\u0644\u0629 \u062C\u062F\u064A\u062F\u0629":"New table name"),re("ngModel",n.newTableName),h(),j("disabled",!(n.newTableName&&n.newTableName.trim())),h(),$(" ",n.isArabic?"\u0625\u0636\u0627\u0641\u0629 \u0637\u0627\u0648\u0644\u0629":"Add Table"," "),h(2),Se(n.tables),h(2),K(n.selectedTable?25:-1),h(),K(n.showReceiptModal?26:-1))},dependencies:[Ft,fn,No,at,pr,fr,yt,bi,bt,xc,vt,Ln,_c,Fo],styles:["[_nghost-%COMP%]{display:block;background:#f8fafc;min-height:100vh}.dashboard-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1f2937;font-weight:700;margin:0 0 .25rem}.dashboard-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin:0}.btn-outline-secondary[_ngcontent-%COMP%]{color:#fff;background-color:#21a77a;--bs-btn-active-bg: #059669}.card[_ngcontent-%COMP%]{border:none;border-radius:14px;overflow:hidden;box-shadow:0 10px 24px #0000000f}.card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;font-weight:600}.list-group-item[_ngcontent-%COMP%]{border:0;border-bottom:1px solid #eef2f7;transition:transform .15s ease,background .15s ease}.list-group-item[_ngcontent-%COMP%]:hover{background:#10b981;transform:translate(4px);border-radius:5px;color:#fff}.list-group-item.active[_ngcontent-%COMP%]{background:#10b981;font-weight:600}.badge[_ngcontent-%COMP%]{border-radius:999px;padding:.4rem .65rem;font-weight:600}.bg-success[_ngcontent-%COMP%]{background:#21a77a!important}.bg-danger[_ngcontent-%COMP%]{background:#ef4444!important;border:#88190f 1px solid}.orders-card[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background:transparent}.orders-card[_ngcontent-%COMP%]   .order-title[_ngcontent-%COMP%]{font-weight:600;color:#111827}.orders-card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#6b7280;font-size:.85rem}.form-control[_ngcontent-%COMP%]{border-radius:10px;border:1px solid #e5e7eb}.form-control[_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f626}.btn[_ngcontent-%COMP%]{border-radius:10px;font-weight:600;transition:transform .15s ease,box-shadow .15s ease;border-color:#fff}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #020f0954}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);border:none}.btn-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);border:none}.btn-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#d40909);border:none;color:#e5e7eb}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}.orders-card[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .25s ease both}@media(max-width:991px){.sticky-col[_ngcontent-%COMP%]{position:static!important}}.dashboard-header.align-right[_ngcontent-%COMP%]{text-align:right}.choice-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-top:6px}.choice-chip[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;border-radius:99px;border:1px solid #d1d5db;background:#f5f6f8;color:var(--text-color, #212529);font-weight:700;cursor:pointer;-webkit-user-select:none;user-select:none}.choice-chip.active[_ngcontent-%COMP%]{background:rgba(var(--primary-color-rgb, 255, 107, 107),.12);color:var(--primary-color, #ff6b6b);border-color:var(--primary-color, #ff6b6b)}.choice-chip.readonly[_ngcontent-%COMP%]{pointer-events:none;opacity:.95}.choice-add[_ngcontent-%COMP%]{color:var(--primary-color, #ff6b6b);font-weight:700;margin-inline-start:6px}.badge.clickable[_ngcontent-%COMP%]{cursor:pointer;transition:transform .2s}.badge.clickable[_ngcontent-%COMP%]:hover{transform:scale(1.05)}"]})};var gs=class i{key="adminAuth";isAuthenticated(){try{return sessionStorage.getItem(this.key)==="1"}catch{return!1}}signIn(t,e){let n=t.trim()==="admin"&&e==="admin132";if(n)try{sessionStorage.setItem(this.key,"1")}catch{}return n}signOut(){try{sessionStorage.removeItem(this.key)}catch{}}static \u0275fac=function(e){return new(e||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})};function HT(i,t){if(i&1&&(m(0,"div",9),_(1),f()),i&2){let e=I(2);h(),A(e.error)}}function WT(i,t){if(i&1){let e=ce();m(0,"div",0)(1,"div",2)(2,"h4",3),_(3,"Control Board Sign In"),f(),m(4,"form",4),q("ngSubmit",function(){L(e);let r=I();return V(r.signIn())}),m(5,"div",5)(6,"label",6),_(7,"Username"),f(),m(8,"input",7),se("ngModelChange",function(r){L(e);let o=I();return oe(o.username,r)||(o.username=r),V(r)}),f()(),m(9,"div",5)(10,"label",6),_(11,"Password"),f(),m(12,"input",8),se("ngModelChange",function(r){L(e);let o=I();return oe(o.password,r)||(o.password=r),V(r)}),f()(),W(13,HT,2,1,"div",9),m(14,"button",10),_(15,"Sign In"),f()()()()}if(i&2){let e=I();h(8),re("ngModel",e.username),h(4),re("ngModel",e.password),h(),K(e.error?13:-1)}}function KT(i,t){if(i&1&&(m(0,"main",1)(1,"div",11)(2,"h2",5),_(3,"Welcome"),f(),m(4,"p",12),_(5,"Choose a section from the sidebar to manage "),m(6,"strong"),_(7),f(),_(8,"."),f()()()),i&2){let e=I();h(7),A(e.rid)}}var bd=class i{constructor(t,e,n){this.route=t;this.router=e;this.adminAuth=n}rid="rest1";isAuthenticated=!1;username="";password="";error="";ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.rid=t),this.isAuthenticated=this.adminAuth.isAuthenticated(),this.isAuthenticated&&this.router.navigate(["/",this.rid,"dashboard"])}signIn(){this.error="",this.adminAuth.signIn(this.username,this.password)?(this.isAuthenticated=!0,this.username="",this.password="",this.router.navigate(["/",this.rid,"dashboard"])):this.error="Invalid username or password."}static \u0275fac=function(e){return new(e||i)(ee(Le),ee(lt),ee(gs))};static \u0275cmp=ie({type:i,selectors:[["app-control-board"]],decls:2,vars:2,consts:[[1,"login-wrapper","d-flex","align-items-center","justify-content-center"],[1,"p-4","admin-page"],[1,"login-card","p-4"],[1,"mb-3","text-center"],[3,"ngSubmit"],[1,"mb-3"],[1,"form-label"],["name","username","autocomplete","username",1,"form-control",3,"ngModelChange","ngModel"],["type","password","name","password","autocomplete","current-password",1,"form-control",3,"ngModelChange","ngModel"],[1,"alert","alert-danger","py-2"],["type","submit",1,"btn","btn-primary","w-100"],[1,"container-fluid"],[1,"text-muted"]],template:function(e,n){e&1&&(W(0,WT,16,3,"div",0),W(1,KT,9,1,"main",1)),e&2&&(K(n.isAuthenticated?-1:0),h(),K(n.isAuthenticated?1:-1))},dependencies:[Ft,Ln,at,fy,yt,bt,py,vt,$r],styles:["[_nghost-%COMP%]{display:block;max-width:100vw;overflow-x:hidden}.login-wrapper[_ngcontent-%COMP%]{min-height:100vh;background:#f8fafc;padding:24px}.login-card[_ngcontent-%COMP%]{width:100%;max-width:380px;background:#fff;border:1px solid #eee;border-radius:12px;box-shadow:0 10px 24px #0000000f}.admin-page[_ngcontent-%COMP%]{min-height:100vh}"]})};var oi=(i,t)=>{let e=y(gs),n=y(lt);if(e.isAuthenticated())return!0;let r=i.params?.restId||t.url.split("/").filter(Boolean)[0]||"rest1";return n.navigate(["/",r,"control-board"]),!1};function GT(i,t){i&1&&(xe(0,"div",5),_(1," No hookah orders yet. "),ve())}function YT(i,t){if(i&1&&(xe(0,"div",12),_(1),ve()),i&2){let e=I().$implicit;h(),$(" Details: ",e.order.details," ")}}function QT(i,t){if(i&1){let e=ce();xe(0,"li",8),Oi("click",function(){let r=L(e).$implicit,o=I(2);return V(o.toggleReady(r))}),xe(1,"div")(2,"h6",9)(3,"input",10),Oi("click",function(r){let o=L(e).$implicit,s=I(2);return r.stopPropagation(),V(s.toggleReady(o))}),ve(),_(4),ve(),xe(5,"small",11),_(6),ve(),W(7,YT,2,1,"div",12),ve(),xe(8,"span",13),_(9),ve()()}if(i&2){let e=t.$implicit;h(3),hn("checked",e.order.state==="ready"),h(),$(" ",e.order.name," "),h(2),$("Table: ",e.tableName),h(),K(e.order.details?7:-1),h(2),$("x",e.order.quantity)}}function XT(i,t){if(i&1&&(xe(0,"ul",6),Ee(1,QT,10,5,"li",7,je),ve()),i&2){let e=I();h(),Se(e.hookahOrders)}}var vd=class i{constructor(t,e,n,r){this.db=t;this.menuService=e;this.ngZone=n;this.route=r}restaurantId="";hookahOrders=[];itemSectionIndex=new Map;categoriesSub=null;tablesUnsub=null;ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t),this.categoriesSub=this.menuService.getCategories(this.restaurantId).subscribe(n=>{this.buildItemSectionIndex(n)});let e=Fe(this.db,`restaurants/${this.restaurantId}/tables`);this.tablesUnsub=xn(e,n=>{let r=n.val()||{},o=[];Object.keys(r).forEach(s=>{let l=r[s],c=l.order||{};Object.keys(c).forEach(u=>{let g=c[u];this.findSectionForOrder(g)==="hookah"&&g.state!=="done"&&g.state!=="unordered"&&o.push({tableKey:s,tableName:l.name||s,orderKey:u,order:g})})}),this.ngZone.run(()=>this.hookahOrders=o)})}ngOnDestroy(){this.categoriesSub&&this.categoriesSub.unsubscribe(),this.tablesUnsub&&this.tablesUnsub()}buildItemSectionIndex(t){this.itemSectionIndex.clear(),t&&Object.keys(t).forEach(e=>{let n=t[e]||{},r=(n.section||"").toString().trim().toLowerCase(),o=n.items||{};Object.keys(o).forEach(s=>{let l=o[s]||{},c=(l.name||"").toString().trim().toLowerCase(),u=(l.nameArabic||"").toString().trim().toLowerCase();c&&this.itemSectionIndex.set(c,r),u&&this.itemSectionIndex.set(u,r)})})}findSectionForOrder(t){let e=(t.name||"").toString().trim().toLowerCase();if(!e)return t.category?t.category.toLowerCase():null;let n=this.itemSectionIndex.get(e);if(n)return n;for(let[r,o]of this.itemSectionIndex.entries())if(!(r.length<3)&&(e.includes(r)||r.includes(e)))return o;return t.category?t.category.toLowerCase():null}toggleReady(t){let e=t.order.state==="ready"?"ordered":"ready",n=Fe(this.db,`restaurants/${this.restaurantId}/tables/${t.tableKey}/order/${t.orderKey}`);mt(n,{state:e})}static \u0275fac=function(e){return new(e||i)(ee(Sn),ee(Yt),ee(te),ee(Le))};static \u0275cmp=ie({type:i,selectors:[["app-hookah-orders"]],decls:10,vars:3,consts:[[1,"container","py-4"],[1,"card","shadow"],[1,"card-header","bg-warning","text-dark","d-flex","align-items-center","justify-content-between"],[1,"badge","bg-dark","text-white"],[1,"card-body"],[1,"text-muted","text-center","py-3"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",2,"cursor","pointer","user-select","none"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",2,"cursor","pointer","user-select","none",3,"click"],[1,"fw-semibold","mb-1"],["type","checkbox",1,"form-check-input","me-2",3,"click","checked"],[1,"text-muted"],[1,"text-muted","small","mt-1"],[1,"badge","bg-secondary","fs-6"]],template:function(e,n){e&1&&(xe(0,"div",0)(1,"div",1)(2,"div",2)(3,"span"),_(4,"\u{1F4A8} Hookah Orders"),ve(),xe(5,"span",3),_(6),ve()(),xe(7,"div",4),W(8,GT,2,0,"div",5),W(9,XT,3,0,"ul",6),ve()()()),e&2&&(h(6),$("",n.hookahOrders.length," active"),h(2),K(n.hookahOrders.length===0?8:-1),h(),K(n.hookahOrders.length>0?9:-1))},encapsulation:2})};function ZT(i,t){i&1&&(xe(0,"div",5),_(1," No bar orders yet. "),ve())}function JT(i,t){if(i&1&&(xe(0,"div",12),_(1),ve()),i&2){let e=I().$implicit;h(),$(" Details: ",e.order.details," ")}}function e1(i,t){if(i&1){let e=ce();xe(0,"li",8),Oi("click",function(){let r=L(e).$implicit,o=I(2);return V(o.toggleReady(r))}),xe(1,"div")(2,"h6",9)(3,"input",10),Oi("click",function(r){let o=L(e).$implicit,s=I(2);return r.stopPropagation(),V(s.toggleReady(o))}),ve(),_(4),ve(),xe(5,"small",11),_(6),ve(),W(7,JT,2,1,"div",12),ve(),xe(8,"span",13),_(9),ve()()}if(i&2){let e=t.$implicit;h(3),hn("checked",e.order.state==="ready"),h(),$(" ",e.order.name," "),h(2),$("Table: ",e.tableName),h(),K(e.order.details?7:-1),h(2),$("x",e.order.quantity)}}function t1(i,t){if(i&1&&(xe(0,"ul",6),Ee(1,e1,10,5,"li",7,je),ve()),i&2){let e=I();h(),Se(e.barOrders)}}var wd=class i{constructor(t,e,n,r){this.db=t;this.menuService=e;this.ngZone=n;this.route=r}restaurantId="";barOrders=[];itemSectionIndex=new Map;categoriesSub=null;tablesUnsub=null;ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t),this.categoriesSub=this.menuService.getCategories(this.restaurantId).subscribe(n=>{this.buildItemSectionIndex(n)});let e=Fe(this.db,`restaurants/${this.restaurantId}/tables`);this.tablesUnsub=xn(e,n=>{let r=n.val()||{},o=[];Object.keys(r).forEach(s=>{let l=r[s],c=l.order||{};Object.keys(c).forEach(u=>{let g=c[u];this.findSectionForOrder(g)==="bar"&&g.state!=="unordered"&&g.state!=="done"&&o.push({tableKey:s,tableName:l.name||s,orderKey:u,order:g})})}),this.ngZone.run(()=>this.barOrders=o)})}ngOnDestroy(){this.categoriesSub&&this.categoriesSub.unsubscribe(),this.tablesUnsub&&this.tablesUnsub()}buildItemSectionIndex(t){this.itemSectionIndex.clear(),t&&Object.keys(t).forEach(e=>{let n=t[e]||{},r=(n.section||"").toString().trim().toLowerCase(),o=n.items||{};Object.keys(o).forEach(s=>{let l=o[s]||{},c=(l.name||"").toString().trim().toLowerCase(),u=(l.nameArabic||"").toString().trim().toLowerCase();c&&this.itemSectionIndex.set(c,r),u&&this.itemSectionIndex.set(u,r)})})}findSectionForOrder(t){let e=(t.name||"").toString().trim().toLowerCase();if(!e)return t.category?t.category.toLowerCase():null;let n=this.itemSectionIndex.get(e);if(n)return n;for(let[r,o]of this.itemSectionIndex.entries())if(!(r.length<3)&&(e.includes(r)||r.includes(e)))return o;return t.category?t.category.toLowerCase():null}markAsReady(t){let e=Fe(this.db,`restaurants/${this.restaurantId}/tables/${t.tableKey}/order/${t.orderKey}`);mt(e,{state:"ready"})}toggleReady(t){let e=t.order.state==="ready"?"ordered":"ready",n=Fe(this.db,`restaurants/${this.restaurantId}/tables/${t.tableKey}/order/${t.orderKey}`);mt(n,{state:e})}static \u0275fac=function(e){return new(e||i)(ee(Sn),ee(Yt),ee(te),ee(Le))};static \u0275cmp=ie({type:i,selectors:[["app-bar-orders"]],decls:10,vars:3,consts:[[1,"container","py-4"],[1,"card","shadow"],[1,"card-header","bg-info","text-white","d-flex","align-items-center","justify-content-between"],[1,"badge","bg-light","text-dark"],[1,"card-body"],[1,"text-muted","text-center","py-3"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",2,"cursor","pointer","user-select","none"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",2,"cursor","pointer","user-select","none",3,"click"],[1,"fw-semibold","mb-1"],["type","checkbox",1,"form-check-input","me-2",3,"click","checked"],[1,"text-muted"],[1,"text-muted","small","mt-1"],[1,"badge","bg-secondary","fs-6"]],template:function(e,n){e&1&&(xe(0,"div",0)(1,"div",1)(2,"div",2)(3,"span"),_(4,"\u{1F379} Bar Orders"),ve(),xe(5,"span",3),_(6),ve()(),xe(7,"div",4),W(8,ZT,2,0,"div",5),W(9,t1,3,0,"ul",6),ve()()()),e&2&&(h(6),$("",n.barOrders.length," active"),h(2),K(n.barOrders.length===0?8:-1),h(),K(n.barOrders.length>0?9:-1))},encapsulation:2})};function n1(i,t){i&1&&(xe(0,"div",5),_(1," No kitchen orders yet. "),ve())}function i1(i,t){if(i&1&&(xe(0,"div",12),_(1),ve()),i&2){let e=I().$implicit;h(),$(" Details: ",e.order.details," ")}}function r1(i,t){if(i&1){let e=ce();xe(0,"li",8),Oi("click",function(){let r=L(e).$implicit,o=I(2);return V(o.toggleReady(r))}),xe(1,"div")(2,"h6",9)(3,"input",10),Oi("click",function(r){let o=L(e).$implicit,s=I(2);return r.stopPropagation(),V(s.toggleReady(o))}),ve(),_(4),ve(),xe(5,"small",11),_(6),ve(),W(7,i1,2,1,"div",12),ve(),xe(8,"span",13),_(9),ve()()}if(i&2){let e=t.$implicit;h(3),hn("checked",e.order.state==="ready"),h(),$(" ",e.order.name," "),h(2),$("Table: ",e.tableName),h(),K(e.order.details?7:-1),h(2),$("x",e.order.quantity)}}function o1(i,t){if(i&1&&(xe(0,"ul",6),Ee(1,r1,10,5,"li",7,je),ve()),i&2){let e=I();h(),Se(e.kitchenOrders)}}var Cd=class i{constructor(t,e,n,r){this.db=t;this.menuService=e;this.ngZone=n;this.route=r}restaurantId="";kitchenOrders=[];itemSectionIndex=new Map;categoriesSub=null;tablesUnsub=null;ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t),this.categoriesSub=this.menuService.getCategories(this.restaurantId).subscribe(n=>{this.buildItemSectionIndex(n)});let e=Fe(this.db,`restaurants/${this.restaurantId}/tables`);this.tablesUnsub=xn(e,n=>{let r=n.val()||{},o=[];Object.keys(r).forEach(s=>{let l=r[s],c=l.order||{};Object.keys(c).forEach(u=>{let g=c[u];this.findSectionForOrder(g)==="kitchen"&&g.state!=="done"&&g.state!=="unordered"&&o.push({tableKey:s,tableName:l.name||s,orderKey:u,order:g})})}),this.ngZone.run(()=>this.kitchenOrders=o)})}ngOnDestroy(){this.categoriesSub&&this.categoriesSub.unsubscribe(),this.tablesUnsub&&this.tablesUnsub()}buildItemSectionIndex(t){this.itemSectionIndex.clear(),t&&Object.keys(t).forEach(e=>{let n=t[e]||{},r=(n.section||"").toString().trim().toLowerCase(),o=n.items||{};Object.keys(o).forEach(s=>{let l=o[s]||{},c=(l.name||"").toString().trim().toLowerCase(),u=(l.nameArabic||"").toString().trim().toLowerCase();c&&this.itemSectionIndex.set(c,r),u&&this.itemSectionIndex.set(u,r)})})}findSectionForOrder(t){let e=(t.name||"").toString().trim().toLowerCase();if(!e)return t.category?t.category.toLowerCase():null;let n=this.itemSectionIndex.get(e);if(n)return n;for(let[r,o]of this.itemSectionIndex.entries())if(!(r.length<3)&&(e.includes(r)||r.includes(e)))return o;return t.category?t.category.toLowerCase():null}toggleReady(t){let e=t.order.state==="ready"?"ordered":"ready",n=Fe(this.db,`restaurants/${this.restaurantId}/tables/${t.tableKey}/order/${t.orderKey}`);mt(n,{state:e})}static \u0275fac=function(e){return new(e||i)(ee(Sn),ee(Yt),ee(te),ee(Le))};static \u0275cmp=ie({type:i,selectors:[["app-kitchen-orders"]],decls:10,vars:3,consts:[[1,"container","py-4"],[1,"card","shadow"],[1,"card-header","bg-danger","text-white","d-flex","align-items-center","justify-content-between"],[1,"badge","bg-light","text-dark"],[1,"card-body"],[1,"text-muted","text-center","py-3"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",2,"cursor","pointer","user-select","none"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",2,"cursor","pointer","user-select","none",3,"click"],[1,"fw-semibold","mb-1"],["type","checkbox",1,"form-check-input","me-2",3,"click","checked"],[1,"text-muted"],[1,"text-muted","small","mt-1"],[1,"badge","bg-secondary","fs-6"]],template:function(e,n){e&1&&(xe(0,"div",0)(1,"div",1)(2,"div",2)(3,"span"),_(4,"\u{1F468}\u200D\u{1F373} Kitchen Orders"),ve(),xe(5,"span",3),_(6),ve()(),xe(7,"div",4),W(8,n1,2,0,"div",5),W(9,o1,3,0,"ul",6),ve()()()),e&2&&(h(6),$("",n.kitchenOrders.length," active"),h(2),K(n.kitchenOrders.length===0?8:-1),h(),K(n.kitchenOrders.length>0?9:-1))},encapsulation:2})};var ke=(function(i){return i[i.State=0]="State",i[i.Transition=1]="Transition",i[i.Sequence=2]="Sequence",i[i.Group=3]="Group",i[i.Animate=4]="Animate",i[i.Keyframes=5]="Keyframes",i[i.Style=6]="Style",i[i.Trigger=7]="Trigger",i[i.Reference=8]="Reference",i[i.AnimateChild=9]="AnimateChild",i[i.AnimateRef=10]="AnimateRef",i[i.Query=11]="Query",i[i.Stagger=12]="Stagger",i})(ke||{}),Kn="*";function vm(i,t){return{type:ke.Trigger,name:i,definitions:t,options:{}}}function Ed(i,t=null){return{type:ke.Animate,styles:t,timings:i}}function i0(i,t=null){return{type:ke.Sequence,steps:i,options:t}}function Ui(i){return{type:ke.Style,styles:i,offset:null}}function Sd(i,t,e=null){return{type:ke.Transition,expr:i,animation:t,options:e}}var Si=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},io=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,n=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++n==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,l)=>Math.max(s,l.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(n=>{let r=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(r)})}getPosition(){let t=this.players.reduce((e,n)=>e===null||n.totalTime>e.totalTime?n:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},_s="!";function el(i){return i.buttons===0||i.detail===0}function tl(i){let t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var wm;function r0(){if(wm==null){let i=typeof document<"u"?document.head:null;wm=!!(i&&(i.createShadowRoot||i.attachShadow))}return wm}function Cm(i){if(r0()){let t=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function ys(){let i=typeof document<"u"&&document?document.activeElement:null;for(;i&&i.shadowRoot;){let t=i.shadowRoot.activeElement;if(t===i)break;i=t}return i}function Vt(i){return i.composedPath?i.composedPath()[0]:i.target}var Em;try{Em=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Em=!1}var Ke=(()=>{class i{_platformId=y(ut);isBrowser=this._platformId?yi(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Em)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var nl;function o0(){if(nl==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>nl=!0}))}finally{nl=nl||!1}return nl}function Cr(i){return o0()?i:!!i.capture}function bs(i,t=0){return s0(i)?Number(i):arguments.length===2?t:0}function s0(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function Vn(i){return i instanceof Oe?i.nativeElement:i}var a0=new Y("cdk-input-modality-detector-options"),l0={ignoreKeys:[18,17,224,91,16]},c0=650,Sm={passive:!0,capture:!0},d0=(()=>{class i{_platform=y(Ke);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new dn(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(n=>n===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Vt(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<c0||(this._modality.next(el(e)?"keyboard":"mouse"),this._mostRecentTarget=Vt(e))};_onTouchstart=e=>{if(tl(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Vt(e)};constructor(){let e=y(te),n=y(Me),r=y(a0,{optional:!0});if(this._options=k(k({},l0),r),this.modalityDetected=this._modality.pipe(lc(1)),this.modalityChanged=this.modalityDetected.pipe(ga()),this._platform.isBrowser){let o=y(Nt).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[o.listen(n,"keydown",this._onKeydown,Sm),o.listen(n,"mousedown",this._onMousedown,Sm),o.listen(n,"touchstart",this._onTouchstart,Sm)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),il=(function(i){return i[i.IMMEDIATE=0]="IMMEDIATE",i[i.EVENTUAL=1]="EVENTUAL",i})(il||{}),u0=new Y("cdk-focus-monitor-default-options"),xd=Cr({passive:!0,capture:!0}),vs=(()=>{class i{_ngZone=y(te);_platform=y(Ke);_inputModalityDetector=y(d0);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=y(Me);_stopInputModalityDetector=new ue;constructor(){let e=y(u0,{optional:!0});this._detectionMode=e?.detectionMode||il.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let n=Vt(e);for(let r=n;r;r=r.parentElement)e.type==="focus"?this._onFocus(e,r):this._onBlur(e,r)};monitor(e,n=!1){let r=Vn(e);if(!this._platform.isBrowser||r.nodeType!==1)return pe();let o=Cm(r)||this._document,s=this._elementInfo.get(r);if(s)return n&&(s.checkChildren=!0),s.subject;let l={checkChildren:n,subject:new ue,rootNode:o};return this._elementInfo.set(r,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(e){let n=Vn(e),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(e,n,r){let o=Vn(e),s=this._document.activeElement;o===s?this._getClosestElementsInfo(o).forEach(([l,c])=>this._originChanged(l,n,c)):(this._setOrigin(n),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===il.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused",n==="touch"),e.classList.toggle("cdk-keyboard-focused",n==="keyboard"),e.classList.toggle("cdk-mouse-focused",n==="mouse"),e.classList.toggle("cdk-program-focused",n==="program")}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&n,this._detectionMode===il.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?c0:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,n){let r=this._elementInfo.get(n),o=Vt(e);!r||!r.checkChildren&&n!==o||this._originChanged(n,this._getFocusOrigin(o),r)}_onBlur(e,n){let r=this._elementInfo.get(n);!r||r.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let n=e.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,xd),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,xd)}),this._rootNodeFocusListenerCount.set(n,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Je(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){let n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){let r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,xd),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,xd),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,r){this._setClasses(e,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){let n=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&n.push([o,r])}),n}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!n||n===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let o=e.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(n))return!0}return!1}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),xm=(()=>{class i{_elementRef=y(Oe);_focusMonitor=y(vs);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new he;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,e.nodeType===1&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(n=>{this._focusOrigin=n,this.cdkFocusChange.emit(n)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Ve({type:i,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return i})();var Id=new WeakMap,pt=(()=>{class i{_appRef;_injector=y(be);_environmentInjector=y(qt);load(e){let n=this._appRef=this._appRef||this._injector.get(jr),r=Id.get(n);r||(r={loaders:new Set,refs:[]},Id.set(n,r),n.onDestroy(()=>{Id.get(n)?.refs.forEach(o=>o.destroy()),Id.delete(n)})),r.loaders.has(e)||(r.loaders.add(e),r.refs.push(gc(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var si=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ie({type:i,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(n,r){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return i})();function ws(i){return Array.isArray(i)?i:[i]}var h0=new Set,ro,Cs=(()=>{class i{_platform=y(Ke);_nonce=y(ba,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):a1}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&s1(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function s1(i,t){if(!h0.has(i))try{ro||(ro=document.createElement("style"),t&&ro.setAttribute("nonce",t),ro.setAttribute("type","text/css"),document.head.appendChild(ro)),ro.sheet&&(ro.sheet.insertRule(`@media ${i} {body{ }}`,0),h0.add(i))}catch(e){console.error(e)}}function a1(i){return{matches:i==="all"||i==="",media:i,addListener:()=>{},removeListener:()=>{}}}var Im=(()=>{class i{_mediaMatcher=y(Cs);_zone=y(te);_queries=new Map;_destroySubject=new ue;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return m0(ws(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=m0(ws(e)).map(s=>this._registerQuery(s).observable),o=pa(r);return o=oc(o.pipe(zn(1)),o.pipe(lc(1),ac(0))),o.pipe($e(s=>{let l={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:u})=>{l.matches=l.matches||c,l.breakpoints[u]=c}),l}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let n=this._mediaMatcher.matchMedia(e),o={observable:new pi(s=>{let l=c=>this._zone.run(()=>s.next(c));return n.addListener(l),()=>{n.removeListener(l)}}).pipe(zt(n),$e(({matches:s})=>({query:e,matches:s})),Je(this._destroySubject)),mql:n};return this._queries.set(e,o),o}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function m0(i){return i.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var l1=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Ad=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=De({providers:[l1]})}return i})();var c1=(()=>{class i{_platform=y(Ke);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return u1(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let n=d1(b1(e));if(n&&(p0(n)===-1||!this.isVisible(n)))return!1;let r=e.nodeName.toLowerCase(),o=p0(e);return e.hasAttribute("contenteditable")?o!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!_1(e)?!1:r==="audio"?e.hasAttribute("controls")?o!==-1:!1:r==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,n){return y1(e)&&!this.isDisabled(e)&&(n?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function d1(i){try{return i.frameElement}catch{return null}}function u1(i){return!!(i.offsetWidth||i.offsetHeight||typeof i.getClientRects=="function"&&i.getClientRects().length)}function h1(i){let t=i.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function m1(i){return f1(i)&&i.type=="hidden"}function p1(i){return g1(i)&&i.hasAttribute("href")}function f1(i){return i.nodeName.toLowerCase()=="input"}function g1(i){return i.nodeName.toLowerCase()=="a"}function _0(i){if(!i.hasAttribute("tabindex")||i.tabIndex===void 0)return!1;let t=i.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function p0(i){if(!_0(i))return null;let t=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function _1(i){let t=i.nodeName.toLowerCase(),e=t==="input"&&i.type;return e==="text"||e==="password"||t==="select"||t==="textarea"}function y1(i){return m1(i)?!1:h1(i)||p1(i)||i.hasAttribute("contenteditable")||_0(i)}function b1(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}var Tm=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_enabled=!0;constructor(t,e,n,r,o=!1,s){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._injector=s,o||this.attachAnchors()}destroy(){let t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let n=this._getFirstTabbableElement(e);return n?.focus(t),!!n}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){let e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let n=0;n<e.length;n++){let r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let n=e.length-1;n>=0;n--){let r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?un(t,{injector:this._injector}):setTimeout(t)}},y0=(()=>{class i{_checker=y(c1);_ngZone=y(te);_document=y(Me);_injector=y(be);constructor(){y(pt).load(si)}create(e,n=!1){return new Tm(e,this._checker,this._ngZone,this._document,n,this._injector)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Dm=(()=>{class i{_elementRef=y(Oe);_focusTrapFactory=y(y0);focusTrap;_previouslyFocusedElement=null;get enabled(){return this.focusTrap?.enabled||!1}set enabled(e){this.focusTrap&&(this.focusTrap.enabled=e)}autoCapture;constructor(){y(Ke).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(e){let n=e.autoCapture;n&&!n.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=ys(),this.focusTrap?.focusInitialElementWhenReady()}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Ve({type:i,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",Pe],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",Pe]},exportAs:["cdkTrapFocus"],features:[dt]})}return i})(),b0=new Y("liveAnnouncerElement",{providedIn:"root",factory:()=>null}),v0=new Y("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),v1=0,Mm=(()=>{class i{_ngZone=y(te);_defaultOptions=y(v0,{optional:!0});_liveElement;_document=y(Me);_previousTimeout;_currentPromise;_currentResolve;constructor(){let e=y(b0,{optional:!0});this._liveElement=e||this._createLiveElement()}announce(e,...n){let r=this._defaultOptions,o,s;return n.length===1&&typeof n[0]=="number"?s=n[0]:[o,s]=n,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),s==null&&r&&(s=r.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",n=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<n.length;o++)n[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id=`cdk-live-announcer-${v1++}`,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){let n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){let o=n[r],s=o.getAttribute("aria-owns");s?s.indexOf(e)===-1&&o.setAttribute("aria-owns",s+" "+e):o.setAttribute("aria-owns",e)}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Er=(function(i){return i[i.NONE=0]="NONE",i[i.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",i[i.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",i})(Er||{}),f0="cdk-high-contrast-black-on-white",g0="cdk-high-contrast-white-on-black",Am="cdk-high-contrast-active",w0=(()=>{class i{_platform=y(Ke);_hasCheckedHighContrastMode;_document=y(Me);_breakpointSubscription;constructor(){this._breakpointSubscription=y(Im).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Er.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Er.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Er.BLACK_ON_WHITE}return Er.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(Am,f0,g0),this._hasCheckedHighContrastMode=!0;let n=this.getHighContrastMode();n===Er.BLACK_ON_WHITE?e.add(Am,f0):n===Er.WHITE_ON_BLACK&&e.add(Am,g0)}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Rm=(()=>{class i{constructor(){y(w0)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=De({imports:[Ad]})}return i})();var km={},kt=class i{_appId=y(Vr);static _infix=`a${Math.floor(Math.random()*1e5).toString()}`;getId(t,e=!1){return this._appId!=="ng"&&(t+=this._appId),km.hasOwnProperty(t)||(km[t]=0),`${t}${e?i._infix+"-":""}${km[t]++}`}static \u0275fac=function(e){return new(e||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})};var w1=200,Td=class{_letterKeyStream=new ue;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new ue;selectedItem=this._selectedItem;constructor(t,e){let n=typeof e?.debounceInterval=="number"?e.debounceInterval:w1;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(t),this._setupKeyHandler(n)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(t){this._selectedItemIndex=t}setItems(t){this._items=t}handleKey(t){let e=t.keyCode;t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(t){this._letterKeyStream.pipe($t(e=>this._pressedLetters.push(e)),ac(t),Ge(()=>this._pressedLetters.length>0),$e(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let n=1;n<this._items.length+1;n++){let r=(this._selectedItemIndex+n)%this._items.length,o=this._items[r];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};function Dt(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}var Dd=class{_items;_activeItemIndex=Ue(-1);_activeItem=Ue(null);_wrap=!1;_typeaheadSubscription=it.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=t=>t.disabled;constructor(t,e){this._items=t,t instanceof Sh?this._itemChangesSubscription=t.changes.subscribe(n=>this._itemsChanged(n.toArray())):Ur(t)&&(this._effectRef=ar(()=>this._itemsChanged(t()),{injector:e}))}tabOut=new ue;change=new ue;skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new Td(e,{debounceInterval:typeof t=="number"?t:void 0,skipPredicate:n=>this._skipPredicateFn(n)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(n=>{this.setActiveItem(n)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){let e=this._activeItem();this.updateActiveItem(t),this._activeItem()!==e&&this.change.next(this._activeItemIndex())}onKeydown(t){let e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex()+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(r||Dt(t,"shiftKey"))&&this._typeahead?.handleKey(t);return}this._typeahead?.reset(),t.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){let e=this._getItemsArray(),n=typeof t=="number"?t:e.indexOf(t),r=e[n];this._activeItem.set(r??null),this._activeItemIndex.set(n),this._typeahead?.setCurrentSelectedItemIndex(n)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){let e=this._getItemsArray();for(let n=1;n<=e.length;n++){let r=(this._activeItemIndex()+t*n+e.length)%e.length,o=e[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex()+t,t)}_setActiveItemByIndex(t,e){let n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(t+=e,!n[t])return;this.setActiveItem(t)}}_getItemsArray(){return Ur(this._items)?this._items():this._items instanceof Sh?this._items.toArray():this._items}_itemsChanged(t){this._typeahead?.setItems(t);let e=this._activeItem();if(e){let n=t.indexOf(e);n>-1&&n!==this._activeItemIndex()&&(this._activeItemIndex.set(n),this._typeahead?.setCurrentSelectedItemIndex(n))}}};var sl=class extends Dd{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}};var S0=" ";function Nm(i,t,e){let n=Od(i,t);e=e.trim(),!n.some(r=>r.trim()===e)&&(n.push(e),i.setAttribute(t,n.join(S0)))}function Pd(i,t,e){let n=Od(i,t);e=e.trim();let r=n.filter(o=>o!==e);r.length?i.setAttribute(t,r.join(S0)):i.removeAttribute(t)}function Od(i,t){return i.getAttribute(t)?.match(/\S+/g)??[]}var x0="cdk-describedby-message",kd="cdk-describedby-host",Pm=0,I0=(()=>{class i{_platform=y(Ke);_document=y(Me);_messageRegistry=new Map;_messagesContainer=null;_id=`${Pm++}`;constructor(){y(pt).load(si),this._id=y(Vr)+"-"+Pm++}describe(e,n,r){if(!this._canBeDescribed(e,n))return;let o=Om(n,r);typeof n!="string"?(E0(n,this._id),this._messageRegistry.set(o,{messageElement:n,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(n,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,n,r){if(!n||!this._isElementNode(e))return;let o=Om(n,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),typeof n=="string"){let s=this._messageRegistry.get(o);s&&s.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let e=this._document.querySelectorAll(`[${kd}="${this._id}"]`);for(let n=0;n<e.length;n++)this._removeCdkDescribedByReferenceIds(e[n]),e[n].removeAttribute(kd);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,n){let r=this._document.createElement("div");E0(r,this._id),r.textContent=e,n&&r.setAttribute("role",n),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(Om(e,n),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;let e="cdk-describedby-message-container",n=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<n.length;o++)n[o].remove();let r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){let n=Od(e,"aria-describedby").filter(r=>r.indexOf(x0)!=0);e.setAttribute("aria-describedby",n.join(" "))}_addMessageReference(e,n){let r=this._messageRegistry.get(n);Nm(e,"aria-describedby",r.messageElement.id),e.setAttribute(kd,this._id),r.referenceCount++}_removeMessageReference(e,n){let r=this._messageRegistry.get(n);r.referenceCount--,Pd(e,"aria-describedby",r.messageElement.id),e.removeAttribute(kd)}_isElementDescribedByMessage(e,n){let r=Od(e,"aria-describedby"),o=this._messageRegistry.get(n),s=o&&o.messageElement.id;return!!s&&r.indexOf(s)!=-1}_canBeDescribed(e,n){if(!this._isElementNode(e))return!1;if(n&&typeof n=="object")return!0;let r=n==null?"":`${n}`.trim(),o=e.getAttribute("aria-label");return r?!o||o.trim()!==r:!1}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Om(i,t){return typeof i=="string"?`${t||""}/${i}`:i}function E0(i,t){i.id||(i.id=`${x0}-${t}-${Pm++}`)}var C1=new Y("cdk-dir-doc",{providedIn:"root",factory:()=>y(Me)}),E1=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function A0(i){let t=i?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?E1.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var ln=(()=>{class i{get value(){return this.valueSignal()}valueSignal=Ue("ltr");change=new he;constructor(){let e=y(C1,{optional:!0});if(e){let n=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.valueSignal.set(A0(n||r||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var rt=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=De({})}return i})();function ft(i){return i==null?"":typeof i=="string"?i:`${i}px`}function $i(i){return i!=null&&`${i}`!="false"}function T0(i,t=/\s+/){let e=[];if(i!=null){let n=Array.isArray(i)?i:`${i}`.split(t);for(let r of n){let o=`${r}`.trim();o&&e.push(o)}}return e}var ao;function D0(){if(ao==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return ao=!1,ao;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)ao=!0;else{let i=Element.prototype.scrollTo;i?ao=!/\{\s*\[native code\]\s*\}/.test(i.toString()):ao=!1}}return ao}function Fm(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Es,M0=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Lm(){if(Es)return Es;if(typeof document!="object"||!document)return Es=new Set(M0),Es;let i=document.createElement("input");return Es=new Set(M0.filter(t=>(i.setAttribute("type",t),i.type===t))),Es}var Vm=class{_box;_destroyed=new ue;_resizeSubject=new ue;_resizeObserver;_elementObservables=new Map;constructor(t){this._box=t,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new pi(e=>{let n=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),n.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Ge(e=>e.some(n=>n.target===t)),yh({bufferSize:1,refCount:!0}),Je(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},R0=(()=>{class i{_cleanupErrorListener;_observers=new Map;_ngZone=y(te);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(e,n){let r=n?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new Vm(r)),this._observers.get(r).observe(e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var S1=new Y("MATERIAL_ANIMATIONS"),k0=null;function x1(){return y(S1,{optional:!0})?.animationsDisabled||y(Br,{optional:!0})==="NoopAnimations"?"di-disabled":(k0??=y(Cs).matchMedia("(prefers-reduced-motion)").matches,k0?"reduced-motion":"enabled")}function Ot(){return x1()!=="enabled"}var I1=["notch"],A1=["matFormFieldNotchedOutline",""],T1=["*"],O0=["iconPrefixContainer"],P0=["textPrefixContainer"],N0=["iconSuffixContainer"],F0=["textSuffixContainer"],D1=["textField"],M1=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],R1=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function k1(i,t){i&1&&H(0,"span",21)}function O1(i,t){if(i&1&&(m(0,"label",20),Xe(1,1),W(2,k1,1,0,"span",21),f()),i&2){let e=I(2);j("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),Ce("for",e._control.disableAutomaticLabeling?null:e._control.id),h(2),K(!e.hideRequiredMarker&&e._control.required?2:-1)}}function P1(i,t){if(i&1&&W(0,O1,3,5,"label",20),i&2){let e=I();K(e._hasFloatingLabel()?0:-1)}}function N1(i,t){i&1&&H(0,"div",7)}function F1(i,t){}function L1(i,t){if(i&1&&ki(0,F1,0,0,"ng-template",13),i&2){I(2);let e=At(1);j("ngTemplateOutlet",e)}}function V1(i,t){if(i&1&&(m(0,"div",9),W(1,L1,1,1,null,13),f()),i&2){let e=I();j("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),h(),K(e._forceDisplayInfixLabel()?-1:1)}}function B1(i,t){i&1&&(m(0,"div",10,2),Xe(2,2),f())}function U1(i,t){i&1&&(m(0,"div",11,3),Xe(2,3),f())}function j1(i,t){}function z1(i,t){if(i&1&&ki(0,j1,0,0,"ng-template",13),i&2){I();let e=At(1);j("ngTemplateOutlet",e)}}function $1(i,t){i&1&&(m(0,"div",14,4),Xe(2,4),f())}function q1(i,t){i&1&&(m(0,"div",15,5),Xe(2,5),f())}function H1(i,t){i&1&&H(0,"div",16)}function W1(i,t){i&1&&(m(0,"div",18),Xe(1,6),f())}function K1(i,t){if(i&1&&(m(0,"mat-hint",22),_(1),f()),i&2){let e=I(2);j("id",e._hintLabelId),h(),A(e.hintLabel)}}function G1(i,t){if(i&1&&(m(0,"div",19),W(1,K1,2,2,"mat-hint",22),Xe(2,7),H(3,"div",23),Xe(4,8),f()),i&2){let e=I();h(),K(e.hintLabel?1:-1)}}var al=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=Ve({type:i,selectors:[["mat-label"]]})}return i})(),Y1=new Y("MatError");var Bm=(()=>{class i{align="start";id=y(kt).getId("mat-mdc-hint-");static \u0275fac=function(n){return new(n||i)};static \u0275dir=Ve({type:i,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,r){n&2&&(hn("id",r.id),Ce("align",null),me("mat-mdc-form-field-hint-end",r.align==="end"))},inputs:{align:"align",id:"id"}})}return i})(),Q1=new Y("MatPrefix");var $0=new Y("MatSuffix"),Um=(()=>{class i{set _isTextSelector(e){this._isText=!0}_isText=!1;static \u0275fac=function(n){return new(n||i)};static \u0275dir=Ve({type:i,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},features:[pn([{provide:$0,useExisting:i}])]})}return i})(),q0=new Y("FloatingLabelParent"),L0=(()=>{class i{_elementRef=y(Oe);get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=y(R0);_ngZone=y(te);_parent=y(q0);_resizeSubscription=new it;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return X1(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Ve({type:i,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,r){n&2&&me("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return i})();function X1(i){let t=i;if(t.offsetParent!==null)return t.scrollWidth;let e=t.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);let n=e.scrollWidth;return e.remove(),n}var V0="mdc-line-ripple--active",Nd="mdc-line-ripple--deactivating",B0=(()=>{class i{_elementRef=y(Oe);_cleanupTransitionEnd;constructor(){let e=y(te),n=y(Rt);e.runOutsideAngular(()=>{this._cleanupTransitionEnd=n.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let e=this._elementRef.nativeElement.classList;e.remove(Nd),e.add(V0)}deactivate(){this._elementRef.nativeElement.classList.add(Nd)}_handleTransitionEnd=e=>{let n=this._elementRef.nativeElement.classList,r=n.contains(Nd);e.propertyName==="opacity"&&r&&n.remove(V0,Nd)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Ve({type:i,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return i})(),U0=(()=>{class i{_elementRef=y(Oe);_ngZone=y(te);open=!1;_notch;ngAfterViewInit(){let e=this._elementRef.nativeElement,n=e.querySelector(".mdc-floating-label");n?(e.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(n.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>n.style.transitionDuration="")}))):e.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){let n=this._notch.nativeElement;!this.open||!e?n.style.width="":n.style.width=`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}_setMaxWidth(e){this._notch.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${e}px)`)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ie({type:i,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,r){if(n&1&&It(I1,5),n&2){let o;Ie(o=Ae())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,r){n&2&&me("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:A1,ngContentSelectors:T1,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(n,r){n&1&&(Ht(),_i(0,"div",1),xe(1,"div",2,0),Xe(3),ve(),_i(4,"div",3))},encapsulation:2,changeDetection:0})}return i})(),Ss=(()=>{class i{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;describedByIds;static \u0275fac=function(n){return new(n||i)};static \u0275dir=Ve({type:i})}return i})();var lo=new Y("MatFormField"),Z1=new Y("MAT_FORM_FIELD_DEFAULT_OPTIONS"),j0="fill",J1="auto",z0="fixed",eD="translateY(-50%)",Fd=(()=>{class i{_elementRef=y(Oe);_changeDetectorRef=y(st);_platform=y(Ke);_idGenerator=y(kt);_ngZone=y(te);_defaults=y(Z1,{optional:!0});_currentDirection;_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_iconPrefixContainerSignal=Ea("iconPrefixContainer");_textPrefixContainerSignal=Ea("textPrefixContainer");_iconSuffixContainerSignal=Ea("iconSuffixContainer");_textSuffixContainerSignal=Ea("textSuffixContainer");_prefixSuffixContainers=Ca(()=>[this._iconPrefixContainerSignal(),this._textPrefixContainerSignal(),this._iconSuffixContainerSignal(),this._textSuffixContainerSignal()].map(e=>e?.nativeElement).filter(e=>e!==void 0));_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=G_(al);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=$i(e)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||J1}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearanceSignal()}set appearance(e){let n=e||this._defaults?.appearance||j0;this._appearanceSignal.set(n)}_appearanceSignal=Ue(j0);get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||z0}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||z0}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_describedByIds;get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}_destroyed=new ue;_isFocused=null;_explicitFormFieldControl;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_outlineLabelOffsetResizeObserver=null;_animationsDisabled=Ot();constructor(){let e=this._defaults,n=y(ln);e&&(e.appearance&&(this.appearance=e.appearance),this._hideRequiredMarker=!!e?.hideRequiredMarker,e.color&&(this.color=e.color)),ar(()=>this._currentDirection=n.valueSignal()),this._syncOutlineLabelOffset()}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._outlineLabelOffsetResizeObserver?.disconnect(),this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=Ca(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(e){let n=this._control,r="mat-mdc-form-field-type-";e&&this._elementRef.nativeElement.classList.remove(r+e.controlType),n.controlType&&this._elementRef.nativeElement.classList.add(r+n.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=n.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=n.stateChanges.pipe(zt([void 0,void 0]),$e(()=>[n.errorState,n.userAriaDescribedBy]),ya(),Ge(([[o,s],[l,c]])=>o!==l||s!==c)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),n.ngControl&&n.ngControl.valueChanges&&(this._valueChanges=n.ngControl.valueChanges.pipe(Je(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),fi(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){let e=this._control.focused;e&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!e&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._elementRef.nativeElement.classList.toggle("mat-focused",e),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",e)}_syncOutlineLabelOffset(){X_({earlyRead:()=>{if(this._appearanceSignal()!=="outline")return this._outlineLabelOffsetResizeObserver?.disconnect(),null;if(globalThis.ResizeObserver){this._outlineLabelOffsetResizeObserver||=new globalThis.ResizeObserver(()=>{this._writeOutlinedLabelStyles(this._getOutlinedLabelOffset())});for(let e of this._prefixSuffixContainers())this._outlineLabelOffsetResizeObserver.observe(e,{box:"border-box"})}return this._getOutlinedLabelOffset()},write:e=>this._writeOutlinedLabelStyles(e())})}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=Ca(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(e){let n=this._control?this._control.ngControl:null;return n&&n[e]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&e.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let o=this._hintChildren?this._hintChildren.find(l=>l.align==="start"):null,s=this._hintChildren?this._hintChildren.find(l=>l.align==="end"):null;o?e.push(o.id):this._hintLabel&&e.push(this._hintLabelId),s&&e.push(s.id)}else this._errorChildren&&e.push(...this._errorChildren.map(o=>o.id));let n=this._control.describedByIds,r;if(n){let o=this._describedByIds||e;r=e.concat(n.filter(s=>s&&!o.includes(s)))}else r=e;this._control.setDescribedByIds(r),this._describedByIds=e}}_getOutlinedLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return null;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return["",null];if(!this._isAttachedToDom())return null;let e=this._iconPrefixContainer?.nativeElement,n=this._textPrefixContainer?.nativeElement,r=this._iconSuffixContainer?.nativeElement,o=this._textSuffixContainer?.nativeElement,s=e?.getBoundingClientRect().width??0,l=n?.getBoundingClientRect().width??0,c=r?.getBoundingClientRect().width??0,u=o?.getBoundingClientRect().width??0,g=this._currentDirection==="rtl"?"-1":"1",b=`${s+l}px`,R=`calc(${g} * (${b} + var(--mat-mdc-form-field-label-offset-x, 0px)))`,T=`var(--mat-mdc-form-field-label-transform, ${eD} translateX(${R}))`,O=s+l+c+u;return[T,O]}_writeOutlinedLabelStyles(e){if(e!==null){let[n,r]=e;this._floatingLabel&&(this._floatingLabel.element.style.transform=n),r!==null&&this._notchedOutline?._setMaxWidth(r)}}_isAttachedToDom(){let e=this._elementRef.nativeElement;if(e.getRootNode){let n=e.getRootNode();return n&&n!==e}return document.documentElement.contains(e)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ie({type:i,selectors:[["mat-form-field"]],contentQueries:function(n,r,o){if(n&1&&(L_(o,r._labelChild,al,5),lr(o,Ss,5)(o,Q1,5)(o,$0,5)(o,Y1,5)(o,Bm,5)),n&2){Th();let s;Ie(s=Ae())&&(r._formFieldControl=s.first),Ie(s=Ae())&&(r._prefixChildren=s),Ie(s=Ae())&&(r._suffixChildren=s),Ie(s=Ae())&&(r._errorChildren=s),Ie(s=Ae())&&(r._hintChildren=s)}},viewQuery:function(n,r){if(n&1&&(V_(r._iconPrefixContainerSignal,O0,5)(r._textPrefixContainerSignal,P0,5)(r._iconSuffixContainerSignal,N0,5)(r._textSuffixContainerSignal,F0,5),It(D1,5)(O0,5)(P0,5)(N0,5)(F0,5)(L0,5)(U0,5)(B0,5)),n&2){Th(4);let o;Ie(o=Ae())&&(r._textField=o.first),Ie(o=Ae())&&(r._iconPrefixContainer=o.first),Ie(o=Ae())&&(r._textPrefixContainer=o.first),Ie(o=Ae())&&(r._iconSuffixContainer=o.first),Ie(o=Ae())&&(r._textSuffixContainer=o.first),Ie(o=Ae())&&(r._floatingLabel=o.first),Ie(o=Ae())&&(r._notchedOutline=o.first),Ie(o=Ae())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:38,hostBindings:function(n,r){n&2&&me("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-appearance-fill",r.appearance=="fill")("mat-form-field-appearance-outline",r.appearance=="outline")("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-primary",r.color!=="accent"&&r.color!=="warn")("mat-accent",r.color==="accent")("mat-warn",r.color==="warn")("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[pn([{provide:lo,useExisting:i},{provide:q0,useExisting:i}])],ngContentSelectors:R1,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],["aria-atomic","true","aria-live","polite",1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(n,r){if(n&1){let o=ce();Ht(M1),ki(0,P1,1,1,"ng-template",null,0,q_),m(2,"div",6,1),q("click",function(l){return L(o),V(r._control.onContainerClick(l))}),W(4,N1,1,0,"div",7),m(5,"div",8),W(6,V1,2,2,"div",9),W(7,B1,3,0,"div",10),W(8,U1,3,0,"div",11),m(9,"div",12),W(10,z1,1,1,null,13),Xe(11),f(),W(12,$1,3,0,"div",14),W(13,q1,3,0,"div",15),f(),W(14,H1,1,0,"div",16),f(),m(15,"div",17),W(16,W1,2,0,"div",18)(17,G1,5,1,"div",19),f()}if(n&2){let o;h(2),me("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),h(2),K(!r._hasOutline()&&!r._control.disabled?4:-1),h(2),K(r._hasOutline()?6:-1),h(),K(r._hasIconPrefix?7:-1),h(),K(r._hasTextPrefix?8:-1),h(2),K(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),h(2),K(r._hasTextSuffix?12:-1),h(),K(r._hasIconSuffix?13:-1),h(),K(r._hasOutline()?-1:14),h(),me("mat-mdc-form-field-subscript-dynamic-size",r.subscriptSizing==="dynamic");let s=r._getSubscriptMessageType();h(),K((o=s)==="error"?16:o==="hint"?17:-1)}},dependencies:[L0,U0,oy,B0,Bm],styles:[`.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator,.mdc-text-field__input::-webkit-search-cancel-button{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-filled-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-filled-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-outlined-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-outlined-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-filled-error-caret-color, var(--mat-sys-error))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-outlined-error-caret-color, var(--mat-sys-error))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-filled-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-outlined-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mat-form-field-filled-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mat-form-field-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-filled-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-filled-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-filled-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-filled-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mat-form-field-filled-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-filled-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-filled-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-filled-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-outlined-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-outlined-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-outlined-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-outlined-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mat-form-field-outlined-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-outlined-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-outlined-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-outlined-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-outline-color, var(--mat-sys-outline));border-width:var(--mat-form-field-outlined-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mat-form-field-outlined-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{max-width:min(100%,calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mat-form-field-filled-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mat-form-field-filled-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}
`],encapsulation:2,changeDetection:0})}return i})();var co=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=De({imports:[Ad,Fd,rt]})}return i})();var Gn=(function(i){return i[i.FADING_IN=0]="FADING_IN",i[i.VISIBLE=1]="VISIBLE",i[i.FADING_OUT=2]="FADING_OUT",i[i.HIDDEN=3]="HIDDEN",i})(Gn||{}),jm=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=Gn.HIDDEN;constructor(t,e,n,r=!1){this._renderer=t,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=r}fadeOut(){this._renderer.fadeOutRipple(this)}},H0=Cr({passive:!0,capture:!0}),zm=class{_events=new Map;addHandler(t,e,n,r){let o=this._events.get(e);if(o){let s=o.get(n);s?s.add(r):o.set(n,new Set([r]))}else this._events.set(e,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,H0)})}removeHandler(t,e,n){let r=this._events.get(t);if(!r)return;let o=r.get(e);o&&(o.delete(n),o.size===0&&r.delete(e),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,H0)))}_delegateEventHandler=t=>{let e=Vt(t);e&&this._events.get(t.type)?.forEach((n,r)=>{(r===e||r.contains(e))&&n.forEach(o=>o.handleEvent(t))})}},ll={enterDuration:225,exitDuration:150},nD=800,W0=Cr({passive:!0,capture:!0}),K0=["mousedown","touchstart"],G0=["mouseup","mouseleave","touchend","touchcancel"],iD=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ie({type:i,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return i})(),cl=class i{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new zm;constructor(t,e,n,r,o){this._target=t,this._ngZone=e,this._platform=r,r.isBrowser&&(this._containerElement=Vn(n)),o&&o.get(pt).load(iD)}fadeInRipple(t,e,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=k(k({},ll),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);let s=n.radius||rD(t,e,r),l=t-r.left,c=e-r.top,u=o.enterDuration,g=document.createElement("div");g.classList.add("mat-ripple-element"),g.style.left=`${l-s}px`,g.style.top=`${c-s}px`,g.style.height=`${s*2}px`,g.style.width=`${s*2}px`,n.color!=null&&(g.style.backgroundColor=n.color),g.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(g);let b=window.getComputedStyle(g),C=b.transitionProperty,R=b.transitionDuration,T=C==="none"||R==="0s"||R==="0s, 0s"||r.width===0&&r.height===0,O=new jm(this,g,n,T);g.style.transform="scale3d(1, 1, 1)",O.state=Gn.FADING_IN,n.persistent||(this._mostRecentTransientRipple=O);let B=null;return!T&&(u||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let z=()=>{B&&(B.fallbackTimer=null),clearTimeout(Z),this._finishRippleTransition(O)},X=()=>this._destroyRipple(O),Z=setTimeout(X,u+100);g.addEventListener("transitionend",z),g.addEventListener("transitioncancel",X),B={onTransitionEnd:z,onTransitionCancel:X,fallbackTimer:Z}}),this._activeRipples.set(O,B),(T||!u)&&this._finishRippleTransition(O),O}fadeOutRipple(t){if(t.state===Gn.FADING_OUT||t.state===Gn.HIDDEN)return;let e=t.element,n=k(k({},ll),t.config.animation);e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",t.state=Gn.FADING_OUT,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=Vn(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,K0.forEach(n=>{i._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{G0.forEach(e=>{this._triggerElement.addEventListener(e,this,W0)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===Gn.FADING_IN?this._startFadeOutTransition(t):t.state===Gn.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=Gn.VISIBLE,!n&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=Gn.HIDDEN,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){let e=el(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+nD;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!tl(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===Gn.VISIBLE||t.config.terminateOnPointerUp&&t.state===Gn.FADING_IN;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(K0.forEach(e=>i._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(G0.forEach(e=>t.removeEventListener(e,this,W0)),this._pointerUpEventsRegistered=!1))}};function rD(i,t,e){let n=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(n*n+r*r)}var $m=new Y("mat-ripple-global-options"),Y0=(()=>{class i{_elementRef=y(Oe);_animationsDisabled=Ot();color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let e=y(te),n=y(Ke),r=y($m,{optional:!0}),o=y(be);this._globalOptions=r||{},this._rippleRenderer=new cl(this,e,this._elementRef,n,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:k(k(k({},this._globalOptions.animation),this._animationsDisabled?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,n=0,r){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,n,k(k({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,k(k({},this.rippleConfig),e))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Ve({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,r){n&2&&me("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return i})();var Q0=(()=>{class i{_animationsDisabled=Ot();state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ie({type:i,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(n,r){n&2&&me("mat-pseudo-checkbox-indeterminate",r.state==="indeterminate")("mat-pseudo-checkbox-checked",r.state==="checked")("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal",r.appearance==="minimal")("mat-pseudo-checkbox-full",r.appearance==="full")("_mat-animation-noopable",r._animationsDisabled)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(n,r){},styles:[`.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-minimal-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-minimal-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-pseudo-checkbox-full-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-pseudo-checkbox-full-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-pseudo-checkbox-full-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-full-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-pseudo-checkbox-full-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-full-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}
`],encapsulation:2,changeDetection:0})}return i})();var xs=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ie({type:i,selectors:[["structural-styles"]],decls:0,vars:0,template:function(n,r){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus-visible::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return i})();var oD=["text"],sD=[[["mat-icon"]],"*"],aD=["mat-icon","*"];function lD(i,t){if(i&1&&H(0,"mat-pseudo-checkbox",1),i&2){let e=I();j("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function cD(i,t){if(i&1&&H(0,"mat-pseudo-checkbox",3),i&2){let e=I();j("disabled",e.disabled)}}function dD(i,t){if(i&1&&(m(0,"span",4),_(1),f()),i&2){let e=I();h(),$("(",e.group.label,")")}}var Hm=new Y("MAT_OPTION_PARENT_COMPONENT"),Wm=new Y("MatOptgroup");var qm=class{source;isUserInput;constructor(t,e=!1){this.source=t,this.isUserInput=e}},Is=(()=>{class i{_element=y(Oe);_changeDetectorRef=y(st);_parent=y(Hm,{optional:!0});group=y(Wm,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=y(kt).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled()}set disabled(e){this._disabled.set(e)}_disabled=Ue(!1);get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}onSelectionChange=new he;_text;_stateChanges=new ue;constructor(){let e=y(pt);e.load(xs),e.load(si),this._signalDisableRipple=!!this._parent&&Ur(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,n){let r=this._getHostElement();typeof r.focus=="function"&&r.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!Dt(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new qm(this,e))}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ie({type:i,selectors:[["mat-option"]],viewQuery:function(n,r){if(n&1&&It(oD,7),n&2){let o;Ie(o=Ae())&&(r._text=o.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(n,r){n&1&&q("click",function(){return r._selectViaInteraction()})("keydown",function(s){return r._handleKeydown(s)}),n&2&&(hn("id",r.id),Ce("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),me("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",Pe]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:aD,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(n,r){n&1&&(Ht(sD),W(0,lD,1,2,"mat-pseudo-checkbox",1),Xe(1),m(2,"span",2,0),Xe(4,1),f(),W(5,cD,1,1,"mat-pseudo-checkbox",3),W(6,dD,2,1,"span",4),H(7,"div",5)),n&2&&(K(r.multiple?0:-1),h(5),K(!r.multiple&&r.selected&&!r.hideSingleSelectionIndicator?5:-1),h(),K(r.group&&r.group._inert?6:-1),h(),j("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[Q0,Y0],styles:[`.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-active,.mat-mdc-option-multiple,:focus,:hover){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-active,.mat-mdc-option-multiple,:focus,:hover) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-pseudo-checkbox-minimal-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mat-list-list-item-selected-container-color: var(--mat-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return i})();function X0(i,t,e){if(e.length){let n=t.toArray(),r=e.toArray(),o=0;for(let s=0;s<i+1;s++)n[s].group&&n[s].group===r[o]&&o++;return o}return 0}function Z0(i,t,e,n){return i<e?i:i+t>e+n?Math.max(0,i-n+t):e}var uD=20,As=(()=>{class i{_ngZone=y(te);_platform=y(Ke);_renderer=y(Nt).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new ue;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=uD){return this._platform.isBrowser?new pi(n=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let r=e>0?this._scrolled.pipe(gh(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):pe()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){let r=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(Ge(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){let n=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&n.push(o)}),n}_scrollableContainsElement(e,n){let r=Vn(n),o=e.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var hD=20,Sr=(()=>{class i{_platform=y(Ke);_listeners;_viewportSize;_change=new ue;_document=y(Me);constructor(){let e=y(te),n=y(Nt).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=o=>this._change.next(o);this._listeners=[n.listen("window","resize",r),n.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,n=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect(),s=-o.top||e.body.scrollTop||n.scrollY||r.scrollTop||0,l=-o.left||e.body.scrollLeft||n.scrollX||r.scrollLeft||0;return{top:s,left:l}}change(e=hD){return e>0?this._change.pipe(gh(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var uo=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=De({})}return i})(),Km=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=De({imports:[rt,uo,rt,uo]})}return i})();var dl=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},xr=class extends dl{component;viewContainerRef;injector;projectableNodes;constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.projectableNodes=r}},Ts=class extends dl{templateRef;viewContainerRef;context;injector;constructor(t,e,n,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},Gm=class extends dl{element;constructor(t){super(),this.element=t instanceof Oe?t.nativeElement:t}},Ld=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof xr)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Ts)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof Gm)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},Vd=class extends Ld{outletElement;_appRef;_defaultInjector;constructor(t,e,n){super(),this.outletElement=t,this._appRef=e,this._defaultInjector=n}attachComponentPortal(t){let e;if(t.viewContainerRef){let n=t.injector||t.viewContainerRef.injector,r=n.get(xh,null,{optional:!0})||void 0;e=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:n,ngModuleRef:r,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else{let n=this._appRef,r=t.injector||this._defaultInjector||be.NULL,o=r.get(qt,n.injector);e=gc(t.component,{elementInjector:r,environmentInjector:o,projectableNodes:t.projectableNodes||void 0}),n.attachView(e.hostView),this.setDisposeFn(()=>{n.viewCount>0&&n.detachView(e.hostView),e.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=t,e}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(n);r!==-1&&e.remove(r)}),this._attachedPortal=t,n}attachDomPortal=t=>{let e=t.element;e.parentNode;let n=this.outletElement.ownerDocument.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var Ym=(()=>{class i extends Ld{_moduleRef=y(xh,{optional:!0});_document=y(Me);_viewContainerRef=y(ti);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new he;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let n=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,r=n.createComponent(e.component,{index:n.length,injector:e.injector||n.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return n!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(e){e.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}attachDomPortal=e=>{let n=e.element;n.parentNode;let r=this._document.createComment("dom-portal");e.setAttachedHost(this),n.parentNode.insertBefore(r,n),this._getRootNode().appendChild(n),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(n,r)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Ve({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[gi]})}return i})(),Bd=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=De({})}return i})();var J0=D0();function Wd(i){return new Ud(i.get(Sr),i.get(Me))}var Ud=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,e){this._viewportRuler=t,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ft(-this._previousScrollPosition.left),t.style.top=ft(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,n=t.style,r=e.style,o=n.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),J0&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),J0&&(n.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.documentElement,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}};function sv(i,t){return new jd(i.get(As),i.get(te),i.get(Sr),t)}var jd=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(Ge(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var ul=class{enable(){}disable(){}attach(){}};function Qm(i,t){return t.some(e=>{let n=i.bottom<e.top,r=i.top>e.bottom,o=i.right<e.left,s=i.left>e.right;return n||r||o||s})}function ev(i,t){return t.some(e=>{let n=i.top<e.top,r=i.bottom>e.bottom,o=i.left<e.left,s=i.right>e.right;return n||r||o||s})}function qi(i,t){return new zd(i.get(As),i.get(Sr),i.get(te),t)}var zd=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();Qm(e,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},av=(()=>{class i{_injector=y(be);constructor(){}noop=()=>new ul;close=e=>sv(this._injector,e);block=()=>Wd(this._injector);reposition=e=>qi(this._injector,e);static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),mo=class{positionStrategy;scrollStrategy=new ul;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;usePopover;constructor(t){if(t){let e=Object.keys(t);for(let n of e)t[n]!==void 0&&(this[n]=t[n])}}};var $d=class{connectionPair;scrollableViewProperties;constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var lv=(()=>{class i{_attachedOverlays=[];_document=y(Me);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),cv=(()=>{class i extends lv{_ngZone=y(te);_renderer=y(Nt).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let n=this._attachedOverlays;for(let r=n.length-1;r>-1;r--)if(n[r]._keydownEvents.observers.length>0){this._ngZone.run(()=>n[r]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ri(i)))(r||i)}})();static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),dv=(()=>{class i extends lv{_platform=y(Ke);_ngZone=y(te);_renderer=y(Nt).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(e){if(super.add(e),!this._isAttached){let n=this._document.body,r={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(n,"pointerdown",this._pointerDownListener,r),o.listen(n,"click",this._clickListener,r),o.listen(n,"auxclick",this._clickListener,r),o.listen(n,"contextmenu",this._clickListener,r)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=Vt(e)};_clickListener=e=>{let n=Vt(e),r=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:n;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let l=o[s];if(l._outsidePointerEvents.observers.length<1||!l.hasAttached())continue;if(tv(l.overlayElement,n)||tv(l.overlayElement,r))break;let c=l._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>c.next(e)):c.next(e)}};static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ri(i)))(r||i)}})();static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function tv(i,t){let e=typeof ShadowRoot<"u"&&ShadowRoot,n=t;for(;n;){if(n===i)return!0;n=e&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var uv=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ie({type:i,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-overlay-popover{background:none;border:none;padding:0;outline:0;overflow:visible;position:fixed;pointer-events:none;white-space:normal;color:inherit;text-decoration:none;width:100%;height:100%;inset:auto;top:0;left:0}.cdk-overlay-popover::backdrop{display:none}.cdk-overlay-popover .cdk-overlay-backdrop{position:fixed;z-index:auto}
`],encapsulation:2,changeDetection:0})}return i})(),hv=(()=>{class i{_platform=y(Ke);_containerElement;_document=y(Me);_styleLoader=y(pt);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||Fm()){let r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let n=this._document.createElement("div");n.classList.add(e),Fm()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}_loadStyles(){this._styleLoader.load(uv)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Xm=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(t,e,n,r){this._renderer=e,this._ngZone=n,this.element=t.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",r)}detach(){this._ngZone.runOutsideAngular(()=>{let t=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),t.style.pointerEvents="none",t.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}};function Zm(i){return i&&i.nodeType===1}var qd=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new ue;_attachments=new ue;_detachments=new ue;_positionStrategy;_scrollStrategy;_locationChanges=it.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_disposed;_previousHostParent;_keydownEvents=new ue;_outsidePointerEvents=new ue;_afterNextRenderRef;constructor(t,e,n,r,o,s,l,c,u,g=!1,b,C){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=l,this._location=c,this._outsideClickDispatcher=u,this._animationsDisabled=g,this._injector=b,this._renderer=C,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(t){if(this._disposed)return null;this._attachHost();let e=this._portalOutlet.attach(t);return this._positionStrategy?.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=un(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){if(this._disposed)return;let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,t&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent(),this._disposed=!0}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=k(k({},this._config),t),this._updateElementSize()}setDirection(t){this._config=ne(k({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=ft(this._config.width),t.height=ft(this._config.height),t.minWidth=ft(this._config.minWidth),t.minHeight=ft(this._config.minHeight),t.maxWidth=ft(this._config.maxWidth),t.maxHeight=ft(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachHost(){if(!this._host.parentElement){let t=this._config.usePopover?this._positionStrategy?.getPopoverInsertionPoint?.():null;Zm(t)?t.after(this._host):t?.type==="parent"?t.element.appendChild(this._host):this._previousHostParent?.appendChild(this._host)}if(this._config.usePopover)try{this._host.showPopover()}catch{}}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new Xm(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._config.usePopover?this._host.prepend(this._backdropRef.element):this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(t))}):this._backdropRef.element.classList.add(t)}_updateStackingOrder(){!this._config.usePopover&&this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(t,e,n){let r=ws(e||[]).filter(o=>!!o);r.length&&(n?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){let t=!1;try{this._detachContentAfterRenderRef=un(()=>{t=!0,this._detachContent()},{injector:this._injector})}catch(e){if(t)throw e;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let t=this._scrollStrategy;t?.disable(),t?.detach?.()}},nv="cdk-overlay-connected-position-bounding-box",mD=/([A-Za-z%]+)$/;function fo(i,t){return new Ds(t,i.get(Sr),i.get(Me),i.get(Ke),i.get(hv))}var Ds=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new ue;_resizeSubscription=it.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;_popoverLocation="global";positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,e,n,r,o){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=o,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(nv),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._getContainerRect();let t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[],s;for(let l of this._preferredPositions){let c=this._getOriginPoint(t,r,l),u=this._getOverlayPoint(c,e,l),g=this._getOverlayFit(u,e,n,l);if(g.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(l,c);return}if(this._canFitWithFlexibleDimensions(g,u,n)){o.push({position:l,origin:c,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(c,l)});continue}(!s||s.overlayFit.visibleArea<g.visibleArea)&&(s={overlayFit:g,overlayPoint:u,originPoint:c,position:l,overlayRect:e})}if(o.length){let l=null,c=-1;for(let u of o){let g=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);g>c&&(c=g,l=u)}this._isPushed=!1,this._applyPosition(l.position,l.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ho(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(nv),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;t?(this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._getContainerRect(),this._applyPosition(t,this._getOriginPoint(this._originRect,this._containerRect,t))):this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}withPopoverLocation(t){return this._popoverLocation=t,this}getPopoverInsertionPoint(){return this._popoverLocation==="global"?null:this._popoverLocation!=="inline"?this._popoverLocation:this._origin instanceof Oe?this._origin.nativeElement:Zm(this._origin)?this._origin:null}_getOriginPoint(t,e,n){let r;if(n.originX=="center")r=t.left+t.width/2;else{let s=this._isRtl()?t.right:t.left,l=this._isRtl()?t.left:t.right;r=n.originX=="start"?s:l}e.left<0&&(r-=e.left);let o;return n.originY=="center"?o=t.top+t.height/2:o=n.originY=="top"?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,n){let r;n.overlayX=="center"?r=-e.width/2:n.overlayX==="start"?r=this._isRtl()?-e.width:0:r=this._isRtl()?0:-e.width;let o;return n.overlayY=="center"?o=-e.height/2:o=n.overlayY=="top"?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,n,r){let o=rv(e),{x:s,y:l}=t,c=this._getOffset(r,"x"),u=this._getOffset(r,"y");c&&(s+=c),u&&(l+=u);let g=0-s,b=s+o.width-n.width,C=0-l,R=l+o.height-n.height,T=this._subtractOverflows(o.width,g,b),O=this._subtractOverflows(o.height,C,R),B=T*O;return{visibleArea:B,isCompletelyWithinViewport:o.width*o.height===B,fitsInViewportVertically:O===o.height,fitsInViewportHorizontally:T==o.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){let r=n.bottom-e.y,o=n.right-e.x,s=iv(this._overlayRef.getConfig().minHeight),l=iv(this._overlayRef.getConfig().minWidth),c=t.fitsInViewportVertically||s!=null&&s<=r,u=t.fitsInViewportHorizontally||l!=null&&l<=o;return c&&u}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=rv(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),l=Math.max(t.y+r.height-o.height,0),c=Math.max(o.top-n.top-t.y,0),u=Math.max(o.left-n.left-t.x,0),g=0,b=0;return r.width<=o.width?g=u||-s:g=t.x<this._getViewportMarginStart()?o.left-n.left-t.x:0,r.height<=o.height?b=c||-l:b=t.y<this._getViewportMarginTop()?o.top-n.top-t.y:0,this._previousPushAmount={x:g,y:b},{x:t.x+g,y:t.y+b}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!pD(this._lastScrollVisibility,n)){let r=new $d(t,n);this._positionChanges.next(r)}this._lastScrollVisibility=n}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,r=t.overlayY;t.overlayX==="center"?n="center":this._isRtl()?n=t.overlayX==="start"?"right":"left":n=t.overlayX==="start"?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){let n=this._viewportRect,r=this._isRtl(),o,s,l;if(e.overlayY==="top")s=t.y,o=n.height-s+this._getViewportMarginBottom();else if(e.overlayY==="bottom")l=n.height-t.y+this._getViewportMarginTop()+this._getViewportMarginBottom(),o=n.height-l+this._getViewportMarginTop();else{let R=Math.min(n.bottom-t.y+n.top,t.y),T=this._lastBoundingBoxSize.height;o=R*2,s=t.y-R,o>T&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-T/2)}let c=e.overlayX==="start"&&!r||e.overlayX==="end"&&r,u=e.overlayX==="end"&&!r||e.overlayX==="start"&&r,g,b,C;if(u)C=n.width-t.x+this._getViewportMarginStart()+this._getViewportMarginEnd(),g=t.x-this._getViewportMarginStart();else if(c)b=t.x,g=n.right-t.x-this._getViewportMarginEnd();else{let R=Math.min(n.right-t.x+n.left,t.x),T=this._lastBoundingBoxSize.width;g=R*2,b=t.x-R,g>T&&!this._isInitialRender&&!this._growAfterOpen&&(b=t.x-T/2)}return{top:s,left:b,bottom:l,right:C,width:g,height:o}}_setBoundingBoxStyles(t,e){let n=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right="auto",r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.width=ft(n.width),r.height=ft(n.height),r.top=ft(n.top)||"auto",r.bottom=ft(n.bottom)||"auto",r.left=ft(n.left)||"auto",r.right=ft(n.right)||"auto",e.overlayX==="center"?r.alignItems="center":r.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?r.justifyContent="center":r.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=ft(o)),s&&(r.maxWidth=ft(s))}this._lastBoundingBoxSize=n,ho(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ho(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ho(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let g=this._viewportRuler.getViewportScrollPosition();ho(n,this._getExactOverlayY(e,t,g)),ho(n,this._getExactOverlayX(e,t,g))}else n.position="static";let l="",c=this._getOffset(e,"x"),u=this._getOffset(e,"y");c&&(l+=`translateX(${c}px) `),u&&(l+=`translateY(${u}px)`),n.transform=l.trim(),s.maxHeight&&(r?n.maxHeight=ft(s.maxHeight):o&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=ft(s.maxWidth):o&&(n.maxWidth="")),ho(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),t.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=ft(o.y);return r}_getExactOverlayX(t,e,n){let r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));let s;if(this._isRtl()?s=t.overlayX==="end"?"left":"right":s=t.overlayX==="end"?"right":"left",s==="right"){let l=this._document.documentElement.clientWidth;r.right=`${l-(o.x+this._overlayRect.width)}px`}else r.left=ft(o.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ev(t,n),isOriginOutsideView:Qm(t,n),isOverlayClipped:ev(e,n),isOverlayOutsideView:Qm(e,n)}}_subtractOverflows(t,...e){return e.reduce((n,r)=>n-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._getViewportMarginTop(),left:n.left+this._getViewportMarginStart(),right:n.left+t-this._getViewportMarginEnd(),bottom:n.top+e-this._getViewportMarginBottom(),width:t-this._getViewportMarginStart()-this._getViewportMarginEnd(),height:e-this._getViewportMarginTop()-this._getViewportMarginBottom()}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&ws(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getViewportMarginStart(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.start??0}_getViewportMarginEnd(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.end??0}_getViewportMarginTop(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.top??0}_getViewportMarginBottom(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.bottom??0}_getOriginRect(){let t=this._origin;if(t instanceof Oe)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}_getContainerRect(){let t=this._overlayRef.getConfig().usePopover&&this._popoverLocation!=="global",e=this._overlayContainer.getContainerElement();t&&(e.style.display="block");let n=e.getBoundingClientRect();return t&&(e.style.display=""),n}};function ho(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function iv(i){if(typeof i!="number"&&i!=null){let[t,e]=i.split(mD);return!e||e==="px"?parseFloat(t):null}return i||null}function rv(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}function pD(i,t){return i===t?!0:i.isOriginClipped===t.isOriginClipped&&i.isOriginOutsideView===t.isOriginOutsideView&&i.isOverlayClipped===t.isOverlayClipped&&i.isOverlayOutsideView===t.isOverlayOutsideView}var ov="cdk-global-overlay-wrapper";function Kd(i){return new Hd}var Hd=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(ov),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:l}=n,c=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),u=(o==="100%"||o==="100vh")&&(!l||l==="100%"||l==="100vh"),g=this._xPosition,b=this._xOffset,C=this._overlayRef.getConfig().direction==="rtl",R="",T="",O="";c?O="flex-start":g==="center"?(O="center",C?T=b:R=b):C?g==="left"||g==="end"?(O="flex-end",R=b):(g==="right"||g==="start")&&(O="flex-start",T=b):g==="left"||g==="start"?(O="flex-start",R=b):(g==="right"||g==="end")&&(O="flex-end",T=b),t.position=this._cssPosition,t.marginLeft=c?"0":R,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=c?"0":T,e.justifyContent=O,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(ov),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},mv=(()=>{class i{_injector=y(be);constructor(){}global(){return Kd()}flexibleConnectedTo(e){return fo(this._injector,e)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),hl=new Y("OVERLAY_DEFAULT_CONFIG");function go(i,t){i.get(pt).load(uv);let e=i.get(hv),n=i.get(Me),r=i.get(kt),o=i.get(jr),s=i.get(ln),l=i.get(Rt,null,{optional:!0})||i.get(Nt).createRenderer(null,null),c=new mo(t),u=i.get(hl,null,{optional:!0})?.usePopover??!0;c.direction=c.direction||s.value,"showPopover"in n.body?c.usePopover=t?.usePopover??u:c.usePopover=!1;let g=n.createElement("div"),b=n.createElement("div");g.id=r.getId("cdk-overlay-"),g.classList.add("cdk-overlay-pane"),b.appendChild(g),c.usePopover&&(b.setAttribute("popover","manual"),b.classList.add("cdk-overlay-popover"));let C=c.usePopover?c.positionStrategy?.getPopoverInsertionPoint?.():null;return e.getContainerElement().appendChild(b),Zm(C)?C.after(b):C?.type==="parent"&&C.element.appendChild(b),new qd(new Vd(g,o,i),b,g,c,i.get(te),i.get(cv),n,i.get(dr),i.get(dv),t?.disableAnimations??i.get(Br,null,{optional:!0})==="NoopAnimations",i.get(qt),l)}var pv=(()=>{class i{scrollStrategies=y(av);_positionBuilder=y(mv);_injector=y(be);constructor(){}create(e){return go(this._injector,e)}position(){return this._positionBuilder}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),fD=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],gD=new Y("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let i=y(be);return()=>qi(i)}}),Ms=(()=>{class i{elementRef=y(Oe);constructor(){}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Ve({type:i,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return i})(),fv=new Y("cdk-connected-overlay-default-config"),Gd=(()=>{class i{_dir=y(ln,{optional:!0});_injector=y(be);_overlayRef;_templatePortal;_backdropSubscription=it.EMPTY;_attachSubscription=it.EMPTY;_detachSubscription=it.EMPTY;_positionSubscription=it.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=y(gD);_ngZone=y(te);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;disposeOnNavigation=!1;usePopover;matchWidth=!1;set _config(e){typeof e!="string"&&this._assignConfig(e)}backdropClick=new he;positionChange=new he;attach=new he;detach=new he;overlayKeydown=new he;overlayOutsideClick=new he;constructor(){let e=y(wa),n=y(ti),r=y(fv,{optional:!0}),o=y(hl,{optional:!0});this.usePopover=o?.usePopover===!1?null:"global",this._templatePortal=new Ts(e,n),this.scrollStrategy=this._scrollStrategyFactory(),r&&this._assignConfig(r)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this._getWidth(),minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=fD);let e=this._overlayRef=go(this._injector,this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),n.keyCode===27&&!this.disableClose&&!Dt(n)&&(n.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{let r=this._getOriginElement(),o=Vt(n);(!r||r!==o&&!r.contains(o))&&this.overlayOutsideClick.next(n)})}_buildConfig(){let e=this._position=this.positionStrategy||this._createPositionStrategy(),n=new mo({direction:this._dir||"ltr",positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation,usePopover:!!this.usePopover});return(this.height||this.height===0)&&(n.height=this.height),(this.minWidth||this.minWidth===0)&&(n.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(e){let n=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector).withPopoverLocation(this.usePopover===null?"global":this.usePopover)}_createPositionStrategy(){let e=fo(this._injector,this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof Ms?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Ms?this.origin.elementRef.nativeElement:this.origin instanceof Oe?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_getWidth(){return this.width?this.width:this.matchWidth?this._getOriginElement()?.getBoundingClientRect?.().width:void 0}attachOverlay(){this._overlayRef||this._createOverlay();let e=this._overlayRef;e.getConfig().hasBackdrop=this.hasBackdrop,e.updateSize({width:this._getWidth()}),e.hasAttached()||e.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=e.backdropClick().subscribe(n=>this.backdropClick.emit(n)):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(w_(()=>this.positionChange.observers.length>0)).subscribe(n=>{this._ngZone.run(()=>this.positionChange.emit(n)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}_assignConfig(e){this.origin=e.origin??this.origin,this.positions=e.positions??this.positions,this.positionStrategy=e.positionStrategy??this.positionStrategy,this.offsetX=e.offsetX??this.offsetX,this.offsetY=e.offsetY??this.offsetY,this.width=e.width??this.width,this.height=e.height??this.height,this.minWidth=e.minWidth??this.minWidth,this.minHeight=e.minHeight??this.minHeight,this.backdropClass=e.backdropClass??this.backdropClass,this.panelClass=e.panelClass??this.panelClass,this.viewportMargin=e.viewportMargin??this.viewportMargin,this.scrollStrategy=e.scrollStrategy??this.scrollStrategy,this.disableClose=e.disableClose??this.disableClose,this.transformOriginSelector=e.transformOriginSelector??this.transformOriginSelector,this.hasBackdrop=e.hasBackdrop??this.hasBackdrop,this.lockPosition=e.lockPosition??this.lockPosition,this.flexibleDimensions=e.flexibleDimensions??this.flexibleDimensions,this.growAfterOpen=e.growAfterOpen??this.growAfterOpen,this.push=e.push??this.push,this.disposeOnNavigation=e.disposeOnNavigation??this.disposeOnNavigation,this.usePopover=e.usePopover??this.usePopover,this.matchWidth=e.matchWidth??this.matchWidth}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Ve({type:i,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",Pe],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",Pe],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Pe],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Pe],push:[2,"cdkConnectedOverlayPush","push",Pe],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Pe],usePopover:[0,"cdkConnectedOverlayUsePopover","usePopover"],matchWidth:[2,"cdkConnectedOverlayMatchWidth","matchWidth",Pe],_config:[0,"cdkConnectedOverlay","_config"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[dt]})}return i})(),ml=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=De({providers:[pv],imports:[rt,Bd,Km,Km]})}return i})();var pl=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new ue;constructor(t=!1,e,n=!0,r){this._multiple=t,this._emitChanges=n,this.compareWith=r,e&&e.length&&(t?e.forEach(o=>this._markSelected(o)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(n=>this._markSelected(n));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(n=>this._unmarkSelected(n));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);let e=this.selected,n=new Set(t.map(o=>this._getConcreteValue(o)));t.forEach(o=>this._markSelected(o)),e.filter(o=>!n.has(this._getConcreteValue(o,n))).forEach(o=>this._unmarkSelected(o));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();let e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){t.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(t,e){if(this.compareWith){e=e??this._selection;for(let n of e)if(this.compareWith(t,n))return n;return t}else return t}};var Yd=(()=>{class i{isErrorState(e,n){return!!(e&&e.invalid&&(e.touched||n&&n.submitted))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Rs=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(t,e,n,r,o){this._defaultMatcher=t,this.ngControl=e,this._parentFormGroup=n,this._parentForm=r,this._stateChanges=o}updateErrorState(){let t=this.errorState,e=this._parentFormGroup||this._parentForm,n=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=n?.isErrorState(r,e)??!1;o!==t&&(this.errorState=o,this._stateChanges.next())}};var Qd=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=De({imports:[rt]})}return i})();var gv=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=De({imports:[rt]})}return i})();var ks=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=De({imports:[Qd,gv,Is,rt]})}return i})();var _D=["trigger"],yD=["panel"],bD=[[["mat-select-trigger"]],"*"],vD=["mat-select-trigger","*"];function wD(i,t){if(i&1&&(m(0,"span",4),_(1),f()),i&2){let e=I();h(),A(e.placeholder)}}function CD(i,t){i&1&&Xe(0)}function ED(i,t){if(i&1&&(m(0,"span",11),_(1),f()),i&2){let e=I(2);h(),A(e.triggerValue)}}function SD(i,t){if(i&1&&(m(0,"span",5),W(1,CD,1,0)(2,ED,2,1,"span",11),f()),i&2){let e=I();h(),K(e.customTrigger?1:2)}}function xD(i,t){if(i&1){let e=ce();m(0,"div",12,1),q("keydown",function(r){L(e);let o=I();return V(o._handleKeydown(r))}),Xe(2,1),f()}if(i&2){let e=I();mn(j_("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme())),me("mat-select-panel-animations-enabled",!e._animationsDisabled),j("ngClass",e.panelClass),Ce("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var ID=new Y("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let i=y(be);return()=>qi(i)}}),AD=new Y("MAT_SELECT_CONFIG"),TD=new Y("MatSelectTrigger"),Jm=class{source;value;constructor(t,e){this.source=t,this.value=e}},_v=(()=>{class i{_viewportRuler=y(Sr);_changeDetectorRef=y(st);_elementRef=y(Oe);_dir=y(ln,{optional:!0});_idGenerator=y(kt);_renderer=y(Rt);_parentFormField=y(lo,{optional:!0});ngControl=y(Ta,{self:!0,optional:!0});_liveAnnouncer=y(Mm);_defaultOptions=y(AD,{optional:!0});_animationsDisabled=Ot();_popoverLocation;_initialized=new ue;_cleanupDetach;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(e){let n=this.options.toArray()[e];if(n){let r=this.panel.nativeElement,o=X0(e,this.options,this.optionGroups),s=n._getHostElement();e===0&&o===1?r.scrollTop=0:r.scrollTop=Z0(s.offsetTop,s.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new Jm(this,e)}_scrollStrategyFactory=y(ID);_panelOpen=!1;_compareWith=(e,n)=>e===n;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new ue;_errorStateTracker;stateChanges=new ue;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;get disableRipple(){return this._disableRipple()}set disableRipple(e){this._disableRipple.set(e)}_disableRipple=Ue(!1);tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(Yo.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=Ro(()=>{let e=this.options;return e?e.changes.pipe(zt(e),xt(()=>fi(...e.map(n=>n.onSelectionChange)))):this._initialized.pipe(xt(()=>this.optionSelectionChanges))});openedChange=new he;_openedStream=this.openedChange.pipe(Ge(e=>e),$e(()=>{}));_closedStream=this.openedChange.pipe(Ge(e=>!e),$e(()=>{}));selectionChange=new he;valueChange=new he;constructor(){let e=y(Yd),n=y($r,{optional:!0}),r=y(Da,{optional:!0}),o=y(new Po("tabindex"),{optional:!0}),s=y(hl,{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new Rs(e,this.ngControl,r,n,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=o==null?0:parseInt(o)||0,this._popoverLocation=s?.usePopover===!1?null:"inline",this.id=this.id}ngOnInit(){this._selectionModel=new pl(this.multiple),this.stateChanges.next(),this._viewportRuler.change().pipe(Je(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Je(this._destroy)).subscribe(e=>{e.added.forEach(n=>n.select()),e.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(zt(null),Je(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),n=this.ngControl;if(e!==this._triggerAriaLabelledBy){let r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(this._previousControl!==void 0&&n.disabled!==null&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._cleanupDetach?.(),this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._cleanupDetach?.(),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._overlayDir.positionChange.pipe(zn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()}),this._overlayDir.attachOverlay(),this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!0)))}_trackedModal=null;_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let n=`${this.id}-panel`;this._trackedModal&&Pd(this._trackedModal,"aria-owns",n),Nm(e,"aria-owns",n),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;Pd(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._exitAndDetach(),this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!1)))}_exitAndDetach(){if(this._animationsDisabled||!this.panel){this._detachOverlay();return}this._cleanupDetach?.(),this._cleanupDetach=()=>{n(),clearTimeout(r),this._cleanupDetach=void 0};let e=this.panel.nativeElement,n=this._renderer.listen(e,"animationend",o=>{o.animationName==="_mat-select-exit"&&(this._cleanupDetach?.(),this._detachOverlay())}),r=setTimeout(()=>{this._cleanupDetach?.(),this._detachOverlay()},200);e.classList.add("mat-select-panel-exit")}_detachOverlay(){this._overlayDir.detachOverlay(),this._changeDetectorRef.markForCheck()}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let n=e.keyCode,r=n===40||n===38||n===37||n===39,o=n===13||n===32,s=this._keyManager;if(!s.isTyping()&&o&&!Dt(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){let l=this.selected;s.onKeydown(e);let c=this.selected;c&&l!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(e){let n=this._keyManager,r=e.keyCode,o=r===40||r===38,s=n.isTyping();if(o&&e.altKey)e.preventDefault(),this.close();else if(!s&&(r===13||r===32)&&n.activeItem&&!Dt(e))e.preventDefault(),n.activeItem._selectViaInteraction();else if(!s&&this._multiple&&r===65&&e.ctrlKey){e.preventDefault();let l=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(l?c.select():c.deselect())})}else{let l=n.activeItemIndex;n.onKeydown(e),this._multiple&&o&&e.shiftKey&&n.activeItem&&n.activeItemIndex!==l&&n.activeItem._selectViaInteraction()}}_handleOverlayKeydown(e){e.keyCode===27&&!Dt(e)&&(e.preventDefault(),this.close())}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{let n=this._selectOptionByValue(e);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let n=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return(r.value!=null||this.canSelectNullableOptions)&&this._compareWith(r.value,e)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_skipPredicate=e=>this.panelOpen?!1:e.disabled;_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof Ms?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new sl(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=fi(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Je(e)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),fi(...this.options.map(n=>n._stateChanges)).pipe(Je(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,n){let r=this._selectionModel.isSelected(e);!this.canSelectNullableOptions&&e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),n&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),n&&this.focus())),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((n,r)=>this.sortComparator?this.sortComparator(n,r,e):e.indexOf(n)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let n;this.multiple?n=this.selected.map(r=>r.value):n=this.selected?this.selected.value:e,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let n=0;n<this.options.length;n++)if(!this.options.get(n).disabled){e=n;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0&&!!this._overlayDir}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||null,n=e?e+" ":"";return this.ariaLabelledby?n+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||"";return this.ariaLabelledby&&(e+=" "+this.ariaLabelledby),e||(e=this._valueId),e}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(e){let n=this._elementRef.nativeElement;e.length?n.setAttribute("aria-describedby",e.join(" ")):n.removeAttribute("aria-describedby")}onContainerClick(e){let n=Vt(e);n&&(n.tagName==="MAT-OPTION"||n.classList.contains("cdk-overlay-backdrop")||n.closest(".mat-mdc-select-panel"))||(this.focus(),this.open())}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ie({type:i,selectors:[["mat-select"]],contentQueries:function(n,r,o){if(n&1&&lr(o,TD,5)(o,Is,5)(o,Wm,5),n&2){let s;Ie(s=Ae())&&(r.customTrigger=s.first),Ie(s=Ae())&&(r.options=s),Ie(s=Ae())&&(r.optionGroups=s)}},viewQuery:function(n,r){if(n&1&&It(_D,5)(yD,5)(Gd,5),n&2){let o;Ie(o=Ae())&&(r.trigger=o.first),Ie(o=Ae())&&(r.panel=o.first),Ie(o=Ae())&&(r._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:21,hostBindings:function(n,r){n&1&&q("keydown",function(s){return r._handleKeydown(s)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),n&2&&(Ce("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),me("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple)("mat-select-open",r.panelOpen))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",Pe],disableRipple:[2,"disableRipple","disableRipple",Pe],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Sa(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Pe],placeholder:"placeholder",required:[2,"required","required",Pe],multiple:[2,"multiple","multiple",Pe],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",Pe],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",Sa],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",Pe]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[pn([{provide:Ss,useExisting:i},{provide:Hm,useExisting:i}]),dt],ngContentSelectors:vD,decls:11,vars:10,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"detach","backdropClick","overlayKeydown","cdkConnectedOverlayDisableClose","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","cdkConnectedOverlayFlexibleDimensions","cdkConnectedOverlayUsePopover"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(n,r){if(n&1){let o=ce();Ht(bD),m(0,"div",2,0),q("click",function(){return L(o),V(r.open())}),m(3,"div",3),W(4,wD,2,1,"span",4)(5,SD,3,1,"span",5),f(),m(6,"div",6)(7,"div",7),Di(),m(8,"svg",8),H(9,"path",9),f()()()(),ki(10,xD,3,10,"ng-template",10),q("detach",function(){return L(o),V(r.close())})("backdropClick",function(){return L(o),V(r.close())})("overlayKeydown",function(l){return L(o),V(r._handleOverlayKeydown(l))})}if(n&2){let o=At(1);h(3),Ce("id",r._valueId),h(),K(r.empty?4:5),h(6),j("cdkConnectedOverlayDisableClose",!0)("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||o)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)("cdkConnectedOverlayFlexibleDimensions",!0)("cdkConnectedOverlayUsePopover",r._popoverLocation)}},dependencies:[Ms,Gd,fn],styles:[`@keyframes _mat-select-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-select-exit{from{opacity:1}to{opacity:0}}.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-select-open .mat-mdc-select-arrow{transform:rotate(180deg)}.mat-form-field-animations-enabled .mat-mdc-select-arrow{transition:transform 80ms linear}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:relative;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-select-panel-animations-enabled{animation:_mat-select-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-select-panel-animations-enabled.mat-select-panel-exit{animation:_mat-select-exit 100ms linear}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field:not(.mat-form-field-animations-enabled) .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}
`],encapsulation:2,changeDetection:0})}return i})();var yv=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=De({imports:[ml,ks,rt,uo,co,ks]})}return i})();var MD=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ie({type:i,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(n,r){},styles:[`textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}
`],encapsulation:2,changeDetection:0})}return i})(),RD={passive:!0},bv=(()=>{class i{_platform=y(Ke);_ngZone=y(te);_renderer=y(Nt).createRenderer(null,null);_styleLoader=y(pt);_monitoredElements=new Map;constructor(){}monitor(e){if(!this._platform.isBrowser)return ei;this._styleLoader.load(MD);let n=Vn(e),r=this._monitoredElements.get(n);if(r)return r.subject;let o=new ue,s="cdk-text-field-autofilled",l=u=>{u.animationName==="cdk-text-field-autofill-start"&&!n.classList.contains(s)?(n.classList.add(s),this._ngZone.run(()=>o.next({target:u.target,isAutofilled:!0}))):u.animationName==="cdk-text-field-autofill-end"&&n.classList.contains(s)&&(n.classList.remove(s),this._ngZone.run(()=>o.next({target:u.target,isAutofilled:!1})))},c=this._ngZone.runOutsideAngular(()=>(n.classList.add("cdk-text-field-autofill-monitored"),this._renderer.listen(n,"animationstart",l,RD)));return this._monitoredElements.set(n,{subject:o,unlisten:c}),o}stopMonitoring(e){let n=Vn(e),r=this._monitoredElements.get(n);r&&(r.unlisten(),r.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((e,n)=>this.stopMonitoring(n))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var vv=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=De({})}return i})();var Xd=new Y("MAT_INPUT_VALUE_ACCESSOR");var kD=["button","checkbox","file","hidden","image","radio","range","reset","submit"],OD=new Y("MAT_INPUT_CONFIG"),wv=(()=>{class i{_elementRef=y(Oe);_platform=y(Ke);ngControl=y(Ta,{optional:!0,self:!0});_autofillMonitor=y(bv);_ngZone=y(te);_formField=y(lo,{optional:!0});_renderer=y(Rt);_uid=y(kt).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=y(OD,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new ue;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=$i(e),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(e){this._id=e||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(Yo.required)??!1}set required(e){this._required=$i(e)}_required;get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Lm().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(e){e!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(e):this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=$i(e)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>Lm().has(e));constructor(){let e=y($r,{optional:!0}),n=y(Da,{optional:!0}),r=y(Yd),o=y(Xd,{optional:!0,self:!0}),s=this._elementRef.nativeElement,l=s.nodeName.toLowerCase();o?Ur(o.value)?this._signalBasedValueAccessor=o:this._inputValueAccessor=o:this._inputValueAccessor=s,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(s,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Rs(r,this.ngControl,n,e,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=l==="select",this._isTextarea=l==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=s.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&ar(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){if(e!==this.focused){if(!this._isNativeSelect&&e&&this.disabled&&this.disabledInteractive){let n=this._elementRef.nativeElement;n.type==="number"?(n.type="text",n.setSelectionRange(0,0),n.type="number"):n.setSelectionRange(0,0)}this.focused=e,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let n=this._elementRef.nativeElement;this._previousPlaceholder=e,e?n.setAttribute("placeholder",e):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){kD.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,n=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&n&&n.label)}else return this.focused&&!this.disabled||!this.empty}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(e){let n=this._elementRef.nativeElement;e.length?n.setAttribute("aria-describedby",e.join(" ")):n.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_iOSKeyupListener=e=>{let n=e.target;!n.value&&n.selectionStart===0&&n.selectionEnd===0&&(n.setSelectionRange(1,1),n.setSelectionRange(0,0))};_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Ve({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(n,r){n&1&&q("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),n&2&&(hn("id",r.id)("disabled",r.disabled&&!r.disabledInteractive)("required",r.required),Ce("name",r.name||null)("readonly",r._getReadonlyAttribute())("aria-disabled",r.disabled&&r.disabledInteractive?"true":null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),me("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mat-mdc-input-disabled-interactive",r.disabledInteractive)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Pe]},exportAs:["matInput"],features:[pn([{provide:Ss,useExisting:i}]),dt]})}return i})(),Cv=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=De({imports:[co,co,vv,rt]})}return i})();var ep=new Y("MAT_DATE_LOCALE",{providedIn:"root",factory:()=>y(W_)}),Os="Method not implemented",Xt=class{locale;_localeChanges=new ue;localeChanges=this._localeChanges;setTime(t,e,n,r){throw new Error(Os)}getHours(t){throw new Error(Os)}getMinutes(t){throw new Error(Os)}getSeconds(t){throw new Error(Os)}parseTime(t,e){throw new Error(Os)}addSeconds(t,e){throw new Error(Os)}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return t==null||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}compareTime(t,e){return this.getHours(t)-this.getHours(e)||this.getMinutes(t)-this.getMinutes(e)||this.getSeconds(t)-this.getSeconds(e)}sameDate(t,e){if(t&&e){let n=this.isValid(t),r=this.isValid(e);return n&&r?!this.compareDate(t,e):n==r}return t==e}sameTime(t,e){if(t&&e){let n=this.isValid(t),r=this.isValid(e);return n&&r?!this.compareTime(t,e):n==r}return t==e}clampDate(t,e,n){return e&&this.compareDate(t,e)<0?e:n&&this.compareDate(t,n)>0?n:t}},Ir=new Y("mat-date-formats");var ND={capture:!0},FD=["focus","mousedown","mouseenter","touchstart"],tp="mat-ripple-loader-uninitialized",np="mat-ripple-loader-class-name",Ev="mat-ripple-loader-centered",Zd="mat-ripple-loader-disabled",Sv=(()=>{class i{_document=y(Me);_animationsDisabled=Ot();_globalRippleOptions=y($m,{optional:!0});_platform=y(Ke);_ngZone=y(te);_injector=y(be);_eventCleanups;_hosts=new Map;constructor(){let e=y(Nt).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>FD.map(n=>e.listen(this._document,n,this._onInteraction,ND)))}ngOnDestroy(){let e=this._hosts.keys();for(let n of e)this.destroyRipple(n);this._eventCleanups.forEach(n=>n())}configureRipple(e,n){e.setAttribute(tp,this._globalRippleOptions?.namespace??""),(n.className||!e.hasAttribute(np))&&e.setAttribute(np,n.className||""),n.centered&&e.setAttribute(Ev,""),n.disabled&&e.setAttribute(Zd,"")}setDisabled(e,n){let r=this._hosts.get(e);r?(r.target.rippleDisabled=n,!n&&!r.hasSetUpEvents&&(r.hasSetUpEvents=!0,r.renderer.setupTriggerEvents(e))):n?e.setAttribute(Zd,""):e.removeAttribute(Zd)}_onInteraction=e=>{let n=Vt(e);if(n instanceof HTMLElement){let r=n.closest(`[${tp}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}};_createRipple(e){if(!this._document||this._hosts.has(e))return;e.querySelector(".mat-ripple")?.remove();let n=this._document.createElement("span");n.classList.add("mat-ripple",e.getAttribute(np)),e.append(n);let r=this._globalRippleOptions,o=this._animationsDisabled?0:r?.animation?.enterDuration??ll.enterDuration,s=this._animationsDisabled?0:r?.animation?.exitDuration??ll.exitDuration,l={rippleDisabled:this._animationsDisabled||r?.disabled||e.hasAttribute(Zd),rippleConfig:{centered:e.hasAttribute(Ev),terminateOnPointerUp:r?.terminateOnPointerUp,animation:{enterDuration:o,exitDuration:s}}},c=new cl(l,this._ngZone,n,this._platform,this._injector),u=!l.rippleDisabled;u&&c.setupTriggerEvents(e),this._hosts.set(e,{target:l,renderer:c,hasSetUpEvents:u}),e.removeAttribute(tp)}destroyRipple(e){let n=this._hosts.get(e);n&&(n.renderer._removeTriggerEvents(),this._hosts.delete(e))}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var LD=["mat-icon-button",""],VD=["*"],BD=new Y("MAT_BUTTON_CONFIG");function xv(i){return i==null?void 0:Sa(i)}var ip=(()=>{class i{_elementRef=y(Oe);_ngZone=y(te);_animationsDisabled=Ot();_config=y(BD,{optional:!0});_focusMonitor=y(vs);_cleanupClick;_renderer=y(Rt);_rippleLoader=y(Sv);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(e){this.tabIndex=e}constructor(){y(pt).load(xs);let e=this._elementRef.nativeElement;this._isAnchor=e.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(e,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",n){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",e=>{this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Ve({type:i,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(n,r){n&2&&(Ce("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled())("tabindex",r._getTabIndex()),mn(r.color?"mat-"+r.color:""),me("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("mat-unthemed",!r.color)("_mat-animation-noopable",r._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Pe],disabled:[2,"disabled","disabled",Pe],ariaDisabled:[2,"aria-disabled","ariaDisabled",Pe],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Pe],tabIndex:[2,"tabIndex","tabIndex",xv],_tabindex:[2,"tabindex","_tabindex",xv]}})}return i})(),Jd=(()=>{class i extends ip{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ie({type:i,selectors:[["button","mat-icon-button",""],["a","mat-icon-button",""],["button","matIconButton",""],["a","matIconButton",""]],hostAttrs:[1,"mdc-icon-button","mat-mdc-icon-button"],exportAs:["matButton","matAnchor"],features:[gi],attrs:LD,ngContentSelectors:VD,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){n&1&&(Ht(),_i(0,"span",0),Xe(1),_i(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%));flex-shrink:0;text-align:center;width:var(--mat-icon-button-state-layer-size, 40px);height:var(--mat-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mat-icon-button-state-layer-size, 40px) - var(--mat-icon-button-icon-size, 24px)) / 2);font-size:var(--mat-icon-button-icon-size, 24px);color:var(--mat-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus-visible>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-icon-button-touch-target-size, 48px);display:var(--mat-icon-button-touch-target-display, block);left:50%;width:var(--mat-icon-button-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mat-icon-button-icon-size, 24px);height:var(--mat-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%))}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return i})();var UD=["matButton",""],jD=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],zD=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var Iv=new Map([["text",["mat-mdc-button"]],["filled",["mdc-button--unelevated","mat-mdc-unelevated-button"]],["elevated",["mdc-button--raised","mat-mdc-raised-button"]],["outlined",["mdc-button--outlined","mat-mdc-outlined-button"]],["tonal",["mat-tonal-button"]]]),rp=(()=>{class i extends ip{get appearance(){return this._appearance}set appearance(e){this.setAppearance(e||this._config?.defaultAppearance||"text")}_appearance=null;constructor(){super();let e=$D(this._elementRef.nativeElement);e&&this.setAppearance(e)}setAppearance(e){if(e===this._appearance)return;let n=this._elementRef.nativeElement.classList,r=this._appearance?Iv.get(this._appearance):null,o=Iv.get(e);r&&n.remove(...r),n.add(...o),this._appearance=e}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ie({type:i,selectors:[["button","matButton",""],["a","matButton",""],["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""],["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostAttrs:[1,"mdc-button"],inputs:{appearance:[0,"matButton","appearance"]},exportAs:["matButton","matAnchor"],features:[gi],attrs:UD,ngContentSelectors:zD,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,r){n&1&&(Ht(jD),_i(0,"span",0),Xe(1),xe(2,"span",1),Xe(3,1),ve(),Xe(4,2),_i(5,"span",2)(6,"span",3)),n&2&&me("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:[`.mat-mdc-button-base{text-decoration:none}.mat-mdc-button-base .mat-icon{min-height:fit-content;flex-shrink:0}@media(hover: none){.mat-mdc-button-base:hover>span.mat-mdc-button-persistent-ripple::before{opacity:0}}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-button-text-horizontal-padding, 12px);height:var(--mat-button-text-container-height, 40px);font-family:var(--mat-button-text-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-text-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-text-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-text-label-text-transform);font-weight:var(--mat-button-text-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mat-button-text-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mat-button-text-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-text-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-button-text-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-offset, -4px);margin-left:var(--mat-button-text-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-text-icon-spacing, 8px);margin-left:var(--mat-button-text-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-button-text-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-text-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-text-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-text-touch-target-size, 48px);display:var(--mat-button-text-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-filled-container-height, 40px);font-family:var(--mat-button-filled-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-filled-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-filled-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-filled-label-text-transform);font-weight:var(--mat-button-filled-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-filled-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-offset, -8px);margin-left:var(--mat-button-filled-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-filled-icon-spacing, 8px);margin-left:var(--mat-button-filled-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-button-filled-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-filled-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-filled-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-filled-touch-target-size, 48px);display:var(--mat-button-filled-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mat-button-filled-label-text-color, var(--mat-sys-on-primary));background-color:var(--mat-button-filled-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mat-button-filled-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mat-button-protected-container-elevation-shadow, var(--mat-sys-level1));height:var(--mat-button-protected-container-height, 40px);font-family:var(--mat-button-protected-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-protected-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-protected-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-protected-label-text-transform);font-weight:var(--mat-button-protected-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-protected-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-offset, -8px);margin-left:var(--mat-button-protected-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-protected-icon-spacing, 8px);margin-left:var(--mat-button-protected-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-button-protected-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-protected-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-protected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-protected-touch-target-size, 48px);display:var(--mat-button-protected-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-raised-button:not(:disabled){color:var(--mat-button-protected-label-text-color, var(--mat-sys-primary));background-color:var(--mat-button-protected-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mat-button-protected-container-shape, var(--mat-sys-corner-full))}@media(hover: hover){.mat-mdc-raised-button:hover{box-shadow:var(--mat-button-protected-hover-container-elevation-shadow, var(--mat-sys-level2))}}.mat-mdc-raised-button:focus{box-shadow:var(--mat-button-protected-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mat-button-protected-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-protected-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-protected-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mat-button-protected-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-outlined-container-height, 40px);font-family:var(--mat-button-outlined-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-outlined-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-outlined-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-outlined-label-text-transform);font-weight:var(--mat-button-outlined-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mat-button-outlined-container-shape, var(--mat-sys-corner-full));border-width:var(--mat-button-outlined-outline-width, 1px);padding:0 var(--mat-button-outlined-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-offset, -8px);margin-left:var(--mat-button-outlined-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-outlined-icon-spacing, 8px);margin-left:var(--mat-button-outlined-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-button-outlined-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-outlined-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-outlined-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-outlined-touch-target-size, 48px);display:var(--mat-button-outlined-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-outlined-button:not(:disabled){color:var(--mat-button-outlined-label-text-color, var(--mat-sys-primary));border-color:var(--mat-button-outlined-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mat-button-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-button-tonal-container-height, 40px);font-family:var(--mat-button-tonal-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mat-button-tonal-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mat-button-tonal-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mat-button-tonal-label-text-transform);font-weight:var(--mat-button-tonal-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-button-tonal-horizontal-padding, 24px)}.mat-tonal-button:not(:disabled){color:var(--mat-button-tonal-label-text-color, var(--mat-sys-on-secondary-container));background-color:var(--mat-button-tonal-container-color, var(--mat-sys-secondary-container))}.mat-tonal-button,.mat-tonal-button .mdc-button__ripple{border-radius:var(--mat-button-tonal-container-shape, var(--mat-sys-corner-full))}.mat-tonal-button[disabled],.mat-tonal-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-button-tonal-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-button-tonal-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-tonal-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}[dir=rtl] .mat-tonal-button>.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}.mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-offset, -8px);margin-left:var(--mat-button-tonal-icon-spacing, 8px)}[dir=rtl] .mat-tonal-button .mdc-button__label+.mat-icon{margin-right:var(--mat-button-tonal-icon-spacing, 8px);margin-left:var(--mat-button-tonal-icon-offset, -8px)}.mat-tonal-button .mat-ripple-element{background-color:var(--mat-button-tonal-ripple-color, color-mix(in srgb, var(--mat-sys-on-secondary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-tonal-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-tonal-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-button-tonal-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-tonal-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-tonal-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-tonal-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-tonal-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-button-tonal-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-tonal-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-button-tonal-touch-target-size, 48px);display:var(--mat-button-tonal-touch-target-display, block);left:0;right:0;transform:translateY(-50%)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button,.mat-tonal-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-tonal-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before,.mat-tonal-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon,.mat-tonal-button .mdc-button__label,.mat-tonal-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator,.mat-tonal-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-raised-button:focus-visible>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus-visible>.mat-focus-indicator::before,.mat-tonal-button:focus-visible>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable,.mat-tonal-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon,.mat-tonal-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-tonal-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return i})();function $D(i){return i.hasAttribute("mat-raised-button")?"elevated":i.hasAttribute("mat-stroked-button")?"outlined":i.hasAttribute("mat-flat-button")?"filled":i.hasAttribute("mat-button")?"text":null}var Av=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=De({imports:[Qd,rt]})}return i})();var qD=["tooltip"],HD=20;var WD=new Y("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let i=y(be);return()=>qi(i,{scrollThrottle:HD})}}),KD=new Y("mat-tooltip-default-options",{providedIn:"root",factory:()=>({showDelay:0,hideDelay:0,touchendHideDelay:1500})});var Tv="tooltip-panel",Dv=Cr({passive:!0}),GD=8,YD=8,QD=24,XD=200,Mv=(()=>{class i{_elementRef=y(Oe);_ngZone=y(te);_platform=y(Ke);_ariaDescriber=y(I0);_focusMonitor=y(vs);_dir=y(ln);_injector=y(be);_viewContainerRef=y(ti);_mediaMatcher=y(Cs);_animationsDisabled=Ot();_defaultOptions=y(KD,{optional:!0});_overlayRef;_tooltipInstance;_overlayPanelClass;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=ZD;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=$i(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let n=$i(e);this._disabled!==n&&(this._disabled=n,n?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=bs(e)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=bs(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(e){let n=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(n)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new ue;_isDestroyed=!1;constructor(){let e=this._defaultOptions;e&&(this._showDelay=e.showDelay,this._hideDelay=e.hideDelay,e.position&&(this.position=e.position),e.positionAtOrigin&&(this.positionAtOrigin=e.positionAtOrigin),e.touchGestures&&(this.touchGestures=e.touchGestures),e.tooltipClass&&(this.tooltipClass=e.tooltipClass)),this._viewportMargin=GD}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Je(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,r])=>{e.removeEventListener(n,r,Dv)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,n){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let r=this._createOverlay(n);this._detach(),this._portal=this._portal||new xr(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Je(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){let n=this._tooltipInstance;n&&(n.isVisible()?n.hide(e):(n._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&s._origin instanceof Oe)return this._overlayRef;this._detach()}let n=this._injector.get(As).getAncestorScrollContainers(this._elementRef),r=`${this._cssClassPrefix}-${Tv}`,o=fo(this._injector,this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n).withPopoverLocation("global");return o.positionChanges.pipe(Je(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=go(this._injector,{direction:this._dir,positionStrategy:o,panelClass:this._overlayPanelClass?[...this._overlayPanelClass,r]:r,scrollStrategy:this._injector.get(WD)(),disableAnimations:this._animationsDisabled}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Je(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Je(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Je(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&s.keyCode===27&&!Dt(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(Je(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let n=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();n.withPositions([this._addOffset(k(k({},r.main),o.main)),this._addOffset(k(k({},r.fallback),o.fallback))])}_addOffset(e){let n=YD,r=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-n:e.originY==="bottom"?e.offsetY=n:e.originX==="start"?e.offsetX=r?-n:n:e.originX==="end"&&(e.offsetX=r?n:-n),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",n=this.position,r;n=="above"||n=="below"?r={originX:"center",originY:n=="above"?"top":"bottom"}:n=="before"||n=="left"&&e||n=="right"&&!e?r={originX:"start",originY:"center"}:(n=="after"||n=="right"&&e||n=="left"&&!e)&&(r={originX:"end",originY:"center"});let{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",n=this.position,r;n=="above"?r={overlayX:"center",overlayY:"bottom"}:n=="below"?r={overlayX:"center",overlayY:"top"}:n=="before"||n=="left"&&e||n=="right"&&!e?r={overlayX:"end",overlayY:"center"}:(n=="after"||n=="right"&&e||n=="left"&&!e)&&(r={overlayX:"start",overlayY:"center"});let{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),un(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,n){return this.position==="above"||this.position==="below"?n==="top"?n="bottom":n==="bottom"&&(n="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:n}}_updateCurrentPositionClass(e){let{overlayY:n,originX:r,originY:o}=e,s;if(n==="center"?this._dir&&this._dir.value==="rtl"?s=r==="end"?"left":"right":s=r==="start"?"left":"right":s=n==="bottom"&&o==="top"?"above":"below",s!==this._currentPosition){let l=this._overlayRef;if(l){let c=`${this._cssClassPrefix}-${Tv}-`;l.removePanelClass(c+this._currentPosition),l.addPanelClass(c+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._isTouchPlatform()?this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let n=e.targetTouches?.[0],r=n?{x:n.clientX,y:n.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,r)},this._defaultOptions?.touchLongPressShowDelay??o)}])):this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let n;e.x!==void 0&&e.y!==void 0&&(n=e),this.show(void 0,n)}]),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(!this._isTouchPlatform())e.push(["mouseleave",n=>{let r=n.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let n=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};e.push(["touchend",n],["touchcancel",n])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([n,r])=>{this._elementRef.nativeElement.addEventListener(n,r,Dv)})}_isTouchPlatform(){return this._platform.IOS||this._platform.ANDROID?!0:this._platform.isBrowser?!!this._defaultOptions?.detectHoverCapability&&this._mediaMatcher.matchMedia("(any-hover: none)").matches:!1}_wheelListener(e){if(this._isTooltipVisible()){let n=this._injector.get(Me).elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;n!==r&&!r.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let n=this._elementRef.nativeElement,r=n.style;(e==="on"||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA")&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),(e==="on"||!n.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._isDestroyed||un({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Ve({type:i,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(n,r){n&2&&me("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return i})(),ZD=(()=>{class i{_changeDetectorRef=y(st);_elementRef=y(Oe);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled=Ot();_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new ue;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>QD&&e.width>=XD}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let n=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(n.classList.remove(e?o:r),n.classList.add(e?r:o),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(n);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ie({type:i,selectors:[["mat-tooltip-component"]],viewQuery:function(n,r){if(n&1&&It(qD,7),n&2){let o;Ie(o=Ae())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(n,r){n&1&&q("mouseleave",function(s){return r._handleMouseLeave(s)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(n,r){if(n&1){let o=ce();m(0,"div",1,0),q("animationend",function(l){return L(o),V(r._handleAnimationEnd(l))}),m(2,"div",2),_(3),f()()}n&2&&(me("mdc-tooltip--multiline",r._isMultiline),j("ngClass",r.tooltipClass),h(3),A(r.message))},dependencies:[fn],styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mat-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mat-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mat-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mat-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mat-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mat-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return i})();var JD=["mat-calendar-body",""];function eM(i,t){return this._trackRow(t)}var Lv=(i,t)=>t.id;function tM(i,t){if(i&1&&(m(0,"tr",0)(1,"td",3),_(2),f()()),i&2){let e=I();h(),Pi("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Ce("colspan",e.numCols),h(),$(" ",e.label," ")}}function nM(i,t){if(i&1&&(m(0,"td",3),_(1),f()),i&2){let e=I(2);Pi("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),Ce("colspan",e._firstRowOffset),h(),$(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function iM(i,t){if(i&1){let e=ce();m(0,"td",6)(1,"button",7),q("click",function(r){let o=L(e).$implicit,s=I(2);return V(s._cellClicked(o,r))})("focus",function(r){let o=L(e).$implicit,s=I(2);return V(s._emitActiveDateChange(o,r))}),m(2,"span",8),_(3),f(),H(4,"span",9),f()()}if(i&2){let e=t.$implicit,n=t.$index,r=I().$index,o=I();Pi("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),Ce("data-mat-row",r)("data-mat-col",n),h(),me("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",o._isActiveCell(r,n))("mat-calendar-body-range-start",o._isRangeStart(e.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",o._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(e.compareValue,r,n))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(e.compareValue,r,n))("mat-calendar-body-comparison-start",o._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",o._isInPreview(e.compareValue)),j("ngClass",e.cssClasses)("tabindex",o._isActiveCell(r,n)?0:-1),Ce("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",o._isSelected(e.compareValue))("aria-current",o.todayValue===e.compareValue?"date":null)("aria-describedby",o._getDescribedby(e.compareValue)),h(),me("mat-calendar-body-selected",o._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",o.todayValue===e.compareValue),h(),$(" ",e.displayValue," ")}}function rM(i,t){if(i&1&&(m(0,"tr",1),W(1,nM,2,6,"td",4),Ee(2,iM,5,48,"td",5,Lv),f()),i&2){let e=t.$implicit,n=t.$index,r=I();h(),K(n===0&&r._firstRowOffset?1:-1),h(),Se(e)}}function oM(i,t){if(i&1&&(m(0,"th",2)(1,"span",6),_(2),f(),m(3,"span",3),_(4),f()()),i&2){let e=t.$implicit;h(2),A(e.long),h(2),A(e.narrow)}}var sM=["*"];function aM(i,t){}function lM(i,t){if(i&1){let e=ce();m(0,"mat-month-view",4),se("activeDateChange",function(r){L(e);let o=I();return oe(o.activeDate,r)||(o.activeDate=r),V(r)}),q("_userSelection",function(r){L(e);let o=I();return V(o._dateSelected(r))})("dragStarted",function(r){L(e);let o=I();return V(o._dragStarted(r))})("dragEnded",function(r){L(e);let o=I();return V(o._dragEnded(r))}),f()}if(i&2){let e=I();re("activeDate",e.activeDate),j("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function cM(i,t){if(i&1){let e=ce();m(0,"mat-year-view",5),se("activeDateChange",function(r){L(e);let o=I();return oe(o.activeDate,r)||(o.activeDate=r),V(r)}),q("monthSelected",function(r){L(e);let o=I();return V(o._monthSelectedInYearView(r))})("selectedChange",function(r){L(e);let o=I();return V(o._goToDateInView(r,"month"))}),f()}if(i&2){let e=I();re("activeDate",e.activeDate),j("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function dM(i,t){if(i&1){let e=ce();m(0,"mat-multi-year-view",6),se("activeDateChange",function(r){L(e);let o=I();return oe(o.activeDate,r)||(o.activeDate=r),V(r)}),q("yearSelected",function(r){L(e);let o=I();return V(o._yearSelectedInMultiYearView(r))})("selectedChange",function(r){L(e);let o=I();return V(o._goToDateInView(r,"year"))}),f()}if(i&2){let e=I();re("activeDate",e.activeDate),j("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function uM(i,t){}var hM=["button"],mM=[[["","matDatepickerToggleIcon",""]]],pM=["[matDatepickerToggleIcon]"];function fM(i,t){i&1&&(Di(),m(0,"svg",2),H(1,"path",3),f())}var Fs=(()=>{class i{changes=new ue;calendarLabel="Calendar";openCalendarLabel="Open calendar";closeCalendarLabel="Close calendar";prevMonthLabel="Previous month";nextMonthLabel="Next month";prevYearLabel="Previous year";nextYearLabel="Next year";prevMultiYearLabel="Previous 24 years";nextMultiYearLabel="Next 24 years";switchToMonthViewLabel="Choose date";switchToMultiYearViewLabel="Choose month and year";startDateLabel="Start date";endDateLabel="End date";comparisonDateLabel="Comparison range";formatYearRange(e,n){return`${e} \u2013 ${n}`}formatYearRangeLabel(e,n){return`${e} to ${n}`}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),gM=0,gl=class{value;displayValue;ariaLabel;enabled;cssClasses;compareValue;rawValue;id=gM++;constructor(t,e,n,r,o={},s=t,l){this.value=t,this.displayValue=e,this.ariaLabel=n,this.enabled=r,this.cssClasses=o,this.compareValue=s,this.rawValue=l}},_M={passive:!1,capture:!0},eu={passive:!0,capture:!0},Rv={passive:!0},Ns=(()=>{class i{_elementRef=y(Oe);_ngZone=y(te);_platform=y(Ke);_intl=y(Fs);_eventCleanups;_skipNextFocus;_focusActiveCellAfterViewChecked=!1;label;rows;todayValue;startValue;endValue;labelMinRequiredCells;numCols=7;activeCell=0;ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}isRange=!1;cellAspectRatio=1;comparisonStart;comparisonEnd;previewStart=null;previewEnd=null;startDateAccessibleName;endDateAccessibleName;selectedValueChange=new he;previewChange=new he;activeDateChange=new he;dragStarted=new he;dragEnded=new he;_firstRowOffset;_cellPadding;_cellWidth;_startDateLabelId;_endDateLabelId;_comparisonStartDateLabelId;_comparisonEndDateLabelId;_didDragSinceMouseDown=!1;_injector=y(be);comparisonDateAccessibleName=this._intl.comparisonDateLabel;_trackRow=e=>e;constructor(){let e=y(Rt),n=y(kt);this._startDateLabelId=n.getId("mat-calendar-body-start-"),this._endDateLabelId=n.getId("mat-calendar-body-end-"),this._comparisonStartDateLabelId=n.getId("mat-calendar-body-comparison-start-"),this._comparisonEndDateLabelId=n.getId("mat-calendar-body-comparison-end-"),y(pt).load(xs),this._ngZone.runOutsideAngular(()=>{let r=this._elementRef.nativeElement,o=[e.listen(r,"touchmove",this._touchmoveHandler,_M),e.listen(r,"mouseenter",this._enterHandler,eu),e.listen(r,"focus",this._enterHandler,eu),e.listen(r,"mouseleave",this._leaveHandler,eu),e.listen(r,"blur",this._leaveHandler,eu),e.listen(r,"mousedown",this._mousedownHandler,Rv),e.listen(r,"touchstart",this._mousedownHandler,Rv)];this._platform.isBrowser&&o.push(e.listen("window","mouseup",this._mouseupHandler),e.listen("window","touchend",this._touchendHandler)),this._eventCleanups=o})}_cellClicked(e,n){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:n})}_emitActiveDateChange(e,n){e.enabled&&this.activeDateChange.emit({value:e.value,event:n})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){let n=e.numCols,{rows:r,numCols:o}=this;(e.rows||n)&&(this._firstRowOffset=r&&r.length&&r[0].length?o-r[0].length:0),(e.cellAspectRatio||n||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/o}%`),(n||!this._cellWidth)&&(this._cellWidth=`${100/o}%`)}ngOnDestroy(){this._eventCleanups.forEach(e=>e())}_isActiveCell(e,n){let r=e*this.numCols+n;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){un(()=>{setTimeout(()=>{let n=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");n&&(e||(this._skipNextFocus=!0),n.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return ap(e,this.startValue,this.endValue)}_isRangeEnd(e){return lp(e,this.startValue,this.endValue)}_isInRange(e){return cp(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return ap(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,n,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let o=this.rows[n][r-1];if(!o){let s=this.rows[n-1];o=s&&s[s.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(e,n,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let o=this.rows[n][r+1];if(!o){let s=this.rows[n+1];o=s&&s[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(e){return lp(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return cp(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return ap(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return lp(e,this.previewStart,this.previewEnd)}_isInPreview(e){return cp(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){if(!this.isRange)return null;if(this.startValue===e&&this.endValue===e)return`${this._startDateLabelId} ${this._endDateLabelId}`;if(this.startValue===e)return this._startDateLabelId;if(this.endValue===e)return this._endDateLabelId;if(this.comparisonStart!==null&&this.comparisonEnd!==null){if(e===this.comparisonStart&&e===this.comparisonEnd)return`${this._comparisonStartDateLabelId} ${this._comparisonEndDateLabelId}`;if(e===this.comparisonStart)return this._comparisonStartDateLabelId;if(e===this.comparisonEnd)return this._comparisonEndDateLabelId}return null}_enterHandler=e=>{if(this._skipNextFocus&&e.type==="focus"){this._skipNextFocus=!1;return}if(e.target&&this.isRange){let n=this._getCellFromElement(e.target);n&&this._ngZone.run(()=>this.previewChange.emit({value:n.enabled?n:null,event:e}))}};_touchmoveHandler=e=>{if(!this.isRange)return;let n=kv(e),r=n?this._getCellFromElement(n):null;n!==e.target&&(this._didDragSinceMouseDown=!0),sp(e.target)&&e.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:r?.enabled?r:null,event:e}))};_leaveHandler=e=>{this.previewEnd!==null&&this.isRange&&(e.type!=="blur"&&(this._didDragSinceMouseDown=!0),e.target&&this._getCellFromElement(e.target)&&!(e.relatedTarget&&this._getCellFromElement(e.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:e})))};_mousedownHandler=e=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let n=e.target&&this._getCellFromElement(e.target);!n||!this._isInRange(n.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:n.rawValue,event:e})})};_mouseupHandler=e=>{if(!this.isRange)return;let n=sp(e.target);if(!n){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:e})});return}n.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let r=this._getCellFromElement(n);this.dragEnded.emit({value:r?.rawValue??null,event:e})})};_touchendHandler=e=>{let n=kv(e);n&&this._mouseupHandler({target:n})};_getCellFromElement(e){let n=sp(e);if(n){let r=n.getAttribute("data-mat-row"),o=n.getAttribute("data-mat-col");if(r&&o)return this.rows[parseInt(r)]?.[parseInt(o)]||null}return null}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ie({type:i,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[dt],attrs:JD,decls:11,vars:11,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(n,r){n&1&&(W(0,tM,3,6,"tr",0),Ee(1,rM,4,1,"tr",1,eM,!0),m(3,"span",2),_(4),f(),m(5,"span",2),_(6),f(),m(7,"span",2),_(8),f(),m(9,"span",2),_(10),f()),n&2&&(K(r._firstRowOffset<r.labelMinRequiredCells?0:-1),h(),Se(r.rows),h(2),j("id",r._startDateLabelId),h(),$(" ",r.startDateAccessibleName,`
`),h(),j("id",r._endDateLabelId),h(),$(" ",r.endDateAccessibleName,`
`),h(),j("id",r._comparisonStartDateLabelId),h(),ni(" ",r.comparisonDateAccessibleName," ",r.startDateAccessibleName,`
`),h(),j("id",r._comparisonEndDateLabelId),h(),ni(" ",r.comparisonDateAccessibleName," ",r.endDateAccessibleName,`
`))},dependencies:[fn],styles:[`.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-sys-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-sys-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size));-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-calendar-body-disabled{opacity:.5}}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-sys-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color, transparent)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}@media(forced-colors: active){.mat-calendar-body-cell-content{border:none}}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-sys-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-sys-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-sys-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-sys-secondary))}@media(forced-colors: active){.mat-datepicker-popup:not(:empty),.mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-selected{background:none}.mat-calendar-body-in-range::before,.mat-calendar-body-comparison-bridge-start::before,.mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}}
`],encapsulation:2,changeDetection:0})}return i})();function op(i){return i?.nodeName==="TD"}function sp(i){let t;return op(i)?t=i:op(i.parentNode)?t=i.parentNode:op(i.parentNode?.parentNode)&&(t=i.parentNode.parentNode),t?.getAttribute("data-mat-row")!=null?t:null}function ap(i,t,e){return e!==null&&t!==e&&i<e&&i===t}function lp(i,t,e){return t!==null&&t!==e&&i>=t&&i===e}function cp(i,t,e,n){return n&&t!==null&&e!==null&&t!==e&&i>=t&&i<=e}function kv(i){let t=i.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}var Yn=class{start;end;_disableStructuralEquivalency;constructor(t,e){this.start=t,this.end=e}},_l=(()=>{class i{selection;_adapter;_selectionChanged=new ue;selectionChanged=this._selectionChanged;constructor(e,n){this.selection=e,this._adapter=n,this.selection=e}updateSelection(e,n){let r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:n,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static \u0275fac=function(n){pc()};static \u0275prov=G({token:i,factory:i.\u0275fac})}return i})(),yM=(()=>{class i extends _l{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let e=new i(this._adapter);return e.updateSelection(this.selection,this),e}static \u0275fac=function(n){return new(n||i)(ye(Xt))};static \u0275prov=G({token:i,factory:i.\u0275fac})}return i})();var Vv={provide:_l,useFactory:()=>y(_l,{optional:!0,skipSelf:!0})||new yM(y(Xt))};var Bv=new Y("MAT_DATE_RANGE_SELECTION_STRATEGY");var dp=7,bM=0,Ov=(()=>{class i{_changeDetectorRef=y(st);_dateFormats=y(Ir,{optional:!0});_dateAdapter=y(Xt,{optional:!0});_dir=y(ln,{optional:!0});_rangeStrategy=y(Bv,{optional:!0});_rerenderSubscription=it.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let n=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(n,this._activeDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof Yn?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;activeDrag=null;selectedChange=new he;_userSelection=new he;dragStarted=new he;dragEnded=new he;activeDateChange=new he;_matCalendarBody;_monthLabel=Ue("");_weeks=Ue([]);_firstWeekOffset=Ue(0);_rangeStart=Ue(null);_rangeEnd=Ue(null);_comparisonRangeStart=Ue(null);_comparisonRangeEnd=Ue(null);_previewStart=Ue(null);_previewEnd=Ue(null);_isRange=Ue(!1);_todayDate=Ue(null);_weekdays=Ue([]);constructor(){y(pt).load(si),this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(zt(null)).subscribe(()=>this._init())}ngOnChanges(e){let n=e.comparisonStart||e.comparisonEnd;n&&!n.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){let n=e.value,r=this._getDateFromDayOfMonth(n),o,s;this._selected instanceof Yn?(o=this._getDateInCurrentMonth(this._selected.start),s=this._getDateInCurrentMonth(this._selected.end)):o=s=this._getDateInCurrentMonth(this._selected),(o!==n||s!==n)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){let n=e.value,r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(n),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){let n=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&e.preventDefault();return;case 27:this._previewEnd()!=null&&!Dt(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation());return;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate.set(this._getCellCompareValue(this._dateAdapter.today())),this._monthLabel.set(this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase());let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset.set((dp+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%dp),this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:n}){if(this._rangeStrategy){let r=n?n.rawValue:null,o=this._rangeStrategy.createPreview(r,this.selected,e);if(this._previewStart.set(this._getCellCompareValue(o.start)),this._previewEnd.set(this._getCellCompareValue(o.end)),this.activeDrag&&r){let s=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,r,e);s&&(this._previewStart.set(this._getCellCompareValue(s.start)),this._previewEnd.set(this._getCellCompareValue(s.end)))}}}_dragEnded(e){if(this.activeDrag)if(e.value){let n=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:n??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){let e=this._dateAdapter.getFirstDayOfWeek(),n=this._dateAdapter.getDayOfWeekNames("narrow"),o=this._dateAdapter.getDayOfWeekNames("long").map((s,l)=>({long:s,narrow:n[l],id:bM++}));this._weekdays.set(o.slice(e).concat(o.slice(0,e)))}_createWeekCells(){let e=this._dateAdapter.getNumDaysInMonth(this.activeDate),n=this._dateAdapter.getDateNames(),r=[[]];for(let o=0,s=this._firstWeekOffset();o<e;o++,s++){s==dp&&(r.push([]),s=0);let l=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),o+1),c=this._shouldEnableDate(l),u=this._dateAdapter.format(l,this._dateFormats.display.dateA11yLabel),g=this.dateClass?this.dateClass(l,"month"):void 0;r[r.length-1].push(new gl(o+1,n[o],u,c,g,this._getCellCompareValue(l),l))}this._weeks.set(r)}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,n){return!!(e&&n&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(n)&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(n))}_getCellCompareValue(e){if(e){let n=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),o=this._dateAdapter.getDate(e);return new Date(n,r,o).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(e){e instanceof Yn?(this._rangeStart.set(this._getCellCompareValue(e.start)),this._rangeEnd.set(this._getCellCompareValue(e.end)),this._isRange.set(!0)):(this._rangeStart.set(this._getCellCompareValue(e)),this._rangeEnd.set(this._rangeStart()),this._isRange.set(!1)),this._comparisonRangeStart.set(this._getCellCompareValue(this.comparisonStart)),this._comparisonRangeEnd.set(this._getCellCompareValue(this.comparisonEnd))}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart.set(null),this._previewEnd.set(null)}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ie({type:i,selectors:[["mat-month-view"]],viewQuery:function(n,r){if(n&1&&It(Ns,5),n&2){let o;Ie(o=Ae())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[dt],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(n,r){n&1&&(m(0,"table",0)(1,"thead",1)(2,"tr"),Ee(3,oM,5,2,"th",2,Lv),f(),m(5,"tr",3),H(6,"th",4),f()(),m(7,"tbody",5),q("selectedValueChange",function(s){return r._dateSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("previewChange",function(s){return r._previewChanged(s)})("dragStarted",function(s){return r.dragStarted.emit(s)})("dragEnded",function(s){return r._dragEnded(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),f()()),n&2&&(h(3),Se(r._weekdays()),h(4),j("label",r._monthLabel())("rows",r._weeks())("todayValue",r._todayDate())("startValue",r._rangeStart())("endValue",r._rangeEnd())("comparisonStart",r._comparisonRangeStart())("comparisonEnd",r._comparisonRangeEnd())("previewStart",r._previewStart())("previewEnd",r._previewEnd())("isRange",r._isRange())("labelMinRequiredCells",3)("activeCell",r._dateAdapter.getDate(r.activeDate)-1)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName))},dependencies:[Ns],encapsulation:2,changeDetection:0})}return i})(),Bn=24,up=4,Pv=(()=>{class i{_changeDetectorRef=y(st);_dateAdapter=y(Xt,{optional:!0});_dir=y(ln,{optional:!0});_rerenderSubscription=it.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let n=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),Uv(this._dateAdapter,n,this._activeDate,this.minDate,this.maxDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof Yn?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;selectedChange=new he;yearSelected=new he;activeDateChange=new he;_matCalendarBody;_years=Ue([]);_todayYear=Ue(0);_selectedYear=Ue(null);constructor(){this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(zt(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear.set(this._dateAdapter.getYear(this._dateAdapter.today()));let n=this._dateAdapter.getYear(this._activeDate)-fl(this._dateAdapter,this.activeDate,this.minDate,this.maxDate),r=[];for(let o=0,s=[];o<Bn;o++)s.push(n+o),s.length==up&&(r.push(s.map(l=>this._createCellForYear(l))),s=[]);this._years.set(r),this._changeDetectorRef.markForCheck()}_yearSelected(e){let n=e.value,r=this._dateAdapter.createDate(n,0,1),o=this._getDateFromYear(n);this.yearSelected.emit(r),this.selectedChange.emit(o)}_updateActiveDate(e){let n=e.value,r=this._activeDate;this.activeDate=this._getDateFromYear(n),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let n=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-up);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,up);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-fl(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Bn-fl(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-Bn*10:-Bn);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?Bn*10:Bn);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return fl(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){let n=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,n,1));return this._dateAdapter.createDate(e,n,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){let n=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(n),o=this.dateClass?this.dateClass(n,"multi-year"):void 0;return new gl(e,r,r,this._shouldEnableYear(e),o)}_shouldEnableYear(e){if(e==null||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let n=this._dateAdapter.createDate(e,0,1);for(let r=n;this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(e){if(this._selectedYear.set(null),e instanceof Yn){let n=e.start||e.end;n&&this._selectedYear.set(this._dateAdapter.getYear(n))}else e&&this._selectedYear.set(this._dateAdapter.getYear(e))}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ie({type:i,selectors:[["mat-multi-year-view"]],viewQuery:function(n,r){if(n&1&&It(Ns,5),n&2){let o;Ie(o=Ae())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(n,r){n&1&&(m(0,"table",0)(1,"thead",1)(2,"tr"),H(3,"th",2),f()(),m(4,"tbody",3),q("selectedValueChange",function(s){return r._yearSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),f()()),n&2&&(h(4),j("rows",r._years())("todayValue",r._todayYear())("startValue",r._selectedYear())("endValue",r._selectedYear())("numCols",4)("cellAspectRatio",4/7)("activeCell",r._getActiveCell()))},dependencies:[Ns],encapsulation:2,changeDetection:0})}return i})();function Uv(i,t,e,n,r){let o=i.getYear(t),s=i.getYear(e),l=jv(i,n,r);return Math.floor((o-l)/Bn)===Math.floor((s-l)/Bn)}function fl(i,t,e,n){let r=i.getYear(t);return vM(r-jv(i,e,n),Bn)}function jv(i,t,e){let n=0;return e?n=i.getYear(e)-Bn+1:t&&(n=i.getYear(t)),n}function vM(i,t){return(i%t+t)%t}var Nv=(()=>{class i{_changeDetectorRef=y(st);_dateFormats=y(Ir,{optional:!0});_dateAdapter=y(Xt,{optional:!0});_dir=y(ln,{optional:!0});_rerenderSubscription=it.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let n=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(n)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof Yn?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;selectedChange=new he;monthSelected=new he;activeDateChange=new he;_matCalendarBody;_months=Ue([]);_yearLabel=Ue("");_todayMonth=Ue(null);_selectedMonth=Ue(null);constructor(){this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(zt(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){let n=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,1);this.monthSelected.emit(r);let o=this._getDateFromMonth(n);this.selectedChange.emit(o)}_updateActiveDate(e){let n=e.value,r=this._activeDate;this.activeDate=this._getDateFromMonth(n),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let n=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth.set(this._getMonthInCurrentYear(this._dateAdapter.today())),this._yearLabel.set(this._dateAdapter.getYearName(this.activeDate));let e=this._dateAdapter.getMonthNames("short");this._months.set([[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(n=>n.map(r=>this._createCellForMonth(r,e[r])))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){let n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(n);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,n){let r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),s=this.dateClass?this.dateClass(r,"year"):void 0;return new gl(e,n.toLocaleUpperCase(),o,this._shouldEnableMonth(e),s)}_shouldEnableMonth(e){let n=this._dateAdapter.getYear(this.activeDate);if(e==null||this._isYearAndMonthAfterMaxDate(n,e)||this._isYearAndMonthBeforeMinDate(n,e))return!1;if(!this.dateFilter)return!0;let r=this._dateAdapter.createDate(n,e,1);for(let o=r;this._dateAdapter.getMonth(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(e,n){if(this.maxDate){let r=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&n>o}return!1}_isYearAndMonthBeforeMinDate(e,n){if(this.minDate){let r=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&n<o}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(e){e instanceof Yn?this._selectedMonth.set(this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end)):this._selectedMonth.set(this._getMonthInCurrentYear(e))}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ie({type:i,selectors:[["mat-year-view"]],viewQuery:function(n,r){if(n&1&&It(Ns,5),n&2){let o;Ie(o=Ae())&&(r._matCalendarBody=o.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(n,r){n&1&&(m(0,"table",0)(1,"thead",1)(2,"tr"),H(3,"th",2),f()(),m(4,"tbody",3),q("selectedValueChange",function(s){return r._monthSelected(s)})("activeDateChange",function(s){return r._updateActiveDate(s)})("keyup",function(s){return r._handleCalendarBodyKeyup(s)})("keydown",function(s){return r._handleCalendarBodyKeydown(s)}),f()()),n&2&&(h(4),j("label",r._yearLabel())("rows",r._months())("todayValue",r._todayMonth())("startValue",r._selectedMonth())("endValue",r._selectedMonth())("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",r._dateAdapter.getMonth(r.activeDate)))},dependencies:[Ns],encapsulation:2,changeDetection:0})}return i})(),zv=(()=>{class i{_intl=y(Fs);calendar=y(hp);_dateAdapter=y(Xt,{optional:!0});_dateFormats=y(Ir,{optional:!0});_periodButtonText;_periodButtonDescription;_periodButtonLabel;_prevButtonLabel;_nextButtonLabel;constructor(){y(pt).load(si);let e=y(st);this._updateLabels(),this.calendar.stateChanges.subscribe(()=>{this._updateLabels(),e.markForCheck()})}get periodButtonText(){return this._periodButtonText}get periodButtonDescription(){return this._periodButtonDescription}get periodButtonLabel(){return this._periodButtonLabel}get prevButtonLabel(){return this._prevButtonLabel}get nextButtonLabel(){return this._nextButtonLabel}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.previousEnabled()&&(this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-Bn))}nextClicked(){this.nextEnabled()&&(this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:Bn))}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_updateLabels(){let e=this.calendar,n=this._intl,r=this._dateAdapter;e.currentView==="month"?(this._periodButtonText=r.format(e.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase(),this._periodButtonDescription=r.format(e.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase(),this._periodButtonLabel=n.switchToMultiYearViewLabel,this._prevButtonLabel=n.prevMonthLabel,this._nextButtonLabel=n.nextMonthLabel):e.currentView==="year"?(this._periodButtonText=r.getYearName(e.activeDate),this._periodButtonDescription=r.getYearName(e.activeDate),this._periodButtonLabel=n.switchToMonthViewLabel,this._prevButtonLabel=n.prevYearLabel,this._nextButtonLabel=n.nextYearLabel):(this._periodButtonText=n.formatYearRange(...this._formatMinAndMaxYearLabels()),this._periodButtonDescription=n.formatYearRangeLabel(...this._formatMinAndMaxYearLabels()),this._periodButtonLabel=n.switchToMonthViewLabel,this._prevButtonLabel=n.prevMultiYearLabel,this._nextButtonLabel=n.nextMultiYearLabel)}_isSameView(e,n){return this.calendar.currentView=="month"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(n)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(n):this.calendar.currentView=="year"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(n):Uv(this._dateAdapter,e,n,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let n=this._dateAdapter.getYear(this.calendar.activeDate)-fl(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=n+Bn-1,o=this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1)),s=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return[o,s]}_periodButtonLabelId=y(kt).getId("mat-calendar-period-label-");static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ie({type:i,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:sM,decls:17,vars:13,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["matButton","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["matIconButton","","type","button","disabledInteractive","",1,"mat-calendar-previous-button",3,"click","disabled","matTooltip"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["matIconButton","","type","button","disabledInteractive","",1,"mat-calendar-next-button",3,"click","disabled","matTooltip"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(n,r){n&1&&(Ht(),m(0,"div",0)(1,"div",1)(2,"span",2),_(3),f(),m(4,"button",3),q("click",function(){return r.currentPeriodClicked()}),m(5,"span",4),_(6),f(),Di(),m(7,"svg",5),H(8,"polygon",6),f()(),wh(),H(9,"div",7),Xe(10),m(11,"button",8),q("click",function(){return r.previousClicked()}),Di(),m(12,"svg",9),H(13,"path",10),f()(),wh(),m(14,"button",11),q("click",function(){return r.nextClicked()}),Di(),m(15,"svg",9),H(16,"path",12),f()()()()),n&2&&(h(2),j("id",r._periodButtonLabelId),h(),A(r.periodButtonDescription),h(),Ce("aria-label",r.periodButtonLabel)("aria-describedby",r._periodButtonLabelId),h(2),A(r.periodButtonText),h(),me("mat-calendar-invert",r.calendar.currentView!=="month"),h(4),j("disabled",!r.previousEnabled())("matTooltip",r.prevButtonLabel),Ce("aria-label",r.prevButtonLabel),h(3),j("disabled",!r.nextEnabled())("matTooltip",r.nextButtonLabel),Ce("aria-label",r.nextButtonLabel))},dependencies:[rp,Jd,Mv],encapsulation:2,changeDetection:0})}return i})(),hp=(()=>{class i{_dateAdapter=y(Xt,{optional:!0});_dateFormats=y(Ir,{optional:!0});_changeDetectorRef=y(st);_elementRef=y(Oe);headerComponent;_calendarHeaderPortal;_intlChanges;_moveFocusOnNextTick=!1;get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt;startView="month";get selected(){return this._selected}set selected(e){e instanceof Yn?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;selectedChange=new he;yearSelected=new he;monthSelected=new he;viewChanged=new he(!0);_userSelection=new he;_userDragDrop=new he;monthView;yearView;multiYearView;get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}_clampedActiveDate;get currentView(){return this._currentView}set currentView(e){let n=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),n&&(this.stateChanges.next(),this.viewChanged.emit(n))}_currentView;_activeDrag=null;stateChanges=new ue;constructor(){this._intlChanges=y(Fs).changes.subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new xr(this.headerComponent||zv),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){let n=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,o=n||r||e.dateFilter;if(o&&!o.firstChange){let s=this._getCurrentViewComponent();s&&(this._elementRef.nativeElement.contains(ys())&&(this._moveFocusOnNextTick=!0),this._changeDetectorRef.detectChanges(),s._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){let n=e.value;(this.selected instanceof Yn||n&&!this._dateAdapter.sameDate(n,this.selected))&&this.selectedChange.emit(n),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,n){this.activeDate=e,this.currentView=n}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ie({type:i,selectors:[["mat-calendar"]],viewQuery:function(n,r){if(n&1&&It(Ov,5)(Nv,5)(Pv,5),n&2){let o;Ie(o=Ae())&&(r.monthView=o.first),Ie(o=Ae())&&(r.yearView=o.first),Ie(o=Ae())&&(r.multiYearView=o.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[pn([Vv]),dt],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(n,r){if(n&1&&(ki(0,aM,0,0,"ng-template",0),m(1,"div",1),W(2,lM,1,11,"mat-month-view",2)(3,cM,1,6,"mat-year-view",3)(4,dM,1,6,"mat-multi-year-view",3),f()),n&2){let o;j("cdkPortalOutlet",r._calendarHeaderPortal),h(2),K((o=r.currentView)==="month"?2:o==="year"?3:o==="multi-year"?4:-1)}},dependencies:[Ym,xm,Ov,Nv,Pv],styles:[`.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-sys-title-small-weight));--mat-button-text-label-text-color: var(--mat-datepicker-calendar-period-button-text-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}@media(forced-colors: active){.mat-calendar-arrow{fill:CanvasText}}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-sys-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-sys-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color, transparent)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus-visible .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return i})(),wM=new Y("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let i=y(be);return()=>qi(i)}}),$v=(()=>{class i{_elementRef=y(Oe);_animationsDisabled=Ot();_changeDetectorRef=y(st);_globalModel=y(_l);_dateAdapter=y(Xt);_ngZone=y(te);_rangeSelectionStrategy=y(Bv,{optional:!0});_stateChanges;_model;_eventCleanups;_animationFallback;_calendar;color;datepicker;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;_isAbove;_animationDone=new ue;_isAnimating=!1;_closeButtonText;_closeButtonFocused;_actionsPortal=null;_dialogLabelId;constructor(){if(y(pt).load(si),this._closeButtonText=y(Fs).closeCalendarLabel,!this._animationsDisabled){let e=this._elementRef.nativeElement,n=y(Rt);this._eventCleanups=this._ngZone.runOutsideAngular(()=>[n.listen(e,"animationstart",this._handleAnimationEvent),n.listen(e,"animationend",this._handleAnimationEvent),n.listen(e,"animationcancel",this._handleAnimationEvent)])}}ngAfterViewInit(){this._stateChanges=this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._calendar.focusActiveCell()}ngOnDestroy(){clearTimeout(this._animationFallback),this._eventCleanups?.forEach(e=>e()),this._stateChanges?.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){let n=this._model.selection,r=e.value,o=n instanceof Yn;if(o&&this._rangeSelectionStrategy){let s=this._rangeSelectionStrategy.selectionFinished(r,n,e.event);this._model.updateSelection(s,this)}else r&&(o||!this._dateAdapter.sameDate(r,n))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._elementRef.nativeElement.classList.add("mat-datepicker-content-exit"),this._animationsDisabled?this._animationDone.next():(clearTimeout(this._animationFallback),this._animationFallback=setTimeout(()=>{this._isAnimating||this._animationDone.next()},200))}_handleAnimationEvent=e=>{let n=this._elementRef.nativeElement;e.target!==n||!e.animationName.startsWith("_mat-datepicker-content")||(clearTimeout(this._animationFallback),this._isAnimating=e.type==="animationstart",n.classList.toggle("mat-datepicker-content-animating",this._isAnimating),this._isAnimating||this._animationDone.next())};_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,n){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,n&&this._changeDetectorRef.detectChanges()}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ie({type:i,selectors:[["mat-datepicker-content"]],viewQuery:function(n,r){if(n&1&&It(hp,5),n&2){let o;Ie(o=Ae())&&(r._calendar=o.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:6,hostBindings:function(n,r){n&2&&(mn(r.color?"mat-"+r.color:""),me("mat-datepicker-content-touch",r.datepicker.touchUi)("mat-datepicker-content-animations-enabled",!r._animationsDisabled))},inputs:{color:"color"},exportAs:["matDatepickerContent"],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","matButton","elevated",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"mat-calendar",1),q("yearSelected",function(s){return r.datepicker._selectYear(s)})("monthSelected",function(s){return r.datepicker._selectMonth(s)})("viewChanged",function(s){return r.datepicker._viewChanged(s)})("_userSelection",function(s){return r._handleUserSelection(s)})("_userDragDrop",function(s){return r._handleUserDragDrop(s)}),f(),ki(2,uM,0,0,"ng-template",2),m(3,"button",3),q("focus",function(){return r._closeButtonFocused=!0})("blur",function(){return r._closeButtonFocused=!1})("click",function(){return r.datepicker.close()}),_(4),f()()),n&2&&(me("mat-datepicker-content-container-with-custom-header",r.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",r._actionsPortal),Ce("aria-modal",!0)("aria-labelledby",r._dialogLabelId??void 0),h(),mn(r.datepicker.panelClass),j("id",r.datepicker.id)("startAt",r.datepicker.startAt)("startView",r.datepicker.startView)("minDate",r.datepicker._getMinDate())("maxDate",r.datepicker._getMaxDate())("dateFilter",r.datepicker._getDateFilter())("headerComponent",r.datepicker.calendarHeaderComponent)("selected",r._getSelected())("dateClass",r.datepicker.dateClass)("comparisonStart",r.comparisonStart)("comparisonEnd",r.comparisonEnd)("startDateAccessibleName",r.startDateAccessibleName)("endDateAccessibleName",r.endDateAccessibleName),h(),j("cdkPortalOutlet",r._actionsPortal),h(),me("cdk-visually-hidden",!r._closeButtonFocused),j("color",r.color||"primary"),h(),A(r._closeButtonText))},dependencies:[Dm,hp,Ym,rp],styles:[`@keyframes _mat-datepicker-content-dropdown-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-dialog-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-exit{from{opacity:1}to{opacity:0}}.mat-datepicker-content{display:block;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-sys-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-sys-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-sys-corner-large))}.mat-datepicker-content.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dropdown-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.mat-datepicker-content-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-sys-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dialog-enter 150ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}.mat-datepicker-content-exit.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-exit 100ms linear}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}
`],encapsulation:2,changeDetection:0})}return i})(),Fv=(()=>{class i{_injector=y(be);_viewContainerRef=y(ti);_dateAdapter=y(Xt,{optional:!0});_dir=y(ln,{optional:!0});_model=y(_l);_animationsDisabled=Ot();_scrollStrategy=y(wM);_inputStateChanges=it.EMPTY;_document=y(Me);calendarHeaderComponent;get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt;startView="month";get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}_color;touchUi=!1;get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){e!==this._disabled&&(this._disabled=e,this.stateChanges.next(void 0))}_disabled;xPosition="start";yPosition="below";restoreFocus=!0;yearSelected=new he;monthSelected=new he;viewChanged=new he(!0);dateClass;openedStream=new he;closedStream=new he;get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=T0(e)}_panelClass;get opened(){return this._opened}set opened(e){e?this.open():this.close()}_opened=!1;id=y(kt).getId("mat-datepicker-");_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}_overlayRef;_componentRef;_focusedElementBeforeOpen=null;_backdropHarnessClass=`${this.id}-backdrop`;_actionsPortal;datepickerInput;stateChanges=new ue;_changeDetectorRef=y(st);constructor(){this._dateAdapter,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(e){let n=e.xPosition||e.yPosition;if(n&&!n.firstChange&&this._overlayRef){let r=this._overlayRef.getConfig().positionStrategy;r instanceof Ds&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal,this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=ys(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;let e=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",n=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:r,location:o}=this._componentRef;r._animationDone.pipe(zn(1)).subscribe(()=>{let s=this._document.activeElement;e&&(!s||s===this._document.activeElement||o.nativeElement.contains(s))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()}),r._startExitAnimation()}e?setTimeout(n):n()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let e=this.touchUi,n=new xr($v,this._viewContainerRef),r=this._overlayRef=go(this._injector,new mo({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir||"ltr",scrollStrategy:e?Wd(this._injector):this._scrollStrategy(),panelClass:`mat-datepicker-${e?"dialog":"popup"}`,disableAnimations:this._animationsDisabled}));this._getCloseStream(r).subscribe(o=>{o&&o.preventDefault(),this.close()}),r.keydownEvents().subscribe(o=>{let s=o.keyCode;(s===38||s===40||s===37||s===39||s===33||s===34)&&o.preventDefault()}),this._componentRef=r.attach(n),this._forwardContentValues(this._componentRef.instance),e||un(()=>{r.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return Kd(this._injector).centerHorizontally().centerVertically()}_getDropdownStrategy(){let e=fo(this._injector,this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){let n=this.xPosition==="end"?"end":"start",r=n==="start"?"end":"start",o=this.yPosition==="above"?"bottom":"top",s=o==="top"?"bottom":"top";return e.withPositions([{originX:n,originY:s,overlayX:n,overlayY:o},{originX:n,originY:o,overlayX:n,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:o},{originX:r,originY:o,overlayX:r,overlayY:s}])}_getCloseStream(e){let n=["ctrlKey","shiftKey","metaKey"];return fi(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(Ge(r=>r.keyCode===27&&!Dt(r)||this.datepickerInput&&Dt(r,"altKey")&&r.keyCode===38&&n.every(o=>!Dt(r,o)))))}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Ve({type:i,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",Pe],disabled:[2,"disabled","disabled",Pe],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",Pe],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",Pe]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[dt]})}return i})(),qv=(()=>{class i extends Fv{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ri(i)))(r||i)}})();static \u0275cmp=ie({type:i,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[pn([Vv,{provide:Fv,useExisting:i}]),gi],decls:0,vars:0,template:function(n,r){},encapsulation:2,changeDetection:0})}return i})(),Ps=class{target;targetElement;value;constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}},CM=(()=>{class i{_elementRef=y(Oe);_dateAdapter=y(Xt,{optional:!0});_dateFormats=y(Ir,{optional:!0});_isInitialized;get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e,!0)}_model;get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){let n=e,r=this._elementRef.nativeElement;this._disabled!==n&&(this._disabled=n,this.stateChanges.next(void 0)),n&&this._isInitialized&&r.blur&&r.blur()}_disabled;dateChange=new he;dateInput=new he;stateChanges=new ue;_onTouched=()=>{};_validatorOnChange=()=>{};_cvaOnChange=()=>{};_valueChangesSubscription=it.EMPTY;_localeSubscription=it.EMPTY;_pendingValue;_parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}};_filterValidator=e=>{let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value));return!n||this._matchesFilter(n)?null:{matDatepickerFilter:!0}};_minValidator=e=>{let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),r=this._getMinDate();return!r||!n||this._dateAdapter.compareDate(r,n)<=0?null:{matDatepickerMin:{min:r,actual:n}}};_maxValidator=e=>{let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),r=this._getMaxDate();return!r||!n||this._dateAdapter.compareDate(r,n)>=0?null:{matDatepickerMax:{max:r,actual:n}}};_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(n=>{if(this._shouldHandleChangeEvent(n)){let r=this._getValueFromModel(n.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new Ps(this,this._elementRef.nativeElement)),this.dateChange.emit(new Ps(this,this._elementRef.nativeElement))}})}_lastValueValid=!1;constructor(){this._localeSubscription=this._dateAdapter.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value,!0)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){EM(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e,e!==this.value)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){let n=["ctrlKey","shiftKey","metaKey"];Dt(e,"altKey")&&e.keyCode===40&&n.every(o=>!Dt(e,o))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){let n=e.target.value,r=this._lastValueValid,o=this._dateAdapter.parse(n,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(o),o=this._dateAdapter.getValidDateOrNull(o);let s=!this._dateAdapter.sameDate(o,this.value);!o||s?this._cvaOnChange(o):(n&&!this.value&&this._cvaOnChange(o),r!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(o),this.dateInput.emit(new Ps(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new Ps(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e!=null?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e,n){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),n&&this._formatValue(e)}_matchesFilter(e){let n=this._getDateFilter();return!n||n(e)}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Ve({type:i,inputs:{value:"value",disabled:[2,"disabled","disabled",Pe]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[dt]})}return i})();function EM(i,t){let e=Object.keys(i);for(let n of e){let{previousValue:r,currentValue:o}=i[n];if(t.isDateInstance(r)&&t.isDateInstance(o)){if(!t.sameDate(r,o))return!0}else return!0}return!1}var SM={provide:hy,useExisting:cc(()=>tu),multi:!0},xM={provide:my,useExisting:cc(()=>tu),multi:!0},tu=(()=>{class i extends CM{_formField=y(lo,{optional:!0});_closedSubscription=it.EMPTY;_openedSubscription=it.EMPTY;set matDatepicker(e){e&&(this._datepicker=e,this._ariaOwns.set(e.opened?e.id:null),this._closedSubscription=e.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=e.openedStream.subscribe(()=>{this._ariaOwns.set(e.id)}),this._registerModel(e.registerInput(this)))}_datepicker;_ariaOwns=Ue(null);get min(){return this._min}set min(e){let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(n,this._min)||(this._min=n,this._validatorOnChange())}_min;get max(){return this._max}set max(e){let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(n,this._max)||(this._max=n,this._validatorOnChange())}_max;get dateFilter(){return this._dateFilter}set dateFilter(e){let n=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==n&&this._validatorOnChange()}_dateFilter;_validator;constructor(){super(),this._validator=Yo.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Ve({type:i,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(n,r){n&1&&q("input",function(s){return r._onInput(s)})("change",function(){return r._onChange()})("blur",function(){return r._onBlur()})("keydown",function(s){return r._onKeydown(s)}),n&2&&(hn("disabled",r.disabled),Ce("aria-haspopup",r._datepicker?"dialog":null)("aria-owns",r._ariaOwns())("min",r.min?r._dateAdapter.toIso8601(r.min):null)("max",r.max?r._dateAdapter.toIso8601(r.max):null)("data-mat-calendar",r._datepicker?r._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[pn([SM,xM,{provide:Xd,useExisting:i}]),gi]})}return i})(),IM=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=Ve({type:i,selectors:[["","matDatepickerToggleIcon",""]]})}return i})(),mp=(()=>{class i{_intl=y(Fs);_changeDetectorRef=y(st);_stateChanges=it.EMPTY;datepicker;tabIndex;ariaLabel;get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=e}_disabled;disableRipple;_customIcon;_button;constructor(){let e=y(new Po("tabindex"),{optional:!0}),n=Number(e);this.tabIndex=n||n===0?n:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){let e=this.datepicker?this.datepicker.stateChanges:pe(),n=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:pe(),r=this.datepicker?fi(this.datepicker.openedStream,this.datepicker.closedStream):pe();this._stateChanges.unsubscribe(),this._stateChanges=fi(this._intl.changes,e,n,r).subscribe(()=>this._changeDetectorRef.markForCheck())}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=ie({type:i,selectors:[["mat-datepicker-toggle"]],contentQueries:function(n,r,o){if(n&1&&lr(o,IM,5),n&2){let s;Ie(s=Ae())&&(r._customIcon=s.first)}},viewQuery:function(n,r){if(n&1&&It(hM,5),n&2){let o;Ie(o=Ae())&&(r._button=o.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(n,r){n&1&&q("click",function(s){return r._open(s)}),n&2&&(Ce("tabindex",null)("data-mat-calendar",r.datepicker?r.datepicker.id:null),me("mat-datepicker-toggle-active",r.datepicker&&r.datepicker.opened)("mat-accent",r.datepicker&&r.datepicker.color==="accent")("mat-warn",r.datepicker&&r.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",Pe],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[dt],ngContentSelectors:pM,decls:4,vars:7,consts:[["button",""],["matIconButton","","type","button",3,"tabIndex","disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(n,r){n&1&&(Ht(mM),m(0,"button",1,0),W(2,fM,2,0,":svg:svg",2),Xe(3),f()),n&2&&(j("tabIndex",r.disabled?-1:r.tabIndex)("disabled",r.disabled)("disableRipple",r.disableRipple),Ce("aria-haspopup",r.datepicker?"dialog":null)("aria-label",r.ariaLabel||r._intl.openCalendarLabel)("aria-expanded",r.datepicker?r.datepicker.opened:null),h(2),K(r._customIcon?-1:2))},dependencies:[Jd],styles:[`.mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-sys-on-surface-variant))}.mat-datepicker-toggle button{color:inherit}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-datepicker-toggle-default-icon{color:CanvasText}}
`],encapsulation:2,changeDetection:0})}return i})();var Hv=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=De({providers:[Fs],imports:[Av,ml,Rm,Bd,$v,mp,zv,rt,uo]})}return i})();var TM=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/,DM=/^(\d?\d)[:.](\d?\d)(?:[:.](\d?\d))?\s*(AM|PM)?$/i;function pp(i,t){let e=Array(i);for(let n=0;n<i;n++)e[n]=t(n);return e}var MM=(()=>{class i extends Xt{_matDateLocale=y(ep,{optional:!0});constructor(){super();let e=y(ep,{optional:!0});e!==void 0&&(this._matDateLocale=e),super.setLocale(this._matDateLocale)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){let n=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return pp(12,r=>this._format(n,new Date(2017,r,1)))}getDateNames(){let e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return pp(31,n=>this._format(e,new Date(2017,0,n+1)))}getDayOfWeekNames(e){let n=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return pp(7,r=>this._format(n,new Date(2017,0,r+1)))}getYearName(e){let n=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(n,e)}getFirstDayOfWeek(){if(typeof Intl<"u"&&Intl.Locale){let e=new Intl.Locale(this.locale),n=(e.getWeekInfo?.()||e.weekInfo)?.firstDay??0;return n===7?0:n}return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,n,r){let o=this._createDateWithOverflow(e,n,r);return o.getMonth()!=n,o}today(){return new Date}parse(e,n){return typeof e=="number"?new Date(e):e?new Date(Date.parse(e)):null}format(e,n){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");let r=new Intl.DateTimeFormat(this.locale,ne(k({},n),{timeZone:"utc"}));return this._format(r,e)}addCalendarYears(e,n){return this.addCalendarMonths(e,n*12)}addCalendarMonths(e,n){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+n,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+n)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,n){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+n)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if(typeof e=="string"){if(!e)return null;if(TM.test(e)){let n=new Date(e);if(this.isValid(n))return n}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}setTime(e,n,r,o){let s=this.clone(e);return s.setHours(n,r,o,0),s}getHours(e){return e.getHours()}getMinutes(e){return e.getMinutes()}getSeconds(e){return e.getSeconds()}parseTime(e,n){if(typeof e!="string")return e instanceof Date?new Date(e.getTime()):null;let r=e.trim();if(r.length===0)return null;let o=this._parseTimeString(r);if(o===null){let s=r.replace(/[^0-9:(AM|PM)]/gi,"").trim();s.length>0&&(o=this._parseTimeString(s))}return o||this.invalid()}addSeconds(e,n){return new Date(e.getTime()+n*1e3)}_createDateWithOverflow(e,n,r){let o=new Date;return o.setFullYear(e,n,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,n){let r=new Date;return r.setUTCFullYear(n.getFullYear(),n.getMonth(),n.getDate()),r.setUTCHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e.format(r)}_parseTimeString(e){let n=e.toUpperCase().match(DM);if(n){let r=parseInt(n[1]),o=parseInt(n[2]),s=n[3]==null?void 0:parseInt(n[3]),l=n[4];if(r===12?r=l==="AM"?0:r:l==="PM"&&(r+=12),fp(r,0,23)&&fp(o,0,59)&&(s==null||fp(s,0,59)))return this.setTime(this.today(),r,o,s||0)}return null}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac})}return i})();function fp(i,t,e){return!isNaN(i)&&i>=t&&i<=e}var RM={parse:{dateInput:null,timeInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},timeInput:{hour:"numeric",minute:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"},timeOptionLabel:{hour:"numeric",minute:"numeric"}}};var Wv=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=De({providers:[kM()]})}return i})();function kM(i=RM){return[{provide:Xt,useClass:MM},{provide:Ir,useValue:i}]}var Kv=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=Re({type:i});static \u0275inj=De({imports:[rt]})}return i})();var OM=["revenueChartCanvas"],PM=["categoryChartCanvas"],NM=["typeChartCanvas"],FM=["discountChartCanvas"],LM=["itemsChartCanvas"];function VM(i,t){if(i&1&&(m(0,"mat-option",63),_(1),f()),i&2){let e=t.$implicit;j("value",e.key),h(),A(e.label)}}function BM(i,t){if(i&1&&(m(0,"small",8),_(1),f()),i&2){let e=I().$implicit,n=I(3);h(),A(n.isArabic?e.choiceAr||e.choiceEn:e.choiceEn||e.choiceAr)}}function UM(i,t){if(i&1&&(m(0,"div",95)(1,"div",96)(2,"div")(3,"div",10),_(4),f(),W(5,BM,2,1,"small",8),f(),m(6,"div",88)(7,"div"),_(8),f(),m(9,"small",8),_(10),tt(11,"number"),f()()()()),i&2){let e=t.$implicit,n=I(3);h(4),A(n.getItemDisplayName(e)),h(),K(e.choiceEn||e.choiceAr?5:-1),h(3),$("\xD7 ",e.quantity||1),h(2),$("\u20AA ",ht(11,4,e.unitPrice||e.price||0,"1.2-2"))}}function jM(i,t){if(i&1&&(m(0,"tr")(1,"td",91)(2,"div",92)(3,"div",93),_(4),f(),m(5,"div",94),Ee(6,UM,12,7,"div",95,F_().trackByKey,!0),f()()()()),i&2){let e=I().$implicit,n=I();h(2),j("@expandCollapse",void 0),h(2),A(n.isArabic?"\u0627\u0644\u0639\u0646\u0627\u0635\u0631":"Items"),h(2),Se(n.orderItemsArray(e))}}function zM(i,t){if(i&1){let e=ce();m(0,"tr",87)(1,"td",8),_(2),f(),m(3,"td"),_(4),f(),m(5,"td"),_(6),tt(7,"date"),f(),m(8,"td",10),_(9),tt(10,"number"),f(),m(11,"td",88)(12,"button",89),q("click",function(){let r=L(e).$implicit,o=I();return V(o.toggleExpand(r.id))}),H(13,"i",90),f()()(),W(14,jM,8,2,"tr")}if(i&2){let e=t.$implicit,n=I();h(2),$("#",e.id),h(2),A(e.tableName||e.tableId||"-"),h(2),A(ht(7,9,e.createdAt||e.ts,"HH:mm")),h(3),$("\u20AA ",ht(10,12,e.total||0,"1.2-2")),h(4),me("bi-chevron-down",!n.isExpanded(e.id))("bi-chevron-up",n.isExpanded(e.id)),h(),K(n.isExpanded(e.id)?14:-1)}}function $M(i,t){if(i&1){let e=ce();m(0,"div",73)(1,"button",97),q("click",function(){L(e);let r=I();return V(r.loadMoreOrders())}),_(2),f()()}if(i&2){let e=I();h(2),A(e.isArabic?"\u062D\u0645\u0651\u0644 \u0627\u0644\u0645\u0632\u064A\u062F":"Load older")}}function qM(i,t){if(i&1&&(m(0,"div",86)(1,"div"),_(2),f(),m(3,"div",8),_(4),f()()),i&2){let e=t.$implicit;h(2),A(e.label),h(2),$("\xD7 ",e.count)}}var nu=class i{constructor(t,e,n){this.route=t;this.lang=e;this.menu=n}restaurantId="";restaurant=null;restaurantName="";isArabic=!1;now=new Date;clockInterval;overview={employeesBalance:0,suppliersBalance:0,customersBalance:0,bankBalances:0,checksBalance:0,cashOnHand:0,totalExpenses:0,totalPurchases:0,totalDiscounts:0,salesRevenue:0};counts={invoicesToDate:0,tableCount:0,customerCount:0,itemCount:0,employeeCount:0,categoryCount:0};timeScale="day";revenueScale="day";categoryScale="day";typeScale="day";itemsScale="day";categories={};categoryList=[];selectedCategoryKey="all";categorySearch="";itemCatMap={};selectedType="all";typeSearch="";typeOptions=[{value:"all",labelEn:"All",labelAr:"\u0627\u0644\u0643\u0644"},{value:"kitchen",labelEn:"Kitchen",labelAr:"\u0627\u0644\u0645\u0637\u0628\u062E"},{value:"bar",labelEn:"Bar",labelAr:"\u0627\u0644\u0628\u0627\u0631"},{value:"hookah",labelEn:"Hookah",labelAr:"\u0627\u0644\u0623\u0631\u062C\u064A\u0644\u0629"},{value:"other",labelEn:"Other",labelAr:"\u0623\u062E\u0631\u0649"}];history={};revenueChartCanvas;categoryChartCanvas;typeChartCanvas;discountChartCanvas;itemsChartCanvas;revenueChart;categoryChart;typeChart;discountChart;itemsChart;selectedOrdersDate=this.formatDateKey(new Date);orders=[];orderSearch="";orderPageSize=10;expandedOrders={};ordersDate=null;selectedItemsCategoryKey="";ordersUnsub=null;historyUnsub=null;tablesUnsub=null;liveTablesSnapshot={};ordersByKey={};ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t),this.lang.isArabic$.subscribe(e=>{this.isArabic=e,this.updateRestaurantDisplayName(),this.updateCategoryListLabels(),this.refreshAllCharts()}),Wn.getRestaurantById(this.restaurantId).then(e=>{this.restaurant=e,this.updateRestaurantDisplayName()}).catch(()=>{this.restaurant=null,this.updateRestaurantDisplayName()}),this.menu.getCategoriesOnce(this.restaurantId).then(e=>{this.categories=e||{},this.categoryList=Object.keys(this.categories).map(n=>({key:n,label:this.isArabic?this.categories[n]?.nameArabic||this.categories[n]?.name||n:this.categories[n]?.name||this.categories[n]?.nameArabic||n,section:this.categories[n]?.section||"kitchen"})),this.countItems(),this.buildItemCatMap(),!this.selectedItemsCategoryKey&&this.categoryList.length&&(this.selectedItemsCategoryKey=this.categoryList[0].key),this.itemsChartCanvas?.nativeElement&&setTimeout(()=>this.refreshAllCharts(),0)}),this.loadCounts(),this.observeHistory(),this.clockInterval=setInterval(()=>{this.now=new Date},1e3),this.observeOrdersForDate(this.selectedOrdersDate),this.observeLiveTables()}getItemsInCategoryDataset(t,e){let n=this.bucketize(t),r={},o={},s=(C,R,T)=>{r[C]=(r[C]||0)+R,o[C]=(o[C]||0)+T};n.forEach(C=>{C.keys.forEach(R=>{let T=this.history[R];if(!T)return;let O=T?.categories?.[e];if(O&&O.items){let B=O.items||{},z=0;Object.keys(B).forEach(X=>{let Z=B[X]||{},Q=Number(Z.counter||0),we=Number(Z.price||0);s(X,Q,we*Q),z+=Q}),z===0&&this.getOrdersForKey(T,R).forEach(Z=>{let Q=Z?.items??Z?.orders??{};Object.keys(Q).forEach(we=>{let _e=Q[we]||{};if(this.getCategoryKeyByItemName(_e?.name||"")!==e)return;let w=Number(_e.quantity??_e.counter??0)||0,S=Number(_e.unitPrice??_e.price??0),M=this.normalizeName(_e?.name||_e?.nameArabic||we);s(M,w,S*w)})})}else this.getOrdersForKey(T,R).forEach(z=>{let X=z?.items??z?.orders??{};Object.keys(X).forEach(Z=>{let Q=X[Z]||{};if(this.getCategoryKeyByItemName(Q?.name||"")!==e)return;let _e=Number(Q.quantity??Q.counter??0)||0,x=Number(Q.unitPrice??Q.price??0),w=this.normalizeName(Q?.name||Q?.nameArabic||Z);s(w,_e,x*_e)})})})});let l={},c={};Object.keys(r).forEach(C=>{let R;if(this.idToItem[C]){let T=this.idToItem[C];R=this.isArabic?T.nameArabic||T.name||C:T.name||T.nameArabic||C}else if(this.nameToItem[C]){let T=this.nameToItem[C];R=this.isArabic?T.nameArabic||T.name||C:T.name||T.nameArabic||C}else R=C;l[R]=(l[R]||0)+(r[C]||0),c[R]=(c[R]||0)+(o[C]||0)});let u=Object.keys(l),g=u.map(C=>l[C]),b=u.map(C=>this.colorForLabel(C));return{labels:u,values:g,colors:b,revenueByLabel:c}}buildItemCatMap(){let t={},e={},n={};Object.keys(this.categories||{}).forEach(r=>{let o=this.categories?.[r]?.items||{};Object.keys(o).forEach(s=>{t[s]=r;let l=o[s]||{},c=this.normalizeName(l.name||""),u=this.normalizeName(l.nameArabic||"");c&&(e[c]=r),u&&(e[u]=r),c&&(n[c]={name:l.name||"",nameArabic:l.nameArabic||""}),u&&(n[u]={name:l.name||"",nameArabic:l.nameArabic||""}),this.idToItem[s]={name:l.name||"",nameArabic:l.nameArabic||""}})}),this.itemCatMap=t,this.nameToCatMap=e,this.nameToItem=n}getCategoryKeyByItemName(t){return this.nameToCatMap[this.normalizeName(t||"")]}aggregateLiveTableOrdersByItem(){let t={},e=this.liveTablesSnapshot||{};Object.keys(e).forEach(r=>{let o=e[r]?.order||{};Object.keys(o).forEach(s=>{let l=o[s]||{};if(l.state==="unordered")return;let c=String(l.name||""),u=this.normalizeName(c),g=Number(l.unitPrice??0)||0,b=Number(l.quantity??0)||0;if(!t[u]){let C=this.nameToItem[u];t[u]={name:c,nameArabic:C?.nameArabic||void 0,unitPrice:g,quantity:0}}t[u].quantity+=b})});let n={};return Object.keys(t).forEach(r=>{let o=t[r];n[r]={name:o.name,nameArabic:o.nameArabic,unitPrice:o.unitPrice,quantity:o.quantity}}),n}getOrdersForKey(t,e){let n=this.getDayInvoices(t),r=this.formatDateKey(new Date);if(e&&e===r){let o=this.aggregateLiveTableOrdersByItem();Object.keys(o).length&&n.push({id:"live",items:o})}return n}getDayInvoices(t){let e=t?.Order_List||{};return Object.keys(e).map(n=>k({id:n},e[n]||{}))}observeLiveTables(){let t=qn(Hn,`restaurants/${this.restaurantId}/tables`);this.tablesUnsub=Ec(t,e=>{this.liveTablesSnapshot=e.exists()?e.val():{},this.refreshAllCharts()})}normalizeName(t){return String(t||"").trim().toLocaleLowerCase()}nameToCatMap={};nameToItem={};idToItem={};itemLabel(t,e){let n=String(t?.name||"").trim(),r=String(t?.nameArabic||"").trim(),o=this.isArabic?r||n:n||r;if(o)return o;let s=this.nameToItem[this.normalizeName(n||r)];return s?this.isArabic?s.nameArabic||s.name||e:s.name||s.nameArabic||e:e}updateCategoryListLabels(){this.categoryList=Object.keys(this.categories||{}).map(t=>({key:t,label:this.isArabic?this.categories[t]?.nameArabic||this.categories[t]?.name||t:this.categories[t]?.name||this.categories[t]?.nameArabic||t,section:this.categories[t]?.section||"kitchen"}))}ngAfterViewInit(){setTimeout(()=>this.refreshAllCharts(),0)}ngOnDestroy(){this.clockInterval&&clearInterval(this.clockInterval),this.ordersUnsub&&this.ordersUnsub(),this.historyUnsub&&this.historyUnsub(),this.tablesUnsub&&this.tablesUnsub(),this.destroyCharts()}updateRestaurantDisplayName(){let t=this.isArabic?this.restaurant?.restArabicName||this.restaurant?.restName||"":this.restaurant?.restName||this.restaurant?.restArabicName||"";this.restaurantName=String(t||"").trim()}loadCounts(){return F(this,null,function*(){let t=yield hr(qn(Hn,`restaurants/${this.restaurantId}/tables`)),e=t.exists()?t.val():{};this.counts.tableCount=Object.keys(e).length;let n=yield hr(qn(Hn,`restaurants/${this.restaurantId}/employees`)),r=n.exists()?n.val():{};this.counts.employeeCount=Object.keys(r).length;let o=yield hr(qn(Hn,`restaurants/${this.restaurantId}/customers`)),s=o.exists()?o.val():{};this.counts.customerCount=Object.keys(s).length;let l=yield hr(qn(Hn,`restaurants/${this.restaurantId}/meta/lastInvoiceNumber`)),c=l.exists()?Number(l.val()):0;this.counts.invoicesToDate=isFinite(c)?c:0;let u=yield hr(qn(Hn,`restaurants/${this.restaurantId}/finance`)),g=u.exists()?u.val():{};this.overview.employeesBalance=Number(g.employeesBalance??0)||0,this.overview.suppliersBalance=Number(g.suppliersBalance??0)||0,this.overview.customersBalance=Number(g.customersBalance??0)||0,this.overview.bankBalances=Number(g.bankBalances??0)||0,this.overview.checksBalance=Number(g.checksBalance??0)||0,this.overview.cashOnHand=Number(g.cashOnHand??0)||0,this.overview.totalExpenses=Number(g.totalExpenses??0)||0,this.overview.totalPurchases=Number(g.totalPurchases??0)||0})}countItems(){let t=0;Object.keys(this.categories||{}).forEach(e=>{let n=this.categories[e]?.items||{};t+=Object.keys(n).length}),this.counts.itemCount=t,this.counts.categoryCount=Object.keys(this.categories||{}).length}observeHistory(){this.historyUnsub&&(this.historyUnsub(),this.historyUnsub=null);let t=qn(Hn,`restaurants/${this.restaurantId}/history`);this.historyUnsub=Ec(t,e=>{this.history=e.exists()?e.val():{};let n=this.formatDateKey(new Date);this.history[n]||(this.history[n]={Order_List:{}});let r=this.computeTotalsForRange("day");this.overview.totalDiscounts=r.totalDiscounts,this.overview.salesRevenue=r.revenue,this.refreshAllCharts()})}destroyCharts(){this.revenueChart&&(this.revenueChart.destroy(),this.revenueChart=null),this.categoryChart&&(this.categoryChart.destroy(),this.categoryChart=null),this.typeChart&&(this.typeChart.destroy(),this.typeChart=null),this.discountChart&&(this.discountChart.destroy(),this.discountChart=null),this.itemsChart&&(this.itemsChart.destroy(),this.itemsChart=null)}onTimeScaleChange(){this.refreshAllCharts()}onCategorySearch(t){this.categorySearch=t?.target?.value||""}onTypeSearch(t){this.typeSearch=t?.target?.value||""}refreshAllCharts(){if(!this.history)return;this.destroyCharts();let t=this.getRevenueSeries(this.revenueScale),e=this.revenueChartCanvas.nativeElement.getContext("2d"),n={id:"valueLabels",afterDatasetsDraw:u=>{let{ctx:g}=u,b=u.data.datasets?.[0],C=u.getDatasetMeta(0);!b||!C||(g.save(),g.fillStyle="#111827",g.textAlign="center",g.textBaseline="bottom",g.font="12px system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial",C.data.forEach((R,T)=>{let O=Number(b.data?.[T]??0)||0,B="\u20AA "+new Intl.NumberFormat(this.isArabic?"ar":"en-US",{maximumFractionDigits:0}).format(O),z=R?.x??0,X=R?.y??0;g.fillText(B,z,X-6)}),g.restore())}},r=this.chartOptions(!0),o=Math.max(0,...t.values||[0]),s=ne(k({},r),{layout:ne(k({},r.layout),{padding:ne(k({},r.layout?.padding||{}),{top:48})}),scales:ne(k({},r.scales),{y:ne(k({},r.scales?.y||{}),{suggestedMax:Math.ceil(o*1.3)})})});this.revenueChart=new Chart(e,{type:"bar",data:{labels:t.labels,datasets:[{label:this.isArabic?"\u0627\u0644\u0625\u064A\u0631\u0627\u062F\u0627\u062A":"Revenue",data:t.values,backgroundColor:"#6366f1",borderRadius:6,maxBarThickness:32}]},options:s,plugins:[n]});let l=this.getCategoryDataset(this.categoryScale,this.selectedCategoryKey);this.categoryChart=new Chart(this.categoryChartCanvas.nativeElement.getContext("2d"),{type:"doughnut",data:{labels:l.labels,datasets:[{label:this.isArabic?"\u0627\u0644\u0643\u0645\u064A\u0629":"Quantity",data:l.values,backgroundColor:l.colors,revenueByLabel:l.revenueByLabel||{}}]},options:ne(k({},this.pieOptions()),{plugins:ne(k({},this.pieOptions().plugins),{tooltip:ne(k({},this.pieOptions().plugins.tooltip),{callbacks:{label:u=>{let g=this.isArabic,b=Number(u.parsed||0)||0,C=String(u.label||""),R=u.dataset.revenueByLabel||{},T=Number(R[C]||0)||0,O=g?"\u0627\u0644\u0643\u0645\u064A\u0629":"Quantity",B=g?"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A":"Total",z="\u20AA "+new Intl.NumberFormat(g?"ar":"en-US",{maximumFractionDigits:0}).format(T);return`${O}: ${b} \u2022 ${B}: ${z}`}}})})})});let c=this.getTypeDataset(this.typeScale,this.selectedType);if(this.typeChart=new Chart(this.typeChartCanvas.nativeElement.getContext("2d"),{type:"doughnut",data:{labels:c.labels,datasets:[{label:this.isArabic?"\u0627\u0644\u0643\u0645\u064A\u0629":"Quantity",data:c.values,backgroundColor:c.colors,revenueByLabel:c.revenueByLabel||{}}]},options:ne(k({},this.pieOptions()),{plugins:ne(k({},this.pieOptions().plugins),{tooltip:ne(k({},this.pieOptions().plugins.tooltip),{callbacks:{label:u=>{let g=this.isArabic,b=Number(u.parsed||0)||0,C=String(u.label||""),R=u.dataset.revenueByLabel||{},T=Number(R[C]||0)||0,O=g?"\u0627\u0644\u0643\u0645\u064A\u0629":"Qty",B=g?"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A":"Total",z="\u20AA "+new Intl.NumberFormat(g?"ar":"en-US",{maximumFractionDigits:0}).format(T);return`${O}: ${b} \u2022 ${B}: ${z}`}}})})})}),this.discountChartCanvas?.nativeElement){let u=this.getDiscountsDataset(this.timeScale);this.discountChart=new Chart(this.discountChartCanvas.nativeElement.getContext("2d"),{type:"bar",data:{labels:u.labels,datasets:u.datasets},options:ne(k({},this.chartOptions(!0)),{plugins:{legend:{position:"bottom",labels:{boxWidth:10,boxHeight:10}}},scales:{x:{stacked:!0,grid:{display:!1}},y:{stacked:!0,ticks:{callback:g=>String(g)}}}})})}if(this.itemsChartCanvas?.nativeElement&&this.selectedItemsCategoryKey){let u=this.getItemsInCategoryDataset(this.itemsScale,this.selectedItemsCategoryKey);this.itemsChart=new Chart(this.itemsChartCanvas.nativeElement.getContext("2d"),{type:"doughnut",data:{labels:u.labels,datasets:[{label:this.isArabic?"\u0627\u0644\u0643\u0645\u064A\u0629":"Quantity",data:u.values,backgroundColor:u.colors,revenueByLabel:u.revenueByLabel||{}}]},options:ne(k({},this.pieOptions()),{plugins:ne(k({},this.pieOptions().plugins),{tooltip:ne(k({},this.pieOptions().plugins.tooltip),{callbacks:{label:g=>{let b=this.isArabic,C=Number(g.parsed||0)||0,R=String(g.label||""),T=g.dataset.revenueByLabel||{},O=Number(T[R]||0)||0,B=b?"\u0627\u0644\u0643\u0645\u064A\u0629":"Qty",z=b?"\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A":"Total",X="\u20AA "+new Intl.NumberFormat(b?"ar":"en-US",{maximumFractionDigits:0}).format(O);return`${B}: ${C} \u2022 ${z}: ${X}`}}})})})})}}chartOptions(t=!1){return{responsive:!0,maintainAspectRatio:!1,animation:{duration:600,easing:"easeOutQuart"},layout:t?{padding:{top:20}}:void 0,plugins:{legend:{display:!1},tooltip:{mode:"index",intersect:!1,padding:10,backgroundColor:"rgba(17,24,39,.9)"}},scales:{x:{grid:{display:!1},ticks:{maxRotation:0}},y:{grid:{color:"rgba(0,0,0,.06)",drawBorder:!1},ticks:{callback:e=>String(e)}}},elements:t?{bar:{borderSkipped:!1}}:{line:{borderWidth:2}}}}pieOptions(){return{responsive:!0,maintainAspectRatio:!1,animation:{duration:600,easing:"easeOutQuart"},plugins:{legend:{position:"bottom"},tooltip:{padding:10,backgroundColor:"rgba(17,24,39,.9)"}},cutout:"55%"}}makeGradient(t,e){let{height:n}=t.canvas,r=t.createLinearGradient(0,0,0,n);return r.addColorStop(0,this.alpha(e,.35)),r.addColorStop(1,this.alpha(e,0)),r}alpha(t,e){let n=parseInt(t.slice(1,3),16),r=parseInt(t.slice(3,5),16),o=parseInt(t.slice(5,7),16);return`rgba(${n},${r},${o},${e})`}computeTotalsForRange(t){let e=this.bucketize(t),n=0,r=0;return e.forEach(o=>{o.keys.forEach(s=>{let l=this.history[s];if(!l)return;let c=this.computeDayRevenue(l,s);n+=c;let u=this.sumDiscounts(l?.discounts||{});r+=u})}),{revenue:n,totalDiscounts:r}}getRevenueSeries(t){let e=this.bucketize(t),n=[],r=[];return e.forEach(o=>{let s=0;o.keys.forEach(l=>{let c=this.history[l];c&&(s+=this.computeDayRevenue(c,l))}),n.push(o.label),r.push(s)}),{labels:n,values:r}}getCategoryDataset(t,e){let n={},r={},o=this.bucketize(t);if(e&&e!=="all"){let s=this.getCategoryLabel(e),l=0,c=0;return o.forEach(u=>{u.keys.forEach(g=>{let b=this.history[g];b&&(l+=this.sumCategory(b,e,g),c+=this.sumCategoryRevenue(b,e,g))})}),r[s]=c,{labels:[s],values:[l],colors:[this.colorForLabel(s)],revenueByLabel:r}}else{Object.keys(this.categories||{}).forEach(b=>n[b]=0);let s={};Object.keys(this.categories||{}).forEach(b=>s[b]=0),o.forEach(b=>{b.keys.forEach(C=>{let R=this.history[C];R&&Object.keys(n).forEach(T=>{n[T]+=this.sumCategory(R,T,C),s[T]+=this.sumCategoryRevenue(R,T,C)})})});let l=Object.keys(n),c=l.map(b=>this.getCategoryLabel(b)),u=l.map(b=>n[b]);c.forEach((b,C)=>{r[b]=s[l[C]]||0});let g=c.map(b=>this.colorForLabel(b));return{labels:c,values:u,colors:g,revenueByLabel:r}}}getTypeDataset(t,e){let n={},r={},o=this.bucketize(t),s=["kitchen","bar","hookah","other"];if(s.forEach(b=>{n[b]=0,r[b]=0}),o.forEach(b=>{b.keys.forEach(C=>{let R=this.history[C];if(!R)return;let T=R?.categories||{};Object.keys(T).length&&Object.keys(T).forEach(B=>{let z=this.categories?.[B]?.section||"kitchen",X=T[B]?.items||{};Object.keys(X).forEach(Z=>{let Q=X[Z]||{},we=Number(Q.counter||0),_e=Number(Q.price||0);n[z]=(n[z]||0)+we,r[z]=(r[z]||0)+_e*we})});let O=this.getOrdersForKey(R,C);O.length&&O.forEach(B=>{let z=B?.items??B?.orders??{};Object.keys(z).forEach(X=>{let Z=z[X]||{},Q=Number(Z.quantity??Z.counter??0)||0,we=this.itemCatMap[X]??this.getCategoryKeyByItemName(Z?.name||""),_e=this.categories?.[we]?.section||"kitchen",x=Number(Z.unitPrice??Z.price??0);n[_e]=(n[_e]||0)+Q,r[_e]=(r[_e]||0)+x*Q})})})}),e&&e!=="all"){let b=this.isArabic?this.typeLabelAr(e):this.typeLabelEn(e),C=[this.colorForLabel(b)],R={[b]:r[e]||0};return{labels:[b],values:[n[e]||0],colors:C,revenueByLabel:R}}let l=s.map(b=>this.isArabic?this.typeLabelAr(b):this.typeLabelEn(b)),c=s.map(b=>n[b]||0),u={};l.forEach((b,C)=>{let R=s[C];u[b]=r[R]||0});let g=l.map(b=>this.colorForLabel(b));return{labels:l,values:c,colors:g,revenueByLabel:u}}getDiscountsDataset(t){let e=this.bucketize(t),n=new Set;Object.keys(this.history||{}).forEach(u=>{let b=this.history[u]?.discounts||{};Object.keys(b).forEach(C=>n.add(C))});let r=Array.from(n.values()),o=[],s={};r.forEach(u=>s[u]=[]),e.forEach(u=>{o.push(u.label);let g={};r.forEach(b=>g[b]=0),u.keys.forEach(b=>{let C=this.history[b];if(!C)return;let R=C?.discounts||{};r.forEach(T=>g[T]+=Number(R?.[T]?.value??R?.[T]??0)||0)}),r.forEach(b=>s[b].push(g[b]))});let l=["#f97316","#22c55e","#0ea5e9","#8b5cf6","#ef4444","#06b6d4"],c=r.map((u,g)=>({label:this.discountLabel(u),data:s[u],backgroundColor:l[g%l.length]}));return{labels:o,datasets:c}}discountLabel(t){return t?t==="type1"?this.isArabic?"\u062E\u0635\u0645 1":"Type 1":t==="type2"?this.isArabic?"\u062E\u0635\u0645 2":"Type 2":t==="type3"?this.isArabic?"\u062E\u0635\u0645 3":"Type 3":t:this.isArabic?"\u062E\u0635\u0645":"Discount"}typeLabelAr(t){return t==="kitchen"?"\u0627\u0644\u0645\u0637\u0628\u062E":t==="bar"?"\u0627\u0644\u0628\u0627\u0631":t==="hookah"?"\u0627\u0644\u0623\u0631\u062C\u064A\u0644\u0629":"\u0623\u062E\u0631\u0649"}typeLabelEn(t){return t==="kitchen"?"Kitchen":t==="bar"?"Bar":t==="hookah"?"Hookah":"Other"}sumDiscounts(t){let e=0;return Object.keys(t||{}).forEach(n=>{let r=t[n];e+=Number(r?.value??r??0)||0}),e}sumCategory(t,e,n){let o=(t?.categories?.[e]||{})?.items||{},s=0;return Object.keys(o).forEach(l=>{let c=o[l]||{},u=Number(c.counter||0);s+=u}),s===0&&this.getOrdersForKey(t,n).forEach(c=>{let u=c?.items??c?.orders??{};Object.keys(u).forEach(g=>{let b=u[g]||{};if((this.itemCatMap[g]??this.getCategoryKeyByItemName(b?.name||""))!==e)return;let R=Number(b.quantity??b.counter??0)||0;s+=R})}),s}sumCategoryRevenue(t,e,n){let o=(t?.categories?.[e]||{})?.items||{},s=0;return Object.keys(o).forEach(l=>{let c=o[l]||{},u=Number(c.price||0),g=Number(c.counter||0);s+=u*g}),s===0&&this.getOrdersForKey(t,n).forEach(c=>{let u=c?.items??c?.orders??{};Object.keys(u).forEach(g=>{let b=u[g]||{};if((this.itemCatMap[g]??this.getCategoryKeyByItemName(b?.name||""))!==e)return;let R=Number(b.unitPrice??b.price??0),T=Number(b.quantity??b.counter??0)||0;s+=R*T})}),Math.max(0,s)}computeDayRevenue(t,e){let n=0,r=t?.categories||{};Object.keys(r).forEach(s=>{let l=r[s]?.items||{};Object.keys(l).forEach(c=>{let u=l[c]||{},g=Number(u.price||0),b=Number(u.counter||0);n+=g*b})});let o=this.sumDiscounts(t?.discounts||{});if(n-=o,n<=0){let s=this.getOrdersForKey(t,e),l=0;s.forEach(c=>{let u=c?.items??c?.orders??{};Object.keys(u).forEach(g=>{let b=u[g]||{},C=Number(b.unitPrice??b.price??0),R=Number(b.quantity??b.counter??0)||0;l+=C*R})}),n=l}return n<0?0:n}getCategoryLabel(t){let e=this.categories?.[t]||{};return this.isArabic?e.nameArabic||t:e.name||t}pickColor(t){let e=["#0ea5e9","#22c55e","#f97316","#8b5cf6","#ef4444","#06b6d4","#84cc16","#a855f7","#14b8a6","#eab308"];return e[t%e.length]}colorForLabel(t){let e=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf","#003f5c","#58508d","#bc5090","#ff6361","#ffa600","#2f4b7c","#665191","#a05195","#d45087","#f95d6a","#ff7c43","#4e79a7","#f28e2c","#e15759","#76b7b2","#59a14f","#edc949","#af7aa1","#ff9da7","#9c755f","#86bc99","#5f9ea0","#ff6f61","#6b5b95","#88b04b","#92a8d1","#f7cac9","#955251","#b565a7","#009688","#795548","#607d8b","#9e9d24","#c2185b"],n=this.hashString(t);return e[Math.abs(n)%e.length]}hashString(t){let e=5381;for(let n=0;n<t.length;n++)e=(e<<5)+e+t.charCodeAt(n);return e|0}bucketize(t){let e=Object.keys(this.history||{}).sort();if(!e.length)return[];let n=e;if(t==="day")return n.map(s=>({label:s,keys:[s]}));let r=s=>{let[l,c,u]=(s||"").split("-").map(g=>Number(g));return new Date(l||0,(c||1)-1,u||1)};if(t==="week"){let s={};return n.forEach(l=>{let c=r(l),u=c.getFullYear(),g=String(c.getMonth()+1).padStart(2,"0"),b=c.getDate(),C=Math.min(4,Math.floor((b-1)/7)+1),R=`${u}-${g} W${C}`;s[R]||(s[R]=[]),s[R].push(l)}),Object.keys(s).sort().map(l=>({label:l,keys:s[l].sort()}))}if(t==="month"){let s={};return n.forEach(l=>{let c=r(l),u=`${c.getFullYear()}/${String(c.getMonth()+1).padStart(2,"0")}`;s[u]||(s[u]=[]),s[u].push(l)}),Object.keys(s).sort().map(l=>({label:l,keys:s[l].sort()}))}let o={};return n.forEach(s=>{let c=`${r(s).getFullYear()}`;o[c]||(o[c]=[]),o[c].push(s)}),Object.keys(o).sort().map(s=>({label:s,keys:o[s].sort()}))}getYearWeek(t){let e=new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())),n=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-n);let r=new Date(Date.UTC(e.getUTCFullYear(),0,1)),o=Math.ceil(((+e-+r)/864e5+1)/7);return{y:e.getUTCFullYear(),w:String(o).padStart(2,"0")}}formatDateKey(t){let e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`${e}-${n}-${r}`}onOrdersDateChange(){this.observeOrdersForDate(this.selectedOrdersDate)}observeOrdersForDate(t){this.ordersUnsub&&(this.ordersUnsub(),this.ordersUnsub=null),this.ordersByKey={};let[e,n,r]=t.split("-").map(C=>Number(C)),o=new Date(e,(n||1)-1,r||1,0,0,0,0).getTime(),s=new Date(e,(n||1)-1,r||1,23,59,59,999).getTime(),l=new Date(o).toISOString().split("T")[0],c=new Date(s).toISOString().split("T")[0],u=Array.from(new Set([l,c])),g=[],b=()=>{let C={};u.forEach(R=>{(this.ordersByKey[R]||[]).forEach(O=>{C[O.id]=O})}),this.orders=Object.values(C).sort((R,T)=>{let O=Number(R.createdAt??0)||0,B=Number(T.createdAt??0)||0;return B!==O?B-O:Number(T.id)-Number(R.id)})};u.forEach(C=>{let R=qn(Hn,`restaurants/${this.restaurantId}/history/${C}/Order_List`),T=Ec(R,O=>{let B=O.exists()?O.val():{},X=Object.keys(B).map(Z=>k({id:Z},B[Z]||{})).filter(Z=>{let Q=Number(Z.createdAt??0)||0;return Q?Q>=o&&Q<=s:!1});this.ordersByKey[C]=X,b()});g.push(T)}),this.ordersUnsub=()=>g.forEach(C=>{try{C()}catch{}})}localKeyToIsoDateKey(t){let[e,n,r]=t.split("-").map(s=>Number(s));return new Date(e,(n||1)-1,r||1).toISOString().split("T")[0]}get filteredOrders(){let t=(this.orderSearch||"").trim().toLowerCase(),e=this.orders;return t&&(e=e.filter(n=>String(n.id).toLowerCase().includes(t))),e.slice(0,this.orderPageSize)}loadMoreOrders(){this.orderPageSize+=10}onMatDateChange(t){let e=t.value||new Date;this.ordersDate=e,this.selectedOrdersDate=this.formatDateKey(e),this.onOrdersDateChange()}toggleExpand(t){this.expandedOrders[t]=!this.expandedOrders[t]}isExpanded(t){return!!this.expandedOrders[t]}orderItemsArray(t){let e=t?.items??t?.orders??{};return Array.isArray(e)?e:Object.keys(e||{}).map(n=>k({key:n},e[n]||{}))}getItemDisplayName(t){let e=String(t?.name||""),n=String(t?.name||"");return this.isArabic?t?.nameArabic||e:e||t?.nameArabic}getTopSelling(t=8){let e=this.bucketize(this.timeScale),n={},r=(l,c)=>{n[l]=(n[l]||0)+c};e.forEach(l=>{l.keys.forEach(c=>{let u=this.history[c];if(!u)return;let g=u?.categories||{};Object.keys(g).forEach(C=>{let R=g[C]?.items||{};Object.keys(R).forEach(T=>{let O=R[T]||{},B=Number(O.counter||0);r(T,B)})}),this.getOrdersForKey(u,c).forEach(C=>{let R=C?.items??C?.orders??{};Object.keys(R).forEach(T=>{let O=R[T]||{},B=Number(O.quantity??O.counter??0)||0,z=this.normalizeName(O?.name||O?.nameArabic||T);r(z,B)})})})});let o={};Object.keys(n).forEach(l=>{let c;if(this.idToItem[l]){let u=this.idToItem[l];c=this.isArabic?u.nameArabic||u.name||l:u.name||u.nameArabic||l}else if(this.nameToItem[l]){let u=this.nameToItem[l];c=this.isArabic?u.nameArabic||u.name||l:u.name||u.nameArabic||l}else c=l;o[c]=(o[c]||0)+(n[l]||0)});let s=Object.keys(o).map(l=>({label:l,count:o[l]}));return s.sort((l,c)=>c.count-l.count),s.slice(0,t)}getRestaurantDisplayName(){return this.restaurantName||this.restaurantId}trackById(t,e){return e?.id??e?.key??t}trackByKey(t,e){return e?.key??t}static \u0275fac=function(e){return new(e||i)(ee(Le),ee(Wt),ee(Yt))};static \u0275cmp=ie({type:i,selectors:[["app-stats"]],viewQuery:function(e,n){if(e&1&&It(OM,5)(PM,5)(NM,5)(FM,5)(LM,5),e&2){let r;Ie(r=Ae())&&(n.revenueChartCanvas=r.first),Ie(r=Ae())&&(n.categoryChartCanvas=r.first),Ie(r=Ae())&&(n.typeChartCanvas=r.first),Ie(r=Ae())&&(n.discountChartCanvas=r.first),Ie(r=Ae())&&(n.itemsChartCanvas=r.first)}},decls:292,vars:117,consts:[["revenueChartCanvas",""],["categoryChartCanvas",""],["typeChartCanvas",""],["itemsChartCanvas",""],["picker",""],[1,"container","py-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"mb-0"],[1,"text-muted"],[1,"clock","text-end"],[1,"fw-semibold"],[1,"text-primary"],[1,"card","shadow-sm","mb-3","fade-in"],[1,"card-header","d-flex","align-items-center","gap-2"],[1,"bi","bi-speedometer2"],[1,"card-body"],[1,"overview-grid"],[1,"tile","tile-blue"],[1,"bi","bi-people"],[1,"meta"],[1,"label"],[1,"value"],[1,"tile","tile-cyan"],[1,"bi","bi-truck"],[1,"tile","tile-lime"],[1,"bi","bi-person-vcard"],[1,"tile","tile-purple"],[1,"bi","bi-bank"],[1,"tile","tile-rose"],[1,"bi","bi-ui-checks-grid"],[1,"tile","tile-amber"],[1,"bi","bi-cash-coin"],[1,"tile","tile-red"],[1,"bi","bi-credit-card"],[1,"tile","tile-teal"],[1,"bi","bi-bag-check"],[1,"tile","tile-yellow"],[1,"bi","bi-ticket-detailed"],[1,"tile","tile-green"],[1,"bi","bi-currency-dollar"],[1,"row","g-3"],[1,"col-lg-8","order-2","order-lg-1"],[1,"card","h-100","shadow-sm","fade-in",2,"height","500px!important"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center","gap-2"],[1,"bi","bi-graph-up"],["appearance","outline",2,"width","160px"],["panelClass","menu-select-panel",3,"ngModelChange","selectionChange","ngModel"],["value","day"],["value","week"],["value","month"],["value","year"],[1,"card-body","chart-md"],[1,"row","g-3","mt-1"],[1,"col-md-6"],[1,"card","shadow-sm","fade-in"],[1,"bi","bi-ui-checks"],["appearance","outline",2,"width","150px"],[1,"card-body","chart-lg"],[1,"bi","bi-columns-gap"],[1,"col-12"],[1,"bi","bi-grid-3x3-gap"],["appearance","outline",2,"width","220px"],[3,"value"],[1,"card","shadow-sm","mt-3","fade-in",2,"padding-bottom","10em"],[1,"bi","bi-receipt"],["appearance","outline",2,"width","200px"],["matInput","",3,"dateChange","matDatepicker"],["matIconSuffix","",3,"for"],["appearance","outline",2,"width","240px"],["matInput","",3,"ngModelChange","ngModel"],[1,"table-responsive"],[1,"table","align-middle","mb-0"],[1,"card-footer","text-center"],[1,"col-lg-4","order-1","order-lg-2"],[1,"card","shadow-sm","mt-3","fade-in"],[1,"card-header"],[1,"counts-grid"],[1,"count-item"],[1,"bi","bi-hash"],[1,"bi","bi-grid"],[1,"bi","bi-basket"],[1,"bi","bi-tags"],[1,"bi","bi-person"],[1,"bi","bi-stars"],[1,"list-group","list-group-flush"],[1,"list-group-item","d-flex","justify-content-between"],[1,"order-row"],[1,"text-end"],[1,"btn","btn-sm","btn-link",3,"click"],[1,"bi"],["colspan","5",1,"bg-body-tertiary"],[1,"p-2"],[1,"small","text-muted","mb-2"],[1,"row","row-cols-1","row-cols-md-2","g-2"],[1,"col"],[1,"d-flex","justify-content-between","border","rounded","p-2"],[1,"btn","btn-outline-secondary","btn-sm",3,"click"]],template:function(e,n){if(e&1){let r=ce();m(0,"div",5)(1,"div",6)(2,"div")(3,"h2",7),_(4),f(),m(5,"small",8),_(6),f()(),m(7,"div",9)(8,"div",10),_(9),tt(10,"date"),f(),m(11,"small",11),_(12),tt(13,"date"),f()()(),m(14,"div",12)(15,"div",13),H(16,"i",14),m(17,"span"),_(18),f()(),m(19,"div",15)(20,"div",16)(21,"div",17),H(22,"i",18),m(23,"div",19)(24,"div",20),_(25),f(),m(26,"div",21),_(27),tt(28,"number"),f()()(),m(29,"div",22),H(30,"i",23),m(31,"div",19)(32,"div",20),_(33),f(),m(34,"div",21),_(35),tt(36,"number"),f()()(),m(37,"div",24),H(38,"i",25),m(39,"div",19)(40,"div",20),_(41),f(),m(42,"div",21),_(43),tt(44,"number"),f()()(),m(45,"div",26),H(46,"i",27),m(47,"div",19)(48,"div",20),_(49),f(),m(50,"div",21),_(51),tt(52,"number"),f()()(),m(53,"div",28),H(54,"i",29),m(55,"div",19)(56,"div",20),_(57),f(),m(58,"div",21),_(59),tt(60,"number"),f()()(),m(61,"div",30),H(62,"i",31),m(63,"div",19)(64,"div",20),_(65),f(),m(66,"div",21),_(67),tt(68,"number"),f()()(),m(69,"div",32),H(70,"i",33),m(71,"div",19)(72,"div",20),_(73),f(),m(74,"div",21),_(75),tt(76,"number"),f()()(),m(77,"div",34),H(78,"i",35),m(79,"div",19)(80,"div",20),_(81),f(),m(82,"div",21),_(83),tt(84,"number"),f()()(),m(85,"div",36),H(86,"i",37),m(87,"div",19)(88,"div",20),_(89),f(),m(90,"div",21),_(91),tt(92,"number"),f()()(),m(93,"div",38),H(94,"i",39),m(95,"div",19)(96,"div",20),_(97),f(),m(98,"div",21),_(99),tt(100,"number"),f()()()()()(),m(101,"div",40)(102,"div",41)(103,"div",42)(104,"div",43)(105,"div",44),H(106,"i",45),m(107,"span"),_(108),f()(),m(109,"div",44)(110,"mat-form-field",46)(111,"mat-label"),_(112),f(),m(113,"mat-select",47),se("ngModelChange",function(s){return L(r),oe(n.revenueScale,s)||(n.revenueScale=s),V(s)}),q("selectionChange",function(){return L(r),V(n.refreshAllCharts())}),m(114,"mat-option",48),_(115),f(),m(116,"mat-option",49),_(117),f(),m(118,"mat-option",50),_(119),f(),m(120,"mat-option",51),_(121),f()()()()(),m(122,"div",52),H(123,"canvas",null,0),f()(),m(125,"div",53)(126,"div",54)(127,"div",55)(128,"div",43)(129,"div",44),H(130,"i",56),m(131,"span"),_(132),f()(),m(133,"div",44)(134,"mat-form-field",57)(135,"mat-label"),_(136),f(),m(137,"mat-select",47),se("ngModelChange",function(s){return L(r),oe(n.categoryScale,s)||(n.categoryScale=s),V(s)}),q("selectionChange",function(){return L(r),V(n.refreshAllCharts())}),m(138,"mat-option",48),_(139),f(),m(140,"mat-option",49),_(141),f(),m(142,"mat-option",50),_(143),f(),m(144,"mat-option",51),_(145),f()()()()(),m(146,"div",58),H(147,"canvas",null,1),f()()(),m(149,"div",54)(150,"div",55)(151,"div",43)(152,"div",44),H(153,"i",59),m(154,"span"),_(155),f()(),m(156,"div",44)(157,"mat-form-field",57)(158,"mat-label"),_(159),f(),m(160,"mat-select",47),se("ngModelChange",function(s){return L(r),oe(n.typeScale,s)||(n.typeScale=s),V(s)}),q("selectionChange",function(){return L(r),V(n.refreshAllCharts())}),m(161,"mat-option",48),_(162),f(),m(163,"mat-option",49),_(164),f(),m(165,"mat-option",50),_(166),f(),m(167,"mat-option",51),_(168),f()()()()(),m(169,"div",58),H(170,"canvas",null,2),f()()(),m(172,"div",60)(173,"div",55)(174,"div",43)(175,"div",44),H(176,"i",61),m(177,"span"),_(178),f()(),m(179,"div",44)(180,"mat-form-field",62)(181,"mat-label"),_(182),f(),m(183,"mat-select",47),se("ngModelChange",function(s){return L(r),oe(n.selectedItemsCategoryKey,s)||(n.selectedItemsCategoryKey=s),V(s)}),q("selectionChange",function(){return L(r),V(n.refreshAllCharts())}),Ee(184,VM,2,2,"mat-option",63,n.trackByKey,!0),f()(),m(186,"mat-form-field",57)(187,"mat-label"),_(188),f(),m(189,"mat-select",47),se("ngModelChange",function(s){return L(r),oe(n.itemsScale,s)||(n.itemsScale=s),V(s)}),q("selectionChange",function(){return L(r),V(n.refreshAllCharts())}),m(190,"mat-option",48),_(191),f(),m(192,"mat-option",49),_(193),f(),m(194,"mat-option",50),_(195),f(),m(196,"mat-option",51),_(197),f()()()()(),m(198,"div",58),H(199,"canvas",null,3),f()()()(),m(201,"div",64)(202,"div",43)(203,"div",44),H(204,"i",65),m(205,"span"),_(206),f()(),m(207,"div",44)(208,"mat-form-field",66)(209,"mat-label"),_(210),f(),m(211,"input",67),q("dateChange",function(s){return L(r),V(n.onMatDateChange(s))}),f(),H(212,"mat-datepicker-toggle",68)(213,"mat-datepicker",null,4),f(),m(215,"mat-form-field",69)(216,"mat-label"),_(217),f(),m(218,"input",70),se("ngModelChange",function(s){return L(r),oe(n.orderSearch,s)||(n.orderSearch=s),V(s)}),f()()()(),m(219,"div",71)(220,"table",72)(221,"thead")(222,"tr")(223,"th"),_(224,"#"),f(),m(225,"th"),_(226),f(),m(227,"th"),_(228),f(),m(229,"th"),_(230),f(),H(231,"th"),f()(),m(232,"tbody"),Ee(233,zM,15,15,null,null,n.trackById,!0),f()()(),W(235,$M,3,1,"div",73),f()(),m(236,"div",74)(237,"div",75)(238,"div",76),_(239),f(),m(240,"div",15)(241,"div",77)(242,"div",78),H(243,"i",79),m(244,"div")(245,"div",20),_(246),f(),m(247,"div",21),_(248),f()()(),m(249,"div",78),H(250,"i",80),m(251,"div")(252,"div",20),_(253),f(),m(254,"div",21),_(255),f()()(),m(256,"div",78),H(257,"i",18),m(258,"div")(259,"div",20),_(260),f(),m(261,"div",21),_(262),f()()(),m(263,"div",78),H(264,"i",81),m(265,"div")(266,"div",20),_(267),f(),m(268,"div",21),_(269),f()()(),m(270,"div",78),H(271,"i",82),m(272,"div")(273,"div",20),_(274),f(),m(275,"div",21),_(276),f()()(),m(277,"div",78),H(278,"i",83),m(279,"div")(280,"div",20),_(281),f(),m(282,"div",21),_(283),f()()()()()(),m(284,"div",75)(285,"div",13),H(286,"i",84),m(287,"span"),_(288),f()(),m(289,"div",85),Ee(290,qM,5,2,"div",86,n.trackByKey,!0),f()()()()()}if(e&2){let r=At(214);Ce("dir",n.isArabic?"rtl":"ltr"),h(4),ni("",n.isArabic?"\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A":"Statistics"," \u2014 ",n.getRestaurantDisplayName()),h(2),A(n.isArabic?"\u0639\u0631\u0636 \u0627\u0644\u0623\u062F\u0627\u0621 \u0648\u0627\u0644\u0645\u0642\u0627\u064A\u064A\u0633":"Performance and metrics"),h(3),A(ht(10,81,n.now,n.isArabic?"EEEE\u060C d MMMM y":"EEE, MMM d, y")),h(3),A(ht(13,84,n.now,"HH:mm:ss")),h(6),A(n.isArabic?"\u0646\u0638\u0631\u0629 \u0639\u0627\u0645\u0629":"Overview"),h(7),A(n.isArabic?"\u0631\u0635\u064A\u062F \u0627\u0644\u0645\u0648\u0638\u0641\u064A\u0646":"Employees Balance"),h(2),$("\u20AA ",ht(28,87,n.overview.employeesBalance,"1.0-0")),h(6),A(n.isArabic?"\u0631\u0635\u064A\u062F \u0627\u0644\u0645\u0648\u0631\u0651\u062F\u064A\u0646":"Suppliers Balance"),h(2),$("\u20AA ",ht(36,90,n.overview.suppliersBalance,"1.0-0")),h(6),A(n.isArabic?"\u0631\u0635\u064A\u062F \u0627\u0644\u0632\u0628\u0627\u0626\u0646":"Customers Balance"),h(2),$("\u20AA ",ht(44,93,n.overview.customersBalance,"1.0-0")),h(6),A(n.isArabic?"\u0623\u0631\u0635\u062F\u0629 \u0627\u0644\u0628\u0646\u0648\u0643":"Bank Balances"),h(2),$("\u20AA ",ht(52,96,n.overview.bankBalances,"1.0-0")),h(6),A(n.isArabic?"\u0631\u0635\u064A\u062F \u0627\u0644\u0634\u064A\u0643\u0627\u062A":"Checks Balance"),h(2),$("\u20AA ",ht(60,99,n.overview.checksBalance,"1.0-0")),h(6),A(n.isArabic?"\u0646\u0642\u062F \u0628\u0627\u0644\u0635\u0646\u062F\u0648\u0642":"Cash on Hand"),h(2),$("\u20AA ",ht(68,102,n.overview.cashOnHand,"1.0-0")),h(6),A(n.isArabic?"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A":"Total Expenses"),h(2),$("\u20AA ",ht(76,105,n.overview.totalExpenses,"1.0-0")),h(6),A(n.isArabic?"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A":"Total Purchases"),h(2),$("\u20AA ",ht(84,108,n.overview.totalPurchases,"1.0-0")),h(6),A(n.isArabic?"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u062E\u0635\u0648\u0645\u0627\u062A":"Total Discounts"),h(2),$("\u20AA ",ht(92,111,n.overview.totalDiscounts,"1.0-0")),h(6),A(n.isArabic?"\u0625\u064A\u0631\u0627\u062F\u0627\u062A \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A":"Sales Revenue"),h(2),$("\u20AA ",ht(100,114,n.overview.salesRevenue,"1.0-0")),h(9),A(n.isArabic?"\u0627\u0644\u0625\u064A\u0631\u0627\u062F\u0627\u062A":"Revenue"),h(4),A(n.isArabic?"\u0627\u0644\u0645\u062F\u0629":"Range"),h(),re("ngModel",n.revenueScale),h(2),A(n.isArabic?"\u064A\u0648\u0645\u064A":"Daily"),h(2),A(n.isArabic?"\u0623\u0633\u0628\u0648\u0639\u064A":"Weekly"),h(2),A(n.isArabic?"\u0634\u0647\u0631\u064A":"Monthly"),h(2),A(n.isArabic?"\u0633\u0646\u0648\u064A":"Yearly"),h(11),A(n.isArabic?"\u0645\u0628\u064A\u0639\u0627\u062A \u062D\u0633\u0628 \u0627\u0644\u0641\u0626\u0627\u062A":"Sales by Categories"),h(4),A(n.isArabic?"\u0627\u0644\u0645\u062F\u0629":"Range"),h(),re("ngModel",n.categoryScale),h(2),A(n.isArabic?"\u064A\u0648\u0645\u064A":"Daily"),h(2),A(n.isArabic?"\u0623\u0633\u0628\u0648\u0639\u064A":"Weekly"),h(2),A(n.isArabic?"\u0634\u0647\u0631\u064A":"Monthly"),h(2),A(n.isArabic?"\u0633\u0646\u0648\u064A":"Yearly"),h(10),A(n.isArabic?"\u0645\u0628\u064A\u0639\u0627\u062A \u062D\u0633\u0628 \u0627\u0644\u0646\u0648\u0639":"Sales by Type"),h(4),A(n.isArabic?"\u0627\u0644\u0645\u062F\u0629":"Range"),h(),re("ngModel",n.typeScale),h(2),A(n.isArabic?"\u064A\u0648\u0645\u064A":"Daily"),h(2),A(n.isArabic?"\u0623\u0633\u0628\u0648\u0639\u064A":"Weekly"),h(2),A(n.isArabic?"\u0634\u0647\u0631\u064A":"Monthly"),h(2),A(n.isArabic?"\u0633\u0646\u0648\u064A":"Yearly"),h(10),A(n.isArabic?"\u0627\u0644\u0639\u0646\u0627\u0635\u0631 \u062D\u0633\u0628 \u0627\u0644\u0641\u0626\u0629":"Items by Category"),h(4),A(n.isArabic?"\u0627\u0644\u0641\u0626\u0629":"Category"),h(),re("ngModel",n.selectedItemsCategoryKey),h(),Se(n.categoryList),h(4),A(n.isArabic?"\u0627\u0644\u0645\u062F\u0629":"Range"),h(),re("ngModel",n.itemsScale),h(2),A(n.isArabic?"\u064A\u0648\u0645\u064A":"Daily"),h(2),A(n.isArabic?"\u0623\u0633\u0628\u0648\u0639\u064A":"Weekly"),h(2),A(n.isArabic?"\u0634\u0647\u0631\u064A":"Monthly"),h(2),A(n.isArabic?"\u0633\u0646\u0648\u064A":"Yearly"),h(9),A(n.isArabic?"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0637\u0644\u0628\u0627\u062A":"Order List"),h(4),A(n.isArabic?"\u0627\u0644\u064A\u0648\u0645":"Day"),h(),j("matDatepicker",r),h(),j("for",r),h(5),A(n.isArabic?"\u0627\u0628\u062D\u062B \u0628\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629":"Search by invoice id"),h(),re("ngModel",n.orderSearch),h(8),A(n.isArabic?"\u0627\u0644\u0637\u0627\u0648\u0644\u0629":"Table"),h(2),A(n.isArabic?"\u0627\u0644\u0648\u0642\u062A":"Time"),h(2),A(n.isArabic?"\u0627\u0644\u0642\u064A\u0645\u0629":"Amount"),h(3),Se(n.filteredOrders),h(2),K(n.orders.length>n.orderPageSize?235:-1),h(4),$(" ",n.isArabic?"\u0627\u0644\u0625\u062D\u0635\u0627\u0621\u0627\u062A":"Counts"," "),h(7),A(n.isArabic?"\u0639\u062F\u062F \u0627\u0644\u0641\u0648\u0627\u062A\u064A\u0631":"Invoices to date"),h(2),A(n.counts.invoicesToDate),h(5),A(n.isArabic?"\u0639\u062F\u062F \u0627\u0644\u0637\u0627\u0648\u0644\u0627\u062A":"Tables"),h(2),A(n.counts.tableCount),h(5),A(n.isArabic?"\u0639\u062F\u062F \u0627\u0644\u0632\u0628\u0627\u0626\u0646":"Customers"),h(2),A(n.counts.customerCount),h(5),A(n.isArabic?"\u0639\u062F\u062F \u0627\u0644\u0623\u0635\u0646\u0627\u0641":"Items"),h(2),A(n.counts.itemCount),h(5),A(n.isArabic?"\u0639\u062F\u062F \u0627\u0644\u0641\u0626\u0627\u062A":"Categories"),h(2),A(n.counts.categoryCount),h(5),A(n.isArabic?"\u0639\u062F\u062F \u0627\u0644\u0645\u0648\u0638\u0641\u064A\u0646":"Employees"),h(2),A(n.counts.employeeCount),h(5),A(n.isArabic?"\u0627\u0644\u0639\u0646\u0627\u0635\u0631 \u0627\u0644\u0623\u0643\u062B\u0631 \u0645\u0628\u064A\u0639\u064B\u0627":"Best Selling Items"),h(2),Se(n.getTopSelling(8))}},dependencies:[Ft,at,yt,bt,vt,co,Fd,al,Um,yv,_v,Is,Cv,wv,Hv,qv,tu,mp,Wv,Kv,ks,_c,sy],styles:[`.metrics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:12px}@media(min-width:576px){.metrics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}@media(min-width:992px){.metrics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.metric[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;border:1px solid var(--bs-border-color);border-radius:12px;padding:12px;background:var(--bs-body-bg);transition:transform .2s ease,box-shadow .2s ease}.metric[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px #0000000d}.metric[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.85rem;color:var(--bs-secondary-color)}.metric[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade .3s ease}@keyframes _ngcontent-%COMP%_fade{0%{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}.counts-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:12px}.count-item[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;border:1px dashed var(--bs-border-color);border-radius:12px;padding:10px}.count-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.8rem;color:var(--bs-secondary-color)}.order-row[_ngcontent-%COMP%]{cursor:pointer}.overview-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}.tile[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:14px;border-radius:14px;color:#0f172a;background:linear-gradient(180deg,#fffc,#fff9);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);box-shadow:0 1px #0000000d inset,0 8px 24px #0000000d;transition:transform .25s ease,box-shadow .25s ease}.tile[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 10px 30px #00000014}.tile[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22px}.tile[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.8rem;color:#64748b}.tile[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700}.tile-blue[_ngcontent-%COMP%]{border-left:4px solid #3b82f6}.tile-cyan[_ngcontent-%COMP%]{border-left:4px solid #06b6d4}.tile-lime[_ngcontent-%COMP%]{border-left:4px solid #84cc16}.tile-purple[_ngcontent-%COMP%]{border-left:4px solid #8b5cf6}.tile-rose[_ngcontent-%COMP%]{border-left:4px solid #f43f5e}.tile-amber[_ngcontent-%COMP%]{border-left:4px solid #f59e0b}.tile-red[_ngcontent-%COMP%]{border-left:4px solid #ef4444}.tile-teal[_ngcontent-%COMP%]{border-left:4px solid #14b8a6}.tile-yellow[_ngcontent-%COMP%]{border-left:4px solid #eab308}.tile-green[_ngcontent-%COMP%]{border-left:4px solid #22c55e}.chart-sm[_ngcontent-%COMP%]{height:110px}.chart-md[_ngcontent-%COMP%]{height:160px}.chart-lg[_ngcontent-%COMP%]{height:220px}.card-header[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:1px solid #e5e7eb;border-radius:999px;background:#fff;padding:.25rem .9rem;box-shadow:0 1px 2px #0000000a;transition:border-color .2s ease,box-shadow .2s ease,transform .12s ease}.card-header[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:hover, .card-header[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #00000014}.card-header[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus, .card-header[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#6366f1;box-shadow:0 0 0 4px #6366f126;outline:0}.card-header[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{padding-right:2rem;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23677689' viewBox='0 0 16 16'%3E%3Cpath d='M3.204 5h9.592L8 10.481 3.204 5z'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right .6rem center;background-size:12px}.card-header[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{min-width:auto;margin:0}.card-header[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{height:auto;min-height:38px}.card-header[_ngcontent-%COMP%]   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:.2rem;padding-bottom:.2rem;min-height:38px}.card-header[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]   .mdc-floating-label[_ngcontent-%COMP%]{font-size:.75rem}.card-header[_ngcontent-%COMP%]   .mat-mdc-select-value-text[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]   .mat-mdc-input-element[_ngcontent-%COMP%]{font-size:.8rem}.card-header[_ngcontent-%COMP%]   .mdc-notched-outline__leading[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]   .mdc-notched-outline__trailing[_ngcontent-%COMP%]{border-color:#e5e7eb}`],data:{animation:[vm("expandCollapse",[Sd(":enter",[Ui({height:0,opacity:0}),Ed("220ms ease-out",Ui({height:"*",opacity:1}))]),Sd(":leave",[Ui({height:"*",opacity:1}),Ed("180ms ease-in",Ui({height:0,opacity:0}))])])]}})};function HM(i,t){if(i&1){let e=ce();m(0,"li",13),q("click",function(){let r=L(e).$implicit,o=I();return V(o.selectTable(r))}),m(1,"div",14)(2,"span",15),_(3),f()(),m(4,"span",16),_(5),f()()}if(i&2){let e=t.$implicit,n=I();me("active",(n.selectedTable==null?null:n.selectedTable.id)===e.id),h(3),A(e.name),h(),j("ngClass",e.availability?"bg-success":"bg-danger"),h(),$(" ",e.availability?n.isArabic?"\u0645\u062A\u0627\u062D":"Available":n.isArabic?"\u0645\u0634\u063A\u0648\u0644\u0629":"Occupied"," ")}}function WM(i,t){if(i&1){let e=ce();m(0,"li",21)(1,"div",29)(2,"div",30)(3,"div",31),_(4),f(),m(5,"div",32)(6,"input",33),se("ngModelChange",function(r){let o=L(e).$implicit;return oe(o.value.details,r)||(o.value.details=r),V(r)}),f()()(),m(7,"div",34)(8,"input",35),se("ngModelChange",function(r){let o=L(e).$implicit;return oe(o.value.quantity,r)||(o.value.quantity=r),V(r)}),f(),m(9,"div",36)(10,"button",37),q("click",function(){let r=L(e).$implicit,o=I(2);return V(o.updateOrder(r.key,r.value.quantity,r.value.details||""))}),_(11),f(),m(12,"button",38),q("click",function(){let r=L(e).$implicit,o=I(2);return V(o.deleteOrder(r.key))}),_(13),f()()()()()}if(i&2){let e=t.$implicit,n=I(2);h(4),A(e.value.name),h(2),re("ngModel",e.value.details),j("placeholder",n.isArabic?"\u062A\u0641\u0627\u0635\u064A\u0644":"Details"),h(2),re("ngModel",e.value.quantity),h(3),$(" ",n.isArabic?"\u062A\u062D\u062F\u064A\u062B":"Update"," "),h(2),$(" ",n.isArabic?"\u062D\u0630\u0641":"Remove"," ")}}function KM(i,t){if(i&1&&H(0,"option",25),i&2){let e=t.$implicit;j("value",e)}}function GM(i,t){if(i&1){let e=ce();m(0,"div",12)(1,"div",17)(2,"div",8)(3,"div"),_(4),m(5,"strong"),_(6),f()(),m(7,"button",18),q("click",function(){L(e);let r=I();return V(r.selectedTable=null)}),_(8),f()(),m(9,"div",19)(10,"ul",20),Ee(11,WM,14,6,"li",21,je),tt(13,"keyvalue"),f(),m(14,"div",22),H(15,"input",23,0),m(17,"datalist",24),Ee(18,KM,1,1,"option",25,je),f(),H(20,"input",26,1)(22,"input",27,2),m(24,"button",28),q("click",function(){L(e);let r=At(16),o=At(21),s=At(23);return I().addOrder(r.value,+o.value,s.value),r.value="",o.value="",V(s.value="")}),_(25),f()()()()()}if(i&2){let e=I();h(4),$(" ",e.isArabic?"\u0627\u0644\u0637\u0644\u0628\u0627\u062A \u0644\u0640":"Orders for"," "),h(2),A(e.selectedTable.name),h(2),A(e.isArabic?"\u0631\u062C\u0648\u0639":"Back"),h(3),Se(Oo(13,7,e.selectedTable.order)),h(4),j("placeholder",e.isArabic?"\u0627\u0633\u0645 \u0627\u0644\u0635\u0646\u0641":"Item name"),h(3),Se(e.menuItemNames),h(2),j("placeholder",e.isArabic?"\u0627\u0644\u0643\u0645\u064A\u0629":"Qty"),h(2),j("placeholder",e.isArabic?"\u062A\u0641\u0627\u0635\u064A\u0644 (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)":"Details (optional)"),h(3),$(" ",e.isArabic?"\u0625\u0636\u0627\u0641\u0629":"Add"," ")}}var iu=class i{constructor(t,e,n,r,o){this.db=t;this.menuService=e;this.languageService=n;this.ngZone=r;this.route=o}restaurantId="";restaurantName="";restaurant=null;tables=[];selectedTable=null;menuItemNames=[];categoriesCache=null;isArabic=!1;subs=[];tablesUnsub=null;choiceDraftIndex={};ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t),Wn.getRestaurantById(this.restaurantId).then(n=>{this.restaurant=n,this.updateRestaurantDisplayName()}).catch(()=>{this.restaurant=null,this.updateRestaurantDisplayName()});let e=Fe(this.db,`restaurants/${this.restaurantId}/tables`);this.tablesUnsub=xn(e,n=>{this.ngZone.run(()=>{let r=n.val()||{};if(this.tables=Object.keys(r).map(o=>{let s=k({id:o},r[o]);if(s.order){let l={};Object.keys(s.order).forEach(c=>{let u=s.order[c];u.state&&u.state!=="unordered"&&(l[c]=u)}),s.order=l}return s}).sort((o,s)=>(o.name||"").localeCompare(s.name||"",void 0,{numeric:!0})),this.selectedTable){let o=this.tables.find(s=>s.id===this.selectedTable.id)||null;this.selectedTable=o}})}),this.menuService.getCategoriesOnce(this.restaurantId).then(n=>{this.categoriesCache=n,this.menuItemNames=this.flattenMenuNames(n,this.isArabic)}),this.subs.push(this.languageService.isArabic$.subscribe(n=>{this.isArabic=n,this.menuItemNames=this.flattenMenuNames(this.categoriesCache,this.isArabic),this.updateRestaurantDisplayName()}))}ngOnDestroy(){this.tablesUnsub&&this.tablesUnsub(),this.subs.forEach(t=>t.unsubscribe())}selectTable(t){this.selectedTable=t}updateOrder(t,e,n){return F(this,null,function*(){if(!this.selectedTable)return;let r=Fe(this.db,`restaurants/${this.restaurantId}/tables/${this.selectedTable.id}/order/${t}`);if(e<=0)yield qr(r);else{let o=this.selectedTable.order?.[t],s=this.choiceDraftIndex[t],l={quantity:e,details:n};if(o&&s!==void 0&&s!==null){let c=this.getChoicePairs(o.name);l.choiceEn=c.en[s]??null,l.choiceAr=c.ar[s]??null;let u=this.getMenuItemPrice(o.name||""),g=this.getChoiceAddByIndex(o.name||"",s);l.unitPrice=u+g}yield mt(r,l),delete this.choiceDraftIndex[t]}})}addOrder(t,e,n){return F(this,null,function*(){if(!this.selectedTable||!t||e<=0)return;let r=this.resolveNameFromMenu(t.trim(),this.isArabic)||t.trim(),o=Fe(this.db,`restaurants/${this.restaurantId}/tables/${this.selectedTable.id}/order`),s=Date.now().toString(),l=this.getChoicePairs(r),c=l.en.length?l.en[0]:null,u=l.ar.length?l.ar[0]:null,g=Number(this.findMenuItemByName(r)?.price??0);yield mt(o,{[s]:{name:r,quantity:e,details:n||"",state:"ordered",choiceEn:c,choiceAr:u,unitPrice:g,ts:Date.now()}})})}deleteOrder(t){return F(this,null,function*(){if(!this.selectedTable)return;let e=Fe(this.db,`restaurants/${this.restaurantId}/tables/${this.selectedTable.id}/order/${t}`);yield qr(e)})}getMenuItemPrice(t){let e=this.findMenuItemByName(t);return Number(e?.price||0)}getChoiceAddByIndex(t,e){return e===null?0:this.getChoiceDisplayStructured(t)[e]?.add||0}resolveNameFromMenu(t,e){if(!this.categoriesCache)return null;let n=t.toLowerCase();for(let r of Object.keys(this.categoriesCache)){let o=this.categoriesCache[r]?.items||{};for(let s of Object.keys(o)){let l=o[s];if(l.name?.toLowerCase()===n||l.nameArabic?.toLowerCase()===n)return e?l.nameArabic||l.name:l.name||l.nameArabic}}return null}findMenuItemByName(t){if(!this.categoriesCache)return null;let e=t.toLowerCase();for(let n of Object.keys(this.categoriesCache)){let r=this.categoriesCache[n]?.items||{};for(let o of Object.keys(r)){let s=r[o];if(s.name?.toLowerCase()===e||s.nameArabic?.toLowerCase()===e)return s}}return null}getChoiceDisplayStructured(t){let e=this.findMenuItemByName(t),n=Array.isArray(e?.choiceOptions)?e.choiceOptions:[];return n.length?n.map(r=>({label:this.isArabic?r.ar||r.en||"":r.en||r.ar||"",add:Number(r.add)||0})):[]}getChoicePairs(t){let e=this.findMenuItemByName(t);return{en:Array.isArray(e?.choices)?e.choices:[],ar:Array.isArray(e?.choicesArabic)?e.choicesArabic:[]}}flattenMenuNames(t,e){let n=new Set;return t?(Object.keys(t).forEach(r=>{let o=t[r];Object.keys(o.items||{}).forEach(s=>{let l=o.items[s],c=e?l.nameArabic||l.name:l.name||l.nameArabic;c&&n.add(c)})}),Array.from(n)):[]}updateRestaurantDisplayName(){this.restaurantName=this.isArabic?this.restaurant?.restArabicName||this.restaurant?.restName:this.restaurant?.restName||this.restaurant?.restArabicName}get restaurantDisplayName(){return this.restaurantName||this.restaurantId}static \u0275fac=function(e){return new(e||i)(ee(Sn),ee(Yt),ee(Wt),ee(te),ee(Le))};static \u0275cmp=ie({type:i,selectors:[["app-ordering-dashboard"]],decls:18,vars:8,consts:[["itemName",""],["itemQty",""],["itemDetails",""],[1,"container","py-4"],[1,"dashboard-header"],[1,"row","g-4"],[1,"col-lg-4"],[1,"card","sticky-col"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"badge","bg-primary"],[1,"list-group","list-group-flush",2,"max-height","70vh","overflow-y","auto"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",3,"active"],[1,"col-lg-8"],[1,"list-group-item","d-flex","justify-content-between","align-items-center",3,"click"],[1,"d-flex","flex-column"],[1,"fw-semibold"],[1,"badge",3,"ngClass"],[1,"card"],[1,"btn","btn-sm","btn-outline-light",3,"click"],[1,"card-body"],[1,"list-group","mb-3"],[1,"list-group-item"],[1,"d-flex","flex-wrap","gap-2"],["type","text","list","menuSuggestions",1,"form-control",2,"max-width","260px",3,"placeholder"],["id","menuSuggestions"],[3,"value"],["type","number","min","1",1,"form-control",2,"max-width","100px",3,"placeholder"],["type","text",1,"form-control",3,"placeholder"],[1,"btn","btn-success",3,"click"],[1,"d-flex","justify-content-between","align-items-start"],[1,"flex-grow-1","pe-3"],[1,"fw-bold"],[1,"mt-2"],["type","text",1,"form-control","form-control-sm",3,"ngModelChange","ngModel","placeholder"],[2,"min-width","160px"],["type","number","min","0",1,"form-control","form-control-sm",3,"ngModelChange","ngModel"],[1,"d-flex","gap-2","mt-2"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"btn","btn-sm","btn-warning",3,"click"]],template:function(e,n){e&1&&(m(0,"div",3)(1,"div",4)(2,"h1"),_(3),f(),m(4,"p"),_(5),f()(),m(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"span"),_(11),f(),m(12,"span",9),_(13),f()(),m(14,"ul",10),Ee(15,HM,6,5,"li",11,je),f()()(),W(17,GM,26,9,"div",12),f()()),e&2&&(Ce("dir",n.isArabic?"rtl":"ltr"),h(),me("align-right",n.isArabic),h(2),A(n.restaurantDisplayName),h(2),A(n.isArabic?"\u0644\u0648\u062D\u0629 \u0627\u0644\u0637\u0644\u0628\u0627\u062A":"Ordering Dashboard"),h(6),A(n.isArabic?"\u0627\u0644\u0637\u0627\u0648\u0644\u0627\u062A":"Tables"),h(2),A(n.tables.length||0),h(2),Se(n.tables),h(2),K(n.selectedTable?17:-1))},dependencies:[Ft,fn,at,pr,fr,yt,bi,bt,xc,vt,Fo],styles:["[_nghost-%COMP%]{display:block;background:#f8fafc;min-height:100vh}.dashboard-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#1f2937;font-weight:700;margin:0 0 .25rem}.dashboard-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin:0}.btn-outline-secondary[_ngcontent-%COMP%]{color:#fff;background-color:#21a77a;--bs-btn-active-bg: #059669}.card[_ngcontent-%COMP%]{border:none;border-radius:14px;overflow:hidden;box-shadow:0 10px 24px #0000000f}.card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;font-weight:600}.list-group-item[_ngcontent-%COMP%]{border:0;border-bottom:1px solid #eef2f7;transition:transform .15s ease,background .15s ease}.list-group-item[_ngcontent-%COMP%]:hover{background:#10b981;transform:translate(4px);border-radius:5px}.list-group-item.active[_ngcontent-%COMP%]{background:#10b981;font-weight:600}.badge[_ngcontent-%COMP%]{border-radius:999px;padding:.4rem .65rem;font-weight:600}.bg-success[_ngcontent-%COMP%]{background:#21a77a!important}.bg-danger[_ngcontent-%COMP%]{background:#ef4444!important;border:#88190f 1px solid}.orders-card[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background:transparent}.orders-card[_ngcontent-%COMP%]   .order-title[_ngcontent-%COMP%]{font-weight:600;color:#111827}.orders-card[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#6b7280;font-size:.85rem}.form-control[_ngcontent-%COMP%]{border-radius:10px;border:1px solid #e5e7eb}.form-control[_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f626}.btn[_ngcontent-%COMP%]{border-radius:10px;font-weight:600;transition:transform .15s ease,box-shadow .15s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #020f0954}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706);border:none}.btn-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#10b981,#059669);border:none}.btn-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#d40909);border:none;color:#e5e7eb}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}.orders-card[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .25s ease both}@media(max-width:991px){.sticky-col[_ngcontent-%COMP%]{position:static!important}}.dashboard-header.align-right[_ngcontent-%COMP%]{text-align:right}.choice-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-top:6px}.choice-chip[_ngcontent-%COMP%]{display:inline-block;padding:6px 12px;border-radius:99px;border:1px solid #d1d5db;background:#f5f6f8;color:var(--text-color, #212529);font-weight:700;cursor:pointer;-webkit-user-select:none;user-select:none}.choice-chip.active[_ngcontent-%COMP%]{background:rgba(var(--primary-color-rgb, 255, 107, 107),.12);color:var(--primary-color, #ff6b6b);border-color:var(--primary-color, #ff6b6b)}.choice-chip.readonly[_ngcontent-%COMP%]{pointer-events:none;opacity:.95}.choice-add[_ngcontent-%COMP%]{color:var(--primary-color, #ff6b6b);font-weight:700;margin-inline-start:6px}.badge.clickable[_ngcontent-%COMP%]{cursor:pointer;transition:transform .2s}.badge.clickable[_ngcontent-%COMP%]:hover{transform:scale(1.05)}"]})};var YM=()=>({background:"rgba(0,0,0,0.4)"});function QM(i,t){if(i&1&&(m(0,"div",20),_(1),f()),i&2){let e=I().$implicit,n=I();h(),$(" In: ",n.getTodayTime(e)," ")}}function XM(i,t){i&1&&(m(0,"div",21),_(1,"Not signed in"),f())}function ZM(i,t){if(i&1){let e=ce();m(0,"button",23),q("click",function(){L(e);let r=I().$implicit,o=I();return V(o.openSignOutModal(r.id,r.name))}),_(1," Sign Out "),f()}}function JM(i,t){if(i&1&&(m(0,"div",12)(1,"div",14),H(2,"img",15),m(3,"div")(4,"div",16),_(5),m(6,"span",17),_(7),f()(),m(8,"div",18),_(9),f()()(),m(10,"div",19),W(11,QM,2,1,"div",20),W(12,XM,2,0,"div",21),W(13,ZM,2,0,"button",22),f()()),i&2){let e=t.$implicit,n=I();h(2),j("src",e.imageUrl||"https://via.placeholder.com/50",$n),h(3),$(" ",e.name," "),h(),j("ngClass",n.isHere(e)?"text-success":"text-secondary"),h(),$(" \u25CF ",n.isHere(e)?"Here":"Away"," "),h(2),A(e.role||"Employee"),h(2),K(n.isHere(e)?11:-1),h(),K(n.isHere(e)?-1:12),h(),K(n.isHere(e)?13:-1)}}function eR(i,t){if(i&1){let e=ce();m(0,"div",13)(1,"div",24)(2,"div",25)(3,"div",26)(4,"h5",27),_(5),f(),m(6,"button",28),q("click",function(){L(e);let r=I();return V(r.closeSignOutModal())}),f()(),m(7,"div",29)(8,"div",30)(9,"label",31),_(10,"Name"),f(),m(11,"input",32),se("ngModelChange",function(r){L(e);let o=I();return oe(o.signOutName,r)||(o.signOutName=r),V(r)}),f()(),m(12,"div",30)(13,"label",31),_(14,"Password"),f(),m(15,"input",33),se("ngModelChange",function(r){L(e);let o=I();return oe(o.signOutPassword,r)||(o.signOutPassword=r),V(r)}),f()()(),m(16,"div",34)(17,"button",35),q("click",function(){L(e);let r=I();return V(r.closeSignOutModal())}),_(18,"Cancel"),f(),m(19,"button",36),q("click",function(){L(e);let r=I();return V(r.confirmSignOut())}),_(20,"Sign Out"),f()()()()()}if(i&2){let e=I();j("ngStyle",cr(4,YM)),h(5),$("Sign Out \u2013 ",e.signOutName),h(6),re("ngModel",e.signOutName),h(4),re("ngModel",e.signOutPassword)}}var ru=class i{constructor(t,e,n){this.db=t;this.route=e;this.ngZone=n}restaurantId="";employees=[];name="";password="";message="";loading=!1;showSignOutModal=!1;signOutName="";signOutPassword="";signOutEmpId="";ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t),this.loadEmployees()}loadEmployees(){let t=Fe(this.db,`restaurants/${this.restaurantId}/employees`);xn(t,e=>{this.ngZone.run(()=>{let n=e.val()||{};this.employees=Object.keys(n).map(r=>k({id:r},n[r]))})})}signIn(){return F(this,null,function*(){if(this.message="",!this.name.trim()||!this.password.trim()){this.message="\u26A0\uFE0F Please enter name and password.";return}this.loading=!0;try{let t=Fe(this.db,`restaurants/${this.restaurantId}/employees`),n=(yield gr(t)).val()||{},r=null;if(Object.keys(n).forEach(u=>{let g=n[u];g.name===this.name.trim()&&g.password===this.password.trim()&&(r=u)}),!r){this.message="\u274C Invalid name or password.",this.loading=!1;return}let o=new Date,s=o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),l=o.toISOString().split("T")[0],c=Fe(this.db,`restaurants/${this.restaurantId}/employees/${r}/attendance/${l}`);yield mt(c,{datein:s}),this.message=`\u2705 ${this.name} signed in at ${s}`,this.clearFields()}catch(t){console.error(t),this.message="\u274C Failed to sign in."}finally{this.loading=!1}})}openSignOutModal(t,e){this.signOutEmpId=t,this.signOutName=e,this.signOutPassword="",this.showSignOutModal=!0}closeSignOutModal(){this.showSignOutModal=!1,this.signOutEmpId="",this.signOutName="",this.signOutPassword=""}confirmSignOut(){return F(this,null,function*(){if(!this.signOutName.trim()||!this.signOutPassword.trim()){alert("\u26A0\uFE0F Please enter name and password.");return}let t=Fe(this.db,`restaurants/${this.restaurantId}/employees`),n=(yield gr(t)).val()||{},r=null;if(Object.keys(n).forEach(u=>{let g=n[u];g.name===this.signOutName.trim()&&g.password===this.signOutPassword.trim()&&(r=u)}),!r||r!==this.signOutEmpId){alert("\u274C Invalid credentials or employee mismatch.");return}let o=new Date,s=o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),l=o.toISOString().split("T")[0],c=Fe(this.db,`restaurants/${this.restaurantId}/employees/${this.signOutEmpId}/attendance/${l}`);yield mt(c,{dateout:s}),alert(`\u2705 Signed out successfully at ${s}`),this.closeSignOutModal()})}clearFields(){this.name="",this.password=""}isHere(t){let e=new Date().toISOString().split("T")[0];return!!t.attendance?.[e]?.datein&&!t.attendance?.[e]?.dateout}getTodayTime(t){let e=new Date().toISOString().split("T")[0];return t.attendance?.[e]?.datein||"-"}static \u0275fac=function(e){return new(e||i)(ee(Sn),ee(Le),ee(te))};static \u0275cmp=ie({type:i,selectors:[["app-attendance-page"]],decls:21,vars:10,consts:[[1,"container","py-4"],[1,"text-center","mb-4"],[1,"row","justify-content-center","g-4"],[1,"col-lg-4","col-md-5"],[1,"card","p-3","shadow-sm",2,"border-radius","12px"],[1,"mb-3","text-center"],["type","text","placeholder","Employee name",1,"form-control","mb-2",3,"ngModelChange","ngModel"],["type","password","placeholder","Password",1,"form-control","mb-3",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","w-100","mb-2",3,"click","disabled"],[1,"text-center","small"],[1,"col-lg-6","col-md-7"],[1,"employee-list","mx-auto"],[1,"employee-card","d-flex","align-items-center","justify-content-between","p-2","mb-2","rounded","shadow-sm",2,"background","#fff","max-width","450px","margin","0 auto"],["tabindex","-1",1,"modal","fade","show","d-block",3,"ngStyle"],[1,"d-flex","align-items-center","gap-2"],["alt","avatar","width","45","height","45",1,"rounded-circle",2,"object-fit","cover",3,"src"],[1,"fw-semibold","small"],[1,"ms-2","small",3,"ngClass"],[1,"text-muted","small"],[1,"text-end","small"],[1,"text-success","fw-bold"],[1,"text-muted"],[1,"btn","btn-outline-danger","btn-sm","mt-1","py-0","px-2",2,"font-size","0.8rem"],[1,"btn","btn-outline-danger","btn-sm","mt-1","py-0","px-2",2,"font-size","0.8rem",3,"click"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"form-label"],["type","text",1,"form-control",3,"ngModelChange","ngModel"],["type","password",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(e,n){e&1&&(m(0,"div",0)(1,"h2",1),_(2,"Employee Attendance"),f(),m(3,"div",2)(4,"div",3)(5,"div",4)(6,"h5",5),_(7,"Sign In"),f(),m(8,"input",6),se("ngModelChange",function(o){return oe(n.name,o)||(n.name=o),o}),f(),m(9,"input",7),se("ngModelChange",function(o){return oe(n.password,o)||(n.password=o),o}),f(),m(10,"button",8),q("click",function(){return n.signIn()}),_(11),f(),m(12,"div",9),_(13),f()()(),m(14,"div",10)(15,"div",11)(16,"h5",5),_(17,"Today\u2019s Attendance"),f(),Ee(18,JM,14,8,"div",12,je),f()()(),W(20,eR,21,5,"div",13),f()),e&2&&(h(8),re("ngModel",n.name),h(),re("ngModel",n.password),h(),j("disabled",n.loading),h(),$(" ",n.loading?"Signing in...":"Sign In"," "),h(),me("text-success",n.message.startsWith("\u2705"))("text-danger",n.message.startsWith("\u274C")),h(),$(" ",n.message," "),h(5),Se(n.employees),h(2),K(n.showSignOutModal?20:-1))},dependencies:[Ft,fn,No,at,yt,bt,vt],styles:[".employee-list[_ngcontent-%COMP%]{max-height:75vh;overflow-y:auto;padding-right:4px}.employee-card[_ngcontent-%COMP%]{border:1px solid #e8e8e8;transition:transform .15s ease,box-shadow .15s ease}.employee-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 2px 6px #0000000d}.employee-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid #eee}h5[_ngcontent-%COMP%]{font-size:1rem;font-weight:600}@media(max-width:768px){.employee-list[_ngcontent-%COMP%]{margin-top:1.5rem}.employee-card[_ngcontent-%COMP%]{max-width:100%}}"]})};var tR=()=>({background:"rgba(0,0,0,0.5)"});function nR(i,t){if(i&1){let e=ce();m(0,"div",21),q("click",function(){let r=L(e).$implicit,o=I();return V(o.openEmployeeDetails(r))}),m(1,"div",22),H(2,"img",23),m(3,"div")(4,"div",24),_(5),f(),m(6,"div",25),_(7),f()()(),m(8,"div",26),_(9),f()()}if(i&2){let e=t.$implicit;h(2),j("src",e.imageUrl||"https://via.placeholder.com/60",$n),h(3),A(e.name),h(2),A(e.role||"Employee"),h(2),$(" ",e.age?e.age+" yrs":""," ")}}function iR(i,t){if(i&1){let e=ce();m(0,"div",20)(1,"div",27)(2,"div",28)(3,"div",29)(4,"h5",30),_(5),f(),m(6,"button",31),q("click",function(){L(e);let r=I();return V(r.closeModal())}),f()(),m(7,"div",32),H(8,"img",33),m(9,"p")(10,"strong"),_(11,"Role:"),f(),_(12),f(),m(13,"p")(14,"strong"),_(15,"Age:"),f(),_(16),f(),m(17,"p")(18,"strong"),_(19,"Salary:"),f(),_(20),f()(),m(21,"div",34)(22,"button",35),q("click",function(){L(e);let r=I();return V(r.closeModal())}),_(23,"Close"),f()()()()()}if(i&2){let e=I();j("ngStyle",cr(6,tR)),h(5),A(e.selectedEmployee.name),h(3),j("src",e.selectedEmployee.imageUrl||"https://via.placeholder.com/120",$n),h(4),$(" ",e.selectedEmployee.role||"Employee"),h(4),$(" ",e.selectedEmployee.age||"N/A"),h(4),$(" ",e.selectedEmployee.salary?e.selectedEmployee.salary+" \u20AA":"N/A")}}var ou=class i{constructor(t,e){this.db=t;this.route=e}restaurantId="";name="";password="";role="";imageUrl="";age=null;salary=null;message="";loading=!1;employees=[];selectedEmployee=null;ngOnInit(){let t=this.route.snapshot.paramMap.get("restId");t&&(this.restaurantId=t);let e=Fe(this.db,`restaurants/${this.restaurantId}/employees`);xn(e,n=>{let r=n.val()||{};this.employees=Object.keys(r).map(o=>k({id:o},r[o]))})}addEmployee(){return F(this,null,function*(){if(this.message="",!this.name.trim()||!this.password.trim()){this.message="\u26A0\uFE0F Please fill all required fields.";return}this.loading=!0;try{let t=Fe(this.db,`restaurants/${this.restaurantId}/employees`),e=Ic(t);yield Hr(e,{name:this.name.trim(),password:this.password.trim(),role:this.role.trim()||"Employee",imageUrl:this.imageUrl.trim()||"",age:this.age||null,salary:this.salary||null}),this.message=`\u2705 Employee "${this.name}" added successfully.`,this.name="",this.password="",this.role="",this.imageUrl="",this.age=null,this.salary=null}catch(t){console.error(t),this.message="\u274C Failed to add employee."}finally{this.loading=!1}})}openEmployeeDetails(t){this.selectedEmployee=t}closeModal(){this.selectedEmployee=null}static \u0275fac=function(e){return new(e||i)(ee(Sn),ee(Le))};static \u0275cmp=ie({type:i,selectors:[["app-add-employee-page"]],decls:42,vars:14,consts:[[1,"container","py-4"],[1,"row","g-4"],[1,"col-lg-7"],[1,"card","shadow","p-4","h-100"],[1,"mb-3"],[1,"text-center","mb-4"],[1,"form-label"],["type","text","placeholder","Employee name",1,"form-control",3,"ngModelChange","ngModel"],["type","password","placeholder","Password",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","e.g. Manager, Waiter, Cashier",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","https://...",1,"form-control",3,"ngModelChange","ngModel"],[1,"row"],[1,"col-md-6","mb-3"],["type","number","placeholder","Age",1,"form-control",3,"ngModelChange","ngModel"],["type","number","placeholder","Salary",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","w-100",3,"click","disabled"],[1,"text-center","mt-3"],[1,"col-lg-4"],[1,"employee-list","mx-auto"],[1,"employee-card","d-flex","align-items-center","justify-content-between","p-3","mb-3","rounded","shadow-sm","bg-white",2,"cursor","pointer"],["tabindex","-1",1,"modal","fade","show","d-block",3,"ngStyle"],[1,"employee-card","d-flex","align-items-center","justify-content-between","p-3","mb-3","rounded","shadow-sm","bg-white",2,"cursor","pointer",3,"click"],[1,"d-flex","align-items-center","gap-3"],["alt","avatar","width","55","height","55",1,"rounded-circle",2,"object-fit","cover",3,"src"],[1,"fw-semibold"],[1,"text-muted","small"],[1,"text-end","text-muted","small"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body","text-center"],["width","120","height","120",1,"rounded-circle","mb-3",2,"object-fit","cover",3,"src"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"]],template:function(e,n){e&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),_(6,"Add Employee"),f(),m(7,"label",6),_(8,"Name"),f(),m(9,"input",7),se("ngModelChange",function(o){return oe(n.name,o)||(n.name=o),o}),f()(),m(10,"div",4)(11,"label",6),_(12,"Password"),f(),m(13,"input",8),se("ngModelChange",function(o){return oe(n.password,o)||(n.password=o),o}),f()(),m(14,"div",4)(15,"label",6),_(16,"Role"),f(),m(17,"input",9),se("ngModelChange",function(o){return oe(n.role,o)||(n.role=o),o}),f()(),m(18,"div",4)(19,"label",6),_(20,"Image URL"),f(),m(21,"input",10),se("ngModelChange",function(o){return oe(n.imageUrl,o)||(n.imageUrl=o),o}),f()(),m(22,"div",11)(23,"div",12)(24,"label",6),_(25,"Age"),f(),m(26,"input",13),se("ngModelChange",function(o){return oe(n.age,o)||(n.age=o),o}),f()(),m(27,"div",12)(28,"label",6),_(29,"Salary (\u20AA)"),f(),m(30,"input",14),se("ngModelChange",function(o){return oe(n.salary,o)||(n.salary=o),o}),f()()(),m(31,"button",15),q("click",function(){return n.addEmployee()}),_(32),f(),m(33,"div",16),_(34),f()()(),m(35,"div",17)(36,"div",18)(37,"h4",4),_(38,"All Employees"),f(),Ee(39,nR,10,4,"div",19,je),f()()(),W(41,iR,24,7,"div",20),f()),e&2&&(h(9),re("ngModel",n.name),h(4),re("ngModel",n.password),h(4),re("ngModel",n.role),h(4),re("ngModel",n.imageUrl),h(5),re("ngModel",n.age),h(4),re("ngModel",n.salary),h(),j("disabled",n.loading),h(),$(" ",n.loading?"Adding...":"Add Employee"," "),h(),me("text-success",n.message.startsWith("\u2705"))("text-danger",n.message.startsWith("\u274C")),h(),$(" ",n.message," "),h(5),Se(n.employees),h(2),K(n.selectedEmployee?41:-1))},dependencies:[Ft,No,at,yt,bi,bt,vt],styles:[".employee-card[_ngcontent-%COMP%]{border:1px solid #e5e5e5;transition:all .2s ease}.employee-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 4px 12px #0000001a}.employee-list[_ngcontent-%COMP%]{max-height:75vh;overflow-y:auto}@media(max-width:992px){.employee-list[_ngcontent-%COMP%]{margin-top:2rem}}"]})};var Gv=[{path:"",redirectTo:"rest1",pathMatch:"full"},{path:"cart",loadComponent:()=>import("./chunk-XLRQWFT4.js").then(i=>i.CartComponent)},{path:":restId",component:md},{path:":restId/category/:categoryKey",component:pd},{path:":restId/t/:tableId",component:_d},{path:":restId/control-board",component:bd},{path:":restId/dashboard",component:yd,canActivate:[oi]},{path:":restId/stats",component:nu,canActivate:[oi]},{path:":restId/ManageMenuComponent",component:fd,canActivate:[oi]},{path:":restId/EditItemComponent",component:gd,canActivate:[oi]},{path:":restId/kitchen-orders",component:Cd,canActivate:[oi]},{path:":restId/bar-orders",component:wd,canActivate:[oi]},{path:":restId/hookah-orders",component:vd,canActivate:[oi]},{path:":restId/ordering-dashboard",component:iu,canActivate:[oi]},{path:":restId/attendance",component:ru,canActivate:[oi]},{path:":restId/add-employee",component:ou,canActivate:[oi]},{path:"**",redirectTo:""}];var su="analytics",rR="firebase_id",oR="origin",sR=60*1e3,aR="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cp="https://www.googletagmanager.com/gtag/js";var Zt=new Ko("@firebase/analytics");var lR={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Un=new $o("analytics","Analytics",lR);function cR(i){if(!i.startsWith(Cp)){let t=Un.create("invalid-gtag-resource",{gtagURL:i});return Zt.warn(t.message),""}return i}function tw(i){return Promise.all(i.map(t=>t.catch(e=>e)))}function dR(i,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(i,t)),e}function uR(i,t){let e=dR("firebase-js-sdk-policy",{createScriptURL:cR}),n=document.createElement("script"),r=`${Cp}?l=${i}&id=${t}`;n.src=e?e?.createScriptURL(r):r,n.async=!0,document.head.appendChild(n)}function hR(i){let t=[];return Array.isArray(window[i])?t=window[i]:window[i]=t,t}function mR(i,t,e,n,r,o){return F(this,null,function*(){let s=n[r];try{if(s)yield t[s];else{let c=(yield tw(e)).find(u=>u.measurementId===r);c&&(yield t[c.appId])}}catch(l){Zt.error(l)}i("config",r,o)})}function pR(i,t,e,n,r){return F(this,null,function*(){try{let o=[];if(r&&r.send_to){let s=r.send_to;Array.isArray(s)||(s=[s]);let l=yield tw(e);for(let c of s){let u=l.find(b=>b.measurementId===c),g=u&&t[u.appId];if(g)o.push(g);else{o=[];break}}}o.length===0&&(o=Object.values(t)),yield Promise.all(o),i("event",n,r||{})}catch(o){Zt.error(o)}})}function fR(i,t,e,n){function r(o,...s){return F(this,null,function*(){try{if(o==="event"){let[l,c]=s;yield pR(i,t,e,l,c)}else if(o==="config"){let[l,c]=s;yield mR(i,t,e,n,l,c)}else if(o==="consent"){let[l,c]=s;i("consent",l,c)}else if(o==="get"){let[l,c,u]=s;i("get",l,c,u)}else if(o==="set"){let[l]=s;i("set",l)}else i(o,...s)}catch(l){Zt.error(l)}})}return r}function gR(i,t,e,n,r){let o=function(...s){window[n].push(arguments)};return window[r]&&typeof window[r]=="function"&&(o=window[r]),window[r]=fR(o,i,t,e),{gtagCore:o,wrappedGtag:window[r]}}function _R(i){let t=window.document.getElementsByTagName("script");for(let e of Object.values(t))if(e.src&&e.src.includes(Cp)&&e.src.includes(i))return e;return null}var yR=30,bR=1e3,_p=class{constructor(t={},e=bR){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}},nw=new _p;function vR(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}function wR(i){return F(this,null,function*(){let{appId:t,apiKey:e}=i,n={method:"GET",headers:vR(e)},r=aR.replace("{app-id}",t),o=yield fetch(r,n);if(o.status!==200&&o.status!==304){let s="";try{let l=yield o.json();l.error?.message&&(s=l.error.message)}catch{}throw Un.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s})}return o.json()})}function CR(n){return F(this,arguments,function*(i,t=nw,e){let{appId:r,apiKey:o,measurementId:s}=i.options;if(!r)throw Un.create("no-app-id");if(!o){if(s)return{measurementId:s,appId:r};throw Un.create("no-api-key")}let l=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new yp;return setTimeout(()=>F(null,null,function*(){c.abort()}),e!==void 0?e:sR),iw({appId:r,apiKey:o,measurementId:s},l,c,t)})}function iw(o,s,l){return F(this,arguments,function*(i,{throttleEndTimeMillis:t,backoffCount:e},n,r=nw){let{appId:c,measurementId:u}=i;try{yield ER(n,t)}catch(g){if(u)return Zt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:c,measurementId:u};throw g}try{let g=yield wR(i);return r.deleteThrottleMetadata(c),g}catch(g){let b=g;if(!SR(b)){if(r.deleteThrottleMetadata(c),u)return Zt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${b?.message}]`),{appId:c,measurementId:u};throw g}let C=Number(b?.customData?.httpStatus)===503?Ho(e,r.intervalMillis,yR):Ho(e,r.intervalMillis),R={throttleEndTimeMillis:Date.now()+C,backoffCount:e+1};return r.setThrottleMetadata(c,R),Zt.debug(`Calling attemptFetch again in ${C} millis`),iw(i,R,n,r)}})}function ER(i,t){return new Promise((e,n)=>{let r=Math.max(t-Date.now(),0),o=setTimeout(e,r);i.addEventListener(()=>{clearTimeout(o),n(Un.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function SR(i){if(!(i instanceof Fi)||!i.customData)return!1;let t=Number(i.customData.httpStatus);return t===429||t===500||t===503||t===504}var yp=class{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}};var bp;function xR(i,t,e,n,r){return F(this,null,function*(){if(r&&r.global){i("event",e,n);return}else{let o=yield t,s=ne(k({},n),{send_to:o});i("event",e,s)}})}function IR(i,t,e,n){return F(this,null,function*(){if(n&&n.global)return i("set",{user_id:e}),Promise.resolve();{let r=yield t;i("config",r,{update:!0,user_id:e})}})}function AR(i,t,e,n){return F(this,null,function*(){if(n&&n.global){let r={};for(let o of Object.keys(e))r[`user_properties.${o}`]=e[o];return i("set",r),Promise.resolve()}else{let r=yield t;i("config",r,{update:!0,user_properties:e})}})}var vp;function TR(i){vp=i}function DR(i){bp=i}function MR(){return F(this,null,function*(){if(ur())try{yield zo()}catch(i){return Zt.warn(Un.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return Zt.warn(Un.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function RR(i,t,e,n,r,o,s){return F(this,null,function*(){let l=CR(i);l.then(C=>{e[C.measurementId]=C.appId,i.options.measurementId&&C.measurementId!==i.options.measurementId&&Zt.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${C.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(C=>Zt.error(C)),t.push(l);let c=MR().then(C=>{if(C)return n.getId()}),[u,g]=yield Promise.all([l,c]);_R(o)||uR(o,u.measurementId),vp&&(r("consent","default",vp),TR(void 0)),r("js",new Date);let b=s?.config??{};return b[oR]="firebase",b.update=!0,g!=null&&(b[rR]=g),r("config",u.measurementId,b),bp&&(r("set",bp),DR(void 0)),u.measurementId})}var wp=class{constructor(t){this.app=t}_delete(){return delete _o[this.app.options.appId],Promise.resolve()}},_o={},Yv=[],Qv={},gp="dataLayer",kR="gtag",Xv,au,Zv=!1;function OR(){let i=[];if(Dh()&&i.push("This is a browser extension environment."),Aa()||i.push("Cookies are not available."),i.length>0){let t=i.map((n,r)=>`(${r+1}) ${n}`).join(" "),e=Un.create("invalid-analytics-context",{errorInfo:t});Zt.warn(e.message)}}function PR(i,t,e){OR();let n=i.options.appId;if(!n)throw Un.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)Zt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Un.create("no-api-key");if(_o[n]!=null)throw Un.create("already-exists",{id:n});if(!Zv){hR(gp);let{wrappedGtag:o,gtagCore:s}=gR(_o,Yv,Qv,gp,kR);au=o,Xv=s,Zv=!0}return _o[n]=RR(i,Yv,Qv,t,Xv,gp,e),new wp(i)}function rw(i=yn()){i=Kt(i);let t=On(i,su);return t.isInitialized()?t.getImmediate():ow(i)}function ow(i,t={}){let e=On(i,su);if(e.isInitialized()){let r=e.getImmediate();if(qo(t,e.getOptions()))return r;throw Un.create("already-initialized")}return e.initialize({options:t})}function sw(){return F(this,null,function*(){if(Dh()||!Aa()||!ur())return!1;try{return yield zo()}catch{return!1}})}function aw(i,t,e){i=Kt(i),IR(au,_o[i.app.options.appId],t,e).catch(n=>Zt.error(n))}function lw(i,t,e){i=Kt(i),AR(au,_o[i.app.options.appId],t,e).catch(n=>Zt.error(n))}function Ep(i,t,e,n){i=Kt(i),xR(au,_o[i.app.options.appId],t,e,n).catch(r=>Zt.error(r))}var Jv="@firebase/analytics",ew="0.10.19";function NR(){_n(new gn(su,(t,{options:e})=>{let n=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();return PR(n,r,e)},"PUBLIC")),_n(new gn("analytics-internal",i,"PRIVATE")),qe(Jv,ew),qe(Jv,ew,"esm2020");function i(t){try{let e=t.getProvider(su).getImmediate();return{logEvent:(n,r,o)=>Ep(e,n,r,o),setUserProperties:(n,r)=>lw(e,n,r)}}catch(e){throw Un.create("interop-component-reg-failed",{reason:e})}}}NR();var yo=class{constructor(t){return t}},uw="analytics",xp=class{constructor(){return vn(uw)}};var hw=Lt(rw,!0);var mw=Lt(sw,!1),FR=Lt(Ep,!1,2);var LR=Lt(aw,!0,2);var Ap=(()=>{class i{initialized;disposables=[];constructor(e,n,r){qe("angularfire",Gt.full,"user-tracking");let o;this.initialized=n.runOutsideAngular(()=>new Promise(s=>{o=s})),mw().then(()=>{let s=r.get(yo);s?this.disposables=[vy(e).subscribe(l=>{LR(s,l?.uid),o()})]:o()})}ngOnDestroy(){this.disposables.forEach(e=>e.unsubscribe())}static \u0275fac=function(n){return new(n||i)(ye(yy),ye(te),ye(be))};static \u0275prov=G({token:i,factory:i.\u0275fac})}return i})(),VR="firebase_event_origin",BR="firebase_previous_class",UR="firebase_previous_id",jR="firebase_previous_screen",zR="firebase_screen_class",cw="firebase_screen_id",$R="firebase_screen",Ip="outlet",qR="page_path",HR="page_title",yl="screen_class",dw="screen_name",WR="screen_view",KR="auto",GR="#",YR=Math.floor(Math.random()*(2**32-1))-2**31,Sp={},QR=i=>{let t=[i[yl],i[Ip]].join(GR);if(Sp.hasOwnProperty(t))return Sp[t];{let e=YR++;return Sp[t]=e,e}},XR=(i,t,e)=>i.events.pipe(Ge(r=>r instanceof ls)).pipe(xt(r=>{let s=i.parseUrl(i.url.replace(/(?:\().+(?:\))/g,C=>C.replace("://",":///"))).root.children[r.snapshot.outlet]?.toString()||"",l=i.routerState.root.children.map(C=>C).find(C=>C.outlet===r.snapshot.outlet);if(!l)return pe(null);let c=l;for(;c.firstChild;)c=c.firstChild;let u=c.pathFromRoot.map(C=>C.routeConfig?.path).filter(C=>C).join("/")||"/",g={[dw]:u,[qR]:`/${s}`,[VR]:KR,[$R]:u,[Ip]:r.snapshot.outlet};t&&(g[HR]=t.getTitle());let b=l.component;if(b){if(b===Qa){let C=r.snapshot;for(;C.firstChild;)C=C.firstChild;b=C.component}}else b=r.snapshot.component;if(typeof b=="string")return pe(ne(k({},g),{[yl]:b}));if(b){let C=e.resolveComponentFactory(b);return pe(ne(k({},g),{[yl]:C.selector}))}return pe(null)}),Ge(r=>!!r),$e(r=>k({[zR]:r[yl],[cw]:QR(r)},r)),v_(r=>r[Ip]),jn(r=>r.pipe(ga((o,s)=>JSON.stringify(o)===JSON.stringify(s)),zt(void 0),ya(),$e(([o,s])=>o?k({[BR]:o[yl],[jR]:o[dw],[UR]:o[cw]},s):s)))),pw=(()=>{class i{disposable;constructor(e,n,r,o,s,l){qe("angularfire",Gt.full,"screen-tracking"),mw().then(()=>{let c=l.get(yo);!e||!c||o.runOutsideAngular(()=>{this.disposable=XR(e,n,r).pipe(xt(u=>F(this,null,function*(){return s&&(yield s.initialized),FR(c,WR,u)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}static \u0275fac=function(n){return new(n||i)(ye(lt,8),ye(Lc,8),ye(k_),ye(te),ye(Ap,8),ye(be))};static \u0275prov=G({token:i,factory:i.\u0275fac})}return i})(),Tp=new Y("angularfire2.analytics-instances");function ZR(i,t,e){if(!yi(e))return null;let n=bn(uw,i,t);return n&&new yo(n)}function JR(i){return(t,e,n)=>{if(!yi(n))return null;let r=t.runOutsideAngular(()=>i(e));return new yo(r)}}var ek={provide:xp,deps:[[new et,Tp]]},tk={provide:yo,useFactory:ZR,deps:[[new et,Tp],Cn,ut]};function fw(i,...t){return qe("angularfire",Gt.full,"analytics"),ct([tk,ek,{provide:Tp,useFactory:JR(i),multi:!0,deps:[te,be,ut,wn,En,...t]}])}var gw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_w={};var lu,yw;(function(){var i;function t(x,w){function S(){}S.prototype=w.prototype,x.F=w.prototype,x.prototype=new S,x.prototype.constructor=x,x.D=function(M,D,N){for(var E=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)E[Pt-2]=arguments[Pt];return w.prototype[D].apply(M,E)}}function e(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(n,e),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(x,w,S){S||(S=0);let M=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)M[D]=w.charCodeAt(S++)|w.charCodeAt(S++)<<8|w.charCodeAt(S++)<<16|w.charCodeAt(S++)<<24;else for(D=0;D<16;++D)M[D]=w[S++]|w[S++]<<8|w[S++]<<16|w[S++]<<24;w=x.g[0],S=x.g[1],D=x.g[2];let N=x.g[3],E;E=w+(N^S&(D^N))+M[0]+3614090360&4294967295,w=S+(E<<7&4294967295|E>>>25),E=N+(D^w&(S^D))+M[1]+3905402710&4294967295,N=w+(E<<12&4294967295|E>>>20),E=D+(S^N&(w^S))+M[2]+606105819&4294967295,D=N+(E<<17&4294967295|E>>>15),E=S+(w^D&(N^w))+M[3]+3250441966&4294967295,S=D+(E<<22&4294967295|E>>>10),E=w+(N^S&(D^N))+M[4]+4118548399&4294967295,w=S+(E<<7&4294967295|E>>>25),E=N+(D^w&(S^D))+M[5]+1200080426&4294967295,N=w+(E<<12&4294967295|E>>>20),E=D+(S^N&(w^S))+M[6]+2821735955&4294967295,D=N+(E<<17&4294967295|E>>>15),E=S+(w^D&(N^w))+M[7]+4249261313&4294967295,S=D+(E<<22&4294967295|E>>>10),E=w+(N^S&(D^N))+M[8]+1770035416&4294967295,w=S+(E<<7&4294967295|E>>>25),E=N+(D^w&(S^D))+M[9]+2336552879&4294967295,N=w+(E<<12&4294967295|E>>>20),E=D+(S^N&(w^S))+M[10]+4294925233&4294967295,D=N+(E<<17&4294967295|E>>>15),E=S+(w^D&(N^w))+M[11]+2304563134&4294967295,S=D+(E<<22&4294967295|E>>>10),E=w+(N^S&(D^N))+M[12]+1804603682&4294967295,w=S+(E<<7&4294967295|E>>>25),E=N+(D^w&(S^D))+M[13]+4254626195&4294967295,N=w+(E<<12&4294967295|E>>>20),E=D+(S^N&(w^S))+M[14]+2792965006&4294967295,D=N+(E<<17&4294967295|E>>>15),E=S+(w^D&(N^w))+M[15]+1236535329&4294967295,S=D+(E<<22&4294967295|E>>>10),E=w+(D^N&(S^D))+M[1]+4129170786&4294967295,w=S+(E<<5&4294967295|E>>>27),E=N+(S^D&(w^S))+M[6]+3225465664&4294967295,N=w+(E<<9&4294967295|E>>>23),E=D+(w^S&(N^w))+M[11]+643717713&4294967295,D=N+(E<<14&4294967295|E>>>18),E=S+(N^w&(D^N))+M[0]+3921069994&4294967295,S=D+(E<<20&4294967295|E>>>12),E=w+(D^N&(S^D))+M[5]+3593408605&4294967295,w=S+(E<<5&4294967295|E>>>27),E=N+(S^D&(w^S))+M[10]+38016083&4294967295,N=w+(E<<9&4294967295|E>>>23),E=D+(w^S&(N^w))+M[15]+3634488961&4294967295,D=N+(E<<14&4294967295|E>>>18),E=S+(N^w&(D^N))+M[4]+3889429448&4294967295,S=D+(E<<20&4294967295|E>>>12),E=w+(D^N&(S^D))+M[9]+568446438&4294967295,w=S+(E<<5&4294967295|E>>>27),E=N+(S^D&(w^S))+M[14]+3275163606&4294967295,N=w+(E<<9&4294967295|E>>>23),E=D+(w^S&(N^w))+M[3]+4107603335&4294967295,D=N+(E<<14&4294967295|E>>>18),E=S+(N^w&(D^N))+M[8]+1163531501&4294967295,S=D+(E<<20&4294967295|E>>>12),E=w+(D^N&(S^D))+M[13]+2850285829&4294967295,w=S+(E<<5&4294967295|E>>>27),E=N+(S^D&(w^S))+M[2]+4243563512&4294967295,N=w+(E<<9&4294967295|E>>>23),E=D+(w^S&(N^w))+M[7]+1735328473&4294967295,D=N+(E<<14&4294967295|E>>>18),E=S+(N^w&(D^N))+M[12]+2368359562&4294967295,S=D+(E<<20&4294967295|E>>>12),E=w+(S^D^N)+M[5]+4294588738&4294967295,w=S+(E<<4&4294967295|E>>>28),E=N+(w^S^D)+M[8]+2272392833&4294967295,N=w+(E<<11&4294967295|E>>>21),E=D+(N^w^S)+M[11]+1839030562&4294967295,D=N+(E<<16&4294967295|E>>>16),E=S+(D^N^w)+M[14]+4259657740&4294967295,S=D+(E<<23&4294967295|E>>>9),E=w+(S^D^N)+M[1]+2763975236&4294967295,w=S+(E<<4&4294967295|E>>>28),E=N+(w^S^D)+M[4]+1272893353&4294967295,N=w+(E<<11&4294967295|E>>>21),E=D+(N^w^S)+M[7]+4139469664&4294967295,D=N+(E<<16&4294967295|E>>>16),E=S+(D^N^w)+M[10]+3200236656&4294967295,S=D+(E<<23&4294967295|E>>>9),E=w+(S^D^N)+M[13]+681279174&4294967295,w=S+(E<<4&4294967295|E>>>28),E=N+(w^S^D)+M[0]+3936430074&4294967295,N=w+(E<<11&4294967295|E>>>21),E=D+(N^w^S)+M[3]+3572445317&4294967295,D=N+(E<<16&4294967295|E>>>16),E=S+(D^N^w)+M[6]+76029189&4294967295,S=D+(E<<23&4294967295|E>>>9),E=w+(S^D^N)+M[9]+3654602809&4294967295,w=S+(E<<4&4294967295|E>>>28),E=N+(w^S^D)+M[12]+3873151461&4294967295,N=w+(E<<11&4294967295|E>>>21),E=D+(N^w^S)+M[15]+530742520&4294967295,D=N+(E<<16&4294967295|E>>>16),E=S+(D^N^w)+M[2]+3299628645&4294967295,S=D+(E<<23&4294967295|E>>>9),E=w+(D^(S|~N))+M[0]+4096336452&4294967295,w=S+(E<<6&4294967295|E>>>26),E=N+(S^(w|~D))+M[7]+1126891415&4294967295,N=w+(E<<10&4294967295|E>>>22),E=D+(w^(N|~S))+M[14]+2878612391&4294967295,D=N+(E<<15&4294967295|E>>>17),E=S+(N^(D|~w))+M[5]+4237533241&4294967295,S=D+(E<<21&4294967295|E>>>11),E=w+(D^(S|~N))+M[12]+1700485571&4294967295,w=S+(E<<6&4294967295|E>>>26),E=N+(S^(w|~D))+M[3]+2399980690&4294967295,N=w+(E<<10&4294967295|E>>>22),E=D+(w^(N|~S))+M[10]+4293915773&4294967295,D=N+(E<<15&4294967295|E>>>17),E=S+(N^(D|~w))+M[1]+2240044497&4294967295,S=D+(E<<21&4294967295|E>>>11),E=w+(D^(S|~N))+M[8]+1873313359&4294967295,w=S+(E<<6&4294967295|E>>>26),E=N+(S^(w|~D))+M[15]+4264355552&4294967295,N=w+(E<<10&4294967295|E>>>22),E=D+(w^(N|~S))+M[6]+2734768916&4294967295,D=N+(E<<15&4294967295|E>>>17),E=S+(N^(D|~w))+M[13]+1309151649&4294967295,S=D+(E<<21&4294967295|E>>>11),E=w+(D^(S|~N))+M[4]+4149444226&4294967295,w=S+(E<<6&4294967295|E>>>26),E=N+(S^(w|~D))+M[11]+3174756917&4294967295,N=w+(E<<10&4294967295|E>>>22),E=D+(w^(N|~S))+M[2]+718787259&4294967295,D=N+(E<<15&4294967295|E>>>17),E=S+(N^(D|~w))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(D+(E<<21&4294967295|E>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+N&4294967295}n.prototype.v=function(x,w){w===void 0&&(w=x.length);let S=w-this.blockSize,M=this.C,D=this.h,N=0;for(;N<w;){if(D==0)for(;N<=S;)r(this,x,N),N+=this.blockSize;if(typeof x=="string"){for(;N<w;)if(M[D++]=x.charCodeAt(N++),D==this.blockSize){r(this,M),D=0;break}}else for(;N<w;)if(M[D++]=x[N++],D==this.blockSize){r(this,M),D=0;break}}this.h=D,this.o+=w},n.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;w=this.o*8;for(var S=x.length-8;S<x.length;++S)x[S]=w&255,w/=256;for(this.v(x),x=Array(16),w=0,S=0;S<4;++S)for(let M=0;M<32;M+=8)x[w++]=this.g[S]>>>M&255;return x};function o(x,w){var S=l;return Object.prototype.hasOwnProperty.call(S,x)?S[x]:S[x]=w(x)}function s(x,w){this.h=w;let S=[],M=!0;for(let D=x.length-1;D>=0;D--){let N=x[D]|0;M&&N==w||(S[D]=N,M=!1)}this.g=S}var l={};function c(x){return-128<=x&&x<128?o(x,function(w){return new s([w|0],w<0?-1:0)}):new s([x|0],x<0?-1:0)}function u(x){if(isNaN(x)||!isFinite(x))return b;if(x<0)return B(u(-x));let w=[],S=1;for(let M=0;x>=S;M++)w[M]=x/S|0,S*=4294967296;return new s(w,0)}function g(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return B(g(x.substring(1),w));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');let S=u(Math.pow(w,8)),M=b;for(let N=0;N<x.length;N+=8){var D=Math.min(8,x.length-N);let E=parseInt(x.substring(N,N+D),w);D<8?(D=u(Math.pow(w,D)),M=M.j(D).add(u(E))):(M=M.j(S),M=M.add(u(E)))}return M}var b=c(0),C=c(1),R=c(16777216);i=s.prototype,i.m=function(){if(O(this))return-B(this).m();let x=0,w=1;for(let S=0;S<this.g.length;S++){let M=this.i(S);x+=(M>=0?M:4294967296+M)*w,w*=4294967296}return x},i.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(T(this))return"0";if(O(this))return"-"+B(this).toString(x);let w=u(Math.pow(x,6));var S=this;let M="";for(;;){let D=Q(S,w).g;S=z(S,D.j(w));let N=((S.g.length>0?S.g[0]:S.h)>>>0).toString(x);if(S=D,T(S))return N+M;for(;N.length<6;)N="0"+N;M=N+M}},i.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function T(x){if(x.h!=0)return!1;for(let w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function O(x){return x.h==-1}i.l=function(x){return x=z(this,x),O(x)?-1:T(x)?0:1};function B(x){let w=x.g.length,S=[];for(let M=0;M<w;M++)S[M]=~x.g[M];return new s(S,~x.h).add(C)}i.abs=function(){return O(this)?B(this):this},i.add=function(x){let w=Math.max(this.g.length,x.g.length),S=[],M=0;for(let D=0;D<=w;D++){let N=M+(this.i(D)&65535)+(x.i(D)&65535),E=(N>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);M=E>>>16,N&=65535,E&=65535,S[D]=E<<16|N}return new s(S,S[S.length-1]&-2147483648?-1:0)};function z(x,w){return x.add(B(w))}i.j=function(x){if(T(this)||T(x))return b;if(O(this))return O(x)?B(this).j(B(x)):B(B(this).j(x));if(O(x))return B(this.j(B(x)));if(this.l(R)<0&&x.l(R)<0)return u(this.m()*x.m());let w=this.g.length+x.g.length,S=[];for(var M=0;M<2*w;M++)S[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<x.g.length;D++){let N=this.i(M)>>>16,E=this.i(M)&65535,Pt=x.i(D)>>>16,Xn=x.i(D)&65535;S[2*M+2*D]+=E*Xn,X(S,2*M+2*D),S[2*M+2*D+1]+=N*Xn,X(S,2*M+2*D+1),S[2*M+2*D+1]+=E*Pt,X(S,2*M+2*D+1),S[2*M+2*D+2]+=N*Pt,X(S,2*M+2*D+2)}for(x=0;x<w;x++)S[x]=S[2*x+1]<<16|S[2*x];for(x=w;x<2*w;x++)S[x]=0;return new s(S,0)};function X(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function Z(x,w){this.g=x,this.h=w}function Q(x,w){if(T(w))throw Error("division by zero");if(T(x))return new Z(b,b);if(O(x))return w=Q(B(x),w),new Z(B(w.g),B(w.h));if(O(w))return w=Q(x,B(w)),new Z(B(w.g),w.h);if(x.g.length>30){if(O(x)||O(w))throw Error("slowDivide_ only works with positive integers.");for(var S=C,M=w;M.l(x)<=0;)S=we(S),M=we(M);var D=_e(S,1),N=_e(M,1);for(M=_e(M,2),S=_e(S,2);!T(M);){var E=N.add(M);E.l(x)<=0&&(D=D.add(S),N=E),M=_e(M,1),S=_e(S,1)}return w=z(x,D.j(w)),new Z(D,w)}for(D=b;x.l(w)>=0;){for(S=Math.max(1,Math.floor(x.m()/w.m())),M=Math.ceil(Math.log(S)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),N=u(S),E=N.j(w);O(E)||E.l(x)>0;)S-=M,N=u(S),E=N.j(w);T(N)&&(N=C),D=D.add(N),x=z(x,E)}return new Z(D,x)}i.B=function(x){return Q(this,x).h},i.and=function(x){let w=Math.max(this.g.length,x.g.length),S=[];for(let M=0;M<w;M++)S[M]=this.i(M)&x.i(M);return new s(S,this.h&x.h)},i.or=function(x){let w=Math.max(this.g.length,x.g.length),S=[];for(let M=0;M<w;M++)S[M]=this.i(M)|x.i(M);return new s(S,this.h|x.h)},i.xor=function(x){let w=Math.max(this.g.length,x.g.length),S=[];for(let M=0;M<w;M++)S[M]=this.i(M)^x.i(M);return new s(S,this.h^x.h)};function we(x){let w=x.g.length+1,S=[];for(let M=0;M<w;M++)S[M]=x.i(M)<<1|x.i(M-1)>>>31;return new s(S,x.h)}function _e(x,w){let S=w>>5;w%=32;let M=x.g.length-S,D=[];for(let N=0;N<M;N++)D[N]=w>0?x.i(N+S)>>>w|x.i(N+S+1)<<32-w:x.i(N+S);return new s(D,x.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,yw=_w.Md5=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=g,lu=_w.Integer=s}).apply(typeof gw<"u"?gw:typeof self<"u"?self:typeof window<"u"?window:{});var cu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hi={};var bw,nk,vw,ww,Cw,Ew,Sw,xw,Iw;(function(){var i,t=Object.defineProperty;function e(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof cu=="object"&&cu];for(var d=0;d<a.length;++d){var p=a[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var n=e(this);function r(a,d){if(d)e:{var p=n;a=a.split(".");for(var v=0;v<a.length-1;v++){var P=a[v];if(!(P in p))break e;p=p[P]}a=a[a.length-1],v=p[a],d=d(v),d!=v&&d!=null&&t(p,a,{configurable:!0,writable:!0,value:d})}}r("Symbol.dispose",function(a){return a||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(a){return a||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(a){return a||function(d){var p=[],v;for(v in d)Object.prototype.hasOwnProperty.call(d,v)&&p.push([v,d[v]]);return p}});var o=o||{},s=this||self;function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function c(a,d,p){return a.call.apply(a.bind,arguments)}function u(a,d,p){return u=c,u.apply(null,arguments)}function g(a,d){var p=Array.prototype.slice.call(arguments,1);return function(){var v=p.slice();return v.push.apply(v,arguments),a.apply(this,v)}}function b(a,d){function p(){}p.prototype=d.prototype,a.Z=d.prototype,a.prototype=new p,a.prototype.constructor=a,a.Ob=function(v,P,U){for(var J=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)J[Ne-2]=arguments[Ne];return d.prototype[P].apply(v,J)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?a=>a&&AsyncContext.Snapshot.wrap(a):a=>a;function R(a){let d=a.length;if(d>0){let p=Array(d);for(let v=0;v<d;v++)p[v]=a[v];return p}return[]}function T(a,d){for(let v=1;v<arguments.length;v++){let P=arguments[v];var p=typeof P;if(p=p!="object"?p:P?Array.isArray(P)?"array":p:"null",p=="array"||p=="object"&&typeof P.length=="number"){p=a.length||0;let U=P.length||0;a.length=p+U;for(let J=0;J<U;J++)a[p+J]=P[J]}else a.push(P)}}class O{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function B(a){s.setTimeout(()=>{throw a},0)}function z(){var a=x;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class X{constructor(){this.h=this.g=null}add(d,p){let v=Z.get();v.set(d,p),this.h?this.h.next=v:this.g=v,this.h=v}}var Z=new O(()=>new Q,a=>a.reset());class Q{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let we,_e=!1,x=new X,w=()=>{let a=Promise.resolve(void 0);we=()=>{a.then(S)}};function S(){for(var a;a=z();){try{a.h.call(a.g)}catch(p){B(p)}var d=Z;d.j(a),d.h<100&&(d.h++,a.next=d.g,d.g=a)}_e=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var N=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let p=()=>{};s.addEventListener("test",p,d),s.removeEventListener("test",p,d)}catch{}return a})();function E(a){return/^[\s\xa0]*$/.test(a)}function Pt(a,d){D.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a&&this.init(a,d)}b(Pt,D),Pt.prototype.init=function(a,d){let p=this.type=a.type,v=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget,d||(p=="mouseover"?d=a.fromElement:p=="mouseout"&&(d=a.toElement)),this.relatedTarget=d,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=a.pointerType,this.state=a.state,this.i=a,a.defaultPrevented&&Pt.Z.h.call(this)},Pt.prototype.h=function(){Pt.Z.h.call(this);let a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Xn="closure_listenable_"+(Math.random()*1e6|0),ae=0;function fe(a,d,p,v,P){this.listener=a,this.proxy=null,this.src=d,this.type=p,this.capture=!!v,this.ha=P,this.key=++ae,this.da=this.fa=!1}function ge(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Be(a,d,p){for(let v in a)d.call(p,a[v],v,a)}function gt(a,d){for(let p in a)d.call(void 0,a[p],p,a)}function Rn(a){let d={};for(let p in a)d[p]=a[p];return d}let Ut="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zn(a,d){let p,v;for(let P=1;P<arguments.length;P++){v=arguments[P];for(p in v)a[p]=v[p];for(let U=0;U<Ut.length;U++)p=Ut[U],Object.prototype.hasOwnProperty.call(v,p)&&(a[p]=v[p])}}function Qe(a){this.src=a,this.g={},this.h=0}Qe.prototype.add=function(a,d,p,v,P){let U=a.toString();a=this.g[U],a||(a=this.g[U]=[],this.h++);let J=Qs(a,d,v,P);return J>-1?(d=a[J],p||(d.fa=!1)):(d=new fe(d,this.src,U,!!v,P),d.fa=p,a.push(d)),d};function Ao(a,d){let p=d.type;if(p in a.g){var v=a.g[p],P=Array.prototype.indexOf.call(v,d,void 0),U;(U=P>=0)&&Array.prototype.splice.call(v,P,1),U&&(ge(d),a.g[p].length==0&&(delete a.g[p],a.h--))}}function Qs(a,d,p,v){for(let P=0;P<a.length;++P){let U=a[P];if(!U.da&&U.listener==d&&U.capture==!!p&&U.ha==v)return P}return-1}var _t="closure_lm_"+(Math.random()*1e6|0),Jn={};function Jt(a,d,p,v,P){if(v&&v.once)return vg(a,d,p,v,P);if(Array.isArray(d)){for(let U=0;U<d.length;U++)Jt(a,d[U],p,v,P);return null}return p=Ju(p),a&&a[Xn]?a.J(d,p,l(v)?!!v.capture:!!v,P):kr(a,d,p,!1,v,P)}function kr(a,d,p,v,P,U){if(!d)throw Error("Invalid event type");let J=l(P)?!!P.capture:!!P,Ne=Xu(a);if(Ne||(a[_t]=Ne=new Qe(a)),p=Ne.add(d,p,v,J,U),p.proxy)return p;if(v=Xs(),p.proxy=v,v.src=a,v.listener=p,a.addEventListener)N||(P=J),P===void 0&&(P=!1),a.addEventListener(d.toString(),v,P);else if(a.attachEvent)a.attachEvent(Cg(d.toString()),v);else if(a.addListener&&a.removeListener)a.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Xs(){function a(p){return d.call(a.src,a.listener,p)}let d=DS;return a}function vg(a,d,p,v,P){if(Array.isArray(d)){for(let U=0;U<d.length;U++)vg(a,d[U],p,v,P);return null}return p=Ju(p),a&&a[Xn]?a.K(d,p,l(v)?!!v.capture:!!v,P):kr(a,d,p,!0,v,P)}function wg(a,d,p,v,P){if(Array.isArray(d))for(var U=0;U<d.length;U++)wg(a,d[U],p,v,P);else v=l(v)?!!v.capture:!!v,p=Ju(p),a&&a[Xn]?(a=a.i,U=String(d).toString(),U in a.g&&(d=a.g[U],p=Qs(d,p,v,P),p>-1&&(ge(d[p]),Array.prototype.splice.call(d,p,1),d.length==0&&(delete a.g[U],a.h--)))):a&&(a=Xu(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Qs(d,p,v,P)),(p=a>-1?d[a]:null)&&Qu(p))}function Qu(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Xn])Ao(d.i,a);else{var p=a.type,v=a.proxy;d.removeEventListener?d.removeEventListener(p,v,a.capture):d.detachEvent?d.detachEvent(Cg(p),v):d.addListener&&d.removeListener&&d.removeListener(v),(p=Xu(d))?(Ao(p,a),p.h==0&&(p.src=null,d[_t]=null)):ge(a)}}}function Cg(a){return a in Jn?Jn[a]:Jn[a]="on"+a}function DS(a,d){if(a.da)a=!0;else{d=new Pt(d,this);let p=a.listener,v=a.ha||a.src;a.fa&&Qu(a),a=p.call(v,d)}return a}function Xu(a){return a=a[_t],a instanceof Qe?a:null}var Zu="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ju(a){return typeof a=="function"?a:(a[Zu]||(a[Zu]=function(d){return a.handleEvent(d)}),a[Zu])}function jt(){M.call(this),this.i=new Qe(this),this.M=this,this.G=null}b(jt,M),jt.prototype[Xn]=!0,jt.prototype.removeEventListener=function(a,d,p,v){wg(this,a,d,p,v)};function en(a,d){var p,v=a.G;if(v)for(p=[];v;v=v.G)p.push(v);if(a=a.M,v=d.type||d,typeof d=="string")d=new D(d,a);else if(d instanceof D)d.target=d.target||a;else{var P=d;d=new D(v,a),Zn(d,P)}P=!0;let U,J;if(p)for(J=p.length-1;J>=0;J--)U=d.g=p[J],P=ql(U,v,!0,d)&&P;if(U=d.g=a,P=ql(U,v,!0,d)&&P,P=ql(U,v,!1,d)&&P,p)for(J=0;J<p.length;J++)U=d.g=p[J],P=ql(U,v,!1,d)&&P}jt.prototype.N=function(){if(jt.Z.N.call(this),this.i){var a=this.i;for(let d in a.g){let p=a.g[d];for(let v=0;v<p.length;v++)ge(p[v]);delete a.g[d],a.h--}}this.G=null},jt.prototype.J=function(a,d,p,v){return this.i.add(String(a),d,!1,p,v)},jt.prototype.K=function(a,d,p,v){return this.i.add(String(a),d,!0,p,v)};function ql(a,d,p,v){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();let P=!0;for(let U=0;U<d.length;++U){let J=d[U];if(J&&!J.da&&J.capture==p){let Ne=J.listener,St=J.ha||J.src;J.fa&&Ao(a.i,J),P=Ne.call(St,v)!==!1&&P}}return P&&!v.defaultPrevented}function MS(a,d){if(typeof a!="function")if(a&&typeof a.handleEvent=="function")a=u(a.handleEvent,a);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:s.setTimeout(a,d||0)}function Eg(a){a.g=MS(()=>{a.g=null,a.i&&(a.i=!1,Eg(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class RS extends M{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Eg(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zs(a){M.call(this),this.h=a,this.g={}}b(Zs,M);var Sg=[];function xg(a){Be(a.g,function(d,p){this.g.hasOwnProperty(p)&&Qu(d)},a),a.g={}}Zs.prototype.N=function(){Zs.Z.N.call(this),xg(this)},Zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var eh=s.JSON.stringify,kS=s.JSON.parse,OS=class{stringify(a){return s.JSON.stringify(a,void 0)}parse(a){return s.JSON.parse(a,void 0)}};function Ig(){}function Ag(){}var Js={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function th(){D.call(this,"d")}b(th,D);function nh(){D.call(this,"c")}b(nh,D);var Or={},Tg=null;function Hl(){return Tg=Tg||new jt}Or.Ia="serverreachability";function Dg(a){D.call(this,Or.Ia,a)}b(Dg,D);function ea(a){let d=Hl();en(d,new Dg(d))}Or.STAT_EVENT="statevent";function Mg(a,d){D.call(this,Or.STAT_EVENT,a),this.stat=d}b(Mg,D);function tn(a){let d=Hl();en(d,new Mg(d,a))}Or.Ja="timingevent";function Rg(a,d){D.call(this,Or.Ja,a),this.size=d}b(Rg,D);function ta(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){a()},d)}function na(){this.g=!0}na.prototype.ua=function(){this.g=!1};function PS(a,d,p,v,P,U){a.info(function(){if(a.g)if(U){var J="",Ne=U.split("&");for(let Ze=0;Ze<Ne.length;Ze++){var St=Ne[Ze].split("=");if(St.length>1){let Mt=St[0];St=St[1];let mi=Mt.split("_");J=mi.length>=2&&mi[1]=="type"?J+(Mt+"="+St+"&"):J+(Mt+"=redacted&")}}}else J=null;else J=U;return"XMLHTTP REQ ("+v+") [attempt "+P+"]: "+d+`
`+p+`
`+J})}function NS(a,d,p,v,P,U,J){a.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+P+"]: "+d+`
`+p+`
`+U+" "+J})}function To(a,d,p,v){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+LS(a,p)+(v?" "+v:"")})}function FS(a,d){a.info(function(){return"TIMEOUT: "+d})}na.prototype.info=function(){};function LS(a,d){if(!a.g)return d;if(!d)return null;try{let U=JSON.parse(d);if(U){for(a=0;a<U.length;a++)if(Array.isArray(U[a])){var p=U[a];if(!(p.length<2)){var v=p[1];if(Array.isArray(v)&&!(v.length<1)){var P=v[0];if(P!="noop"&&P!="stop"&&P!="close")for(let J=1;J<v.length;J++)v[J]=""}}}}return eh(U)}catch{return d}}var Wl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},kg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Og;function ih(){}b(ih,Ig),ih.prototype.g=function(){return new XMLHttpRequest},Og=new ih;function ia(a){return encodeURIComponent(String(a))}function VS(a){var d=1;a=a.split(":");let p=[];for(;d>0&&a.length;)p.push(a.shift()),d--;return a.length&&p.push(a.join(":")),p}function Ji(a,d,p,v){this.j=a,this.i=d,this.l=p,this.S=v||1,this.V=new Zs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pg}function Pg(){this.i=null,this.g="",this.h=!1}var Ng={},rh={};function oh(a,d,p){a.M=1,a.A=Gl(hi(d)),a.u=p,a.R=!0,Fg(a,null)}function Fg(a,d){a.F=Date.now(),Kl(a),a.B=hi(a.A);var p=a.B,v=a.S;Array.isArray(v)||(v=[String(v)]),Yg(p.i,"t",v),a.C=0,p=a.j.L,a.h=new Pg,a.g=m_(a.j,p?d:null,!a.u),a.P>0&&(a.O=new RS(u(a.Y,a,a.g),a.P)),d=a.V,p=a.g,v=a.ba;var P="readystatechange";Array.isArray(P)||(P&&(Sg[0]=P.toString()),P=Sg);for(let U=0;U<P.length;U++){let J=Jt(p,P[U],v||d.handleEvent,!1,d.h||d);if(!J)break;d.g[J.key]=J}d=a.J?Rn(a.J):{},a.u?(a.v||(a.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.B,a.v,a.u,d)):(a.v="GET",a.g.ea(a.B,a.v,null,d)),ea(),PS(a.i,a.v,a.B,a.l,a.S,a.u)}Ji.prototype.ba=function(a){a=a.target;let d=this.O;d&&nr(a)==3?d.j():this.Y(a)},Ji.prototype.Y=function(a){try{if(a==this.g)e:{let Ne=nr(this.g),St=this.g.ya(),Ze=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||n_(this.g)))){this.K||Ne!=4||St==7||(St==8||Ze<=0?ea(3):ea(2)),sh(this);var d=this.g.ca();this.X=d;var p=BS(this);if(this.o=d==200,NS(this.i,this.v,this.B,this.l,this.S,Ne,d),this.o){if(this.U&&!this.L){t:{if(this.g){var v,P=this.g;if((v=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(v)){var U=v;break t}}U=null}if(a=U)To(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ah(this,a);else{this.o=!1,this.m=3,tn(12),Pr(this),ra(this);break e}}if(this.R){a=!0;let Mt;for(;!this.K&&this.C<p.length;)if(Mt=US(this,p),Mt==rh){Ne==4&&(this.m=4,tn(14),a=!1),To(this.i,this.l,null,"[Incomplete Response]");break}else if(Mt==Ng){this.m=4,tn(15),To(this.i,this.l,p,"[Invalid Chunk]"),a=!1;break}else To(this.i,this.l,Mt,null),ah(this,Mt);if(Lg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||p.length!=0||this.h.h||(this.m=1,tn(16),a=!1),this.o=this.o&&a,!a)To(this.i,this.l,p,"[Invalid Chunked Response]"),Pr(this),ra(this);else if(p.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),ph(J),J.P=!0,tn(11))}}else To(this.i,this.l,p,null),ah(this,p);Ne==4&&Pr(this),this.o&&!this.K&&(Ne==4?c_(this.j,this):(this.o=!1,Kl(this)))}else ex(this.g),d==400&&p.indexOf("Unknown SID")>0?(this.m=3,tn(12)):(this.m=0,tn(13)),Pr(this),ra(this)}}}catch{}finally{}};function BS(a){if(!Lg(a))return a.g.la();let d=n_(a.g);if(d==="")return"";let p="",v=d.length,P=nr(a.g)==4;if(!a.h.i){if(typeof TextDecoder>"u")return Pr(a),ra(a),"";a.h.i=new s.TextDecoder}for(let U=0;U<v;U++)a.h.h=!0,p+=a.h.i.decode(d[U],{stream:!(P&&U==v-1)});return d.length=0,a.h.g+=p,a.C=0,a.h.g}function Lg(a){return a.g?a.v=="GET"&&a.M!=2&&a.j.Aa:!1}function US(a,d){var p=a.C,v=d.indexOf(`
`,p);return v==-1?rh:(p=Number(d.substring(p,v)),isNaN(p)?Ng:(v+=1,v+p>d.length?rh:(d=d.slice(v,v+p),a.C=v+p,d)))}Ji.prototype.cancel=function(){this.K=!0,Pr(this)};function Kl(a){a.T=Date.now()+a.H,Vg(a,a.H)}function Vg(a,d){if(a.D!=null)throw Error("WatchDog timer not null");a.D=ta(u(a.aa,a),d)}function sh(a){a.D&&(s.clearTimeout(a.D),a.D=null)}Ji.prototype.aa=function(){this.D=null;let a=Date.now();a-this.T>=0?(FS(this.i,this.B),this.M!=2&&(ea(),tn(17)),Pr(this),this.m=2,ra(this)):Vg(this,this.T-a)};function ra(a){a.j.I==0||a.K||c_(a.j,a)}function Pr(a){sh(a);var d=a.O;d&&typeof d.dispose=="function"&&d.dispose(),a.O=null,xg(a.V),a.g&&(d=a.g,a.g=null,d.abort(),d.dispose())}function ah(a,d){try{var p=a.j;if(p.I!=0&&(p.g==a||lh(p.h,a))){if(!a.L&&lh(p.h,a)&&p.I==3){try{var v=p.Ba.g.parse(d)}catch{v=null}if(Array.isArray(v)&&v.length==3){var P=v;if(P[0]==0){e:if(!p.v){if(p.g)if(p.g.F+3e3<a.F)ec(p),Zl(p);else break e;mh(p),tn(18)}}else p.xa=P[1],0<p.xa-p.K&&P[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=ta(u(p.Va,p),6e3));jg(p.h)<=1&&p.ta&&(p.ta=void 0)}else Fr(p,11)}else if((a.L||p.g==a)&&ec(p),!E(d))for(P=p.Ba.g.parse(d),d=0;d<P.length;d++){let Ze=P[d],Mt=Ze[0];if(!(Mt<=p.K))if(p.K=Mt,Ze=Ze[1],p.I==2)if(Ze[0]=="c"){p.M=Ze[1],p.ba=Ze[2];let mi=Ze[3];mi!=null&&(p.ka=mi,p.j.info("VER="+p.ka));let Lr=Ze[4];Lr!=null&&(p.za=Lr,p.j.info("SVER="+p.za));let ir=Ze[5];ir!=null&&typeof ir=="number"&&ir>0&&(v=1.5*ir,p.O=v,p.j.info("backChannelRequestTimeoutMs_="+v)),v=p;let rr=a.g;if(rr){let nc=rr.g?rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nc){var U=v.h;U.g||nc.indexOf("spdy")==-1&&nc.indexOf("quic")==-1&&nc.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(ch(U,U.h),U.h=null))}if(v.G){let fh=rr.g?rr.g.getResponseHeader("X-HTTP-Session-Id"):null;fh&&(v.wa=fh,nt(v.J,v.G,fh))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-a.F,p.j.info("Handshake RTT: "+p.T+"ms")),v=p;var J=a;if(v.na=h_(v,v.L?v.ba:null,v.W),J.L){zg(v.h,J);var Ne=J,St=v.O;St&&(Ne.H=St),Ne.D&&(sh(Ne),Kl(Ne)),v.g=J}else a_(v);p.i.length>0&&Jl(p)}else Ze[0]!="stop"&&Ze[0]!="close"||Fr(p,7);else p.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Fr(p,7):hh(p):Ze[0]!="noop"&&p.l&&p.l.qa(Ze),p.A=0)}}ea(4)}catch{}}var jS=class{constructor(a,d){this.g=a,this.map=d}};function Bg(a){this.l=a||10,s.PerformanceNavigationTiming?(a=s.performance.getEntriesByType("navigation"),a=a.length>0&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ug(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function jg(a){return a.h?1:a.g?a.g.size:0}function lh(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function ch(a,d){a.g?a.g.add(d):a.h=d}function zg(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Bg.prototype.cancel=function(){if(this.i=$g(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function $g(a){if(a.h!=null)return a.i.concat(a.h.G);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let p of a.g.values())d=d.concat(p.G);return d}return R(a.i)}var qg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zS(a,d){if(a){a=a.split("&");for(let p=0;p<a.length;p++){let v=a[p].indexOf("="),P,U=null;v>=0?(P=a[p].substring(0,v),U=a[p].substring(v+1)):P=a[p],d(P,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function er(a){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;a instanceof er?(this.l=a.l,oa(this,a.j),this.o=a.o,this.g=a.g,sa(this,a.u),this.h=a.h,dh(this,Qg(a.i)),this.m=a.m):a&&(d=String(a).match(qg))?(this.l=!1,oa(this,d[1]||"",!0),this.o=aa(d[2]||""),this.g=aa(d[3]||"",!0),sa(this,d[4]),this.h=aa(d[5]||"",!0),dh(this,d[6]||"",!0),this.m=aa(d[7]||"")):(this.l=!1,this.i=new ca(null,this.l))}er.prototype.toString=function(){let a=[];var d=this.j;d&&a.push(la(d,Hg,!0),":");var p=this.g;return(p||d=="file")&&(a.push("//"),(d=this.o)&&a.push(la(d,Hg,!0),"@"),a.push(ia(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&a.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(la(p,p.charAt(0)=="/"?HS:qS,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",la(p,KS)),a.join("")},er.prototype.resolve=function(a){let d=hi(this),p=!!a.j;p?oa(d,a.j):p=!!a.o,p?d.o=a.o:p=!!a.g,p?d.g=a.g:p=a.u!=null;var v=a.h;if(p)sa(d,a.u);else if(p=!!a.h){if(v.charAt(0)!="/")if(this.g&&!this.h)v="/"+v;else{var P=d.h.lastIndexOf("/");P!=-1&&(v=d.h.slice(0,P+1)+v)}if(P=v,P==".."||P==".")v="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){v=P.lastIndexOf("/",0)==0,P=P.split("/");let U=[];for(let J=0;J<P.length;){let Ne=P[J++];Ne=="."?v&&J==P.length&&U.push(""):Ne==".."?((U.length>1||U.length==1&&U[0]!="")&&U.pop(),v&&J==P.length&&U.push("")):(U.push(Ne),v=!0)}v=U.join("/")}else v=P}return p?d.h=v:p=a.i.toString()!=="",p?dh(d,Qg(a.i)):p=!!a.m,p&&(d.m=a.m),d};function hi(a){return new er(a)}function oa(a,d,p){a.j=p?aa(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function sa(a,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);a.u=d}else a.u=null}function dh(a,d,p){d instanceof ca?(a.i=d,GS(a.i,a.l)):(p||(d=la(d,WS)),a.i=new ca(d,a.l))}function nt(a,d,p){a.i.set(d,p)}function Gl(a){return nt(a,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),a}function aa(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function la(a,d,p){return typeof a=="string"?(a=encodeURI(a).replace(d,$S),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function $S(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Hg=/[#\/\?@]/g,qS=/[#\?:]/g,HS=/[#\?]/g,WS=/[#\?@]/g,KS=/#/g;function ca(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Nr(a){a.g||(a.g=new Map,a.h=0,a.i&&zS(a.i,function(d,p){a.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}i=ca.prototype,i.add=function(a,d){Nr(this),this.i=null,a=Do(this,a);let p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(d),this.h+=1,this};function Wg(a,d){Nr(a),d=Do(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function Kg(a,d){return Nr(a),d=Do(a,d),a.g.has(d)}i.forEach=function(a,d){Nr(this),this.g.forEach(function(p,v){p.forEach(function(P){a.call(d,P,v,this)},this)},this)};function Gg(a,d){Nr(a);let p=[];if(typeof d=="string")Kg(a,d)&&(p=p.concat(a.g.get(Do(a,d))));else for(a=Array.from(a.g.values()),d=0;d<a.length;d++)p=p.concat(a[d]);return p}i.set=function(a,d){return Nr(this),this.i=null,a=Do(this,a),Kg(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},i.get=function(a,d){return a?(a=Gg(this,a),a.length>0?String(a[0]):d):d};function Yg(a,d,p){Wg(a,d),p.length>0&&(a.i=null,a.g.set(Do(a,d),R(p)),a.h+=p.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(let v=0;v<d.length;v++){var p=d[v];let P=ia(p);p=Gg(this,p);for(let U=0;U<p.length;U++){let J=P;p[U]!==""&&(J+="="+ia(p[U])),a.push(J)}}return this.i=a.join("&")};function Qg(a){let d=new ca;return d.i=a.i,a.g&&(d.g=new Map(a.g),d.h=a.h),d}function Do(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function GS(a,d){d&&!a.j&&(Nr(a),a.i=null,a.g.forEach(function(p,v){let P=v.toLowerCase();v!=P&&(Wg(this,v),Yg(this,P,p))},a)),a.j=d}function YS(a,d){let p=new na;if(s.Image){let v=new Image;v.onload=g(tr,p,"TestLoadImage: loaded",!0,d,v),v.onerror=g(tr,p,"TestLoadImage: error",!1,d,v),v.onabort=g(tr,p,"TestLoadImage: abort",!1,d,v),v.ontimeout=g(tr,p,"TestLoadImage: timeout",!1,d,v),s.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=a}else d(!1)}function QS(a,d){let p=new na,v=new AbortController,P=setTimeout(()=>{v.abort(),tr(p,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:v.signal}).then(U=>{clearTimeout(P),U.ok?tr(p,"TestPingServer: ok",!0,d):tr(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(P),tr(p,"TestPingServer: error",!1,d)})}function tr(a,d,p,v,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),v(p)}catch{}}function XS(){this.g=new OS}function Yl(a){this.i=a.Sb||null,this.h=a.ab||!1}b(Yl,Ig),Yl.prototype.g=function(){return new Ql(this.i,this.h)};function Ql(a,d){jt.call(this),this.H=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ql,jt),i=Ql.prototype,i.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=a,this.D=d,this.readyState=1,ua(this)},i.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;let d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};a&&(d.body=a),(this.H||s).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,da(this)),this.readyState=0},i.Pa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ua(this)),this.g&&(this.readyState=3,ua(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xg(this)}else a.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xg(a){a.j.read().then(a.Ma.bind(a)).catch(a.ga.bind(a))}i.Ma=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?da(this):ua(this),this.readyState==3&&Xg(this)}},i.Oa=function(a){this.g&&(this.response=this.responseText=a,da(this))},i.Na=function(a){this.g&&(this.response=a,da(this))},i.ga=function(){this.g&&da(this)};function da(a){a.readyState=4,a.l=null,a.j=null,a.B=null,ua(a)}i.setRequestHeader=function(a,d){this.A.append(a,d)},i.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=d.next();return a.join(`\r
`)};function ua(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ql.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Zg(a){let d="";return Be(a,function(p,v){d+=v,d+=":",d+=p,d+=`\r
`}),d}function uh(a,d,p){e:{for(v in p){var v=!1;break e}v=!0}v||(p=Zg(p),typeof a=="string"?p!=null&&ia(p):nt(a,d,p))}function ot(a){jt.call(this),this.headers=new Map,this.L=a||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ot,jt);var ZS=/^https?$/i,JS=["POST","PUT"];i=ot.prototype,i.Fa=function(a){this.H=a},i.ea=function(a,d,p,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Og.g(),this.g.onreadystatechange=C(u(this.Ca,this));try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(U){Jg(this,U);return}if(a=p||"",p=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var P in v)p.set(P,v[P]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let U of v.keys())p.set(U,v.get(U));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(p.keys()).find(U=>U.toLowerCase()=="content-type"),P=s.FormData&&a instanceof s.FormData,!(Array.prototype.indexOf.call(JS,d,void 0)>=0)||v||P||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[U,J]of p)this.g.setRequestHeader(U,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(a),this.v=!1}catch(U){Jg(this,U)}};function Jg(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.o=5,e_(a),Xl(a)}function e_(a){a.A||(a.A=!0,en(a,"complete"),en(a,"error"))}i.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=a||7,en(this,"complete"),en(this,"abort"),Xl(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xl(this,!0)),ot.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?t_(this):this.Xa())},i.Xa=function(){t_(this)};function t_(a){if(a.h&&typeof o<"u"){if(a.v&&nr(a)==4)setTimeout(a.Ca.bind(a),0);else if(en(a,"readystatechange"),nr(a)==4){a.h=!1;try{let U=a.ca();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var v;if(v=U===0){let J=String(a.D).match(qg)[1]||null;!J&&s.self&&s.self.location&&(J=s.self.location.protocol.slice(0,-1)),v=!ZS.test(J?J.toLowerCase():"")}p=v}if(p)en(a,"complete"),en(a,"success");else{a.o=6;try{var P=nr(a)>2?a.g.statusText:""}catch{P=""}a.l=P+" ["+a.ca()+"]",e_(a)}}finally{Xl(a)}}}}function Xl(a,d){if(a.g){a.m&&(clearTimeout(a.m),a.m=null);let p=a.g;a.g=null,d||en(a,"ready");try{p.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function nr(a){return a.g?a.g.readyState:0}i.ca=function(){try{return nr(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),kS(d)}};function n_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.F){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function ex(a){let d={};a=(a.g&&nr(a)>=2&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<a.length;v++){if(E(a[v]))continue;var p=VS(a[v]);let P=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let U=d[P]||[];d[P]=U,U.push(p)}gt(d,function(v){return v.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ha(a,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||d}function i_(a){this.za=0,this.i=[],this.j=new na,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ha("failFast",!1,a),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ha("baseRetryDelayMs",5e3,a),this.Za=ha("retryDelaySeedMs",1e4,a),this.Ta=ha("forwardChannelMaxRetries",2,a),this.va=ha("forwardChannelRequestTimeoutMs",2e4,a),this.ma=a&&a.xmlHttpFactory||void 0,this.Ua=a&&a.Rb||void 0,this.Aa=a&&a.useFetchStreams||!1,this.O=void 0,this.L=a&&a.supportsCrossDomainXhr||!1,this.M="",this.h=new Bg(a&&a.concurrentRequestLimit),this.Ba=new XS,this.S=a&&a.fastHandshake||!1,this.R=a&&a.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=a&&a.Pb||!1,a&&a.ua&&this.j.ua(),a&&a.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&a&&a.detectBufferingProxy||!1,this.ia=void 0,a&&a.longPollingTimeout&&a.longPollingTimeout>0&&(this.ia=a.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=i_.prototype,i.ka=8,i.I=1,i.connect=function(a,d,p,v){tn(0),this.W=a,this.H=d||{},p&&v!==void 0&&(this.H.OSID=p,this.H.OAID=v),this.F=this.X,this.J=h_(this,null,this.W),Jl(this)};function hh(a){if(r_(a),a.I==3){var d=a.V++,p=hi(a.J);if(nt(p,"SID",a.M),nt(p,"RID",d),nt(p,"TYPE","terminate"),ma(a,p),d=new Ji(a,a.j,d),d.M=2,d.A=Gl(hi(p)),p=!1,s.navigator&&s.navigator.sendBeacon)try{p=s.navigator.sendBeacon(d.A.toString(),"")}catch{}!p&&s.Image&&(new Image().src=d.A,p=!0),p||(d.g=m_(d.j,null),d.g.ea(d.A)),d.F=Date.now(),Kl(d)}u_(a)}function Zl(a){a.g&&(ph(a),a.g.cancel(),a.g=null)}function r_(a){Zl(a),a.v&&(s.clearTimeout(a.v),a.v=null),ec(a),a.h.cancel(),a.m&&(typeof a.m=="number"&&s.clearTimeout(a.m),a.m=null)}function Jl(a){if(!Ug(a.h)&&!a.m){a.m=!0;var d=a.Ea;we||w(),_e||(we(),_e=!0),x.add(d,a),a.D=0}}function tx(a,d){return jg(a.h)>=a.h.j-(a.m?1:0)?!1:a.m?(a.i=d.G.concat(a.i),!0):a.I==1||a.I==2||a.D>=(a.Sa?0:a.Ta)?!1:(a.m=ta(u(a.Ea,a,d),d_(a,a.D)),a.D++,!0)}i.Ea=function(a){if(this.m)if(this.m=null,this.I==1){if(!a){this.V=Math.floor(Math.random()*1e5),a=this.V++;let P=new Ji(this,this.j,a),U=this.o;if(this.U&&(U?(U=Rn(U),Zn(U,this.U)):U=this.U),this.u!==null||this.R||(P.J=U,U=null),this.S)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var v=this.i[p];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(d+=v,d>4096){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=s_(this,P,d),p=hi(this.J),nt(p,"RID",a),nt(p,"CVER",22),this.G&&nt(p,"X-HTTP-Session-Id",this.G),ma(this,p),U&&(this.R?d="headers="+ia(Zg(U))+"&"+d:this.u&&uh(p,this.u,U)),ch(this.h,P),this.Ra&&nt(p,"TYPE","init"),this.S?(nt(p,"$req",d),nt(p,"SID","null"),P.U=!0,oh(P,p,null)):oh(P,p,d),this.I=2}}else this.I==3&&(a?o_(this,a):this.i.length==0||Ug(this.h)||o_(this))};function o_(a,d){var p;d?p=d.l:p=a.V++;let v=hi(a.J);nt(v,"SID",a.M),nt(v,"RID",p),nt(v,"AID",a.K),ma(a,v),a.u&&a.o&&uh(v,a.u,a.o),p=new Ji(a,a.j,p,a.D+1),a.u===null&&(p.J=a.o),d&&(a.i=d.G.concat(a.i)),d=s_(a,p,1e3),p.H=Math.round(a.va*.5)+Math.round(a.va*.5*Math.random()),ch(a.h,p),oh(p,v,d)}function ma(a,d){a.H&&Be(a.H,function(p,v){nt(d,v,p)}),a.l&&Be({},function(p,v){nt(d,v,p)})}function s_(a,d,p){p=Math.min(a.i.length,p);let v=a.l?u(a.l.Ka,a.l,a):null;e:{var P=a.i;let Ne=-1;for(;;){let St=["count="+p];Ne==-1?p>0?(Ne=P[0].g,St.push("ofs="+Ne)):Ne=0:St.push("ofs="+Ne);let Ze=!0;for(let Mt=0;Mt<p;Mt++){var U=P[Mt].g;let mi=P[Mt].map;if(U-=Ne,U<0)Ne=Math.max(0,P[Mt].g-100),Ze=!1;else try{U="req"+U+"_"||"";try{var J=mi instanceof Map?mi:Object.entries(mi);for(let[Lr,ir]of J){let rr=ir;l(ir)&&(rr=eh(ir)),St.push(U+Lr+"="+encodeURIComponent(rr))}}catch(Lr){throw St.push(U+"type="+encodeURIComponent("_badmap")),Lr}}catch{v&&v(mi)}}if(Ze){J=St.join("&");break e}}J=void 0}return a=a.i.splice(0,p),d.G=a,J}function a_(a){if(!a.g&&!a.v){a.Y=1;var d=a.Da;we||w(),_e||(we(),_e=!0),x.add(d,a),a.A=0}}function mh(a){return a.g||a.v||a.A>=3?!1:(a.Y++,a.v=ta(u(a.Da,a),d_(a,a.A)),a.A++,!0)}i.Da=function(){if(this.v=null,l_(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var a=4*this.T;this.j.info("BP detection timer enabled: "+a),this.B=ta(u(this.Wa,this),a)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,tn(10),Zl(this),l_(this))};function ph(a){a.B!=null&&(s.clearTimeout(a.B),a.B=null)}function l_(a){a.g=new Ji(a,a.j,"rpc",a.Y),a.u===null&&(a.g.J=a.o),a.g.P=0;var d=hi(a.na);nt(d,"RID","rpc"),nt(d,"SID",a.M),nt(d,"AID",a.K),nt(d,"CI",a.F?"0":"1"),!a.F&&a.ia&&nt(d,"TO",a.ia),nt(d,"TYPE","xmlhttp"),ma(a,d),a.u&&a.o&&uh(d,a.u,a.o),a.O&&(a.g.H=a.O);var p=a.g;a=a.ba,p.M=1,p.A=Gl(hi(d)),p.u=null,p.R=!0,Fg(p,a)}i.Va=function(){this.C!=null&&(this.C=null,Zl(this),mh(this),tn(19))};function ec(a){a.C!=null&&(s.clearTimeout(a.C),a.C=null)}function c_(a,d){var p=null;if(a.g==d){ec(a),ph(a),a.g=null;var v=2}else if(lh(a.h,d))p=d.G,zg(a.h,d),v=1;else return;if(a.I!=0){if(d.o)if(v==1){p=d.u?d.u.length:0,d=Date.now()-d.F;var P=a.D;v=Hl(),en(v,new Rg(v,p)),Jl(a)}else a_(a);else if(P=d.m,P==3||P==0&&d.X>0||!(v==1&&tx(a,d)||v==2&&mh(a)))switch(p&&p.length>0&&(d=a.h,d.i=d.i.concat(p)),P){case 1:Fr(a,5);break;case 4:Fr(a,10);break;case 3:Fr(a,6);break;default:Fr(a,2)}}}function d_(a,d){let p=a.Qa+Math.floor(Math.random()*a.Za);return a.isActive()||(p*=2),p*d}function Fr(a,d){if(a.j.info("Error code "+d),d==2){var p=u(a.bb,a),v=a.Ua;let P=!v;v=new er(v||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||oa(v,"https"),Gl(v),P?YS(v.toString(),p):QS(v.toString(),p)}else tn(2);a.I=0,a.l&&a.l.pa(d),u_(a),r_(a)}i.bb=function(a){a?(this.j.info("Successfully pinged google.com"),tn(2)):(this.j.info("Failed to ping google.com"),tn(1))};function u_(a){if(a.I=0,a.ja=[],a.l){let d=$g(a.h);(d.length!=0||a.i.length!=0)&&(T(a.ja,d),T(a.ja,a.i),a.h.i.length=0,R(a.i),a.i.length=0),a.l.oa()}}function h_(a,d,p){var v=p instanceof er?hi(p):new er(p);if(v.g!="")d&&(v.g=d+"."+v.g),sa(v,v.u);else{var P=s.location;v=P.protocol,d=d?d+"."+P.hostname:P.hostname,P=+P.port;let U=new er(null);v&&oa(U,v),d&&(U.g=d),P&&sa(U,P),p&&(U.h=p),v=U}return p=a.G,d=a.wa,p&&d&&nt(v,p,d),nt(v,"VER",a.ka),ma(a,v),v}function m_(a,d,p){if(d&&!a.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Aa&&!a.ma?new ot(new Yl({ab:p})):new ot(a.ma),d.Fa(a.L),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function p_(){}i=p_.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function tc(){}tc.prototype.g=function(a,d){return new kn(a,d)};function kn(a,d){jt.call(this),this.g=new i_(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(a?a["X-WebChannel-Client-Profile"]=d.sa:a={"X-WebChannel-Client-Profile":d.sa}),this.g.U=a,(a=d&&d.Qb)&&!E(a)&&(this.g.u=a),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!E(d)&&(this.g.G=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Mo(this)}b(kn,jt),kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){hh(this.g)},kn.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.v&&(p={},p.__data__=eh(a),a=p);d.i.push(new jS(d.Ya++,a)),d.I==3&&Jl(d)},kn.prototype.N=function(){this.g.l=null,delete this.j,hh(this.g),delete this.g,kn.Z.N.call(this)};function f_(a){th.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let p in d){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}b(f_,th);function g_(){nh.call(this),this.status=1}b(g_,nh);function Mo(a){this.g=a}b(Mo,p_),Mo.prototype.ra=function(){en(this.g,"a")},Mo.prototype.qa=function(a){en(this.g,new f_(a))},Mo.prototype.pa=function(a){en(this.g,new g_)},Mo.prototype.oa=function(){en(this.g,"b")},tc.prototype.createWebChannel=tc.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,Iw=Hi.createWebChannelTransport=function(){return new tc},xw=Hi.getStatEventTarget=function(){return Hl()},Sw=Hi.Event=Or,Ew=Hi.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Wl.NO_ERROR=0,Wl.TIMEOUT=8,Wl.HTTP_ERROR=6,Cw=Hi.ErrorCode=Wl,kg.COMPLETE="complete",ww=Hi.EventType=kg,Ag.EventType=Js,Js.OPEN="a",Js.CLOSE="b",Js.ERROR="c",Js.MESSAGE="d",jt.prototype.listen=jt.prototype.J,vw=Hi.WebChannel=Ag,nk=Hi.FetchXmlHttpFactory=Yl,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,bw=Hi.XhrIo=ot}).apply(typeof cu<"u"?cu:typeof self<"u"?self:typeof window<"u"?window:{});var Aw="@firebase/firestore",Tw="4.9.3";var Bt=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");var xl="12.7.0";var js=new Ko("@firebase/firestore");function ci(i,...t){if(js.logLevel<=Wo.DEBUG){let e=t.map(Qp);js.debug(`Firestore (${xl}): ${i}`,...e)}}function Uw(i,...t){if(js.logLevel<=Wo.ERROR){let e=t.map(Qp);js.error(`Firestore (${xl}): ${i}`,...e)}}function ik(i,...t){if(js.logLevel<=Wo.WARN){let e=t.map(Qp);js.warn(`Firestore (${xl}): ${i}`,...e)}}function Qp(i){if(typeof i=="string")return i;try{return(function(e){return JSON.stringify(e)})(i)}catch{return i}}function An(i,t,e){let n="Unexpected state";typeof t=="string"?n=t:e=t,jw(i,n,e)}function jw(i,t,e){let n=`FIRESTORE (${xl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{n+=" CONTEXT: "+JSON.stringify(e)}catch{n+=" CONTEXT: "+e}throw Uw(n),new Error(n)}function bo(i,t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,i||jw(t,r,n)}var We={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ze=class extends Fi{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var vo=class{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}};var du=class{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},Rp=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Bt.UNAUTHENTICATED))}shutdown(){}},kp=class{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}},Op=class{constructor(t){this.t=t,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){bo(this.o===void 0,42304);let n=this.i,r=c=>this.i!==n?(n=this.i,e(c)):Promise.resolve(),o=new vo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new vo,t.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let c=o;t.enqueueRetryable(()=>F(this,null,function*(){yield c.promise,yield r(this.currentUser)}))},l=c=>{ci("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?l(c):(ci("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new vo)}},0),s()}getToken(){let t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(n=>this.i!==t?(ci("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(bo(typeof n.accessToken=="string",31837,{l:n}),new du(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let t=this.auth&&this.auth.getUid();return bo(t===null||typeof t=="string",2055,{h:t}),new Bt(t)}},Pp=class{constructor(t,e,n){this.P=t,this.T=e,this.I=n,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Np=class{constructor(t,e,n){this.P=t,this.T=e,this.I=n}getToken(){return Promise.resolve(new Pp(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},uu=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Fp=class{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Go(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){bo(this.o===void 0,3512);let n=o=>{o.error!=null&&ci("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,ci("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>n(o))};let r=o=>{ci("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?r(o):ci("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new uu(this.p));let t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(bo(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new uu(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function rk(i){let t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let n=0;n<i;n++)e[n]=Math.floor(256*Math.random());return e}var Lp=class{static newId(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516),n="";for(;n.length<20;){let r=rk(40);for(let o=0;o<r.length;++o)n.length<20&&r[o]<e&&(n+=t.charAt(r[o]%62))}return n}};function Ki(i,t){return i<t?-1:i>t?1:0}function ok(i,t){let e=Math.min(i.length,t.length);for(let n=0;n<e;n++){let r=i.charAt(n),o=t.charAt(n);if(r!==o)return Dp(r)===Dp(o)?Ki(r,o):Dp(r)?1:-1}return Ki(i.length,t.length)}var sk=55296,ak=57343;function Dp(i){let t=i.charCodeAt(0);return t>=sk&&t<=ak}var Dw="__name__",hu=class i{constructor(t,e,n){e===void 0?e=0:e>t.length&&An(637,{offset:e,range:t.length}),n===void 0?n=t.length-e:n>t.length-e&&An(1746,{length:n,range:t.length-e}),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return i.comparator(this,t)===0}child(t){let e=this.segments.slice(this.offset,this.limit());return t instanceof i?t.forEach(n=>{e.push(n)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){let n=Math.min(t.length,e.length);for(let r=0;r<n;r++){let o=i.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return Ki(t.length,e.length)}static compareSegments(t,e){let n=i.isNumericId(t),r=i.isNumericId(e);return n&&!r?-1:!n&&r?1:n&&r?i.extractNumericId(t).compare(i.extractNumericId(e)):ok(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return lu.fromString(t.substring(4,t.length-2))}},Wi=class i extends hu{construct(t,e,n){return new i(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){let e=[];for(let n of t){if(n.indexOf("//")>=0)throw new ze(We.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(r=>r.length>0))}return new i(e)}static emptyPath(){return new i([])}},lk=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Vp=class i extends hu{construct(t,e,n){return new i(t,e,n)}static isValidIdentifier(t){return lk.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),i.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dw}static keyField(){return new i([Dw])}static fromServerFormat(t){let e=[],n="",r=0,o=()=>{if(n.length===0)throw new ze(We.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""},s=!1;for(;r<t.length;){let l=t[r];if(l==="\\"){if(r+1===t.length)throw new ze(We.INVALID_ARGUMENT,"Path has trailing escape character: "+t);let c=t[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ze(We.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=c,r+=2}else l==="`"?(s=!s,r++):l!=="."||s?(n+=l,r++):(o(),r++)}if(o(),s)throw new ze(We.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new i(e)}static emptyPath(){return new i([])}};var Gi=class i{constructor(t){this.path=t}static fromPath(t){return new i(Wi.fromString(t))}static fromName(t){return new i(Wi.fromString(t).popFirst(5))}static empty(){return new i(Wi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Wi.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Wi.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new i(new Wi(t.slice()))}};function ck(i,t,e,n){if(t===!0&&n===!0)throw new ze(We.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function dk(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function uk(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{let t=(function(n){return n.constructor?n.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":An(12329,{type:typeof i})}function hk(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new ze(We.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let e=uk(i);throw new ze(We.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}function wt(i,t){let e={typeString:i};return t&&(e.value=t),e}function Il(i,t){if(!dk(i))throw new ze(We.INVALID_ARGUMENT,"JSON must be an object");let e;for(let n in t)if(t[n]){let r=t[n].typeString,o="value"in t[n]?{value:t[n].value}:void 0;if(!(n in i)){e=`JSON missing required field: '${n}'`;break}let s=i[n];if(r&&typeof s!==r){e=`JSON field '${n}' must be a ${r}.`;break}if(o!==void 0&&s!==o.value){e=`Expected '${n}' field to equal '${o.value}'`;break}}if(e)throw new ze(We.INVALID_ARGUMENT,e);return!0}var Mw=-62135596800,Rw=1e6,bl=class i{static now(){return i.fromMillis(Date.now())}static fromDate(t){return i.fromMillis(t.getTime())}static fromMillis(t){let e=Math.floor(t/1e3),n=Math.floor((t-1e3*e)*Rw);return new i(e,n)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ze(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ze(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Mw)throw new ze(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ze(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Rw}_compareTo(t){return this.seconds===t.seconds?Ki(this.nanoseconds,t.nanoseconds):Ki(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:i._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Il(t,i._jsonSchema))return new i(t.seconds,t.nanoseconds)}valueOf(){let t=this.seconds-Mw;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};bl._jsonSchemaVersion="firestore/timestamp/1.0",bl._jsonSchema={type:wt("string",bl._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};var Bp=class{constructor(t,e,n,r){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=r}};Bp.UNKNOWN_ID=-1;function mk(i){return i.name==="IndexedDbTransactionError"}function pk(i){return i===0&&1/i==-1/0}var fk="remoteDocuments",zw="owner";var $w="mutationQueues";var qw="mutations";var Hw="documentMutations",gk="remoteDocumentsV14";var Ww="remoteDocumentGlobal";var Kw="targets";var Gw="targetDocuments";var Yw="targetGlobal",Qw="collectionParents";var Xw="clientMetadata";var Zw="bundles";var Jw="namedQueries";var _k="indexConfiguration";var yk="indexState";var bk="indexEntries";var eC="documentOverlays";var vk="globals";var wk=[$w,qw,Hw,fk,Kw,zw,Yw,Gw,Xw,Ww,Qw,Zw,Jw],$9=[...wk,eC],Ck=[$w,qw,Hw,gk,Kw,zw,Yw,Gw,Xw,Ww,Qw,Zw,Jw,eC],Ek=Ck,Sk=[...Ek,_k,yk,bk];var q9=[...Sk,vk];var zs=class i{constructor(t,e){this.comparator=t,this.root=e||Ii.EMPTY}insert(t,e){return new i(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ii.BLACK,null,null))}remove(t){return new i(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ii.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){let n=this.comparator(t,e.key);if(n===0)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(t,n.key);if(r===0)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){let t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ls(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ls(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ls(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ls(this.root,t,this.comparator,!0)}},Ls=class{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?n(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},Ii=class i{constructor(t,e,n,r,o){this.key=t,this.value=e,this.color=n??i.RED,this.left=r??i.EMPTY,this.right=o??i.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,o){return new i(t??this.key,e??this.value,n??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this,o=n(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,n),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return i.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return i.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw An(43730,{key:this.key,value:this.value});if(this.right.isRed())throw An(14113,{key:this.key,value:this.value});let t=this.left.check();if(t!==this.right.check())throw An(27949);return t+(this.isRed()?0:1)}};Ii.EMPTY=null,Ii.RED=!0,Ii.BLACK=!1;Ii.EMPTY=new class{constructor(){this.size=0}get key(){throw An(57766)}get value(){throw An(16141)}get color(){throw An(16727)}get left(){throw An(29726)}get right(){throw An(36894)}copy(t,e,n,r,o){return this}insert(t,e,n){return new Ii(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var mu=class i{constructor(t){this.comparator=t,this.data=new zs(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){let n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){let e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new pu(this.data.getIterator())}getIteratorFrom(t){return new pu(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(n=>{e=e.add(n)}),e}isEqual(t){if(!(t instanceof i)||this.size!==t.size)return!1;let e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){let r=e.getNext().key,o=n.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let t=[];return this.forEach(e=>{t.push(e)}),t}toString(){let t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){let e=new i(this.comparator);return e.data=t,e}},pu=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Up=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ar=class i{constructor(t){this.binaryString=t}static fromBase64String(t){let e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Up("Invalid base64 string: "+o):o}})(t);return new i(e)}static fromUint8Array(t){let e=(function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o})(t);return new i(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){let n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ki(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};Ar.EMPTY_BYTE_STRING=new Ar("");var xk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ik(i){if(bo(!!i,39018),typeof i=="string"){let t=0,e=xk.exec(i);if(bo(!!e,46558,{timestamp:i}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}let n=new Date(i);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:vl(i.seconds),nanos:vl(i.nanos)}}function vl(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ak(i){return typeof i=="string"?Ar.fromBase64String(i):Ar.fromUint8Array(i)}var jp="(default)",zp=class i{constructor(t,e){this.projectId=t,this.database=e||jp}static empty(){return new i("","")}get isDefaultDatabase(){return this.database===jp}isEqual(t){return t instanceof i&&t.projectId===this.projectId&&t.database===this.database}};var tC="__type__",Tk="__max__";var nC="__vector__",iC="value";function Dk(i){return(i?.mapValue?.fields||{})[tC]?.stringValue===nC}function Mk(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===Tk}var W9={mapValue:{fields:{[tC]:{stringValue:nC},[iC]:{arrayValue:{}}}}};var $p=class{constructor(t,e=null,n=[],r=[],o=null,s="F",l=null,c=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function Rk(i){return new $p(i)}var K9=new zs(Gi.comparator);var G9=new zs(Gi.comparator);var Y9=new zs(Gi.comparator),Q9=new mu(Gi.comparator);var X9=new mu(Ki);var kw,He;(He=kw||(kw={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";var Z9=new lu([4294967295,4294967295],0);var fu=class{constructor(){}Dt(t,e){this.Ct(t,e),e.vt()}Ct(t,e){if("nullValue"in t)this.Ft(e,5);else if("booleanValue"in t)this.Ft(e,10),e.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(e,15),e.Mt(vl(t.integerValue));else if("doubleValue"in t){let n=vl(t.doubleValue);isNaN(n)?this.Ft(e,13):(this.Ft(e,15),pk(n)?e.Mt(0):e.Mt(n))}else if("timestampValue"in t){let n=t.timestampValue;this.Ft(e,20),typeof n=="string"&&(n=Ik(n)),e.xt(`${n.seconds||""}`),e.Mt(n.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,e),this.Nt(e);else if("bytesValue"in t)this.Ft(e,30),e.Bt(Ak(t.bytesValue)),this.Nt(e);else if("referenceValue"in t)this.Lt(t.referenceValue,e);else if("geoPointValue"in t){let n=t.geoPointValue;this.Ft(e,45),e.Mt(n.latitude||0),e.Mt(n.longitude||0)}else"mapValue"in t?Mk(t)?this.Ft(e,Number.MAX_SAFE_INTEGER):Dk(t)?this.kt(t.mapValue,e):(this.qt(t.mapValue,e),this.Nt(e)):"arrayValue"in t?(this.Qt(t.arrayValue,e),this.Nt(e)):An(19022,{$t:t})}Ot(t,e){this.Ft(e,25),this.Ut(t,e)}Ut(t,e){e.xt(t)}qt(t,e){let n=t.fields||{};this.Ft(e,55);for(let r of Object.keys(n))this.Ot(r,e),this.Ct(n[r],e)}kt(t,e){let n=t.fields||{};this.Ft(e,53);let r=iC,o=n[r].arrayValue?.values?.length||0;this.Ft(e,15),e.Mt(vl(o)),this.Ot(r,e),this.Ct(n[r],e)}Qt(t,e){let n=t.values||[];this.Ft(e,50);for(let r of n)this.Ct(r,e)}Lt(t,e){this.Ft(e,37),Gi.fromName(t).path.forEach(n=>{this.Ft(e,60),this.Ut(n,e)})}Ft(t,e){t.Mt(e)}Nt(t){t.Mt(2)}};fu.Kt=new fu;var J9=new Uint8Array(0);var rC=41943040,xi=class i{static withCacheSize(t){return new i(t,i.DEFAULT_COLLECTION_PERCENTILE,i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}};xi.DEFAULT_COLLECTION_PERCENTILE=10,xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xi.DEFAULT=new xi(rC,xi.DEFAULT_COLLECTION_PERCENTILE,xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xi.DISABLED=new xi(-1,0,0);var kk=1048576;function Mp(){return typeof document<"u"?document:null}var qp=class{constructor(t,e,n=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=n,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();let e=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-n);r>0&&ci("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}};var Hp=class i{constructor(t,e,n,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new vo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,r,o){let s=Date.now()+n,l=new i(t,e,s,r,o);return l.start(n),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ze(We.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var Ow,Pw;(Pw=Ow||(Ow={})).Ma="default",Pw.Cache="cache";function Ok(i){let t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}var Nw=new Map;var oC="firestore.googleapis.com",Fw=!0,gu=class{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ze(We.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oC,this.ssl=Fw}else this.host=t.host,this.ssl=t.ssl??Fw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=rC;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<kk)throw new ze(We.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ck("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ok(t.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ze(We.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ze(We.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ze(We.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(n,r){return n.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}},_u=class{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gu({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ze(We.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ze(We.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gu(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new Rp;switch(n.type){case"firstParty":return new Np(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ze(We.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return F(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){let n=Nw.get(e);n&&(ci("ComponentProvider","Removing Datastore"),Nw.delete(e),n.terminate())})(this),Promise.resolve()}};function sC(i,t,e,n={}){i=hk(i,_u);let r=Bo(t),o=i._getSettings(),s=ne(k({},o),{emulatorOptions:i._getEmulatorOptions()}),l=`${t}:${e}`;r&&(Uo(`https://${l}`),jo("Firestore",!0)),o.host!==oC&&o.host!==l&&ik("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let c=ne(k({},o),{host:l,ssl:r,emulatorOptions:n});if(!qo(c,s)&&(i._setSettings(c),n.mockUserToken)){let u,g;if(typeof n.mockUserToken=="string")u=n.mockUserToken,g=Bt.MOCK_USER;else{u=wc(n.mockUserToken,i._app?.options.projectId);let b=n.mockUserToken.sub||n.mockUserToken.user_id;if(!b)throw new ze(We.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Bt(b)}i._authCredentials=new kp(new du(u,g))}}var Wp=class i{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new i(this.firestore,t,this._query)}},wo=class i{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kp(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new i(this.firestore,t,this._key)}toJSON(){return{type:i._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,n){if(Il(e,i._jsonSchema))return new i(t,n||null,new Gi(Wi.fromString(e.referencePath)))}};wo._jsonSchemaVersion="firestore/documentReference/1.0",wo._jsonSchema={type:wt("string",wo._jsonSchemaVersion),referencePath:wt("string")};var Kp=class i extends Wp{constructor(t,e,n){super(t,e,Rk(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let t=this._path.popLast();return t.isEmpty()?null:new wo(this.firestore,null,new Gi(t))}withConverter(t){return new i(this.firestore,t,this._path)}};var Lw="AsyncQueue",yu=class{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qp(this,"async_queue_retry"),this._c=()=>{let n=Mp();n&&ci(Lw,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;let e=Mp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;let e=Mp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});let e=new vo;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}lc(){return F(this,null,function*(){if(this.Xu.length!==0){try{yield this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!mk(t))throw t;ci(Lw,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}})}cc(t){let e=this.ac.then(()=>(this.rc=!0,t().catch(n=>{throw this.nc=n,this.rc=!1,Uw("INTERNAL UNHANDLED ERROR: ",Vw(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=e,e}enqueueAfterDelay(t,e,n){this.uc(),this.oc.indexOf(t)>-1&&(e=0);let r=Hp.createAndSchedule(this,t,e,n,o=>this.hc(o));return this.tc.push(r),r}uc(){this.nc&&An(47125,{Pc:Vw(this.nc)})}verifyOperationInProgress(){}Tc(){return F(this,null,function*(){let t;do t=this.ac,yield t;while(t!==this.ac)})}Ic(t){for(let e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((e,n)=>e.targetTimeMs-n.targetTimeMs);for(let e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){let e=this.tc.indexOf(t);this.tc.splice(e,1)}};function Vw(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}var Gp=class extends _u{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new yu,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return F(this,null,function*(){if(this._firestoreClient){let t=this._firestoreClient.terminate();this._queue=new yu(t),this._firestoreClient=void 0,yield t}})}};function aC(i,t){let e=typeof i=="object"?i:yn(),n=typeof i=="string"?i:t||jp,r=On(e,"firestore").getImmediate({identifier:n});if(!r._initialized){let o=Vo("firestore");o&&sC(r,...o)}return r}var wl=class i{constructor(t){this._byteString=t}static fromBase64String(t){try{return new i(Ar.fromBase64String(t))}catch(e){throw new ze(We.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new i(Ar.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:i._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Il(t,i._jsonSchema))return i.fromBase64String(t.bytes)}};wl._jsonSchemaVersion="firestore/bytes/1.0",wl._jsonSchema={type:wt("string",wl._jsonSchemaVersion),bytes:wt("string")};var bu=class{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ze(We.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vp(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};var Cl=class i{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ze(We.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ze(We.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ki(this._lat,t._lat)||Ki(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:i._jsonSchemaVersion}}static fromJSON(t){if(Il(t,i._jsonSchema))return new i(t.latitude,t.longitude)}};Cl._jsonSchemaVersion="firestore/geoPoint/1.0",Cl._jsonSchema={type:wt("string",Cl._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};var El=class i{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return(function(n,r){if(n.length!==r.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Il(t,i._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(e=>typeof e=="number"))return new i(t.vectorValues);throw new ze(We.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};El._jsonSchemaVersion="firestore/vectorValue/1.0",El._jsonSchema={type:wt("string",El._jsonSchemaVersion),vectorValues:wt("object")};var Pk=new RegExp("[~\\*/\\[\\]]");function Nk(i,t,e){if(t.search(Pk)>=0)throw Bw(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new bu(...t.split("."))._internalPath}catch{throw Bw(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function Bw(i,t,e,n,r){let o=n&&!n.isEmpty(),s=r!==void 0,l=`Function ${t}() called with invalid data`;e&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${n}`),s&&(c+=` in document ${r}`),c+=")"),new ze(We.INVALID_ARGUMENT,l+i+c)}var vu=class{constructor(t,e,n,r,o){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let t=new Yp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){let e=this._document.data.field(lC("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}},Yp=class extends vu{data(){return super.data()}};function lC(i,t){return typeof t=="string"?Nk(i,t):t instanceof bu?t._internalPath:t._delegate._internalPath}var Vs=class{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}},Bs=class i extends vu{constructor(t,e,n,r,o,s){super(t,e,n,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){let e=new Us(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){let n=this._document.data.field(lC("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(We.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t=this._document,e={};return e.type=i._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}};Bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bs._jsonSchema={type:wt("string",Bs._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};var Us=class extends Bs{data(t={}){return super.data(t)}},Sl=class i{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Vs(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new Us(this._firestore,this._userDataWriter,n.key,n,new Vs(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){let e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ze(We.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(l=>{let c=new Us(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Vs(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{let c=new Us(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Vs(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),u=-1,g=-1;return l.type!==0&&(u=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),g=s.indexOf(l.doc.key)),{type:Fk(l.type),doc:c,oldIndex:u,newIndex:g}})}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(We.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let t={};t.type=i._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Lp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let e=[],n=[],r=[];return this.docs.forEach(o=>{o._document!==null&&(e.push(o._document),n.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}};function Fk(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return An(61501,{type:i})}}Sl._jsonSchemaVersion="firestore/querySnapshot/1.0",Sl._jsonSchema={type:wt("string",Sl._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};(function(t,e=!0){(function(r){xl=r})(zr),_n(new gn("firestore",(n,{instanceIdentifier:r,options:o})=>{let s=n.getProvider("app").getImmediate(),l=new Gp(new Op(n.getProvider("auth-internal")),new Fp(s,n.getProvider("app-check-internal")),(function(u,g){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ze(We.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zp(u.options.projectId,g)})(s,r),s);return o=k({useFetchStreams:e},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),qe(Aw,Tw,t),qe(Aw,Tw,"esm2020")})();var Al=class{constructor(t){return t}},cC="firestore",Xp=class{constructor(){return vn(cC)}};var Zp=new Y("angularfire2.firestore-instances");function Lk(i,t){let e=bn(cC,i,t);return e&&new Al(e)}function Vk(i){return(t,e)=>{let n=t.runOutsideAngular(()=>i(e));return new Al(n)}}var Bk={provide:Xp,deps:[[new et,Zp]]},Uk={provide:Al,useFactory:Lk,deps:[[new et,Zp],Cn]};function dC(i,...t){return qe("angularfire",Gt.full,"fst"),ct([Uk,Bk,{provide:Zp,useFactory:Vk(i),multi:!0,deps:[te,be,wn,En,[new et,Xo],[new et,Qo],...t]}])}var uC=Lt(aC,!0);var pC="functions";var Jp=class{constructor(t,e,n,r){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Go(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(o=>this.auth=o,()=>{}),this.messaging||n.get().then(o=>this.messaging=o,()=>{}),this.appCheck||r?.get().then(o=>this.appCheck=o,()=>{})}getAuthToken(){return F(this,null,function*(){if(this.auth)try{return(yield this.auth.getToken())?.accessToken}catch{return}})}getMessagingToken(){return F(this,null,function*(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return yield this.messaging.getToken()}catch{return}})}getAppCheckToken(t){return F(this,null,function*(){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){let e=t?yield this.appCheck.getLimitedUseToken():yield this.appCheck.getToken();return e.error?null:e.token}return null})}getContext(t){return F(this,null,function*(){let e=yield this.getAuthToken(),n=yield this.getMessagingToken(),r=yield this.getAppCheckToken(t);return{authToken:e,messagingToken:n,appCheckToken:r}})}};var ef="us-central1";var tf=class{constructor(t,e,n,r,o=ef,s=(...l)=>fetch(...l)){this.app=t,this.fetchImpl=s,this.emulatorOrigin=null,this.contextProvider=new Jp(t,e,n,r),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{let l=new URL(o);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=ef}catch{this.customDomain=null,this.region=o}}_delete(){return this.deleteService()}_url(t){let e=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${e}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${e}.cloudfunctions.net/${t}`}};function jk(i,t,e){let n=Bo(t);i.emulatorOrigin=`http${n?"s":""}://${t}:${e}`,n&&(Uo(i.emulatorOrigin+"/backends"),jo("Functions",!0))}var hC="@firebase/functions",mC="0.13.1";var zk="auth-internal",$k="app-check-internal",qk="messaging-internal";function Hk(i){let t=(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),o=e.getProvider(zk),s=e.getProvider(qk),l=e.getProvider($k);return new tf(r,o,s,l,n)};_n(new gn(pC,t,"PUBLIC").setMultipleInstances(!0)),qe(hC,mC,i),qe(hC,mC,"esm2020")}function fC(i=yn(),t=ef){let n=On(Kt(i),pC).getImmediate({identifier:t}),r=Vo("functions");return r&&gC(n,...r),n}function gC(i,t,e){jk(Kt(i),t,e)}Hk();var Tl=class{constructor(t){return t}},_C="functions",nf=class{constructor(){return vn(_C)}};var rf=new Y("angularfire2.functions-instances");function Wk(i,t){let e=bn(_C,i,t);return e&&new Tl(e)}function Kk(i){return(t,e)=>{let n=t.runOutsideAngular(()=>i(e));return new Tl(n)}}var Gk={provide:nf,deps:[[new et,rf]]},Yk={provide:Tl,useFactory:Wk,deps:[[new et,rf],Cn]};function yC(i,...t){return qe("angularfire",Gt.full,"fn"),ct([Yk,Gk,{provide:rf,useFactory:Kk(i),multi:!0,deps:[te,be,wn,En,[new et,Xo],[new et,Qo],...t]}])}var bC=Lt(fC,!0);var Qk="/firebase-messaging-sw.js",Xk="/firebase-cloud-messaging-push-scope",IC="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Zk="https://fcmregistrations.googleapis.com/v1",AC="google.c.a.c_id",Jk="google.c.a.c_l",eO="google.c.a.ts",tO="google.c.a.e",vC=1e4;var wu=(function(i){return i.PUSH_RECEIVED="push-received",i.NOTIFICATION_CLICKED="notification-clicked",i})(wu||{});function Yi(i){let t=new Uint8Array(i);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function nO(i){let t="=".repeat((4-i.length%4)%4),e=(i+t).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length);for(let o=0;o<n.length;++o)r[o]=n.charCodeAt(o);return r}var of="fcm_token_details_db",iO=5,wC="fcm_token_object_Store";function rO(i){return F(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(of))return null;let t=null;return(yield Mh(of,iO,{upgrade:(n,r,o,s)=>F(null,null,function*(){if(r<2||!n.objectStoreNames.contains(wC))return;let l=s.objectStore(wC),c=yield l.index("fcmSenderId").get(i);if(yield l.clear(),!!c){if(r===2){let u=c;if(!u.auth||!u.p256dh||!u.endpoint)return;t={token:u.fcmToken,createTime:u.createTime??Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:Yi(u.vapidKey)}}}else if(r===3){let u=c;t={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Yi(u.auth),p256dh:Yi(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Yi(u.vapidKey)}}}else if(r===4){let u=c;t={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:Yi(u.auth),p256dh:Yi(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:Yi(u.vapidKey)}}}}})})).close(),yield Cc(of),yield Cc("fcm_vapid_details_db"),yield Cc("undefined"),oO(t)?t:null})}function oO(i){if(!i||!i.subscriptionOptions)return!1;let{subscriptionOptions:t}=i;return typeof i.createTime=="number"&&i.createTime>0&&typeof i.token=="string"&&i.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}var sO="firebase-messaging-database",aO=1,Dl="firebase-messaging-store",sf=null;function TC(){return sf||(sf=Mh(sO,aO,{upgrade:(i,t)=>{switch(t){case 0:i.createObjectStore(Dl)}}})),sf}function lO(i){return F(this,null,function*(){let t=DC(i),n=yield(yield TC()).transaction(Dl).objectStore(Dl).get(t);if(n)return n;{let r=yield rO(i.appConfig.senderId);if(r)return yield cf(i,r),r}})}function cf(i,t){return F(this,null,function*(){let e=DC(i),r=(yield TC()).transaction(Dl,"readwrite");return yield r.objectStore(Dl).put(t,e),yield r.done,t})}function DC({appConfig:i}){return i.appId}var cO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},cn=new $o("messaging","Messaging",cO);function dO(i,t){return F(this,null,function*(){let e=yield uf(i),n=MC(t),r={method:"POST",headers:e,body:JSON.stringify(n)},o;try{o=yield(yield fetch(df(i.appConfig),r)).json()}catch(s){throw cn.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw cn.create("token-subscribe-failed",{errorInfo:s})}if(!o.token)throw cn.create("token-subscribe-no-token");return o.token})}function uO(i,t){return F(this,null,function*(){let e=yield uf(i),n=MC(t.subscriptionOptions),r={method:"PATCH",headers:e,body:JSON.stringify(n)},o;try{o=yield(yield fetch(`${df(i.appConfig)}/${t.token}`,r)).json()}catch(s){throw cn.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error){let s=o.error.message;throw cn.create("token-update-failed",{errorInfo:s})}if(!o.token)throw cn.create("token-update-no-token");return o.token})}function hO(i,t){return F(this,null,function*(){let n={method:"DELETE",headers:yield uf(i)};try{let o=yield(yield fetch(`${df(i.appConfig)}/${t}`,n)).json();if(o.error){let s=o.error.message;throw cn.create("token-unsubscribe-failed",{errorInfo:s})}}catch(r){throw cn.create("token-unsubscribe-failed",{errorInfo:r?.toString()})}})}function df({projectId:i}){return`${Zk}/projects/${i}/registrations`}function uf(e){return F(this,arguments,function*({appConfig:i,installations:t}){let n=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})}function MC({p256dh:i,auth:t,endpoint:e,vapidKey:n}){let r={web:{endpoint:e,auth:t,p256dh:i}};return n!==IC&&(r.web.applicationPubKey=n),r}var mO=10080*60*1e3;function pO(i){return F(this,null,function*(){let t=yield gO(i.swRegistration,i.vapidKey),e={vapidKey:i.vapidKey,swScope:i.swRegistration.scope,endpoint:t.endpoint,auth:Yi(t.getKey("auth")),p256dh:Yi(t.getKey("p256dh"))},n=yield lO(i.firebaseDependencies);if(n){if(_O(n.subscriptionOptions,e))return Date.now()>=n.createTime+mO?fO(i,{token:n.token,createTime:Date.now(),subscriptionOptions:e}):n.token;try{yield hO(i.firebaseDependencies,n.token)}catch(r){console.warn(r)}return CC(i.firebaseDependencies,e)}else return CC(i.firebaseDependencies,e)})}function fO(i,t){return F(this,null,function*(){try{let e=yield uO(i.firebaseDependencies,t),n=ne(k({},t),{token:e,createTime:Date.now()});return yield cf(i.firebaseDependencies,n),e}catch(e){throw e}})}function CC(i,t){return F(this,null,function*(){let n={token:yield dO(i,t),createTime:Date.now(),subscriptionOptions:t};return yield cf(i,n),n.token})}function gO(i,t){return F(this,null,function*(){let e=yield i.pushManager.getSubscription();return e||i.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:nO(t)})})}function _O(i,t){let e=t.vapidKey===i.vapidKey,n=t.endpoint===i.endpoint,r=t.auth===i.auth,o=t.p256dh===i.p256dh;return e&&n&&r&&o}function EC(i){let t={from:i.from,collapseKey:i.collapse_key,messageId:i.fcmMessageId};return yO(t,i),bO(t,i),vO(t,i),t}function yO(i,t){if(!t.notification)return;i.notification={};let e=t.notification.title;e&&(i.notification.title=e);let n=t.notification.body;n&&(i.notification.body=n);let r=t.notification.image;r&&(i.notification.image=r);let o=t.notification.icon;o&&(i.notification.icon=o)}function bO(i,t){t.data&&(i.data=t.data)}function vO(i,t){if(!t.fcmOptions&&!t.notification?.click_action)return;i.fcmOptions={};let e=t.fcmOptions?.link??t.notification?.click_action;e&&(i.fcmOptions.link=e);let n=t.fcmOptions?.analytics_label;n&&(i.fcmOptions.analyticsLabel=n)}function wO(i){return typeof i=="object"&&!!i&&AC in i}CO("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function CO(i,t){let e=[];for(let n=0;n<i.length;n++)e.push(i.charAt(n)),n<t.length&&e.push(t.charAt(n));return e.join("")}function EO(i){if(!i||!i.options)throw af("App Configuration Object");if(!i.name)throw af("App Name");let t=["projectId","apiKey","appId","messagingSenderId"],{options:e}=i;for(let n of t)if(!e[n])throw af(n);return{appName:i.name,projectId:e.projectId,apiKey:e.apiKey,appId:e.appId,senderId:e.messagingSenderId}}function af(i){return cn.create("missing-app-config-values",{valueName:i})}var lf=class{constructor(t,e,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let r=EO(t);this.firebaseDependencies={app:t,appConfig:r,installations:e,analyticsProvider:n}}_delete(){return Promise.resolve()}};function SO(i){return F(this,null,function*(){try{i.swRegistration=yield navigator.serviceWorker.register(Qk,{scope:Xk}),i.swRegistration.update().catch(()=>{}),yield xO(i.swRegistration)}catch(t){throw cn.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}})}function xO(i){return F(this,null,function*(){return new Promise((t,e)=>{let n=setTimeout(()=>e(new Error(`Service worker not registered after ${vC} ms`)),vC),r=i.installing||i.waiting;i.active?(clearTimeout(n),t()):r?r.onstatechange=o=>{o.target?.state==="activated"&&(r.onstatechange=null,clearTimeout(n),t())}:(clearTimeout(n),e(new Error("No incoming service worker found.")))})})}function IO(i,t){return F(this,null,function*(){if(!t&&!i.swRegistration&&(yield SO(i)),!(!t&&i.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw cn.create("invalid-sw-registration");i.swRegistration=t}})}function AO(i,t){return F(this,null,function*(){t?i.vapidKey=t:i.vapidKey||(i.vapidKey=IC)})}function TO(i,t){return F(this,null,function*(){if(!navigator)throw cn.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw cn.create("permission-blocked");return yield AO(i,t?.vapidKey),yield IO(i,t?.serviceWorkerRegistration),pO(i)})}function DO(i,t,e){return F(this,null,function*(){let n=MO(t);(yield i.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:e[AC],message_name:e[Jk],message_time:e[eO],message_device_time:Math.floor(Date.now()/1e3)})})}function MO(i){switch(i){case wu.NOTIFICATION_CLICKED:return"notification_open";case wu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function RO(i,t){return F(this,null,function*(){let e=t.data;if(!e.isFirebaseMessaging)return;i.onMessageHandler&&e.messageType===wu.PUSH_RECEIVED&&(typeof i.onMessageHandler=="function"?i.onMessageHandler(EC(e)):i.onMessageHandler.next(EC(e)));let n=e.data;wO(n)&&n[tO]==="1"&&(yield DO(i,e.messageType,n))})}var SC="@firebase/messaging",xC="0.12.23";var kO=i=>{let t=new lf(i.getProvider("app").getImmediate(),i.getProvider("installations-internal").getImmediate(),i.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>RO(t,e)),t},OO=i=>{let t=i.getProvider("messaging").getImmediate();return{getToken:n=>TO(t,n)}};function PO(){_n(new gn("messaging",kO,"PUBLIC")),_n(new gn("messaging-internal",OO,"PRIVATE")),qe(SC,xC),qe(SC,xC,"esm2020")}function RC(){return F(this,null,function*(){try{yield zo()}catch{return!1}return typeof window<"u"&&ur()&&Aa()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function kC(i=yn()){return RC().then(t=>{if(!t)throw cn.create("unsupported-browser")},t=>{throw cn.create("indexed-db-unsupported")}),On(Kt(i),"messaging").getImmediate()}PO();var Ml=class{constructor(t){return t}},OC="messaging",hf=class{constructor(){return vn(OC)}};var mf=new Y("angularfire2.messaging-instances");function NO(i,t,e){if(Lo(e))return null;let n=bn(OC,i,t);return n&&new Ml(n)}function FO(i){return(t,e,n)=>{if(Lo(n))return null;let r=t.runOutsideAngular(()=>i(e));return new Ml(r)}}var LO={provide:hf,deps:[[new et,mf]]},VO={provide:Ml,useFactory:NO,deps:[[new et,mf],Cn,ut]};function PC(i,...t){return qe("angularfire",Gt.full,"fcm"),ct([VO,LO,{provide:mf,useFactory:FO(i),multi:!0,deps:[te,be,ut,wn,En,...t]}])}var NC=Lt(kC,!0);var Rl=class{constructor(t){return t}},FC="performance",pf=class{constructor(){return vn(FC)}};var ff=new Y("angularfire2.performance-instances");function BO(i,t,e){if(!yi(e))return null;let n=bn(FC,i,t);return n&&new Rl(n)}function UO(i){return(t,e,n)=>{if(!yi(e))return null;let r=t.runOutsideAngular(()=>i(n));return new Rl(r)}}var jO={provide:pf,deps:[[new et,ff]]},zO={provide:Rl,useFactory:BO,deps:[[new et,ff],Cn,ut]};function LC(i,...t){return qe("angularfire",Gt.full,"perf"),ct([zO,jO,{provide:ff,useFactory:UO(i),multi:!0,deps:[te,ut,be,wn,En,...t]}])}var VC=Lt(Sy,!0);var qC="firebasestorage.googleapis.com",$O="storageBucket",qO=120*1e3,HO=600*1e3;var Ai=class i extends Fi{constructor(t,e,n=0){super(gf(t),`Firebase Storage: ${e} (${gf(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,i.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return gf(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Xi=(function(i){return i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment",i})(Xi||{});function gf(i){return"storage/"+i}function WO(){let i="An unknown error occurred, please check the error payload for server response.";return new Ai(Xi.UNKNOWN,i)}function KO(){return new Ai(Xi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function GO(){return new Ai(Xi.CANCELED,"User canceled the upload/download.")}function YO(i){return new Ai(Xi.INVALID_URL,"Invalid URL '"+i+"'.")}function QO(i){return new Ai(Xi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function BC(i){return new Ai(Xi.INVALID_ARGUMENT,i)}function HC(){return new Ai(Xi.APP_DELETED,"The Firebase app was deleted.")}function XO(i){return new Ai(Xi.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Qi=class i{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let n;try{n=i.makeFromUrl(t,e)}catch{return new i(t,"")}if(n.path==="")return n;throw QO(t)}static makeFromUrl(t,e){let n=null,r="([A-Za-z0-9.\\-_]+)";function o(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}let s="(/(.*))?$",l=new RegExp("^gs://"+r+s,"i"),c={bucket:1,path:3};function u(Q){Q.path_=decodeURIComponent(Q.path)}let g="v[A-Za-z0-9_]+",b=e.replace(/[.]/g,"\\."),C="(/([^?#]*).*)?$",R=new RegExp(`^https?://${b}/${g}/b/${r}/o${C}`,"i"),T={bucket:1,path:3},O=e===qC?"(?:storage.googleapis.com|storage.cloud.google.com)":e,B="([^?#]*)",z=new RegExp(`^https?://${O}/${r}/${B}`,"i"),Z=[{regex:l,indices:c,postModify:o},{regex:R,indices:T,postModify:u},{regex:z,indices:{bucket:1,path:2},postModify:u}];for(let Q=0;Q<Z.length;Q++){let we=Z[Q],_e=we.regex.exec(t);if(_e){let x=_e[we.indices.bucket],w=_e[we.indices.path];w||(w=""),n=new i(x,w),we.postModify(n);break}}if(n==null)throw YO(t);return n}},_f=class{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}};function ZO(i,t,e){let n=1,r=null,o=null,s=!1,l=0;function c(){return l===2}let u=!1;function g(...B){u||(u=!0,t.apply(null,B))}function b(B){r=setTimeout(()=>{r=null,i(R,c())},B)}function C(){o&&clearTimeout(o)}function R(B,...z){if(u){C();return}if(B){C(),g.call(null,B,...z);return}if(c()||s){C(),g.call(null,B,...z);return}n<64&&(n*=2);let Z;l===1?(l=2,Z=0):Z=(n+Math.random())*1e3,b(Z)}let T=!1;function O(B){T||(T=!0,C(),!u&&(r!==null?(B||(l=2),clearTimeout(r),b(0)):B||(l=1)))}return b(0),o=setTimeout(()=>{s=!0,O(!0)},e),O}function JO(i){i(!1)}function eP(i){return i!==void 0}function UC(i,t,e,n){if(n<t)throw BC(`Invalid value for '${i}'. Expected ${t} or greater.`);if(n>e)throw BC(`Invalid value for '${i}'. Expected ${e} or less.`)}function tP(i){let t=encodeURIComponent,e="?";for(let n in i)if(i.hasOwnProperty(n)){let r=t(n)+"="+t(i[n]);e=e+r+"&"}return e=e.slice(0,-1),e}var yf=(function(i){return i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT",i})(yf||{});function nP(i,t){let e=i>=500&&i<600,r=[408,429].indexOf(i)!==-1,o=t.indexOf(i)!==-1;return e||r||o}var bf=class{constructor(t,e,n,r,o,s,l,c,u,g,b,C=!0,R=!1){this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=g,this.connectionFactory_=b,this.retry=C,this.isUsingEmulator=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,O)=>{this.resolve_=T,this.reject_=O,this.start_()})}start_(){let t=(n,r)=>{if(r){n(!1,new $s(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=l=>{let c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let l=o.getErrorCode()===yf.NO_ERROR,c=o.getStatus();if(!l||nP(c,this.additionalRetryCodes_)&&this.retry){let g=o.getErrorCode()===yf.ABORT;n(!1,new $s(!1,null,g));return}let u=this.successCodes_.indexOf(c)!==-1;n(!0,new $s(u,o))})},e=(n,r)=>{let o=this.resolve_,s=this.reject_,l=r.connection;if(r.wasSuccessCode)try{let c=this.callback_(l,l.getResponse());eP(c)?o(c):o()}catch(c){s(c)}else if(l!==null){let c=WO();c.serverResponse=l.getErrorText(),this.errorCallback_?s(this.errorCallback_(l,c)):s(c)}else if(r.canceled){let c=this.appDelete_?HC():GO();s(c)}else{let c=KO();s(c)}};this.canceled_?e(!1,new $s(!1,null,!0)):this.backoffId_=ZO(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&JO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},$s=class{constructor(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}};function iP(i,t){t!==null&&t.length>0&&(i.Authorization="Firebase "+t)}function rP(i,t){i["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function oP(i,t){t&&(i["X-Firebase-GMPID"]=t)}function sP(i,t){t!==null&&(i["X-Firebase-AppCheck"]=t)}function aP(i,t,e,n,r,o,s=!0,l=!1){let c=tP(i.urlParams),u=i.url+c,g=Object.assign({},i.headers);return oP(g,t),iP(g,e),rP(g,o),sP(g,n),new bf(u,i.method,g,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,r,s,l)}function lP(i){if(i.length===0)return null;let t=i.lastIndexOf("/");return t===-1?"":i.slice(0,t)}function cP(i){let t=i.lastIndexOf("/",i.length-2);return t===-1?i:i.slice(t+1)}var b$=256*1024;var vf=class i{constructor(t,e){this._service=t,e instanceof Qi?this._location=e:this._location=Qi.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new i(t,e)}get root(){let t=new Qi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return cP(this._location.path)}get storage(){return this._service}get parent(){let t=lP(this._location.path);if(t===null)return null;let e=new Qi(this._location.bucket,t);return new i(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw XO(t)}};function jC(i,t){let e=t?.[$O];return e==null?null:Qi.makeFromBucketSpec(e,i)}function dP(i,t,e,n={}){i.host=`${t}:${e}`;let r=Bo(t);r&&(Uo(`https://${i.host}/b`),jo("Storage",!0)),i._isUsingEmulator=!0,i._protocol=r?"https":"http";let{mockUserToken:o}=n;o&&(i._overrideAuthToken=typeof o=="string"?o:wc(o,i.app.options.projectId))}var wf=class{constructor(t,e,n,r,o,s=!1){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=qC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=qO,this._maxUploadRetryTime=HO,this._requests=new Set,r!=null?this._bucket=Qi.makeFromBucketSpec(r,this._host):this._bucket=jC(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Qi.makeFromBucketSpec(this._url,t):this._bucket=jC(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){UC("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){UC("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){return F(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let t=this._authProvider.getImmediate({optional:!0});if(t){let e=yield t.getToken();if(e!==null)return e.accessToken}return null})}_getAppCheckToken(){return F(this,null,function*(){if(Go(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=this._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new vf(this,t)}_makeRequest(t,e,n,r,o=!0){if(this._deleted)return new _f(HC());{let s=aP(t,this._appId,n,r,e,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(t,e){return F(this,null,function*(){let[n,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,n,r).getPromise()})}},zC="@firebase/storage",$C="0.14.0";var WC="storage";function KC(i=yn(),t){i=Kt(i);let n=On(i,WC).getImmediate({identifier:t}),r=Vo("storage");return r&&GC(n,...r),n}function GC(i,t,e,n={}){dP(i,t,e,n)}function uP(i,{instanceIdentifier:t}){let e=i.getProvider("app").getImmediate(),n=i.getProvider("auth-internal"),r=i.getProvider("app-check-internal");return new wf(e,n,r,t,zr)}function hP(){_n(new gn(WC,uP,"PUBLIC").setMultipleInstances(!0)),qe(zC,$C,""),qe(zC,$C,"esm2020")}hP();var kl=class{constructor(t){return t}},YC="storage",Cf=class{constructor(){return vn(YC)}};var Ef=new Y("angularfire2.storage-instances");function mP(i,t){let e=bn(YC,i,t);return e&&new kl(e)}function pP(i){return(t,e)=>{let n=t.runOutsideAngular(()=>i(e));return new kl(n)}}var fP={provide:Cf,deps:[[new et,Ef]]},gP={provide:kl,useFactory:mP,deps:[[new et,Ef],Cn]};function QC(i,...t){return qe("angularfire",Gt.full,"gcs"),ct([gP,fP,{provide:Ef,useFactory:pP(i),multi:!0,deps:[te,be,wn,En,[new et,Xo],[new et,Qo],...t]}])}var XC=Lt(KC,!0);var Sf="@firebase/remote-config",ZC="0.7.0";var If=class{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}};var sE="remote-config",JC=100;var _P={"already-initialized":"Remote Config already initialized","registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser","custom-signal-max-allowed-signals":"Setting more than {$maxSignals} custom signals is not supported.","stream-error":"The stream was not able to connect to the backend: {$originalErrorMessage}.","realtime-unavailable":"The Realtime service is unavailable: {$originalErrorMessage}","update-message-invalid":"The stream invalidation message was unparsable: {$originalErrorMessage}","update-not-fetched":"Unable to fetch the latest config: {$originalErrorMessage}"},Ct=new $o("remoteconfig","Remote Config",_P);function aE(i=yn(),t={}){i=Kt(i);let e=On(i,sE);if(e.isInitialized()){let r=e.getOptions();if(qo(r,t))return e.getImmediate();throw Ct.create("already-initialized")}e.initialize({options:t});let n=e.getImmediate();return t.initialFetchResponse&&(n._initializePromise=Promise.all([n._storage.setLastSuccessfulFetchResponse(t.initialFetchResponse),n._storage.setActiveConfigEtag(t.initialFetchResponse?.eTag||""),n._storage.setActiveConfigTemplateVersion(t.initialFetchResponse.templateVersion||0),n._storageCache.setLastSuccessfulFetchTimestampMillis(Date.now()),n._storageCache.setLastFetchStatus("success"),n._storageCache.setActiveConfig(t.initialFetchResponse?.config||{})]).then(),n._isInitializationComplete=!0),n}function lE(i){let t=Kt(i);return t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0})),t._initializePromise}var Af=class{constructor(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}isCachedDataFresh(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;let n=Date.now()-e,r=n<=t;return this.logger.debug(`Config fetch cache check. Cache age millis: ${n}. Cache max age millis (minimumFetchIntervalMillis setting): ${t}. Is cache hit: ${r}.`),r}fetch(t){return F(this,null,function*(){let[e,n]=yield Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()]);if(n&&this.isCachedDataFresh(t.cacheMaxAgeMillis,e))return n;t.eTag=n&&n.eTag;let r=yield this.client.fetch(t),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return r.status===200&&o.push(this.storage.setLastSuccessfulFetchResponse(r)),yield Promise.all(o),r})}};function yP(i=navigator){return i.languages&&i.languages[0]||i.language}var Tf=class{constructor(t,e,n,r,o,s){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=o,this.appId=s}fetch(t){return F(this,null,function*(){let[e,n]=yield Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:fetch?key=${this.apiKey}`,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},l={sdk_version:this.sdkVersion,app_instance_id:e,app_instance_id_token:n,app_id:this.appId,language_code:yP(),custom_signals:t.customSignals},c={method:"POST",headers:s,body:JSON.stringify(l)},u=fetch(o,c),g=new Promise((z,X)=>{t.signal.addEventListener(()=>{let Z=new Error("The operation was aborted.");Z.name="AbortError",X(Z)})}),b;try{yield Promise.race([u,g]),b=yield u}catch(z){let X="fetch-client-network";throw z?.name==="AbortError"&&(X="fetch-timeout"),Ct.create(X,{originalErrorMessage:z?.message})}let C=b.status,R=b.headers.get("ETag")||void 0,T,O,B;if(b.status===200){let z;try{z=yield b.json()}catch(X){throw Ct.create("fetch-client-parse",{originalErrorMessage:X?.message})}T=z.entries,O=z.state,B=z.templateVersion}if(O==="INSTANCE_STATE_UNSPECIFIED"?C=500:O==="NO_CHANGE"?C=304:(O==="NO_TEMPLATE"||O==="EMPTY_CONFIG")&&(T={}),C!==304&&C!==200)throw Ct.create("fetch-status",{httpStatus:C});return{status:C,eTag:R,config:T,templateVersion:B}})}};function bP(i,t){return new Promise((e,n)=>{let r=Math.max(t-Date.now(),0),o=setTimeout(e,r);i.addEventListener(()=>{clearTimeout(o),n(Ct.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function vP(i){if(!(i instanceof Fi)||!i.customData)return!1;let t=Number(i.customData.httpStatus);return t===429||t===500||t===503||t===504}var Df=class{constructor(t,e){this.client=t,this.storage=e}fetch(t){return F(this,null,function*(){let e=(yield this.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return this.attemptFetch(t,e)})}attemptFetch(r,o){return F(this,arguments,function*(t,{throttleEndTimeMillis:e,backoffCount:n}){yield bP(t.signal,e);try{let s=yield this.client.fetch(t);return yield this.storage.deleteThrottleMetadata(),s}catch(s){if(!vP(s))throw s;let l={throttleEndTimeMillis:Date.now()+Ho(n),backoffCount:n+1};return yield this.storage.setThrottleMetadata(l),this.attemptFetch(t,l)}})}};var wP=60*1e3,CP=720*60*1e3,Mf=class{get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}constructor(t,e,n,r,o,s){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=o,this._realtimeHandler=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:wP,minimumFetchIntervalMillis:CP},this.defaultConfig={}}};function Cu(i,t){let e=i.target.error||void 0;return Ct.create(t,{originalErrorMessage:e&&e?.message})}var Tr="app_namespace_store",EP="firebase_remote_config",SP=1;function xP(){return new Promise((i,t)=>{try{let e=indexedDB.open(EP,SP);e.onerror=n=>{t(Cu(n,"storage-open"))},e.onsuccess=n=>{i(n.target.result)},e.onupgradeneeded=n=>{let r=n.target.result;switch(n.oldVersion){case 0:r.createObjectStore(Tr,{keyPath:"compositeKey"})}}}catch(e){t(Ct.create("storage-open",{originalErrorMessage:e?.message}))}})}var Eu=class{getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(t){return this.set("last_fetch_status",t)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(t){return this.set("last_successful_fetch_timestamp_millis",t)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(t){return this.set("last_successful_fetch_response",t)}getActiveConfig(){return this.get("active_config")}setActiveConfig(t){return this.set("active_config",t)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(t){return this.set("active_config_etag",t)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(t){return this.set("throttle_metadata",t)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}getCustomSignals(){return this.get("custom_signals")}getRealtimeBackoffMetadata(){return this.get("realtime_backoff_metadata")}setRealtimeBackoffMetadata(t){return this.set("realtime_backoff_metadata",t)}getActiveConfigTemplateVersion(){return this.get("last_known_template_version")}setActiveConfigTemplateVersion(t){return this.set("last_known_template_version",t)}},Rf=class extends Eu{constructor(t,e,n,r=xP()){super(),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}setCustomSignals(t){return F(this,null,function*(){let n=(yield this.openDbPromise).transaction([Tr],"readwrite"),r=yield this.getWithTransaction("custom_signals",n),o=cE(t,r||{});return yield this.setWithTransaction("custom_signals",o,n),o})}getWithTransaction(t,e){return F(this,null,function*(){return new Promise((n,r)=>{let o=e.objectStore(Tr),s=this.createCompositeKey(t);try{let l=o.get(s);l.onerror=c=>{r(Cu(c,"storage-get"))},l.onsuccess=c=>{let u=c.target.result;n(u?u.value:void 0)}}catch(l){r(Ct.create("storage-get",{originalErrorMessage:l?.message}))}})})}setWithTransaction(t,e,n){return F(this,null,function*(){return new Promise((r,o)=>{let s=n.objectStore(Tr),l=this.createCompositeKey(t);try{let c=s.put({compositeKey:l,value:e});c.onerror=u=>{o(Cu(u,"storage-set"))},c.onsuccess=()=>{r()}}catch(c){o(Ct.create("storage-set",{originalErrorMessage:c?.message}))}})})}get(t){return F(this,null,function*(){let n=(yield this.openDbPromise).transaction([Tr],"readonly");return this.getWithTransaction(t,n)})}set(t,e){return F(this,null,function*(){let r=(yield this.openDbPromise).transaction([Tr],"readwrite");return this.setWithTransaction(t,e,r)})}delete(t){return F(this,null,function*(){let e=yield this.openDbPromise;return new Promise((n,r)=>{let s=e.transaction([Tr],"readwrite").objectStore(Tr),l=this.createCompositeKey(t);try{let c=s.delete(l);c.onerror=u=>{r(Cu(u,"storage-delete"))},c.onsuccess=()=>{n()}}catch(c){r(Ct.create("storage-delete",{originalErrorMessage:c?.message}))}})})}createCompositeKey(t){return[this.appId,this.appName,this.namespace,t].join()}},kf=class extends Eu{constructor(){super(...arguments),this.storage={}}get(t){return F(this,null,function*(){return Promise.resolve(this.storage[t])})}set(t,e){return F(this,null,function*(){return this.storage[t]=e,Promise.resolve(void 0)})}delete(t){return F(this,null,function*(){return this.storage[t]=void 0,Promise.resolve()})}setCustomSignals(t){return F(this,null,function*(){let e=this.storage.custom_signals||{};return this.storage.custom_signals=cE(t,e),Promise.resolve(this.storage.custom_signals)})}};function cE(i,t){let e=k(k({},t),i),n=Object.fromEntries(Object.entries(e).filter(([r,o])=>o!==null).map(([r,o])=>typeof o=="number"?[r,o.toString()]:[r,o]));if(Object.keys(n).length>JC)throw Ct.create("custom-signal-max-allowed-signals",{maxSignals:JC});return n}var Of=class{constructor(t){this.storage=t}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}getCustomSignals(){return this.customSignals}loadFromStorage(){return F(this,null,function*(){let t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),r=this.storage.getCustomSignals(),o=yield t;o&&(this.lastFetchStatus=o);let s=yield e;s&&(this.lastSuccessfulFetchTimestampMillis=s);let l=yield n;l&&(this.activeConfig=l);let c=yield r;c&&(this.customSignals=c)})}setLastFetchStatus(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)}setLastSuccessfulFetchTimestampMillis(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)}setActiveConfig(t){return this.activeConfig=t,this.storage.setActiveConfig(t)}setCustomSignals(t){return F(this,null,function*(){this.customSignals=yield this.storage.setCustomSignals(t)})}};var Pf=class{constructor(t){this.allowedEvents_=t,this.listeners_={},vc(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){let n=[...this.listeners_[t]];for(let r=0;r<n.length;r++)n[r].callback.apply(n[r].context,e)}}on(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});let r=this.getInitialEvent(t);r&&e.apply(n,r)}off(t,e,n){this.validateEventType_(t);let r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!n||n===r[o].context)){r.splice(o,1);return}}validateEventType_(t){vc(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}};var Nf=class i extends Pf{static getInstance(){return new i}constructor(){super(["visible"]);let t,e;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{let n=!document[t];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}getInitialEvent(t){return vc(t==="visible","Unknown event type: "+t),[this.visible_]}};var IP="X-Goog-Api-Key",AP="X-Goog-Firebase-Installations-Auth",xf=8,eE=3,tE=-1,nE=0,iE="featureDisabled",rE="retryIntervalSeconds",oE="latestTemplateVersionNumber",Ff=class{constructor(t,e,n,r,o,s,l,c,u,g){this.firebaseInstallations=t,this.storage=e,this.sdkVersion=n,this.namespace=r,this.projectId=o,this.apiKey=s,this.appId=l,this.logger=c,this.storageCache=u,this.cachingClient=g,this.observers=new Set,this.isConnectionActive=!1,this.isRealtimeDisabled=!1,this.httpRetriesRemaining=xf,this.isInBackground=!1,this.decoder=new TextDecoder("utf-8"),this.isClosingConnection=!1,this.propagateError=b=>this.observers.forEach(C=>C.error?.(b)),this.isStatusCodeRetryable=b=>!b||[408,429,502,503,504].includes(b),this.setRetriesRemaining(),Nf.getInstance().on("visible",this.onVisibilityChange,this)}setRetriesRemaining(){return F(this,null,function*(){let e=(yield this.storage.getRealtimeBackoffMetadata())?.numFailedStreams||0;this.httpRetriesRemaining=Math.max(xf-e,1)})}updateBackoffMetadataWithLastFailedStreamConnectionTime(t){return F(this,null,function*(){let e=((yield this.storage.getRealtimeBackoffMetadata())?.numFailedStreams||0)+1,n=Ho(e,6e4,2);yield this.storage.setRealtimeBackoffMetadata({backoffEndTimeMillis:new Date(t.getTime()+n),numFailedStreams:e})})}updateBackoffMetadataWithRetryInterval(t){return F(this,null,function*(){let e=Date.now(),n=t*1e3,r=new Date(e+n);yield this.storage.setRealtimeBackoffMetadata({backoffEndTimeMillis:r,numFailedStreams:0}),yield this.retryHttpConnectionWhenBackoffEnds()})}closeRealtimeHttpConnection(){return F(this,null,function*(){if(!this.isClosingConnection){this.isClosingConnection=!0;try{this.reader&&(yield this.reader.cancel())}catch{this.logger.debug("Failed to cancel the reader, connection was lost.")}finally{this.reader=void 0}this.controller&&(yield this.controller.abort(),this.controller=void 0),this.isClosingConnection=!1}})}resetRealtimeBackoff(){return F(this,null,function*(){yield this.storage.setRealtimeBackoffMetadata({backoffEndTimeMillis:new Date(-1),numFailedStreams:0})})}resetRetryCount(){this.httpRetriesRemaining=xf}establishRealtimeConnection(t,e,n,r){return F(this,null,function*(){let o=yield this.storage.getActiveConfigEtag(),s=yield this.storage.getActiveConfigTemplateVersion(),l={[IP]:this.apiKey,[AP]:n,"Content-Type":"application/json",Accept:"application/json","If-None-Match":o||"*","Content-Encoding":"gzip"},c={project:this.projectId,namespace:this.namespace,lastKnownVersionNumber:s,appId:this.appId,sdkVersion:this.sdkVersion,appInstanceId:e};return yield fetch(t,{method:"POST",headers:l,body:JSON.stringify(c),signal:r})})}getRealtimeUrl(){let e=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfigrealtime.googleapis.com"}/v1/projects/${this.projectId}/namespaces/${this.namespace}:streamFetchInvalidations?key=${this.apiKey}`;return new URL(e)}createRealtimeConnection(){return F(this,null,function*(){let[t,e]=yield Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken(!1)]);this.controller=new AbortController;let n=this.getRealtimeUrl();return yield this.establishRealtimeConnection(n,t,e,this.controller.signal)})}retryHttpConnectionWhenBackoffEnds(){return F(this,null,function*(){let t=yield this.storage.getRealtimeBackoffMetadata();t||(t={backoffEndTimeMillis:new Date(tE),numFailedStreams:nE});let e=new Date(t.backoffEndTimeMillis).getTime(),n=Date.now(),r=Math.max(0,e-n);yield this.makeRealtimeHttpConnection(r)})}setIsHttpConnectionRunning(t){this.isConnectionActive=t}checkAndSetHttpConnectionFlagIfNotRunning(){let t=this.canEstablishStreamConnection();return t&&this.setIsHttpConnectionRunning(!0),t}fetchResponseIsUpToDate(t,e){return t.config!=null&&t.templateVersion?t.templateVersion>=e:this.storageCache.getLastFetchStatus()==="success"}parseAndValidateConfigUpdateMessage(t){let e=t.indexOf("{"),n=t.indexOf("}",e);return e<0||n<0||e>=n?"":t.substring(e,n+1)}isEventListenersEmpty(){return this.observers.size===0}getRandomInt(t){return Math.floor(Math.random()*t)}executeAllListenerCallbacks(t){this.observers.forEach(e=>e.next(t))}getChangedParams(t,e){let n=new Set,r=new Set(Object.keys(t||{})),o=new Set(Object.keys(e||{}));for(let s of r)(!o.has(s)||t[s]!==e[s])&&n.add(s);for(let s of o)r.has(s)||n.add(s);return n}fetchLatestConfig(t,e){return F(this,null,function*(){let n=t-1,r=eE-n,o=this.storageCache.getCustomSignals();o&&this.logger.debug(`Fetching config with custom signals: ${JSON.stringify(o)}`);let s=new If;try{let l={cacheMaxAgeMillis:0,signal:s,customSignals:o,fetchType:"REALTIME",fetchAttempt:r},c=yield this.cachingClient.fetch(l),u=yield this.storage.getActiveConfig();if(!this.fetchResponseIsUpToDate(c,e)){this.logger.debug("Fetched template version is the same as SDK's current version. Retrying fetch."),yield this.autoFetch(n,e);return}if(c.config==null){this.logger.debug("The fetch succeeded, but the backend had no updates.");return}u==null&&(u={});let g=this.getChangedParams(c.config,u);if(g.size===0){this.logger.debug("Config was fetched, but no params changed.");return}let b={getUpdatedKeys(){return new Set(g)}};this.executeAllListenerCallbacks(b)}catch(l){let c=l instanceof Error?l.message:String(l),u=Ct.create("update-not-fetched",{originalErrorMessage:`Failed to auto-fetch config update: ${c}`});this.propagateError(u)}})}autoFetch(t,e){return F(this,null,function*(){if(t===0){let o=Ct.create("update-not-fetched",{originalErrorMessage:"Unable to fetch the latest version of the template."});this.propagateError(o);return}let r=this.getRandomInt(4)*1e3;yield new Promise(o=>setTimeout(o,r)),yield this.fetchLatestConfig(t,e)})}handleNotifications(t){return F(this,null,function*(){let e,n="";for(;;){let{done:r,value:o}=yield t.read();if(r)break;if(e=this.decoder.decode(o,{stream:!0}),n+=e,e.includes("}")){if(n=this.parseAndValidateConfigUpdateMessage(n),n.length===0)continue;try{let s=JSON.parse(n);if(this.isEventListenersEmpty())break;if(iE in s&&s[iE]===!0){let l=Ct.create("realtime-unavailable",{originalErrorMessage:"The server is temporarily unavailable. Try again in a few minutes."});this.propagateError(l);break}if(oE in s){let l=yield this.storage.getActiveConfigTemplateVersion(),c=Number(s[oE]);l&&c>l&&(yield this.autoFetch(eE,c))}if(rE in s){let l=Number(s[rE]);yield this.updateBackoffMetadataWithRetryInterval(l)}}catch(s){this.logger.debug("Unable to parse latest config update message.",s);let l=s instanceof Error?s.message:String(s);this.propagateError(Ct.create("update-message-invalid",{originalErrorMessage:l}))}n=""}}})}listenForNotifications(t){return F(this,null,function*(){try{yield this.handleNotifications(t)}catch{this.isInBackground||this.logger.debug("Real-time connection was closed due to an exception.")}})}prepareAndBeginRealtimeHttpStream(){return F(this,null,function*(){if(!this.checkAndSetHttpConnectionFlagIfNotRunning())return;let t=yield this.storage.getRealtimeBackoffMetadata();t||(t={backoffEndTimeMillis:new Date(tE),numFailedStreams:nE});let e=t.backoffEndTimeMillis.getTime();if(Date.now()<e){yield this.retryHttpConnectionWhenBackoffEnds();return}let n,r;try{if(n=yield this.createRealtimeConnection(),r=n.status,n.ok&&n.body){this.resetRetryCount(),yield this.resetRealtimeBackoff();let o=n.body.getReader();this.reader=o,yield this.listenForNotifications(o)}}catch(o){this.isInBackground?this.resetRetryCount():this.logger.debug("Exception connecting to real-time RC backend. Retrying the connection...:",o)}finally{yield this.closeRealtimeHttpConnection(),this.setIsHttpConnectionRunning(!1);let o=!this.isInBackground&&(r===void 0||this.isStatusCodeRetryable(r));if(o&&(yield this.updateBackoffMetadataWithLastFailedStreamConnectionTime(new Date)),o||n?.ok)yield this.retryHttpConnectionWhenBackoffEnds();else{let s=`Unable to connect to the server. HTTP status code: ${r}`,l=Ct.create("stream-error",{originalErrorMessage:s});this.propagateError(l)}}})}canEstablishStreamConnection(){let t=this.observers.size>0,e=!this.isRealtimeDisabled,n=!this.isConnectionActive,r=!this.isInBackground;return t&&e&&n&&r}makeRealtimeHttpConnection(t){return F(this,null,function*(){if(this.canEstablishStreamConnection()){if(this.httpRetriesRemaining>0)this.httpRetriesRemaining--,yield new Promise(e=>setTimeout(e,t)),this.prepareAndBeginRealtimeHttpStream();else if(!this.isInBackground){let e=Ct.create("stream-error",{originalErrorMessage:"Unable to connect to the server. Check your connection and try again."});this.propagateError(e)}}})}beginRealtime(){return F(this,null,function*(){this.observers.size>0&&(yield this.makeRealtimeHttpConnection(0))})}addObserver(t){this.observers.add(t),this.beginRealtime()}removeObserver(t){this.observers.has(t)&&this.observers.delete(t)}onVisibilityChange(t){return F(this,null,function*(){this.isInBackground=!t,t?t&&(yield this.beginRealtime()):yield this.closeRealtimeHttpConnection()})}};function TP(){_n(new gn(sE,i,"PUBLIC").setMultipleInstances(!0)),qe(Sf,ZC),qe(Sf,ZC,"esm2020");function i(t,{options:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate(),{projectId:o,apiKey:s,appId:l}=n.options;if(!o)throw Ct.create("registration-project-id");if(!s)throw Ct.create("registration-api-key");if(!l)throw Ct.create("registration-app-id");let c=e?.templateId||"firebase",u=ur()?new Rf(l,n.name,c):new kf,g=new Of(u),b=new Ko(Sf);b.logLevel=Wo.ERROR;let C=new Tf(r,zr,c,o,s,l),R=new Df(C,u),T=new Af(R,u,g,b),O=new Ff(r,u,zr,c,o,s,l,b,g,T),B=new Mf(n,T,g,u,b,O);return lE(B),B}}TP();var Ol=class{constructor(t){return t}},dE="remote-config",Lf=class{constructor(){return vn(dE)}};var Vf=new Y("angularfire2.remote-config-instances");function DP(i,t,e){if(Lo(e))return null;let n=bn(dE,i,t);return n&&new Ol(n)}function MP(i){return(t,e,n)=>{if(Lo(n))return null;let r=t.runOutsideAngular(()=>i(e));return new Ol(r)}}var RP={provide:Lf,deps:[[new et,Vf]]},kP={provide:Ol,useFactory:DP,deps:[[new et,Vf],Cn,ut]};function uE(i,...t){return qe("angularfire",Gt.full,"rc"),ct([kP,RP,{provide:Vf,useFactory:MP(i),multi:!0,deps:[te,be,ut,wn,En,...t]}])}var hE=Lt(aE,!0);var Dr=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(i){return this.listeners.add(i),this.onSubscribe(),()=>{this.listeners.delete(i),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}};var Mr=typeof window>"u"||"Deno"in globalThis;function Tn(){}function fE(i,t){return typeof i=="function"?i(t):i}function gE(i){return typeof i=="number"&&i>=0&&i!==1/0}function _E(i,t){return Math.max(i+(t||0)-Date.now(),0)}function Uf(i,t){return typeof i=="function"?i(t):i}function yE(i,t){return typeof i=="function"?i(t):i}function jf(i,t){let{type:e="all",exact:n,fetchStatus:r,predicate:o,queryKey:s,stale:l}=i;if(s){if(n){if(t.queryHash!==Pl(s,t.options))return!1}else if(!Hs(t.queryKey,s))return!1}if(e!=="all"){let c=t.isActive();if(e==="active"&&!c||e==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||r&&r!==t.state.fetchStatus||o&&!o(t))}function zf(i,t){let{exact:e,status:n,predicate:r,mutationKey:o}=i;if(o){if(!t.options.mutationKey)return!1;if(e){if(qs(t.options.mutationKey)!==qs(o))return!1}else if(!Hs(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||r&&!r(t))}function Pl(i,t){return(t?.queryKeyHashFn||qs)(i)}function qs(i){return JSON.stringify(i,(t,e)=>Bf(e)?Object.keys(e).sort().reduce((n,r)=>(n[r]=e[r],n),{}):e)}function Hs(i,t){return i===t?!0:typeof i!=typeof t?!1:i&&t&&typeof i=="object"&&typeof t=="object"?!Object.keys(t).some(e=>!Hs(i[e],t[e])):!1}function bE(i,t){if(i===t)return i;let e=mE(i)&&mE(t);if(e||Bf(i)&&Bf(t)){let n=e?i:Object.keys(i),r=n.length,o=e?t:Object.keys(t),s=o.length,l=e?[]:{},c=0;for(let u=0;u<s;u++){let g=e?u:o[u];(!e&&n.includes(g)||e)&&i[g]===void 0&&t[g]===void 0?(l[g]=void 0,c++):(l[g]=bE(i[g],t[g]),l[g]===i[g]&&i[g]!==void 0&&c++)}return r===s&&c===r?i:l}return t}function mE(i){return Array.isArray(i)&&i.length===Object.keys(i).length}function Bf(i){if(!pE(i))return!1;let t=i.constructor;if(t===void 0)return!0;let e=t.prototype;return!(!pE(e)||!e.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(i)!==Object.prototype)}function pE(i){return Object.prototype.toString.call(i)==="[object Object]"}function vE(i){return new Promise(t=>{setTimeout(t,i)})}function wE(i,t,e){return typeof e.structuralSharing=="function"?e.structuralSharing(i,t):e.structuralSharing!==!1?bE(i,t):t}function CE(i,t,e=0){let n=[...i,t];return e&&n.length>e?n.slice(1):n}function EE(i,t,e=0){let n=[t,...i];return e&&n.length>e?n.slice(0,-1):n}var Nl=Symbol();function Su(i,t){return!i.queryFn&&t?.initialPromise?()=>t.initialPromise:!i.queryFn||i.queryFn===Nl?()=>Promise.reject(new Error(`Missing queryFn: '${i.queryHash}'`)):i.queryFn}var OP=class extends Dr{#e;#t;#n;constructor(){super(),this.#n=i=>{if(!Mr&&window.addEventListener){let t=()=>i();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(i){this.#n=i,this.#t?.(),this.#t=i(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(i){this.#e!==i&&(this.#e=i,this.onFocus())}onFocus(){let i=this.isFocused();this.listeners.forEach(t=>{t(i)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},xu=new OP;var PP=class extends Dr{#e=!0;#t;#n;constructor(){super(),this.#n=i=>{if(!Mr&&window.addEventListener){let t=()=>i(!0),e=()=>i(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",e,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(i){this.#n=i,this.#t?.(),this.#t=i(this.setOnline.bind(this))}setOnline(i){this.#e!==i&&(this.#e=i,this.listeners.forEach(e=>{e(i)}))}isOnline(){return this.#e}},Co=new PP;function SE(){let i,t,e=new Promise((r,o)=>{i=r,t=o});e.status="pending",e.catch(()=>{});function n(r){Object.assign(e,r),delete e.resolve,delete e.reject}return e.resolve=r=>{n({status:"fulfilled",value:r}),i(r)},e.reject=r=>{n({status:"rejected",reason:r}),t(r)},e}function NP(i){return Math.min(1e3*2**i,3e4)}function $f(i){return(i??"online")==="online"?Co.isOnline():!0}var xE=class extends Error{constructor(i){super("CancelledError"),this.revert=i?.revert,this.silent=i?.silent}};function Iu(i){return i instanceof xE}function Au(i){let t=!1,e=0,n=!1,r,o=SE(),s=O=>{n||(C(new xE(O)),i.abort?.())},l=()=>{t=!0},c=()=>{t=!1},u=()=>xu.isFocused()&&(i.networkMode==="always"||Co.isOnline())&&i.canRun(),g=()=>$f(i.networkMode)&&i.canRun(),b=O=>{n||(n=!0,i.onSuccess?.(O),r?.(),o.resolve(O))},C=O=>{n||(n=!0,i.onError?.(O),r?.(),o.reject(O))},R=()=>new Promise(O=>{r=B=>{(n||u())&&O(B)},i.onPause?.()}).then(()=>{r=void 0,n||i.onContinue?.()}),T=()=>{if(n)return;let O,B=e===0?i.initialPromise:void 0;try{O=B??i.fn()}catch(z){O=Promise.reject(z)}Promise.resolve(O).then(b).catch(z=>{if(n)return;let X=i.retry??(Mr?0:3),Z=i.retryDelay??NP,Q=typeof Z=="function"?Z(e,z):Z,we=X===!0||typeof X=="number"&&e<X||typeof X=="function"&&X(e,z);if(t||!we){C(z);return}e++,i.onFail?.(e,z),vE(Q).then(()=>u()?void 0:R()).then(()=>{t?C(z):T()})})};return{promise:o,cancel:s,continue:()=>(r?.(),o),cancelRetry:l,continueRetry:c,canStart:g,start:()=>(g()?T():R().then(T),o)}}function FP(){let i=[],t=0,e=l=>{l()},n=l=>{l()},r=l=>setTimeout(l,0),o=l=>{t?i.push(l):r(()=>{e(l)})},s=()=>{let l=i;i=[],l.length&&r(()=>{n(()=>{l.forEach(c=>{e(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||s()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{e=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{r=l}}}var Et=FP();var Tu=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gE(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(i){this.gcTime=Math.max(this.gcTime||0,i??(Mr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}};var IE=class extends Tu{#e;#t;#n;#r;#i;#s;#a;constructor(i){super(),this.#a=!1,this.#s=i.defaultOptions,this.setOptions(i.options),this.observers=[],this.#r=i.client,this.#n=this.#r.getQueryCache(),this.queryKey=i.queryKey,this.queryHash=i.queryHash,this.#e=VP(this.options),this.state=i.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(i){this.options=k(k({},this.#s),i),this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(i,t){let e=wE(this.state.data,i,this.options);return this.#o({data:e,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),e}setState(i,t){this.#o({type:"setState",state:i,setStateOptions:t})}cancel(i){let t=this.#i?.promise;return this.#i?.cancel(i),t?t.then(Tn).catch(Tn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(i=>yE(i.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Nl||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(i=>i.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(i=0){return this.state.isInvalidated||this.state.data===void 0||!_E(this.state.dataUpdatedAt,i)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(i){this.observers.includes(i)||(this.observers.push(i),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:i}))}removeObserver(i){this.observers.includes(i)&&(this.observers=this.observers.filter(t=>t!==i),this.observers.length||(this.#i&&(this.#a?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:i}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}fetch(i,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(i&&this.setOptions(i),!this.options.queryFn){let l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}let e=new AbortController,n=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#a=!0,e.signal)})},r=()=>{let l=Su(this.options,t),c={client:this.#r,queryKey:this.queryKey,meta:this.meta};return n(c),this.#a=!1,this.options.persister?this.options.persister(l,c,this):l(c)},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:r};n(o),this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#o({type:"fetch",meta:o.fetchOptions?.meta});let s=l=>{Iu(l)&&l.silent||this.#o({type:"error",error:l}),Iu(l)||(this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#i=Au({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:e.abort.bind(e),onSuccess:l=>{if(l===void 0){s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){s(c);return}this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:s,onFail:(l,c)=>{this.#o({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#i.start()}#o(i){let t=e=>{switch(i.type){case"failed":return ne(k({},e),{fetchFailureCount:i.failureCount,fetchFailureReason:i.error});case"pause":return ne(k({},e),{fetchStatus:"paused"});case"continue":return ne(k({},e),{fetchStatus:"fetching"});case"fetch":return ne(k(k({},e),LP(e.data,this.options)),{fetchMeta:i.meta??null});case"success":return k(ne(k({},e),{data:i.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:i.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success"}),!i.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":let n=i.error;return Iu(n)&&n.revert&&this.#t?ne(k({},this.#t),{fetchStatus:"idle"}):ne(k({},e),{error:n,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"});case"invalidate":return ne(k({},e),{isInvalidated:!0});case"setState":return k(k({},e),i.state)}};this.state=t(this.state),Et.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:i})})}};function LP(i,t){return k({fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$f(t.networkMode)?"fetching":"paused"},i===void 0&&{error:null,status:"pending"})}function VP(i){let t=typeof i.initialData=="function"?i.initialData():i.initialData,e=t!==void 0,n=e?typeof i.initialDataUpdatedAt=="function"?i.initialDataUpdatedAt():i.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:e?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:e?"success":"pending",fetchStatus:"idle"}}var AE=class extends Dr{constructor(i={}){super(),this.config=i,this.#e=new Map}#e;build(i,t,e){let n=t.queryKey,r=t.queryHash??Pl(n,t),o=this.get(r);return o||(o=new IE({client:i,queryKey:n,queryHash:r,options:i.defaultQueryOptions(t),state:e,defaultOptions:i.getQueryDefaults(n)}),this.add(o)),o}add(i){this.#e.has(i.queryHash)||(this.#e.set(i.queryHash,i),this.notify({type:"added",query:i}))}remove(i){let t=this.#e.get(i.queryHash);t&&(i.destroy(),t===i&&this.#e.delete(i.queryHash),this.notify({type:"removed",query:i}))}clear(){Et.batch(()=>{this.getAll().forEach(i=>{this.remove(i)})})}get(i){return this.#e.get(i)}getAll(){return[...this.#e.values()]}find(i){let t=k({exact:!0},i);return this.getAll().find(e=>jf(t,e))}findAll(i={}){let t=this.getAll();return Object.keys(i).length>0?t.filter(e=>jf(i,e)):t}notify(i){Et.batch(()=>{this.listeners.forEach(t=>{t(i)})})}onFocus(){Et.batch(()=>{this.getAll().forEach(i=>{i.onFocus()})})}onOnline(){Et.batch(()=>{this.getAll().forEach(i=>{i.onOnline()})})}};var TE=class extends Tu{#e;#t;#n;constructor(i){super(),this.mutationId=i.mutationId,this.#t=i.mutationCache,this.#e=[],this.state=i.state||BP(),this.setOptions(i.options),this.scheduleGc()}setOptions(i){this.options=i,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(i){this.#e.includes(i)||(this.#e.push(i),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:i}))}removeObserver(i){this.#e=this.#e.filter(t=>t!==i),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:i})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}execute(i){return F(this,null,function*(){this.#n=Au({fn:()=>this.options.mutationFn?this.options.mutationFn(i):Promise.reject(new Error("No mutationFn found")),onFail:(n,r)=>{this.#r({type:"failed",failureCount:n,error:r})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});let t=this.state.status==="pending",e=!this.#n.canStart();try{if(!t){this.#r({type:"pending",variables:i,isPaused:e}),yield this.#t.config.onMutate?.(i,this);let r=yield this.options.onMutate?.(i);r!==this.state.context&&this.#r({type:"pending",context:r,variables:i,isPaused:e})}let n=yield this.#n.start();return yield this.#t.config.onSuccess?.(n,i,this.state.context,this),yield this.options.onSuccess?.(n,i,this.state.context),yield this.#t.config.onSettled?.(n,null,this.state.variables,this.state.context,this),yield this.options.onSettled?.(n,null,i,this.state.context),this.#r({type:"success",data:n}),n}catch(n){try{throw yield this.#t.config.onError?.(n,i,this.state.context,this),yield this.options.onError?.(n,i,this.state.context),yield this.#t.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),yield this.options.onSettled?.(void 0,n,i,this.state.context),n}finally{this.#r({type:"error",error:n})}}finally{this.#t.runNext(this)}})}#r(i){let t=e=>{switch(i.type){case"failed":return ne(k({},e),{failureCount:i.failureCount,failureReason:i.error});case"pause":return ne(k({},e),{isPaused:!0});case"continue":return ne(k({},e),{isPaused:!1});case"pending":return ne(k({},e),{context:i.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:i.isPaused,status:"pending",variables:i.variables,submittedAt:Date.now()});case"success":return ne(k({},e),{data:i.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return ne(k({},e),{data:void 0,error:i.error,failureCount:e.failureCount+1,failureReason:i.error,isPaused:!1,status:"error"})}};this.state=t(this.state),Et.batch(()=>{this.#e.forEach(e=>{e.onMutationUpdate(i)}),this.#t.notify({mutation:this,type:"updated",action:i})})}};function BP(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var DE=class extends Dr{constructor(i={}){super(),this.config=i,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(i,t,e){let n=new TE({mutationCache:this,mutationId:++this.#n,options:i.defaultMutationOptions(t),state:e});return this.add(n),n}add(i){this.#e.add(i);let t=Du(i);if(typeof t=="string"){let e=this.#t.get(t);e?e.push(i):this.#t.set(t,[i])}this.notify({type:"added",mutation:i})}remove(i){if(this.#e.delete(i)){let t=Du(i);if(typeof t=="string"){let e=this.#t.get(t);if(e)if(e.length>1){let n=e.indexOf(i);n!==-1&&e.splice(n,1)}else e[0]===i&&this.#t.delete(t)}}this.notify({type:"removed",mutation:i})}canRun(i){let t=Du(i);if(typeof t=="string"){let n=this.#t.get(t)?.find(r=>r.state.status==="pending");return!n||n===i}else return!0}runNext(i){let t=Du(i);return typeof t=="string"?this.#t.get(t)?.find(n=>n!==i&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Et.batch(()=>{this.#e.forEach(i=>{this.notify({type:"removed",mutation:i})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(i){let t=k({exact:!0},i);return this.getAll().find(e=>zf(t,e))}findAll(i={}){return this.getAll().filter(t=>zf(i,t))}notify(i){Et.batch(()=>{this.listeners.forEach(t=>{t(i)})})}resumePausedMutations(){let i=this.getAll().filter(t=>t.state.isPaused);return Et.batch(()=>Promise.all(i.map(t=>t.continue().catch(Tn))))}};function Du(i){return i.options.scope?.id}function qf(i){return{onFetch:(t,e)=>{let n=t.options,r=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],s=t.state.data?.pageParams||[],l={pages:[],pageParams:[]},c=0,u=()=>F(null,null,function*(){let g=!1,b=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},C=Su(t.options,t.fetchOptions),R=(T,O,B)=>F(null,null,function*(){if(g)return Promise.reject();if(O==null&&T.pages.length)return Promise.resolve(T);let z={client:t.client,queryKey:t.queryKey,pageParam:O,direction:B?"backward":"forward",meta:t.options.meta};b(z);let X=yield C(z),{maxPages:Z}=t.options,Q=B?EE:CE;return{pages:Q(T.pages,X,Z),pageParams:Q(T.pageParams,O,Z)}});if(r&&o.length){let T=r==="backward",O=T?UP:ME,B={pages:o,pageParams:s},z=O(n,B);l=yield R(B,z,T)}else{let T=i??o.length;do{let O=c===0?s[0]??n.initialPageParam:ME(n,l);if(c>0&&O==null)break;l=yield R(l,O),c++}while(c<T)}return l});t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},e):t.fetchFn=u}}}function ME(i,{pages:t,pageParams:e}){let n=t.length-1;return t.length>0?i.getNextPageParam(t[n],t,e[n],e):void 0}function UP(i,{pages:t,pageParams:e}){return t.length>0?i.getPreviousPageParam?.(t[0],t,e[0],e):void 0}var Fl=class{#e;#t;#n;#r;#i;#s;#a;#o;constructor(i={}){this.#e=i.queryCache||new AE,this.#t=i.mutationCache||new DE,this.#n=i.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#a=xu.subscribe(i=>F(this,null,function*(){i&&(yield this.resumePausedMutations(),this.#e.onFocus())})),this.#o=Co.subscribe(i=>F(this,null,function*(){i&&(yield this.resumePausedMutations(),this.#e.onOnline())})))}unmount(){this.#s--,this.#s===0&&(this.#a?.(),this.#a=void 0,this.#o?.(),this.#o=void 0)}isFetching(i){return this.#e.findAll(ne(k({},i),{fetchStatus:"fetching"})).length}isMutating(i){return this.#t.findAll(ne(k({},i),{status:"pending"})).length}getQueryData(i){let t=this.defaultQueryOptions({queryKey:i});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(i){let t=this.defaultQueryOptions(i),e=this.#e.build(this,t),n=e.state.data;return n===void 0?this.fetchQuery(i):(i.revalidateIfStale&&e.isStaleByTime(Uf(t.staleTime,e))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(i){return this.#e.findAll(i).map(({queryKey:t,state:e})=>{let n=e.data;return[t,n]})}setQueryData(i,t,e){let n=this.defaultQueryOptions({queryKey:i}),o=this.#e.get(n.queryHash)?.state.data,s=fE(t,o);if(s!==void 0)return this.#e.build(this,n).setData(s,ne(k({},e),{manual:!0}))}setQueriesData(i,t,e){return Et.batch(()=>this.#e.findAll(i).map(({queryKey:n})=>[n,this.setQueryData(n,t,e)]))}getQueryState(i){let t=this.defaultQueryOptions({queryKey:i});return this.#e.get(t.queryHash)?.state}removeQueries(i){let t=this.#e;Et.batch(()=>{t.findAll(i).forEach(e=>{t.remove(e)})})}resetQueries(i,t){let e=this.#e,n=k({type:"active"},i);return Et.batch(()=>(e.findAll(i).forEach(r=>{r.reset()}),this.refetchQueries(n,t)))}cancelQueries(i,t={}){let e=k({revert:!0},t),n=Et.batch(()=>this.#e.findAll(i).map(r=>r.cancel(e)));return Promise.all(n).then(Tn).catch(Tn)}invalidateQueries(i,t={}){return Et.batch(()=>{if(this.#e.findAll(i).forEach(n=>{n.invalidate()}),i?.refetchType==="none")return Promise.resolve();let e=ne(k({},i),{type:i?.refetchType??i?.type??"active"});return this.refetchQueries(e,t)})}refetchQueries(i,t={}){let e=ne(k({},t),{cancelRefetch:t.cancelRefetch??!0}),n=Et.batch(()=>this.#e.findAll(i).filter(r=>!r.isDisabled()).map(r=>{let o=r.fetch(void 0,e);return e.throwOnError||(o=o.catch(Tn)),r.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Tn)}fetchQuery(i){let t=this.defaultQueryOptions(i);t.retry===void 0&&(t.retry=!1);let e=this.#e.build(this,t);return e.isStaleByTime(Uf(t.staleTime,e))?e.fetch(t):Promise.resolve(e.state.data)}prefetchQuery(i){return this.fetchQuery(i).then(Tn).catch(Tn)}fetchInfiniteQuery(i){return i.behavior=qf(i.pages),this.fetchQuery(i)}prefetchInfiniteQuery(i){return this.fetchInfiniteQuery(i).then(Tn).catch(Tn)}ensureInfiniteQueryData(i){return i.behavior=qf(i.pages),this.ensureQueryData(i)}resumePausedMutations(){return Co.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(i){this.#n=i}setQueryDefaults(i,t){this.#r.set(qs(i),{queryKey:i,defaultOptions:t})}getQueryDefaults(i){let t=[...this.#r.values()],e={};return t.forEach(n=>{Hs(i,n.queryKey)&&Object.assign(e,n.defaultOptions)}),e}setMutationDefaults(i,t){this.#i.set(qs(i),{mutationKey:i,defaultOptions:t})}getMutationDefaults(i){let t=[...this.#i.values()],e={};return t.forEach(n=>{Hs(i,n.mutationKey)&&(e=k(k({},e),n.defaultOptions))}),e}defaultQueryOptions(i){if(i._defaulted)return i;let t=ne(k(k(k({},this.#n.queries),this.getQueryDefaults(i.queryKey)),i),{_defaulted:!0});return t.queryHash||(t.queryHash=Pl(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Nl&&(t.enabled=!1),t}defaultMutationOptions(i){return i?._defaulted?i:ne(k(k(k({},this.#n.mutations),i?.mutationKey&&this.getMutationDefaults(i.mutationKey)),i),{_defaulted:!0})}clear(){this.#e.clear(),this.#t.clear()}};function jP(i){return{provide:Fl,useValue:i}}function RE(i,...t){return ct([jP(i),{provide:vh,multi:!0,useValue:()=>{i.mount(),y(ko).onDestroy(()=>i.unmount())}},t.map(e=>e.\u0275providers)])}function kE(i){return new le(3e3,!1)}function zP(){return new le(3100,!1)}function $P(){return new le(3101,!1)}function qP(i){return new le(3001,!1)}function HP(i){return new le(3003,!1)}function WP(i){return new le(3004,!1)}function PE(i,t){return new le(3005,!1)}function NE(){return new le(3006,!1)}function FE(){return new le(3007,!1)}function LE(i,t){return new le(3008,!1)}function VE(i){return new le(3002,!1)}function BE(i,t,e,n,r){return new le(3010,!1)}function UE(){return new le(3011,!1)}function jE(){return new le(3012,!1)}function zE(){return new le(3200,!1)}function $E(){return new le(3202,!1)}function qE(){return new le(3013,!1)}function HE(i){return new le(3014,!1)}function WE(i){return new le(3015,!1)}function KE(i){return new le(3016,!1)}function GE(i,t){return new le(3404,!1)}function KP(i){return new le(3502,!1)}function YE(i){return new le(3503,!1)}function QE(){return new le(3300,!1)}function XE(i){return new le(3504,!1)}function ZE(i){return new le(3301,!1)}function JE(i,t){return new le(3302,!1)}function eS(i){return new le(3303,!1)}function tS(i,t){return new le(3400,!1)}function nS(i){return new le(3401,!1)}function iS(i){return new le(3402,!1)}function rS(i,t){return new le(3505,!1)}function Zi(i){switch(i.length){case 0:return new Si;case 1:return i[0];default:return new io(i)}}function Gf(i,t,e=new Map,n=new Map){let r=[],o=[],s=-1,l=null;if(t.forEach(c=>{let u=c.get("offset"),g=u==s,b=g&&l||new Map;c.forEach((C,R)=>{let T=R,O=C;if(R!=="offset")switch(T=i.normalizePropertyName(T,r),O){case _s:O=e.get(R);break;case Kn:O=n.get(R);break;default:O=i.normalizeStyleValue(R,T,O,r);break}b.set(T,O)}),g||o.push(b),l=b,s=u}),r.length)throw KP(r);return o}function Mu(i,t,e,n){switch(t){case"start":i.onStart(()=>n(e&&Hf(e,"start",i)));break;case"done":i.onDone(()=>n(e&&Hf(e,"done",i)));break;case"destroy":i.onDestroy(()=>n(e&&Hf(e,"destroy",i)));break}}function Hf(i,t,e){let n=e.totalTime,r=!!e.disabled,o=Ru(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,n??i.totalTime,r),s=i._data;return s!=null&&(o._data=s),o}function Ru(i,t,e,n,r="",o=0,s){return{element:i,triggerName:t,fromState:e,toState:n,phaseName:r,totalTime:o,disabled:!!s}}function Dn(i,t,e){let n=i.get(t);return n||i.set(t,n=e),n}function Yf(i){let t=i.indexOf(":"),e=i.substring(1,t),n=i.slice(t+1);return[e,n]}var GP=typeof document>"u"?null:document.documentElement;function ku(i){let t=i.parentNode||i.host||null;return t===GP?null:t}function YP(i){return i.substring(1,6)=="ebkit"}var Eo=null,OE=!1;function oS(i){Eo||(Eo=QP()||{},OE=Eo.style?"WebkitAppearance"in Eo.style:!1);let t=!0;return Eo.style&&!YP(i)&&(t=i in Eo.style,!t&&OE&&(t="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in Eo.style)),t}function QP(){return typeof document<"u"?document.body:null}function Qf(i,t){for(;t;){if(t===i)return!0;t=ku(t)}return!1}function Xf(i,t,e){if(e)return Array.from(i.querySelectorAll(t));let n=i.querySelector(t);return n?[n]:[]}var XP=1e3,Zf="{{",ZP="}}",Jf="ng-enter",Ou="ng-leave",Ll="ng-trigger",Vl=".ng-trigger",eg="ng-animating",Pu=".ng-animating";function Ti(i){if(typeof i=="number")return i;let t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Wf(parseFloat(t[1]),t[2])}function Wf(i,t){switch(t){case"s":return i*XP;default:return i}}function Bl(i,t,e){return i.hasOwnProperty("duration")?i:e2(i,t,e)}var JP=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function e2(i,t,e){let n,r=0,o="";if(typeof i=="string"){let s=i.match(JP);if(s===null)return t.push(kE(i)),{duration:0,delay:0,easing:""};n=Wf(parseFloat(s[1]),s[2]);let l=s[3];l!=null&&(r=Wf(parseFloat(l),s[4]));let c=s[5];c&&(o=c)}else n=i;if(!e){let s=!1,l=t.length;n<0&&(t.push(zP()),s=!0),r<0&&(t.push($P()),s=!0),s&&t.splice(l,0,kE(i))}return{duration:n,delay:r,easing:o}}function sS(i){return i.length?i[0]instanceof Map?i:i.map(t=>new Map(Object.entries(t))):[]}function di(i,t,e){t.forEach((n,r)=>{let o=Nu(r);e&&!e.has(r)&&e.set(r,i.style[o]),i.style[o]=n})}function Rr(i,t){t.forEach((e,n)=>{let r=Nu(n);i.style[r]=""})}function Ws(i){return Array.isArray(i)?i.length==1?i[0]:i0(i):i}function aS(i,t,e){let n=t.params||{},r=tg(i);r.length&&r.forEach(o=>{n.hasOwnProperty(o)||e.push(qP(o))})}var Kf=new RegExp(`${Zf}\\s*(.+?)\\s*${ZP}`,"g");function tg(i){let t=[];if(typeof i=="string"){let e;for(;e=Kf.exec(i);)t.push(e[1]);Kf.lastIndex=0}return t}function Ks(i,t,e){let n=`${i}`,r=n.replace(Kf,(o,s)=>{let l=t[s];return l==null&&(e.push(HP(s)),l=""),l.toString()});return r==n?i:r}var t2=/-+([a-z0-9])/g;function Nu(i){return i.replace(t2,(...t)=>t[1].toUpperCase())}function lS(i,t){return i===0||t===0}function cS(i,t,e){if(e.size&&t.length){let n=t[0],r=[];if(e.forEach((o,s)=>{n.has(s)||r.push(s),n.set(s,o)}),r.length)for(let o=1;o<t.length;o++){let s=t[o];r.forEach(l=>s.set(l,Fu(i,l)))}}return t}function Mn(i,t,e){switch(t.type){case ke.Trigger:return i.visitTrigger(t,e);case ke.State:return i.visitState(t,e);case ke.Transition:return i.visitTransition(t,e);case ke.Sequence:return i.visitSequence(t,e);case ke.Group:return i.visitGroup(t,e);case ke.Animate:return i.visitAnimate(t,e);case ke.Keyframes:return i.visitKeyframes(t,e);case ke.Style:return i.visitStyle(t,e);case ke.Reference:return i.visitReference(t,e);case ke.AnimateChild:return i.visitAnimateChild(t,e);case ke.AnimateRef:return i.visitAnimateRef(t,e);case ke.Query:return i.visitQuery(t,e);case ke.Stagger:return i.visitStagger(t,e);default:throw WP(t.type)}}function Fu(i,t){return window.getComputedStyle(i)[t]}var yg=(()=>{class i{validateStyleProperty(e){return oS(e)}containsElement(e,n){return Qf(e,n)}getParentElement(e){return ku(e)}query(e,n,r){return Xf(e,n,r)}computeStyle(e,n,r){return r||""}animate(e,n,r,o,s,l=[],c){return new Si(r,o)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=G({token:i,factory:i.\u0275fac})}return i})(),xo=class{static NOOP=new yg},Io=class{};var n2=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),ju=class extends Io{normalizePropertyName(t,e){return Nu(t)}normalizeStyleValue(t,e,n,r){let o="",s=n.toString().trim();if(n2.has(e)&&n!==0&&n!=="0")if(typeof n=="number")o="px";else{let l=n.match(/^[+-]?[\d\.]+([a-z]*)$/);l&&l[1].length==0&&r.push(PE(t,n))}return s+o}};var zu="*";function i2(i,t){let e=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(n=>r2(n,e,t)):e.push(i),e}function r2(i,t,e){if(i[0]==":"){let c=o2(i,e);if(typeof c=="function"){t.push(c);return}i=c}let n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return e.push(WE(i)),t;let r=n[1],o=n[2],s=n[3];t.push(dS(r,s));let l=r==zu&&s==zu;o[0]=="<"&&!l&&t.push(dS(s,r))}function o2(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(KE(i)),"* => *"}}var Lu=new Set(["true","1"]),Vu=new Set(["false","0"]);function dS(i,t){let e=Lu.has(i)||Vu.has(i),n=Lu.has(t)||Vu.has(t);return(r,o)=>{let s=i==zu||i==r,l=t==zu||t==o;return!s&&e&&typeof r=="boolean"&&(s=r?Lu.has(i):Vu.has(i)),!l&&n&&typeof o=="boolean"&&(l=o?Lu.has(t):Vu.has(t)),s&&l}}var vS=":self",s2=new RegExp(`s*${vS}s*,?`,"g");function wS(i,t,e,n){return new ag(i).build(t,e,n)}var uS="",ag=class{_driver;constructor(t){this._driver=t}build(t,e,n){let r=new lg(e);return this._resetContextStyleTimingState(r),Mn(this,Ws(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=uS,t.collectedStyles=new Map,t.collectedStyles.set(uS,new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0,o=[],s=[];return t.name.charAt(0)=="@"&&e.errors.push(NE()),t.definitions.forEach(l=>{if(this._resetContextStyleTimingState(e),l.type==ke.State){let c=l,u=c.name;u.toString().split(/\s*,\s*/).forEach(g=>{c.name=g,o.push(this.visitState(c,e))}),c.name=u}else if(l.type==ke.Transition){let c=this.visitTransition(l,e);n+=c.queryCount,r+=c.depCount,s.push(c)}else e.errors.push(FE())}),{type:ke.Trigger,name:t.name,states:o,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){let n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){let o=new Set,s=r||{};n.styles.forEach(l=>{l instanceof Map&&l.forEach(c=>{tg(c).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}),o.size&&e.errors.push(LE(t.name,[...o.values()]))}return{type:ke.State,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let n=Mn(this,Ws(t.animation),e),r=i2(t.expr,e.errors);return{type:ke.Transition,matchers:r,animation:n,queryCount:e.queryCount,depCount:e.depCount,options:So(t.options)}}visitSequence(t,e){return{type:ke.Sequence,steps:t.steps.map(n=>Mn(this,n,e)),options:So(t.options)}}visitGroup(t,e){let n=e.currentTime,r=0,o=t.steps.map(s=>{e.currentTime=n;let l=Mn(this,s,e);return r=Math.max(r,e.currentTime),l});return e.currentTime=r,{type:ke.Group,steps:o,options:So(t.options)}}visitAnimate(t,e){let n=d2(t.timings,e.errors);e.currentAnimateTimings=n;let r,o=t.styles?t.styles:Ui({});if(o.type==ke.Keyframes)r=this.visitKeyframes(o,e);else{let s=t.styles,l=!1;if(!s){l=!0;let u={};n.easing&&(u.easing=n.easing),s=Ui(u)}e.currentTime+=n.duration+n.delay;let c=this.visitStyle(s,e);c.isEmptyStep=l,r=c}return e.currentAnimateTimings=null,{type:ke.Animate,timings:n,style:r,options:null}}visitStyle(t,e){let n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){let n=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let l of r)typeof l=="string"?l===Kn?n.push(l):e.errors.push(VE(l)):n.push(new Map(Object.entries(l)));let o=!1,s=null;return n.forEach(l=>{if(l instanceof Map&&(l.has("easing")&&(s=l.get("easing"),l.delete("easing")),!o)){for(let c of l.values())if(c.toString().indexOf(Zf)>=0){o=!0;break}}}),{type:ke.Style,styles:n,easing:s,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){let n=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;n&&o>0&&(o-=n.duration+n.delay),t.styles.forEach(s=>{typeof s!="string"&&s.forEach((l,c)=>{let u=e.collectedStyles.get(e.currentQuerySelector),g=u.get(c),b=!0;g&&(o!=r&&o>=g.startTime&&r<=g.endTime&&(e.errors.push(BE(c,g.startTime,g.endTime,o,r)),b=!1),o=g.startTime),b&&u.set(c,{startTime:o,endTime:r}),e.options&&aS(l,e.options,e.errors)})})}visitKeyframes(t,e){let n={type:ke.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(UE()),n;let r=1,o=0,s=[],l=!1,c=!1,u=0,g=t.steps.map(z=>{let X=this._makeStyleAst(z,e),Z=X.offset!=null?X.offset:c2(X.styles),Q=0;return Z!=null&&(o++,Q=X.offset=Z),c=c||Q<0||Q>1,l=l||Q<u,u=Q,s.push(Q),X});c&&e.errors.push(jE()),l&&e.errors.push(zE());let b=t.steps.length,C=0;o>0&&o<b?e.errors.push($E()):o==0&&(C=r/(b-1));let R=b-1,T=e.currentTime,O=e.currentAnimateTimings,B=O.duration;return g.forEach((z,X)=>{let Z=C>0?X==R?1:C*X:s[X],Q=Z*B;e.currentTime=T+O.delay+Q,O.duration=Q,this._validateStyleAst(z,e),z.offset=Z,n.styles.push(z)}),n}visitReference(t,e){return{type:ke.Reference,animation:Mn(this,Ws(t.animation),e),options:So(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:ke.AnimateChild,options:So(t.options)}}visitAnimateRef(t,e){return{type:ke.AnimateRef,animation:this.visitReference(t.animation,e),options:So(t.options)}}visitQuery(t,e){let n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;let[o,s]=a2(t.selector);e.currentQuerySelector=n.length?n+" "+o:o,Dn(e.collectedStyles,e.currentQuerySelector,new Map);let l=Mn(this,Ws(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:ke.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:l,originalSelector:t.selector,options:So(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(qE());let n=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Bl(t.timings,e.errors,!0);return{type:ke.Stagger,animation:Mn(this,Ws(t.animation),e),timings:n,options:null}}};function a2(i){let t=!!i.split(/\s*,\s*/).find(e=>e==vS);return t&&(i=i.replace(s2,"")),i=i.replace(/@\*/g,Vl).replace(/@\w+/g,e=>Vl+"-"+e.slice(1)).replace(/:animating/g,Pu),[i,t]}function l2(i){return i?k({},i):null}var lg=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function c2(i){if(typeof i=="string")return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){let n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let e=i;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function d2(i,t){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let o=Bl(i,t).duration;return ng(o,0,"")}let e=i;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=ng(0,0,"");return o.dynamic=!0,o.strValue=e,o}let r=Bl(e,t);return ng(r.duration,r.delay,r.easing)}function So(i){return i?(i=k({},i),i.params&&(i.params=l2(i.params))):i={},i}function ng(i,t,e){return{duration:i,delay:t,easing:e}}function bg(i,t,e,n,r,o,s=null,l=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:n,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:l}}var jl=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},u2=1,h2=":enter",m2=new RegExp(h2,"g"),p2=":leave",f2=new RegExp(p2,"g");function CS(i,t,e,n,r,o=new Map,s=new Map,l,c,u=[]){return new cg().buildKeyframes(i,t,e,n,r,o,s,l,c,u)}var cg=class{buildKeyframes(t,e,n,r,o,s,l,c,u,g=[]){u=u||new jl;let b=new dg(t,e,u,r,o,g,[]);b.options=c;let C=c.delay?Ti(c.delay):0;b.currentTimeline.delayNextStep(C),b.currentTimeline.setStyles([s],null,b.errors,c),Mn(this,n,b);let R=b.timelines.filter(T=>T.containsAnimation());if(R.length&&l.size){let T;for(let O=R.length-1;O>=0;O--){let B=R[O];if(B.element===e){T=B;break}}T&&!T.allowOnlyTimelineStyles()&&T.setStyles([l],null,b.errors,c)}return R.length?R.map(T=>T.buildKeyframes()):[bg(e,[],[],[],0,C,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let n=e.subInstructions.get(e.element);if(n){let r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){let n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(let r of t){let o=r?.delay;if(o){let s=typeof o=="number"?o:Ti(Ks(o,r?.params??{},e.errors));n.delayNextStep(s)}}}_visitSubInstructions(t,e,n){let o=e.currentTimeline.currentTime,s=n.duration!=null?Ti(n.duration):null,l=n.delay!=null?Ti(n.delay):null;return s!==0&&t.forEach(c=>{let u=e.appendInstructionToTimeline(c,s,l);o=Math.max(o,u.duration+u.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Mn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let n=e.subContextCount,r=e,o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==ke.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=$u);let s=Ti(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>Mn(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let n=[],r=e.currentTimeline.currentTime,o=t.options&&t.options.delay?Ti(t.options.delay):0;t.steps.forEach(s=>{let l=e.createSubContext(t.options);o&&l.delayNextStep(o),Mn(this,s,l),r=Math.max(r,l.currentTimeline.currentTime),n.push(l.currentTimeline)}),n.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let n=t.strValue,r=e.params?Ks(n,e.params,e.errors):n;return Bl(r,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());let o=t.style;o.type==ke.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(n.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();let o=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(o):n.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let n=e.currentAnimateTimings,r=e.currentTimeline.duration,o=n.duration,l=e.createSubContext().currentTimeline;l.easing=n.easing,t.styles.forEach(c=>{let u=c.offset||0;l.forwardTime(u*o),l.setStyles(c.styles,c.easing,e.errors,e.options),l.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(l),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){let n=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Ti(r.delay):0;o&&(e.previousNode.type===ke.Style||n==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=$u);let s=n,l=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=l.length;let c=null;l.forEach((u,g)=>{e.currentQueryIndex=g;let b=e.createSubContext(t.options,u);o&&b.delayNextStep(o),u===e.element&&(c=b.currentTimeline),Mn(this,t.animation,b),b.currentTimeline.applyStylesToKeyframe();let C=b.currentTimeline.currentTime;s=Math.max(s,C)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),c&&(e.currentTimeline.mergeTimelineCollectedStyles(c),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let n=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),l=s*(e.currentQueryTotal-1),c=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=l-c;break;case"full":c=n.currentStaggerTime;break}let g=e.currentTimeline;c&&g.delayNextStep(c);let b=g.currentTime;Mn(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-b+(r.startTime-n.currentTimeline.startTime)}},$u={},dg=class i{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=$u;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,n,r,o,s,l,c){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=l,this.currentTimeline=c||new qu(this._driver,e,0),l.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let n=t,r=this.options;n.duration!=null&&(r.duration=Ti(n.duration)),n.delay!=null&&(r.delay=Ti(n.delay));let o=n.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(l=>{(!e||!s.hasOwnProperty(l))&&(s[l]=Ks(o[l],s,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let n=t.params={};Object.keys(e).forEach(r=>{n[r]=e[r]})}}return t}createSubContext(t=null,e,n){let r=e||this.element,o=new i(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=$u,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){let r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},o=new ug(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,o,s){let l=[];if(r&&l.push(this.element),t.length>0){t=t.replace(m2,"."+this._enterClassName),t=t.replace(f2,"."+this._leaveClassName);let c=n!=1,u=this._driver.query(this.element,t,c);n!==0&&(u=n<0?u.slice(u.length+n,u.length):u.slice(0,n)),l.push(...u)}return!o&&l.length==0&&s.push(HE(e)),l}},qu=class i{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new i(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=u2,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||Kn),this._currentKeyframe.set(e,Kn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&this._previousKeyframe.set("easing",e);let o=r&&r.params||{},s=g2(t,this._globalTimelineStyles);for(let[l,c]of s){let u=Ks(c,o,n);this._pendingStyles.set(l,u),this._localTimelineStyles.has(l)||this._backFill.set(l,this._globalTimelineStyles.get(l)??Kn),this._updateStyle(l,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{let r=this._styleSummary.get(n);(!r||e.time>r.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,n=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((l,c)=>{let u=new Map([...this._backFill,...l]);u.forEach((g,b)=>{g===_s?t.add(b):g===Kn&&e.add(b)}),n||u.set("offset",c/this.duration),r.push(u)});let o=[...t.values()],s=[...e.values()];if(n){let l=r[0],c=new Map(l);l.set("offset",0),c.set("offset",1),r=[l,c]}return bg(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},ug=class extends qu{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,n,r,o,s,l=!1){super(t,e,s.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=l,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],s=n+e,l=e/s,c=new Map(t[0]);c.set("offset",0),o.push(c);let u=new Map(t[0]);u.set("offset",hS(l)),o.push(u);let g=t.length-1;for(let b=1;b<=g;b++){let C=new Map(t[b]),R=C.get("offset"),T=e+R*n;C.set("offset",hS(T/s)),o.push(C)}n=s,e=0,r="",t=o}return bg(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}};function hS(i,t=3){let e=Math.pow(10,t-1);return Math.round(i*e)/e}function g2(i,t){let e=new Map,n;return i.forEach(r=>{if(r==="*"){n??=t.keys();for(let o of n)e.set(o,Kn)}else for(let[o,s]of r)e.set(o,s)}),e}function mS(i,t,e,n,r,o,s,l,c,u,g,b,C){return{type:0,element:i,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:n,toStyles:s,timelines:l,queriedElements:c,preStyleProps:u,postStyleProps:g,totalTime:b,errors:C}}var ig={},Hu=class{_triggerName;ast;_stateStyles;constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return _2(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,n):new Map}build(t,e,n,r,o,s,l,c,u,g){let b=[],C=this.ast.options&&this.ast.options.params||ig,R=l&&l.params||ig,T=this.buildStyles(n,R,b),O=c&&c.params||ig,B=this.buildStyles(r,O,b),z=new Set,X=new Map,Z=new Map,Q=r==="void",we={params:ES(O,C),delay:this.ast.options?.delay},_e=g?[]:CS(t,e,this.ast.animation,o,s,T,B,we,u,b),x=0;return _e.forEach(w=>{x=Math.max(w.duration+w.delay,x)}),b.length?mS(e,this._triggerName,n,r,Q,T,B,[],[],X,Z,x,b):(_e.forEach(w=>{let S=w.element,M=Dn(X,S,new Set);w.preStyleProps.forEach(N=>M.add(N));let D=Dn(Z,S,new Set);w.postStyleProps.forEach(N=>D.add(N)),S!==e&&z.add(S)}),mS(e,this._triggerName,n,r,Q,T,B,_e,[...z.values()],X,Z,x))}};function _2(i,t,e,n,r){return i.some(o=>o(t,e,n,r))}function ES(i,t){let e=k({},t);return Object.entries(i).forEach(([n,r])=>{r!=null&&(e[n]=r)}),e}var hg=class{styles;defaultParams;normalizer;constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){let n=new Map,r=ES(t,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,l)=>{s&&(s=Ks(s,r,e));let c=this.normalizer.normalizePropertyName(l,e);s=this.normalizer.normalizeStyleValue(l,c,s,e),n.set(l,s)})}),n}};function y2(i,t,e){return new mg(i,t,e)}var mg=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,e.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new hg(r.style,o,n))}),pS(this.states,"true","1"),pS(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Hu(t,r,this.states))}),this.fallbackTransition=b2(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(s=>s.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}};function b2(i,t,e){let n=[(s,l)=>!0],r={type:ke.Sequence,steps:[],options:null},o={type:ke.Transition,animation:r,matchers:n,options:null,queryCount:0,depCount:0};return new Hu(i,o,t)}function pS(i,t,e){i.has(t)?i.has(e)||i.set(e,i.get(t)):i.has(e)&&i.set(t,i.get(e))}var v2=new jl,pg=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n}register(t,e){let n=[],r=[],o=wS(this._driver,e,n,r);if(n.length)throw YE(n);this._animations.set(t,o)}_buildPlayer(t,e,n){let r=t.element,o=Gf(this._normalizer,t.keyframes,e,n);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){let r=[],o=this._animations.get(t),s,l=new Map;if(o?(s=CS(this._driver,e,o,Jf,Ou,new Map,new Map,n,v2,r),s.forEach(g=>{let b=Dn(l,g.element,new Map);g.postStyleProps.forEach(C=>b.set(C,null))})):(r.push(QE()),s=[]),r.length)throw XE(r);l.forEach((g,b)=>{g.forEach((C,R)=>{g.set(R,this._driver.computeStyle(b,R,Kn))})});let c=s.map(g=>{let b=l.get(g.element);return this._buildPlayer(g,new Map,b)}),u=Zi(c);return this._playersById.set(t,u),u.onDestroy(()=>this.destroy(t)),this.players.push(u),u}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw ZE(t);return e}listen(t,e,n,r){let o=Ru(e,"","","");return Mu(this._getPlayer(t),n,o,r),()=>{}}command(t,e,n,r){if(n=="register"){this.register(t,r[0]);return}if(n=="create"){let s=r[0]||{};this.create(t,e,s);return}let o=this._getPlayer(t);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},fS="ng-animate-queued",w2=".ng-animate-queued",rg="ng-animate-disabled",C2=".ng-animate-disabled",E2="ng-star-inserted",S2=".ng-star-inserted",x2=[],SS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},I2={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ui="__ng_removed",zl=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let n=t&&t.hasOwnProperty("value"),r=n?t.value:t;if(this.value=T2(r),n){let o=t,{value:s}=o,l=ic(o,["value"]);this.options=l}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let n=this.options.params;Object.keys(e).forEach(r=>{n[r]==null&&(n[r]=e[r])})}}},Ul="void",og=new zl(Ul),fg=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this._hostClassName="ng-tns-"+t,Qn(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.has(e))throw JE(n,e);if(n==null||n.length==0)throw eS(e);if(!D2(n))throw tS(n,e);let o=Dn(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);let l=Dn(this._engine.statesByElement,t,new Map);return l.has(e)||(Qn(t,Ll),Qn(t,Ll+"-"+e),l.set(e,og)),()=>{this._engine.afterFlush(()=>{let c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(e)||l.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw nS(t);return e}trigger(t,e,n,r=!0){let o=this._getTrigger(e),s=new $l(this.id,e,t),l=this._engine.statesByElement.get(t);l||(Qn(t,Ll),Qn(t,Ll+"-"+e),this._engine.statesByElement.set(t,l=new Map));let c=l.get(e),u=new zl(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),l.set(e,u),c||(c=og),!(u.value===Ul)&&c.value===u.value){if(!k2(c.params,u.params)){let O=[],B=o.matchStyles(c.value,c.params,O),z=o.matchStyles(u.value,u.params,O);O.length?this._engine.reportError(O):this._engine.afterFlush(()=>{Rr(t,B),di(t,z)})}return}let C=Dn(this._engine.playersByElement,t,[]);C.forEach(O=>{O.namespaceId==this.id&&O.triggerName==e&&O.queued&&O.destroy()});let R=o.matchTransition(c.value,u.value,t,u.params),T=!1;if(!R){if(!r)return;R=o.fallbackTransition,T=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:R,fromState:c,toState:u,player:s,isFallbackTransition:T}),T||(Qn(t,fS),s.onStart(()=>{Gs(t,fS)})),s.onDone(()=>{let O=this.players.indexOf(s);O>=0&&this.players.splice(O,1);let B=this._engine.playersByElement.get(t);if(B){let z=B.indexOf(s);z>=0&&B.splice(z,1)}}),this.players.push(s),C.push(s),s}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let n=this._engine.driver.query(t,Vl,!0);n.forEach(r=>{if(r[ui])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,n,r){let o=this._engine.statesByElement.get(t),s=new Map;if(o){let l=[];if(o.forEach((c,u)=>{if(s.set(u,c.value),this._triggers.has(u)){let g=this.trigger(t,u,Ul,r);g&&l.push(g)}}),l.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),n&&Zi(l).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){let r=new Set;e.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let c=this._triggers.get(s).fallbackTransition,u=n.get(s)||og,g=new zl(Ul),b=new $l(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:c,fromState:u,toState:g,player:b,isFallbackTransition:!0})})}}removeNode(t,e){let n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){let o=n.players.length?n.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(n.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{let o=t[ui];(!o||o===SS)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Qn(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(n=>{let r=n.player;if(r.destroyed)return;let o=n.element,s=this._elementListeners.get(o);s&&s.forEach(l=>{if(l.name==n.triggerName){let c=Ru(o,n.triggerName,n.fromState.value,n.toState.value);c._data=t,Mu(n.player,l.phase,c,l.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((n,r)=>{let o=n.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},gg=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){let n=new fg(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){let n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,l=this.driver.getParentElement(e);for(;l;){let c=r.get(l);if(c){let u=n.indexOf(c);n.splice(u+1,0,t),s=!0;break}l=this.driver.getParentElement(l)}s||n.unshift(t)}else n.push(t);return r.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);let r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,n=this.statesByElement.get(t);if(n){for(let r of n.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}}return e}trigger(t,e,n,r){if(Bu(e)){let o=this._fetchNamespace(t);if(o)return o.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Bu(e))return;let o=e[ui];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){let s=this._fetchNamespace(t);s&&s.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Qn(t,rg)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Gs(t,rg))}removeNode(t,e,n){if(Bu(e)){let r=t?this._fetchNamespace(t):null;r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n);let o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,n,r,o){this.collectedLeaveElements.push(e),e[ui]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,n,r,o){return Bu(e)?this._fetchNamespace(t).listen(e,n,r,o):()=>{}}_buildInstruction(t,e,n,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Vl,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,Pu,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Zi(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[ui];if(e&&e.setForRemoval){if(t[ui]=SS,e.namespaceId){this.destroyInnerAnimations(t);let n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(rg)&&this.markElementAsDisabled(t,!1),this.driver.query(t,C2,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let r=this.collectedEnterElements[n];Qn(r,E2)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{e=this._flushAnimations(n,t)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let r=this.collectedLeaveElements[n];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],e.length?Zi(e).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(t){throw iS(t)}_flushAnimations(t,e){let n=new jl,r=[],o=new Map,s=[],l=new Map,c=new Map,u=new Map,g=new Set;this.disabledNodes.forEach(ae=>{g.add(ae);let fe=this.driver.query(ae,w2,!0);for(let ge=0;ge<fe.length;ge++)g.add(fe[ge])});let b=this.bodyNode,C=Array.from(this.statesByElement.keys()),R=yS(C,this.collectedEnterElements),T=new Map,O=0;R.forEach((ae,fe)=>{let ge=Jf+O++;T.set(fe,ge),ae.forEach(Be=>Qn(Be,ge))});let B=[],z=new Set,X=new Set;for(let ae=0;ae<this.collectedLeaveElements.length;ae++){let fe=this.collectedLeaveElements[ae],ge=fe[ui];ge&&ge.setForRemoval&&(B.push(fe),z.add(fe),ge.hasAnimation?this.driver.query(fe,S2,!0).forEach(Be=>z.add(Be)):X.add(fe))}let Z=new Map,Q=yS(C,Array.from(z));Q.forEach((ae,fe)=>{let ge=Ou+O++;Z.set(fe,ge),ae.forEach(Be=>Qn(Be,ge))}),t.push(()=>{R.forEach((ae,fe)=>{let ge=T.get(fe);ae.forEach(Be=>Gs(Be,ge))}),Q.forEach((ae,fe)=>{let ge=Z.get(fe);ae.forEach(Be=>Gs(Be,ge))}),B.forEach(ae=>{this.processLeaveNode(ae)})});let we=[],_e=[];for(let ae=this._namespaceList.length-1;ae>=0;ae--)this._namespaceList[ae].drainQueuedTransitions(e).forEach(ge=>{let Be=ge.player,gt=ge.element;if(we.push(Be),this.collectedEnterElements.length){let _t=gt[ui];if(_t&&_t.setForMove){if(_t.previousTriggersValues&&_t.previousTriggersValues.has(ge.triggerName)){let Jn=_t.previousTriggersValues.get(ge.triggerName),Jt=this.statesByElement.get(ge.element);if(Jt&&Jt.has(ge.triggerName)){let kr=Jt.get(ge.triggerName);kr.value=Jn,Jt.set(ge.triggerName,kr)}}Be.destroy();return}}let Rn=!b||!this.driver.containsElement(b,gt),Ut=Z.get(gt),Zn=T.get(gt),Qe=this._buildInstruction(ge,n,Zn,Ut,Rn);if(Qe.errors&&Qe.errors.length){_e.push(Qe);return}if(Rn){Be.onStart(()=>Rr(gt,Qe.fromStyles)),Be.onDestroy(()=>di(gt,Qe.toStyles)),r.push(Be);return}if(ge.isFallbackTransition){Be.onStart(()=>Rr(gt,Qe.fromStyles)),Be.onDestroy(()=>di(gt,Qe.toStyles)),r.push(Be);return}let Ao=[];Qe.timelines.forEach(_t=>{_t.stretchStartingKeyframe=!0,this.disabledNodes.has(_t.element)||Ao.push(_t)}),Qe.timelines=Ao,n.append(gt,Qe.timelines);let Qs={instruction:Qe,player:Be,element:gt};s.push(Qs),Qe.queriedElements.forEach(_t=>Dn(l,_t,[]).push(Be)),Qe.preStyleProps.forEach((_t,Jn)=>{if(_t.size){let Jt=c.get(Jn);Jt||c.set(Jn,Jt=new Set),_t.forEach((kr,Xs)=>Jt.add(Xs))}}),Qe.postStyleProps.forEach((_t,Jn)=>{let Jt=u.get(Jn);Jt||u.set(Jn,Jt=new Set),_t.forEach((kr,Xs)=>Jt.add(Xs))})});if(_e.length){let ae=[];_e.forEach(fe=>{ae.push(rS(fe.triggerName,fe.errors))}),we.forEach(fe=>fe.destroy()),this.reportError(ae)}let x=new Map,w=new Map;s.forEach(ae=>{let fe=ae.element;n.has(fe)&&(w.set(fe,fe),this._beforeAnimationBuild(ae.player.namespaceId,ae.instruction,x))}),r.forEach(ae=>{let fe=ae.element;this._getPreviousPlayers(fe,!1,ae.namespaceId,ae.triggerName,null).forEach(Be=>{Dn(x,fe,[]).push(Be),Be.destroy()})});let S=B.filter(ae=>bS(ae,c,u)),M=new Map;_S(M,this.driver,X,u,Kn).forEach(ae=>{bS(ae,c,u)&&S.push(ae)});let N=new Map;R.forEach((ae,fe)=>{_S(N,this.driver,new Set(ae),c,_s)}),S.forEach(ae=>{let fe=M.get(ae),ge=N.get(ae);M.set(ae,new Map([...fe?.entries()??[],...ge?.entries()??[]]))});let E=[],Pt=[],Xn={};s.forEach(ae=>{let{element:fe,player:ge,instruction:Be}=ae;if(n.has(fe)){if(g.has(fe)){ge.onDestroy(()=>di(fe,Be.toStyles)),ge.disabled=!0,ge.overrideTotalTime(Be.totalTime),r.push(ge);return}let gt=Xn;if(w.size>1){let Ut=fe,Zn=[];for(;Ut=Ut.parentNode;){let Qe=w.get(Ut);if(Qe){gt=Qe;break}Zn.push(Ut)}Zn.forEach(Qe=>w.set(Qe,gt))}let Rn=this._buildAnimation(ge.namespaceId,Be,x,o,N,M);if(ge.setRealPlayer(Rn),gt===Xn)E.push(ge);else{let Ut=this.playersByElement.get(gt);Ut&&Ut.length&&(ge.parentPlayer=Zi(Ut)),r.push(ge)}}else Rr(fe,Be.fromStyles),ge.onDestroy(()=>di(fe,Be.toStyles)),Pt.push(ge),g.has(fe)&&r.push(ge)}),Pt.forEach(ae=>{let fe=o.get(ae.element);if(fe&&fe.length){let ge=Zi(fe);ae.setRealPlayer(ge)}}),r.forEach(ae=>{ae.parentPlayer?ae.syncPlayerEvents(ae.parentPlayer):ae.destroy()});for(let ae=0;ae<B.length;ae++){let fe=B[ae],ge=fe[ui];if(Gs(fe,Ou),ge&&ge.hasAnimation)continue;let Be=[];if(l.size){let Rn=l.get(fe);Rn&&Rn.length&&Be.push(...Rn);let Ut=this.driver.query(fe,Pu,!0);for(let Zn=0;Zn<Ut.length;Zn++){let Qe=l.get(Ut[Zn]);Qe&&Qe.length&&Be.push(...Qe)}}let gt=Be.filter(Rn=>!Rn.destroyed);gt.length?M2(this,fe,gt):this.processLeaveNode(fe)}return B.length=0,E.forEach(ae=>{this.players.push(ae),ae.onDone(()=>{ae.destroy();let fe=this.players.indexOf(ae);this.players.splice(fe,1)}),ae.play()}),E}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,o){let s=[];if(e){let l=this.playersByQueriedElement.get(t);l&&(s=l)}else{let l=this.playersByElement.get(t);if(l){let c=!o||o==Ul;l.forEach(u=>{u.queued||!c&&u.triggerName!=r||s.push(u)})}}return(n||r)&&(s=s.filter(l=>!(n&&n!=l.namespaceId||r&&r!=l.triggerName))),s}_beforeAnimationBuild(t,e,n){let r=e.triggerName,o=e.element,s=e.isRemovalTransition?void 0:t,l=e.isRemovalTransition?void 0:r;for(let c of e.timelines){let u=c.element,g=u!==o,b=Dn(n,u,[]);this._getPreviousPlayers(u,g,s,l,e.toState).forEach(R=>{let T=R.getRealPlayer();T.beforeDestroy&&T.beforeDestroy(),R.destroy(),b.push(R)})}Rr(o,e.fromStyles)}_buildAnimation(t,e,n,r,o,s){let l=e.triggerName,c=e.element,u=[],g=new Set,b=new Set,C=e.timelines.map(T=>{let O=T.element;g.add(O);let B=O[ui];if(B&&B.removedBeforeQueried)return new Si(T.duration,T.delay);let z=O!==c,X=R2((n.get(O)||x2).map(x=>x.getRealPlayer())).filter(x=>{let w=x;return w.element?w.element===O:!1}),Z=o.get(O),Q=s.get(O),we=Gf(this._normalizer,T.keyframes,Z,Q),_e=this._buildPlayer(T,we,X);if(T.subTimeline&&r&&b.add(O),z){let x=new $l(t,l,O);x.setRealPlayer(_e),u.push(x)}return _e});u.forEach(T=>{Dn(this.playersByQueriedElement,T.element,[]).push(T),T.onDone(()=>A2(this.playersByQueriedElement,T.element,T))}),g.forEach(T=>Qn(T,eg));let R=Zi(C);return R.onDestroy(()=>{g.forEach(T=>Gs(T,eg)),di(c,e.toStyles)}),b.forEach(T=>{Dn(r,T,[]).push(R)}),R}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Si(t.duration,t.delay)}},$l=class{namespaceId;triggerName;element;_player=new Si;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(r=>Mu(t,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Dn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function A2(i,t,e){let n=i.get(t);if(n){if(n.length){let r=n.indexOf(e);n.splice(r,1)}n.length==0&&i.delete(t)}return n}function T2(i){return i??null}function Bu(i){return i&&i.nodeType===1}function D2(i){return i=="start"||i=="done"}function gS(i,t){let e=i.style.display;return i.style.display=t??"none",e}function _S(i,t,e,n,r){let o=[];e.forEach(c=>o.push(gS(c)));let s=[];n.forEach((c,u)=>{let g=new Map;c.forEach(b=>{let C=t.computeStyle(u,b,r);g.set(b,C),(!C||C.length==0)&&(u[ui]=I2,s.push(u))}),i.set(u,g)});let l=0;return e.forEach(c=>gS(c,o[l++])),s}function yS(i,t){let e=new Map;if(i.forEach(l=>e.set(l,[])),t.length==0)return e;let n=1,r=new Set(t),o=new Map;function s(l){if(!l)return n;let c=o.get(l);if(c)return c;let u=l.parentNode;return e.has(u)?c=u:r.has(u)?c=n:c=s(u),o.set(l,c),c}return t.forEach(l=>{let c=s(l);c!==n&&e.get(c).push(l)}),e}function Qn(i,t){i.classList?.add(t)}function Gs(i,t){i.classList?.remove(t)}function M2(i,t,e){Zi(e).onDone(()=>i.processLeaveNode(t))}function R2(i){let t=[];return xS(i,t),t}function xS(i,t){for(let e=0;e<i.length;e++){let n=i[e];n instanceof io?xS(n.players,t):t.push(n)}}function k2(i,t){let e=Object.keys(i),n=Object.keys(t);if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!t.hasOwnProperty(o)||i[o]!==t[o])return!1}return!0}function bS(i,t,e){let n=e.get(i);if(!n)return!1;let r=t.get(i);return r?n.forEach(o=>r.add(o)):t.set(i,n),e.delete(i),!0}var Ys=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,n){this._driver=e,this._normalizer=n,this._transitionEngine=new gg(t.body,e,n),this._timelineEngine=new pg(t.body,e,n),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,n,r,o){let s=t+"-"+r,l=this._triggerCache[s];if(!l){let c=[],u=[],g=wS(this._driver,o,c,u);if(c.length)throw GE(r,c);l=y2(r,g,this._normalizer),this._triggerCache[s]=l}this._transitionEngine.registerTrigger(e,r,l)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if(n.charAt(0)=="@"){let[o,s]=Yf(n),l=r;this._timelineEngine.command(o,e,s,l)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,o){if(n.charAt(0)=="@"){let[s,l]=Yf(n);return this._timelineEngine.listen(s,e,l,o)}return this._transitionEngine.listen(t,e,n,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function O2(i,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=sg(t[0]),t.length>1&&(n=sg(t[t.length-1]))):t instanceof Map&&(e=sg(t)),e||n?new P2(i,e,n):null}var P2=(()=>{class i{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r;let o=i.initialStylesByElement.get(e);o||i.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&di(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(di(this._element,this._initialStyles),this._endStyles&&(di(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(Rr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Rr(this._element,this._endStyles),this._endStyles=null),di(this._element,this._initialStyles),this._state=3)}}return i})();function sg(i){let t=null;return i.forEach((e,n)=>{N2(n)&&(t=t||new Map,t.set(n,e))}),t}function N2(i){return i==="display"||i==="position"}var Wu=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer=null;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer()&&this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return this.domPlayer;this._initialized=!0;let t=this.keyframes,e=this._triggerWebAnimation(this.element,t,this.options);if(!e)return this._onFinish(),null;this.domPlayer=e,this._finalKeyframe=t.length?t[t.length-1]:new Map;let n=()=>this._onFinish();return e.addEventListener("finish",n),this.onDestroy(()=>{e.removeEventListener("finish",n)}),e}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer?.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){let r=this._convertKeyframesToObject(e);try{return t.animate(r,n)}catch{return null}}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){let t=this._buildPlayer();t&&(this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),t.play())}pause(){this.init(),this.domPlayer?.pause()}finish(){this.init(),this.domPlayer&&(this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish())}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer?.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer||this.init(),this.domPlayer&&(this.domPlayer.currentTime=t*this.time)}getPosition(){return this.domPlayer?+(this.domPlayer.currentTime??0)/this.time:this._initialized?1:0}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{r!=="offset"&&t.set(r,this._finished?n:Fu(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},Ku=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return Qf(t,e)}getParentElement(t){return ku(t)}query(t,e,n){return Xf(t,e,n)}computeStyle(t,e,n){return Fu(t,e)}animate(t,e,n,r,o,s=[]){let l=r==0?"both":"forwards",c={duration:n,delay:r,fill:l};o&&(c.easing=o);let u=new Map,g=s.filter(R=>R instanceof Wu);lS(n,r)&&g.forEach(R=>{R.currentSnapshot.forEach((T,O)=>u.set(O,T))});let b=sS(e).map(R=>new Map(R));b=cS(t,b,u);let C=O2(t,b);return new Wu(t,b,c,C)}};var Uu="@",IS="@.disabled",Gu=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,n,r){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n,r){if(r){this.delegate.removeChild(t,e,n,r);return}this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Uu&&e==IS?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n,r){return this.delegate.listen(t,e,n,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},_g=class extends Gu{factory;constructor(t,e,n,r,o){super(e,n,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Uu?e.charAt(1)=="."&&e==IS?(n=n===void 0?!0:!!n,this.disableAnimations(t,n)):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n,r){if(e.charAt(0)==Uu){let o=F2(t),s=e.slice(1),l="";return s.charAt(0)!=Uu&&([s,l]=L2(s)),this.engine.listen(this.namespaceId,o,s,l,c=>{let u=c._data||-1;this.factory.scheduleListenerCallback(u,n,c)})}return this.delegate.listen(t,e,n,r)}};function F2(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function L2(i){let t=i.indexOf("."),e=i.substring(0,t),n=i.slice(t+1);return[e,n]}var Yu=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,e.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(t,e){let r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let u=this._rendererCache,g=u.get(r);if(!g){let b=()=>u.delete(r);g=new Gu("",r,this.engine,b),u.set(r,g)}return g}let o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,t);let l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,s,t,u.name,u)};return e.data.animation.forEach(l),new _g(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(n));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,l]=o;s(l)}),this._animationCallbacksBuffer=[]})}),r.push([e,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var B2=(()=>{class i extends Ys{constructor(e,n,r){super(e,n,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||i)(ye(Me),ye(xo),ye(Io))};static \u0275prov=G({token:i,factory:i.\u0275fac})}return i})();function U2(){return new ju}function j2(){return new Yu(y(Oa),y(Ys),y(te))}var AS=[{provide:Io,useFactory:U2},{provide:Ys,useClass:B2},{provide:Nt,useFactory:j2}],iW=[{provide:xo,useClass:yg},{provide:Br,useValue:"NoopAnimations"},...AS],z2=[{provide:xo,useFactory:()=>new Ku},{provide:Br,useFactory:()=>"BrowserAnimations"},...AS];function TS(){return mc("NgEagerAnimations"),[...z2]}Lh(hd,{providers:[Y_(),_m(Gv),gy(()=>cy().length?yn():_y({projectId:"project-a2-7b9e8",appId:"1:423221934609:web:126218f73b12c959f08fb0",databaseURL:"https://project-a2-7b9e8-default-rtdb.europe-west1.firebasedatabase.app",storageBucket:"project-a2-7b9e8.firebasestorage.app",apiKey:"AIzaSyDLrpLTvmqdthZlDs6B9GvK6RtxFfV3GyU",authDomain:"project-a2-7b9e8.firebaseapp.com",messagingSenderId:"423221934609",measurementId:"G-PLSVLXGESZ"})),by(()=>wy()),fw(()=>hw()),pw,Ap,dC(()=>uC()),Cy(()=>Ey()),yC(()=>bC()),PC(()=>NC()),LC(()=>VC()),QC(()=>XC()),uE(()=>hE()),RE(new Fl),E_(at),TS()]});
